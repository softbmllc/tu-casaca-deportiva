var vH=Object.defineProperty;var yH=(t,e,n)=>e in t?vH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ju=(t,e,n)=>yH(t,typeof e!="symbol"?e+"":e,n);function xH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var U5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bH(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var q5={exports:{}},Jg={},H5={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function wH(){if(FP)return An;FP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(K){return K===null||typeof K!="object"?null:(K=f&&K[f]||K["@@iterator"],typeof K=="function"?K:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(K,V,W){this.props=K,this.context=V,this.refs=v,this.updater=W||p}y.prototype.isReactComponent={},y.prototype.setState=function(K,V){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,V,"setState")},y.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function w(){}w.prototype=y.prototype;function E(K,V,W){this.props=K,this.context=V,this.refs=v,this.updater=W||p}var T=E.prototype=new w;T.constructor=E,g(T,y.prototype),T.isPureReactComponent=!0;var I=Array.isArray,F=Object.prototype.hasOwnProperty,B={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(K,V,W){var J,Q={},re=null,ce=null;if(V!=null)for(J in V.ref!==void 0&&(ce=V.ref),V.key!==void 0&&(re=""+V.key),V)F.call(V,J)&&!R.hasOwnProperty(J)&&(Q[J]=V[J]);var fe=arguments.length-2;if(fe===1)Q.children=W;else if(1<fe){for(var be=Array(fe),ge=0;ge<fe;ge++)be[ge]=arguments[ge+2];Q.children=be}if(K&&K.defaultProps)for(J in fe=K.defaultProps,fe)Q[J]===void 0&&(Q[J]=fe[J]);return{$$typeof:t,type:K,key:re,ref:ce,props:Q,_owner:B.current}}function k(K,V){return{$$typeof:t,type:K.type,key:V,ref:K.ref,props:K.props,_owner:K._owner}}function P(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function N(K){var V={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(W){return V[W]})}var M=/\/+/g;function O(K,V){return typeof K=="object"&&K!==null&&K.key!=null?N(""+K.key):V.toString(36)}function q(K,V,W,J,Q){var re=typeof K;(re==="undefined"||re==="boolean")&&(K=null);var ce=!1;if(K===null)ce=!0;else switch(re){case"string":case"number":ce=!0;break;case"object":switch(K.$$typeof){case t:case e:ce=!0}}if(ce)return ce=K,Q=Q(ce),K=J===""?"."+O(ce,0):J,I(Q)?(W="",K!=null&&(W=K.replace(M,"$&/")+"/"),q(Q,V,W,"",function(ge){return ge})):Q!=null&&(P(Q)&&(Q=k(Q,W+(!Q.key||ce&&ce.key===Q.key?"":(""+Q.key).replace(M,"$&/")+"/")+K)),V.push(Q)),1;if(ce=0,J=J===""?".":J+":",I(K))for(var fe=0;fe<K.length;fe++){re=K[fe];var be=J+O(re,fe);ce+=q(re,V,W,be,Q)}else if(be=h(K),typeof be=="function")for(K=be.call(K),fe=0;!(re=K.next()).done;)re=re.value,be=J+O(re,fe++),ce+=q(re,V,W,be,Q);else if(re==="object")throw V=String(K),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ce}function Z(K,V,W){if(K==null)return K;var J=[],Q=0;return q(K,J,"","",function(re){return V.call(W,re,Q++)}),J}function ne(K){if(K._status===-1){var V=K._result;V=V(),V.then(function(W){(K._status===0||K._status===-1)&&(K._status=1,K._result=W)},function(W){(K._status===0||K._status===-1)&&(K._status=2,K._result=W)}),K._status===-1&&(K._status=0,K._result=V)}if(K._status===1)return K._result.default;throw K._result}var ee={current:null},Y={transition:null},oe={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Y,ReactCurrentOwner:B};function se(){throw Error("act(...) is not supported in production builds of React.")}return An.Children={map:Z,forEach:function(K,V,W){Z(K,function(){V.apply(this,arguments)},W)},count:function(K){var V=0;return Z(K,function(){V++}),V},toArray:function(K){return Z(K,function(V){return V})||[]},only:function(K){if(!P(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},An.Component=y,An.Fragment=n,An.Profiler=i,An.PureComponent=E,An.StrictMode=r,An.Suspense=l,An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,An.act=se,An.cloneElement=function(K,V,W){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var J=g({},K.props),Q=K.key,re=K.ref,ce=K._owner;if(V!=null){if(V.ref!==void 0&&(re=V.ref,ce=B.current),V.key!==void 0&&(Q=""+V.key),K.type&&K.type.defaultProps)var fe=K.type.defaultProps;for(be in V)F.call(V,be)&&!R.hasOwnProperty(be)&&(J[be]=V[be]===void 0&&fe!==void 0?fe[be]:V[be])}var be=arguments.length-2;if(be===1)J.children=W;else if(1<be){fe=Array(be);for(var ge=0;ge<be;ge++)fe[ge]=arguments[ge+2];J.children=fe}return{$$typeof:t,type:K.type,key:Q,ref:re,props:J,_owner:ce}},An.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:s,_context:K},K.Consumer=K},An.createElement=S,An.createFactory=function(K){var V=S.bind(null,K);return V.type=K,V},An.createRef=function(){return{current:null}},An.forwardRef=function(K){return{$$typeof:a,render:K}},An.isValidElement=P,An.lazy=function(K){return{$$typeof:u,_payload:{_status:-1,_result:K},_init:ne}},An.memo=function(K,V){return{$$typeof:c,type:K,compare:V===void 0?null:V}},An.startTransition=function(K){var V=Y.transition;Y.transition={};try{K()}finally{Y.transition=V}},An.unstable_act=se,An.useCallback=function(K,V){return ee.current.useCallback(K,V)},An.useContext=function(K){return ee.current.useContext(K)},An.useDebugValue=function(){},An.useDeferredValue=function(K){return ee.current.useDeferredValue(K)},An.useEffect=function(K,V){return ee.current.useEffect(K,V)},An.useId=function(){return ee.current.useId()},An.useImperativeHandle=function(K,V,W){return ee.current.useImperativeHandle(K,V,W)},An.useInsertionEffect=function(K,V){return ee.current.useInsertionEffect(K,V)},An.useLayoutEffect=function(K,V){return ee.current.useLayoutEffect(K,V)},An.useMemo=function(K,V){return ee.current.useMemo(K,V)},An.useReducer=function(K,V,W){return ee.current.useReducer(K,V,W)},An.useRef=function(K){return ee.current.useRef(K)},An.useState=function(K){return ee.current.useState(K)},An.useSyncExternalStore=function(K,V,W){return ee.current.useSyncExternalStore(K,V,W)},An.useTransition=function(){return ee.current.useTransition()},An.version="18.3.1",An}var jP;function Wv(){return jP||(jP=1,H5.exports=wH()),H5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP;function EH(){if(BP)return Jg;BP=1;var t=Wv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,f={},h=null,p=null;c!==void 0&&(h=""+c),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:a,key:h,ref:p,props:f,_owner:i.current}}return Jg.Fragment=n,Jg.jsx=o,Jg.jsxs=o,Jg}var VP;function SH(){return VP||(VP=1,q5.exports=EH()),q5.exports}var A=SH(),b=Wv();const Me=uu(b),fC=xH({__proto__:null,default:Me},[b]);var c1={},W5={exports:{}},Xo={},G5={exports:{}},K5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P;function CH(){return $P||($P=1,function(t){function e(Y,oe){var se=Y.length;Y.push(oe);e:for(;0<se;){var K=se-1>>>1,V=Y[K];if(0<i(V,oe))Y[K]=oe,Y[se]=V,se=K;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var oe=Y[0],se=Y.pop();if(se!==oe){Y[0]=se;e:for(var K=0,V=Y.length,W=V>>>1;K<W;){var J=2*(K+1)-1,Q=Y[J],re=J+1,ce=Y[re];if(0>i(Q,se))re<V&&0>i(ce,Q)?(Y[K]=ce,Y[re]=se,K=re):(Y[K]=Q,Y[J]=se,K=J);else if(re<V&&0>i(ce,se))Y[K]=ce,Y[re]=se,K=re;else break e}}return oe}function i(Y,oe){var se=Y.sortIndex-oe.sortIndex;return se!==0?se:Y.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Y){for(var oe=n(c);oe!==null;){if(oe.callback===null)r(c);else if(oe.startTime<=Y)r(c),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(c)}}function I(Y){if(v=!1,T(Y),!g)if(n(l)!==null)g=!0,ne(F);else{var oe=n(c);oe!==null&&ee(I,oe.startTime-Y)}}function F(Y,oe){g=!1,v&&(v=!1,w(S),S=-1),p=!0;var se=h;try{for(T(oe),f=n(l);f!==null&&(!(f.expirationTime>oe)||Y&&!N());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var V=K(f.expirationTime<=oe);oe=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(l)&&r(l),T(oe)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var J=n(c);J!==null&&ee(I,J.startTime-oe),W=!1}return W}finally{f=null,h=se,p=!1}}var B=!1,R=null,S=-1,k=5,P=-1;function N(){return!(t.unstable_now()-P<k)}function M(){if(R!==null){var Y=t.unstable_now();P=Y;var oe=!0;try{oe=R(!0,Y)}finally{oe?O():(B=!1,R=null)}}else B=!1}var O;if(typeof E=="function")O=function(){E(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=M,O=function(){Z.postMessage(null)}}else O=function(){y(M,0)};function ne(Y){R=Y,B||(B=!0,O())}function ee(Y,oe){S=y(function(){Y(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,ne(F))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var se=h;h=oe;try{return Y()}finally{h=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=h;h=Y;try{return oe()}finally{h=se}},t.unstable_scheduleCallback=function(Y,oe,se){var K=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?K+se:K):se=K,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=se+V,Y={id:u++,callback:oe,priorityLevel:Y,startTime:se,expirationTime:V,sortIndex:-1},se>K?(Y.sortIndex=se,e(c,Y),n(l)===null&&Y===n(c)&&(v?(w(S),S=-1):v=!0,ee(I,se-K))):(Y.sortIndex=V,e(l,Y),g||p||(g=!0,ne(F))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var oe=h;return function(){var se=h;h=oe;try{return Y.apply(this,arguments)}finally{h=se}}}}(K5)),K5}var zP;function AH(){return zP||(zP=1,G5.exports=CH()),G5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP;function _H(){if(UP)return Xo;UP=1;var t=Wv(),e=AH();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)r.add(m[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function p(d,m,x,L){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return L?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function g(d,m,x,L){if(m===null||typeof m>"u"||p(d,m,x,L))return!0;if(L)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,x,L,$,H,le){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=L,this.attributeNamespace=$,this.mustUseProperty=x,this.propertyName=d,this.type=m,this.sanitizeURL=H,this.removeEmptyString=le}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){y[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];y[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){y[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){y[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){y[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){y[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){y[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){y[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){y[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(w,E);y[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(w,E);y[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(w,E);y[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){y[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function T(d,m,x,L){var $=y.hasOwnProperty(m)?y[m]:null;($!==null?$.type!==0:L||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(g(m,x,$,L)&&(x=null),L||$===null?h(m)&&(x===null?d.removeAttribute(m):d.setAttribute(m,""+x)):$.mustUseProperty?d[$.propertyName]=x===null?$.type===3?!1:"":x:(m=$.attributeName,L=$.attributeNamespace,x===null?d.removeAttribute(m):($=$.type,x=$===3||$===4&&x===!0?"":""+x,L?d.setAttributeNS(L,m,x):d.setAttribute(m,x))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),B=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),Y=Symbol.iterator;function oe(d){return d===null||typeof d!="object"?null:(d=Y&&d[Y]||d["@@iterator"],typeof d=="function"?d:null)}var se=Object.assign,K;function V(d){if(K===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);K=m&&m[1]||""}return`
`+K+d}var W=!1;function J(d,m){if(!d||W)return"";W=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Qe){var L=Qe}Reflect.construct(d,[],m)}else{try{m.call()}catch(Qe){L=Qe}d.call(m.prototype)}else{try{throw Error()}catch(Qe){L=Qe}d()}}catch(Qe){if(Qe&&L&&typeof Qe.stack=="string"){for(var $=Qe.stack.split(`
`),H=L.stack.split(`
`),le=$.length-1,Ce=H.length-1;1<=le&&0<=Ce&&$[le]!==H[Ce];)Ce--;for(;1<=le&&0<=Ce;le--,Ce--)if($[le]!==H[Ce]){if(le!==1||Ce!==1)do if(le--,Ce--,0>Ce||$[le]!==H[Ce]){var Ne=`
`+$[le].replace(" at new "," at ");return d.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",d.displayName)),Ne}while(1<=le&&0<=Ce);break}}}finally{W=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?V(d):""}function Q(d){switch(d.tag){case 5:return V(d.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return d=J(d.type,!1),d;case 11:return d=J(d.type.render,!1),d;case 1:return d=J(d.type,!0),d;default:return""}}function re(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case R:return"Fragment";case B:return"Portal";case k:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case q:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case N:return(d.displayName||"Context")+".Consumer";case P:return(d._context.displayName||"Context")+".Provider";case M:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Z:return m=d.displayName||null,m!==null?m:re(d.type)||"Memo";case ne:m=d._payload,d=d._init;try{return re(d(m))}catch{}}return null}function ce(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(m);case 8:return m===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function fe(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function be(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function ge(d){var m=be(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),L=""+d[m];if(!d.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var $=x.get,H=x.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return $.call(this)},set:function(le){L=""+le,H.call(this,le)}}),Object.defineProperty(d,m,{enumerable:x.enumerable}),{getValue:function(){return L},setValue:function(le){L=""+le},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Se(d){d._valueTracker||(d._valueTracker=ge(d))}function Be(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var x=m.getValue(),L="";return d&&(L=be(d)?d.checked?"true":"false":d.value),d=L,d!==x?(m.setValue(d),!0):!1}function _e(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ae(d,m){var x=m.checked;return se({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function ye(d,m){var x=m.defaultValue==null?"":m.defaultValue,L=m.checked!=null?m.checked:m.defaultChecked;x=fe(m.value!=null?m.value:x),d._wrapperState={initialChecked:L,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function he(d,m){m=m.checked,m!=null&&T(d,"checked",m,!1)}function Je(d,m){he(d,m);var x=fe(m.value),L=m.type;if(x!=null)L==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(L==="submit"||L==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?je(d,m.type,x):m.hasOwnProperty("defaultValue")&&je(d,m.type,fe(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function qe(d,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var L=m.type;if(!(L!=="submit"&&L!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,x||m===d.value||(d.value=m),d.defaultValue=m}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function je(d,m,x){(m!=="number"||_e(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var De=Array.isArray;function We(d,m,x,L){if(d=d.options,m){m={};for(var $=0;$<x.length;$++)m["$"+x[$]]=!0;for(x=0;x<d.length;x++)$=m.hasOwnProperty("$"+d[x].value),d[x].selected!==$&&(d[x].selected=$),$&&L&&(d[x].defaultSelected=!0)}else{for(x=""+fe(x),m=null,$=0;$<d.length;$++){if(d[$].value===x){d[$].selected=!0,L&&(d[$].defaultSelected=!0);return}m!==null||d[$].disabled||(m=d[$])}m!==null&&(m.selected=!0)}}function de(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function we(d,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(n(92));if(De(x)){if(1<x.length)throw Error(n(93));x=x[0]}m=x}m==null&&(m=""),x=m}d._wrapperState={initialValue:fe(x)}}function ke(d,m){var x=fe(m.value),L=fe(m.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),m.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),L!=null&&(d.defaultValue=""+L)}function Ye(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function $e(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?$e(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var ot,dt=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,L,$){MSApp.execUnsafeLocalFunction(function(){return d(m,x,L,$)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=ot.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function xt(d,m){if(m){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=m;return}}d.textContent=m}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jt=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(d){jt.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),st[m]=st[d]})});function Vt(d,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||st.hasOwnProperty(d)&&st[d]?(""+m).trim():m+"px"}function Hn(d,m){d=d.style;for(var x in m)if(m.hasOwnProperty(x)){var L=x.indexOf("--")===0,$=Vt(x,m[x],L);x==="float"&&(x="cssFloat"),L?d.setProperty(x,$):d[x]=$}}var Ut=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fn(d,m){if(m){if(Ut[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function lr(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kt=null;function Fr(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var _n=null,Qn=null,gn=null;function Yt(d){if(d=Md(d)){if(typeof _n!="function")throw Error(n(280));var m=d.stateNode;m&&(m=ph(m),_n(d.stateNode,d.type,m))}}function St(d){Qn?gn?gn.push(d):gn=[d]:Qn=d}function Ht(){if(Qn){var d=Qn,m=gn;if(gn=Qn=null,Yt(d),m)for(d=0;d<m.length;d++)Yt(m[d])}}function Fn(d,m){return d(m)}function hn(){}var Tn=!1;function fr(d,m,x){if(Tn)return d(m,x);Tn=!0;try{return Fn(d,m,x)}finally{Tn=!1,(Qn!==null||gn!==null)&&(hn(),Ht())}}function gt(d,m){var x=d.stateNode;if(x===null)return null;var L=ph(x);if(L===null)return null;x=L[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(L=!L.disabled)||(d=d.type,L=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!L;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,m,typeof x));return x}var Ct=!1;if(a)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Ct=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Ct=!1}function yn(d,m,x,L,$,H,le,Ce,Ne){var Qe=Array.prototype.slice.call(arguments,3);try{m.apply(x,Qe)}catch(pt){this.onError(pt)}}var kn=!1,Dn=null,jn=!1,Oi=null,as={onError:function(d){kn=!0,Dn=d}};function Fi(d,m,x,L,$,H,le,Ce,Ne){kn=!1,Dn=null,yn.apply(as,arguments)}function ks(d,m,x,L,$,H,le,Ce,Ne){if(Fi.apply(this,arguments),kn){if(kn){var Qe=Dn;kn=!1,Dn=null}else throw Error(n(198));jn||(jn=!0,Oi=Qe)}}function jr(d){var m=d,x=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(x=m.return),d=m.return;while(d)}return m.tag===3?x:null}function ji(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Nr(d){if(jr(d)!==d)throw Error(n(188))}function oo(d){var m=d.alternate;if(!m){if(m=jr(d),m===null)throw Error(n(188));return m!==d?null:d}for(var x=d,L=m;;){var $=x.return;if($===null)break;var H=$.alternate;if(H===null){if(L=$.return,L!==null){x=L;continue}break}if($.child===H.child){for(H=$.child;H;){if(H===x)return Nr($),d;if(H===L)return Nr($),m;H=H.sibling}throw Error(n(188))}if(x.return!==L.return)x=$,L=H;else{for(var le=!1,Ce=$.child;Ce;){if(Ce===x){le=!0,x=$,L=H;break}if(Ce===L){le=!0,L=$,x=H;break}Ce=Ce.sibling}if(!le){for(Ce=H.child;Ce;){if(Ce===x){le=!0,x=H,L=$;break}if(Ce===L){le=!0,L=H,x=$;break}Ce=Ce.sibling}if(!le)throw Error(n(189))}}if(x.alternate!==L)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:m}function sa(d){return d=oo(d),d!==null?oa(d):null}function oa(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=oa(d);if(m!==null)return m;d=d.sibling}return null}var aa=e.unstable_scheduleCallback,Ia=e.unstable_cancelCallback,vl=e.unstable_shouldYield,pd=e.unstable_requestPaint,ir=e.unstable_now,md=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,la=e.unstable_UserBlockingPriority,Ps=e.unstable_NormalPriority,yl=e.unstable_LowPriority,gd=e.unstable_IdlePriority,Da=null,ls=null;function xl(d){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(Da,d,void 0,(d.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:mu,pr=Math.log,pu=Math.LN2;function mu(d){return d>>>=0,d===0?32:31-(pr(d)/pu|0)|0}var bl=64,Ra=4194304;function Ma(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function bi(d,m){var x=d.pendingLanes;if(x===0)return 0;var L=0,$=d.suspendedLanes,H=d.pingedLanes,le=x&268435455;if(le!==0){var Ce=le&~$;Ce!==0?L=Ma(Ce):(H&=le,H!==0&&(L=Ma(H)))}else le=x&~$,le!==0?L=Ma(le):H!==0&&(L=Ma(H));if(L===0)return 0;if(m!==0&&m!==L&&(m&$)===0&&($=L&-L,H=m&-m,$>=H||$===16&&(H&4194240)!==0))return m;if((L&4)!==0&&(L|=x&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=L;0<m;)x=31-xi(m),$=1<<x,L|=d[x],m&=~$;return L}function pc(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lr(d,m){for(var x=d.suspendedLanes,L=d.pingedLanes,$=d.expirationTimes,H=d.pendingLanes;0<H;){var le=31-xi(H),Ce=1<<le,Ne=$[le];Ne===-1?((Ce&x)===0||(Ce&L)!==0)&&($[le]=pc(Ce,m)):Ne<=m&&(d.expiredLanes|=Ce),H&=~Ce}}function wi(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Oa(){var d=bl;return bl<<=1,(bl&4194240)===0&&(bl=64),d}function Fa(d){for(var m=[],x=0;31>x;x++)m.push(d);return m}function ca(d,m,x){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-xi(m),d[m]=x}function Zn(d,m){var x=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var L=d.eventTimes;for(d=d.expirationTimes;0<x;){var $=31-xi(x),H=1<<$;m[$]=0,L[$]=-1,d[$]=-1,x&=~H}}function ua(d,m){var x=d.entangledLanes|=m;for(d=d.entanglements;x;){var L=31-xi(x),$=1<<L;$&m|d[L]&m&&(d[L]|=m),x&=~$}}var wn=0;function Ro(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var vd,mc,yd,Mo,wl,ja=!1,ao=[],Bn=null,lo=null,Ns=null,$t=new Map,Ls=new Map,Oo=[],Fo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(d,m){switch(d){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":$t.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(m.pointerId)}}function Ei(d,m,x,L,$,H){return d===null||d.nativeEvent!==H?(d={blockedOn:m,domEventName:x,eventSystemFlags:L,nativeEvent:H,targetContainers:[$]},m!==null&&(m=Md(m),m!==null&&mc(m)),d):(d.eventSystemFlags|=L,m=d.targetContainers,$!==null&&m.indexOf($)===-1&&m.push($),d)}function gc(d,m,x,L,$){switch(m){case"focusin":return Bn=Ei(Bn,d,m,x,L,$),!0;case"dragenter":return lo=Ei(lo,d,m,x,L,$),!0;case"mouseover":return Ns=Ei(Ns,d,m,x,L,$),!0;case"pointerover":var H=$.pointerId;return $t.set(H,Ei($t.get(H)||null,d,m,x,L,$)),!0;case"gotpointercapture":return H=$.pointerId,Ls.set(H,Ei(Ls.get(H)||null,d,m,x,L,$)),!0}return!1}function vc(d){var m=_c(d.target);if(m!==null){var x=jr(m);if(x!==null){if(m=x.tag,m===13){if(m=ji(x),m!==null){d.blockedOn=m,wl(d.priority,function(){yd(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function da(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var x=Sl(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var L=new x.constructor(x.type,x);Kt=L,x.target.dispatchEvent(L),Kt=null}else return m=Md(x),m!==null&&mc(m),d.blockedOn=x,!1;m.shift()}return!0}function El(d,m,x){da(d)&&x.delete(m)}function xd(){ja=!1,Bn!==null&&da(Bn)&&(Bn=null),lo!==null&&da(lo)&&(lo=null),Ns!==null&&da(Ns)&&(Ns=null),$t.forEach(El),Ls.forEach(El)}function cs(d,m){d.blockedOn===m&&(d.blockedOn=null,ja||(ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xd)))}function Si(d){function m($){return cs($,d)}if(0<ao.length){cs(ao[0],d);for(var x=1;x<ao.length;x++){var L=ao[x];L.blockedOn===d&&(L.blockedOn=null)}}for(Bn!==null&&cs(Bn,d),lo!==null&&cs(lo,d),Ns!==null&&cs(Ns,d),$t.forEach(m),Ls.forEach(m),x=0;x<Oo.length;x++)L=Oo[x],L.blockedOn===d&&(L.blockedOn=null);for(;0<Oo.length&&(x=Oo[0],x.blockedOn===null);)vc(x),x.blockedOn===null&&Oo.shift()}var Bi=I.ReactCurrentBatchConfig,Ba=!0;function Wn(d,m,x,L){var $=wn,H=Bi.transition;Bi.transition=null;try{wn=1,Va(d,m,x,L)}finally{wn=$,Bi.transition=H}}function vu(d,m,x,L){var $=wn,H=Bi.transition;Bi.transition=null;try{wn=4,Va(d,m,x,L)}finally{wn=$,Bi.transition=H}}function Va(d,m,x,L){if(Ba){var $=Sl(d,m,x,L);if($===null)dh(d,m,L,$a,x),gu(d,L);else if(gc($,d,m,x,L))L.stopPropagation();else if(gu(d,L),m&4&&-1<Fo.indexOf(d)){for(;$!==null;){var H=Md($);if(H!==null&&vd(H),H=Sl(d,m,x,L),H===null&&dh(d,m,L,$a,x),H===$)break;$=H}$!==null&&L.stopPropagation()}else dh(d,m,L,null,x)}}var $a=null;function Sl(d,m,x,L){if($a=null,d=Fr(L),d=_c(d),d!==null)if(m=jr(d),m===null)d=null;else if(x=m.tag,x===13){if(d=ji(m),d!==null)return d;d=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return $a=d,null}function yc(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(md()){case Do:return 1;case la:return 4;case Ps:case yl:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Vi=null,us=null,Ir=null;function yu(){if(Ir)return Ir;var d,m=us,x=m.length,L,$="value"in Vi?Vi.value:Vi.textContent,H=$.length;for(d=0;d<x&&m[d]===$[d];d++);var le=x-d;for(L=1;L<=le&&m[x-L]===$[H-L];L++);return Ir=$.slice(d,1<L?1-L:void 0)}function co(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Hr(){return!0}function Cl(){return!1}function Er(d){function m(x,L,$,H,le){this._reactName=x,this._targetInst=$,this.type=L,this.nativeEvent=H,this.target=le,this.currentTarget=null;for(var Ce in d)d.hasOwnProperty(Ce)&&(x=d[Ce],this[Ce]=x?x(H):H[Ce]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Hr:Cl,this.isPropagationStopped=Cl,this}return se(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),m}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Er(uo),jo=se({},uo,{view:0,detail:0}),xu=Er(jo),za,Bo,fo,ha=se({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bt,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==fo&&(fo&&d.type==="mousemove"?(za=d.screenX-fo.screenX,Bo=d.screenY-fo.screenY):Bo=za=0,fo=d),za)},movementY:function(d){return"movementY"in d?d.movementY:Bo}}),Ua=Er(ha),xc=se({},ha,{dataTransfer:0}),bd=Er(xc),pa=se({},jo,{relatedTarget:0}),Vo=Er(pa),bc=se({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),$i=Er(bc),wc=se({},uo,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),j=Er(wc),ie=se({},uo,{data:0}),Ee=Er(ie),Te={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ve={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ut(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=et[d])?!!m[d]:!1}function bt(){return ut}var _=se({},jo,{key:function(d){if(d.key){var m=Te[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=co(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Ve[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bt,charCode:function(d){return d.type==="keypress"?co(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?co(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),U=Er(_),X=se({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),me=Er(X),Oe=se({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bt}),Ke=Er(Oe),ft=se({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),on=Er(ft),Cn=se({},ha,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),an=Er(Cn),Gn=[9,13,27,32],er=a&&"CompositionEvent"in window,ds=null;a&&"documentMode"in document&&(ds=document.documentMode);var Ci=a&&"TextEvent"in window&&!ds,ma=a&&(!er||ds&&8<ds&&11>=ds),ga=" ",wd=!1;function Ed(d,m){switch(d){case"keyup":return Gn.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bu(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Dr=!1;function Sd(d,m){switch(d){case"compositionend":return bu(m);case"keypress":return m.which!==32?null:(wd=!0,ga);case"textInput":return d=m.data,d===ga&&wd?null:d;default:return null}}function Cd(d,m){if(Dr)return d==="compositionend"||!er&&Ed(d,m)?(d=yu(),Ir=us=Vi=null,Dr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ma&&m.locale!=="ko"?null:m.data;default:return null}}var Ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Ad[d.type]:m==="textarea"}function fs(d,m,x,L){St(L),m=Lp(m,"onChange"),0<m.length&&(x=new fa("onChange","change",null,x,L),d.push({event:x,listeners:m}))}var wu=null,Al=null;function kp(d){ch(d,0)}function hs(d){var m=Nu(d);if(Be(m))return d}function Td(d,m){if(d==="change")return m}var sh=!1;if(a){var kd;if(a){var qa="oninput"in document;if(!qa){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),qa=typeof Ec.oninput=="function"}kd=qa}else kd=!1;sh=kd&&(!document.documentMode||9<document.documentMode)}function ps(){wu&&(wu.detachEvent("onpropertychange",zi),Al=wu=null)}function zi(d){if(d.propertyName==="value"&&hs(Al)){var m=[];fs(m,Al,d,Fr(d)),fr(kp,m)}}function Sc(d,m,x){d==="focusin"?(ps(),wu=m,Al=x,wu.attachEvent("onpropertychange",zi)):d==="focusout"&&ps()}function _l(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return hs(Al)}function Tl(d,m){if(d==="click")return hs(m)}function Pd(d,m){if(d==="input"||d==="change")return hs(m)}function kl(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Un=typeof Object.is=="function"?Object.is:kl;function Pl(d,m){if(Un(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var x=Object.keys(d),L=Object.keys(m);if(x.length!==L.length)return!1;for(L=0;L<x.length;L++){var $=x[L];if(!l.call(m,$)||!Un(d[$],m[$]))return!1}return!0}function Ui(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ho(d,m){var x=Ui(d);d=0;for(var L;x;){if(x.nodeType===3){if(L=d+x.textContent.length,d<=m&&L>=m)return{node:x,offset:m-d};d=L}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ui(x)}}function Eu(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Eu(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function oh(){for(var d=window,m=_e();m instanceof d.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)d=m.contentWindow;else break;m=_e(d.document)}return m}function Su(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function Cu(d){var m=oh(),x=d.focusedElem,L=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&Eu(x.ownerDocument.documentElement,x)){if(L!==null&&Su(x)){if(m=L.start,d=L.end,d===void 0&&(d=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(d,x.value.length);else if(d=(m=x.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var $=x.textContent.length,H=Math.min(L.start,$);L=L.end===void 0?H:Math.min(L.end,$),!d.extend&&H>L&&($=L,L=H,H=$),$=ho(x,H);var le=ho(x,L);$&&le&&(d.rangeCount!==1||d.anchorNode!==$.node||d.anchorOffset!==$.offset||d.focusNode!==le.node||d.focusOffset!==le.offset)&&(m=m.createRange(),m.setStart($.node,$.offset),d.removeAllRanges(),H>L?(d.addRange(m),d.extend(le.node,le.offset)):(m.setEnd(le.node,le.offset),d.addRange(m)))}}for(m=[],d=x;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)d=m[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Au=a&&"documentMode"in document&&11>=document.documentMode,po=null,Nl=null,Ha=null,Ll=!1;function Il(d,m,x){var L=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ll||po==null||po!==_e(L)||(L=po,"selectionStart"in L&&Su(L)?L={start:L.selectionStart,end:L.selectionEnd}:(L=(L.ownerDocument&&L.ownerDocument.defaultView||window).getSelection(),L={anchorNode:L.anchorNode,anchorOffset:L.anchorOffset,focusNode:L.focusNode,focusOffset:L.focusOffset}),Ha&&Pl(Ha,L)||(Ha=L,L=Lp(Nl,"onSelect"),0<L.length&&(m=new fa("onSelect","select",null,m,x),d.push({event:m,listeners:L}),m.target=po)))}function Cc(d,m){var x={};return x[d.toLowerCase()]=m.toLowerCase(),x["Webkit"+d]="webkit"+m,x["Moz"+d]="moz"+m,x}var Ai={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},Is={},cr={};a&&(cr=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function tr(d){if(Is[d])return Is[d];if(!Ai[d])return d;var m=Ai[d],x;for(x in m)if(m.hasOwnProperty(x)&&x in cr)return Is[d]=m[x];return d}var Rr=tr("animationend"),Wr=tr("animationiteration"),Wa=tr("animationstart"),Nd=tr("transitionend"),_u=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(d,m){_u.set(d,m),s(m,[d])}for(var Ld=0;Ld<ah.length;Ld++){var ms=ah[Ld],$o=ms.toLowerCase(),Pp=ms[0].toUpperCase()+ms.slice(1);Ga($o,"on"+Pp)}Ga(Rr,"onAnimationEnd"),Ga(Wr,"onAnimationIteration"),Ga(Wa,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(Nd,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Py=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function lh(d,m,x){var L=d.type||"unknown-event";d.currentTarget=x,ks(L,m,void 0,d),d.currentTarget=null}function ch(d,m){m=(m&4)!==0;for(var x=0;x<d.length;x++){var L=d[x],$=L.event;L=L.listeners;e:{var H=void 0;if(m)for(var le=L.length-1;0<=le;le--){var Ce=L[le],Ne=Ce.instance,Qe=Ce.currentTarget;if(Ce=Ce.listener,Ne!==H&&$.isPropagationStopped())break e;lh($,Ce,Qe),H=Ne}else for(le=0;le<L.length;le++){if(Ce=L[le],Ne=Ce.instance,Qe=Ce.currentTarget,Ce=Ce.listener,Ne!==H&&$.isPropagationStopped())break e;lh($,Ce,Qe),H=Ne}}}if(jn)throw d=Oi,jn=!1,Oi=null,d}function ur(d,m){var x=m[Rs];x===void 0&&(x=m[Rs]=new Set);var L=d+"__bubble";x.has(L)||(uh(m,d,2,!1),x.add(L))}function Np(d,m,x){var L=0;m&&(L|=4),uh(x,d,L,m)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Tu(d){if(!d[Id]){d[Id]=!0,r.forEach(function(x){x!=="selectionchange"&&(Py.has(x)||Np(x,!1,d),Np(x,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Id]||(m[Id]=!0,Np("selectionchange",!1,m))}}function uh(d,m,x,L){switch(yc(m)){case 1:var $=Wn;break;case 4:$=vu;break;default:$=Va}x=$.bind(null,m,x,d),$=void 0,!Ct||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||($=!0),L?$!==void 0?d.addEventListener(m,x,{capture:!0,passive:$}):d.addEventListener(m,x,!0):$!==void 0?d.addEventListener(m,x,{passive:$}):d.addEventListener(m,x,!1)}function dh(d,m,x,L,$){var H=L;if((m&1)===0&&(m&2)===0&&L!==null)e:for(;;){if(L===null)return;var le=L.tag;if(le===3||le===4){var Ce=L.stateNode.containerInfo;if(Ce===$||Ce.nodeType===8&&Ce.parentNode===$)break;if(le===4)for(le=L.return;le!==null;){var Ne=le.tag;if((Ne===3||Ne===4)&&(Ne=le.stateNode.containerInfo,Ne===$||Ne.nodeType===8&&Ne.parentNode===$))return;le=le.return}for(;Ce!==null;){if(le=_c(Ce),le===null)return;if(Ne=le.tag,Ne===5||Ne===6){L=H=le;continue e}Ce=Ce.parentNode}}L=L.return}fr(function(){var Qe=H,pt=Fr(x),vt=[];e:{var ht=_u.get(d);if(ht!==void 0){var Tt=fa,Lt=d;switch(d){case"keypress":if(co(x)===0)break e;case"keydown":case"keyup":Tt=U;break;case"focusin":Lt="focus",Tt=Vo;break;case"focusout":Lt="blur",Tt=Vo;break;case"beforeblur":case"afterblur":Tt=Vo;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=Ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=Ke;break;case Rr:case Wr:case Wa:Tt=$i;break;case Nd:Tt=on;break;case"scroll":Tt=xu;break;case"wheel":Tt=an;break;case"copy":case"cut":case"paste":Tt=j;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=me}var Rt=(m&4)!==0,ri=!Rt&&d==="scroll",Ge=Rt?ht!==null?ht+"Capture":null:ht;Rt=[];for(var Re=Qe,Xe;Re!==null;){Xe=Re;var yt=Xe.stateNode;if(Xe.tag===5&&yt!==null&&(Xe=yt,Ge!==null&&(yt=gt(Re,Ge),yt!=null&&Rt.push(fh(Re,yt,Xe)))),ri)break;Re=Re.return}0<Rt.length&&(ht=new Tt(ht,Lt,null,x,pt),vt.push({event:ht,listeners:Rt}))}}if((m&7)===0){e:{if(ht=d==="mouseover"||d==="pointerover",Tt=d==="mouseout"||d==="pointerout",ht&&x!==Kt&&(Lt=x.relatedTarget||x.fromElement)&&(_c(Lt)||Lt[qi]))break e;if((Tt||ht)&&(ht=pt.window===pt?pt:(ht=pt.ownerDocument)?ht.defaultView||ht.parentWindow:window,Tt?(Lt=x.relatedTarget||x.toElement,Tt=Qe,Lt=Lt?_c(Lt):null,Lt!==null&&(ri=jr(Lt),Lt!==ri||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Tt=null,Lt=Qe),Tt!==Lt)){if(Rt=Ua,yt="onMouseLeave",Ge="onMouseEnter",Re="mouse",(d==="pointerout"||d==="pointerover")&&(Rt=me,yt="onPointerLeave",Ge="onPointerEnter",Re="pointer"),ri=Tt==null?ht:Nu(Tt),Xe=Lt==null?ht:Nu(Lt),ht=new Rt(yt,Re+"leave",Tt,x,pt),ht.target=ri,ht.relatedTarget=Xe,yt=null,_c(pt)===Qe&&(Rt=new Rt(Ge,Re+"enter",Lt,x,pt),Rt.target=Xe,Rt.relatedTarget=ri,yt=Rt),ri=yt,Tt&&Lt)t:{for(Rt=Tt,Ge=Lt,Re=0,Xe=Rt;Xe;Xe=ku(Xe))Re++;for(Xe=0,yt=Ge;yt;yt=ku(yt))Xe++;for(;0<Re-Xe;)Rt=ku(Rt),Re--;for(;0<Xe-Re;)Ge=ku(Ge),Xe--;for(;Re--;){if(Rt===Ge||Ge!==null&&Rt===Ge.alternate)break t;Rt=ku(Rt),Ge=ku(Ge)}Rt=null}else Rt=null;Tt!==null&&Ny(vt,ht,Tt,Rt,!1),Lt!==null&&ri!==null&&Ny(vt,ri,Lt,Rt,!0)}}e:{if(ht=Qe?Nu(Qe):window,Tt=ht.nodeName&&ht.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&ht.type==="file")var Ot=Td;else if(_d(ht))if(sh)Ot=Pd;else{Ot=_l;var Wt=Sc}else(Tt=ht.nodeName)&&Tt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Ot=Tl);if(Ot&&(Ot=Ot(d,Qe))){fs(vt,Ot,x,pt);break e}Wt&&Wt(d,ht,Qe),d==="focusout"&&(Wt=ht._wrapperState)&&Wt.controlled&&ht.type==="number"&&je(ht,"number",ht.value)}switch(Wt=Qe?Nu(Qe):window,d){case"focusin":(_d(Wt)||Wt.contentEditable==="true")&&(po=Wt,Nl=Qe,Ha=null);break;case"focusout":Ha=Nl=po=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,Il(vt,x,pt);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":Il(vt,x,pt)}var Gt;if(er)e:{switch(d){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else Dr?Ed(d,x)&&(sn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(sn="onCompositionStart");sn&&(ma&&x.locale!=="ko"&&(Dr||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&Dr&&(Gt=yu()):(Vi=pt,us="value"in Vi?Vi.value:Vi.textContent,Dr=!0)),Wt=Lp(Qe,sn),0<Wt.length&&(sn=new Ee(sn,d,null,x,pt),vt.push({event:sn,listeners:Wt}),Gt?sn.data=Gt:(Gt=bu(x),Gt!==null&&(sn.data=Gt)))),(Gt=Ci?Sd(d,x):Cd(d,x))&&(Qe=Lp(Qe,"onBeforeInput"),0<Qe.length&&(pt=new Ee("onBeforeInput","beforeinput",null,x,pt),vt.push({event:pt,listeners:Qe}),pt.data=Gt))}ch(vt,m)})}function fh(d,m,x){return{instance:d,listener:m,currentTarget:x}}function Lp(d,m){for(var x=m+"Capture",L=[];d!==null;){var $=d,H=$.stateNode;$.tag===5&&H!==null&&($=H,H=gt(d,x),H!=null&&L.unshift(fh(d,H,$)),H=gt(d,m),H!=null&&L.push(fh(d,H,$))),d=d.return}return L}function ku(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Ny(d,m,x,L,$){for(var H=m._reactName,le=[];x!==null&&x!==L;){var Ce=x,Ne=Ce.alternate,Qe=Ce.stateNode;if(Ne!==null&&Ne===L)break;Ce.tag===5&&Qe!==null&&(Ce=Qe,$?(Ne=gt(x,H),Ne!=null&&le.unshift(fh(x,Ne,Ce))):$||(Ne=gt(x,H),Ne!=null&&le.push(fh(x,Ne,Ce)))),x=x.return}le.length!==0&&d.push({event:m,listeners:le})}var r5=/\r\n?/g,i5=/\u0000|\uFFFD/g;function Ly(d){return(typeof d=="string"?d:""+d).replace(r5,`
`).replace(i5,"")}function Ip(d,m,x){if(m=Ly(m),Ly(d)!==m&&x)throw Error(n(425))}function Dd(){}var hh=null,Pu=null;function Rg(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,s5=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(d){return Dy.resolve(null).then(d).catch(o5)}:Mg;function o5(d){setTimeout(function(){throw d})}function Og(d,m){var x=m,L=0;do{var $=x.nextSibling;if(d.removeChild(x),$&&$.nodeType===8)if(x=$.data,x==="/$"){if(L===0){d.removeChild($),Si(m);return}L--}else x!=="$"&&x!=="$?"&&x!=="$!"||L++;x=$}while(x);Si(m)}function gs(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function zo(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return d;m--}else x==="/$"&&m++}d=d.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),Ka="__reactFiber$"+Ds,Rd="__reactProps$"+Ds,qi="__reactContainer$"+Ds,Rs="__reactEvents$"+Ds,a5="__reactListeners$"+Ds,l5="__reactHandles$"+Ds;function _c(d){var m=d[Ka];if(m)return m;for(var x=d.parentNode;x;){if(m=x[qi]||x[Ka]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(d=zo(d);d!==null;){if(x=d[Ka])return x;d=zo(d)}return m}d=x,x=d.parentNode}return null}function Md(d){return d=d[Ka]||d[qi],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Nu(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function ph(d){return d[Rd]||null}var Fg=[],Dl=-1;function va(d){return{current:d}}function nr(d){0>Dl||(d.current=Fg[Dl],Fg[Dl]=null,Dl--)}function sr(d,m){Dl++,Fg[Dl]=d.current,d.current=m}var Tc={},_i=va(Tc),Ms=va(!1),Lu=Tc;function Od(d,m){var x=d.type.contextTypes;if(!x)return Tc;var L=d.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===m)return L.__reactInternalMemoizedMaskedChildContext;var $={},H;for(H in x)$[H]=m[H];return L&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=$),$}function Os(d){return d=d.childContextTypes,d!=null}function Dp(){nr(Ms),nr(_i)}function Ry(d,m,x){if(_i.current!==Tc)throw Error(n(168));sr(_i,m),sr(Ms,x)}function jg(d,m,x){var L=d.stateNode;if(m=m.childContextTypes,typeof L.getChildContext!="function")return x;L=L.getChildContext();for(var $ in L)if(!($ in m))throw Error(n(108,ce(d)||"Unknown",$));return se({},x,L)}function Iu(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Tc,Lu=_i.current,sr(_i,d),sr(Ms,Ms.current),!0}function My(d,m,x){var L=d.stateNode;if(!L)throw Error(n(169));x?(d=jg(d,m,Lu),L.__reactInternalMemoizedMergedChildContext=d,nr(Ms),nr(_i),sr(_i,d)):nr(Ms),sr(Ms,x)}var Rl=null,mh=!1,C=!1;function D(d){Rl===null?Rl=[d]:Rl.push(d)}function z(d){mh=!0,D(d)}function G(){if(!C&&Rl!==null){C=!0;var d=0,m=wn;try{var x=Rl;for(wn=1;d<x.length;d++){var L=x[d];do L=L(!0);while(L!==null)}Rl=null,mh=!1}catch($){throw Rl!==null&&(Rl=Rl.slice(d+1)),aa(Do,G),$}finally{wn=m,C=!1}}return null}var te=[],ae=0,ue=null,pe=0,ve=[],xe=0,Pe=null,ze=1,Ue="";function Fe(d,m){te[ae++]=pe,te[ae++]=ue,ue=d,pe=m}function at(d,m,x){ve[xe++]=ze,ve[xe++]=Ue,ve[xe++]=Pe,Pe=d;var L=ze;d=Ue;var $=32-xi(L)-1;L&=~(1<<$),x+=1;var H=32-xi(m)+$;if(30<H){var le=$-$%5;H=(L&(1<<le)-1).toString(32),L>>=le,$-=le,ze=1<<32-xi(m)+$|x<<$|L,Ue=H+d}else ze=1<<H|x<<$|L,Ue=d}function Ze(d){d.return!==null&&(Fe(d,1),at(d,1,0))}function Le(d){for(;d===ue;)ue=te[--ae],te[ae]=null,pe=te[--ae],te[ae]=null;for(;d===Pe;)Pe=ve[--xe],ve[xe]=null,Ue=ve[--xe],ve[xe]=null,ze=ve[--xe],ve[xe]=null}var Ie=null,nt=null,tt=!1,rt=null;function At(d,m){var x=el(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=d,m=d.deletions,m===null?(d.deletions=[x],d.flags|=16):m.push(x)}function wt(d,m){switch(d.tag){case 5:var x=d.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Ie=d,nt=gs(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Ie=d,nt=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=Pe!==null?{id:ze,overflow:Ue}:null,d.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=el(18,null,null,0),x.stateNode=m,x.return=d,d.child=x,Ie=d,nt=null,!0):!1;default:return!1}}function Bt(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Et(d){if(tt){var m=nt;if(m){var x=m;if(!wt(d,m)){if(Bt(d))throw Error(n(418));m=gs(x.nextSibling);var L=Ie;m&&wt(d,m)?At(L,x):(d.flags=d.flags&-4097|2,tt=!1,Ie=d)}}else{if(Bt(d))throw Error(n(418));d.flags=d.flags&-4097|2,tt=!1,Ie=d}}}function Vn(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ie=d}function $n(d){if(d!==Ie)return!1;if(!tt)return Vn(d),tt=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Rg(d.type,d.memoizedProps)),m&&(m=nt)){if(Bt(d))throw Pn(),Error(n(418));for(;m;)At(d,m),m=gs(m.nextSibling)}if(Vn(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(m===0){nt=gs(d.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}d=d.nextSibling}nt=null}}else nt=Ie?gs(d.stateNode.nextSibling):null;return!0}function Pn(){for(var d=nt;d;)d=gs(d.nextSibling)}function vn(){nt=Ie=null,tt=!1}function rr(d){rt===null?rt=[d]:rt.push(d)}var or=I.ReactCurrentBatchConfig;function nn(d,m,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(n(309));var L=x.stateNode}if(!L)throw Error(n(147,d));var $=L,H=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===H?m.ref:(m=function(le){var Ce=$.refs;le===null?delete Ce[H]:Ce[H]=le},m._stringRef=H,m)}if(typeof d!="string")throw Error(n(284));if(!x._owner)throw Error(n(290,d))}return d}function Sr(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function vs(d){var m=d._init;return m(d._payload)}function Br(d){function m(Ge,Re){if(d){var Xe=Ge.deletions;Xe===null?(Ge.deletions=[Re],Ge.flags|=16):Xe.push(Re)}}function x(Ge,Re){if(!d)return null;for(;Re!==null;)m(Ge,Re),Re=Re.sibling;return null}function L(Ge,Re){for(Ge=new Map;Re!==null;)Re.key!==null?Ge.set(Re.key,Re):Ge.set(Re.index,Re),Re=Re.sibling;return Ge}function $(Ge,Re){return Ge=Kd(Ge,Re),Ge.index=0,Ge.sibling=null,Ge}function H(Ge,Re,Xe){return Ge.index=Xe,d?(Xe=Ge.alternate,Xe!==null?(Xe=Xe.index,Xe<Re?(Ge.flags|=2,Re):Xe):(Ge.flags|=2,Re)):(Ge.flags|=1048576,Re)}function le(Ge){return d&&Ge.alternate===null&&(Ge.flags|=2),Ge}function Ce(Ge,Re,Xe,yt){return Re===null||Re.tag!==6?(Re=F5(Xe,Ge.mode,yt),Re.return=Ge,Re):(Re=$(Re,Xe),Re.return=Ge,Re)}function Ne(Ge,Re,Xe,yt){var Ot=Xe.type;return Ot===R?pt(Ge,Re,Xe.props.children,yt,Xe.key):Re!==null&&(Re.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ne&&vs(Ot)===Re.type)?(yt=$(Re,Xe.props),yt.ref=nn(Ge,Re,Xe),yt.return=Ge,yt):(yt=t1(Xe.type,Xe.key,Xe.props,null,Ge.mode,yt),yt.ref=nn(Ge,Re,Xe),yt.return=Ge,yt)}function Qe(Ge,Re,Xe,yt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Xe.containerInfo||Re.stateNode.implementation!==Xe.implementation?(Re=j5(Xe,Ge.mode,yt),Re.return=Ge,Re):(Re=$(Re,Xe.children||[]),Re.return=Ge,Re)}function pt(Ge,Re,Xe,yt,Ot){return Re===null||Re.tag!==7?(Re=Sh(Xe,Ge.mode,yt,Ot),Re.return=Ge,Re):(Re=$(Re,Xe),Re.return=Ge,Re)}function vt(Ge,Re,Xe){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=F5(""+Re,Ge.mode,Xe),Re.return=Ge,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case F:return Xe=t1(Re.type,Re.key,Re.props,null,Ge.mode,Xe),Xe.ref=nn(Ge,null,Re),Xe.return=Ge,Xe;case B:return Re=j5(Re,Ge.mode,Xe),Re.return=Ge,Re;case ne:var yt=Re._init;return vt(Ge,yt(Re._payload),Xe)}if(De(Re)||oe(Re))return Re=Sh(Re,Ge.mode,Xe,null),Re.return=Ge,Re;Sr(Ge,Re)}return null}function ht(Ge,Re,Xe,yt){var Ot=Re!==null?Re.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Ot!==null?null:Ce(Ge,Re,""+Xe,yt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case F:return Xe.key===Ot?Ne(Ge,Re,Xe,yt):null;case B:return Xe.key===Ot?Qe(Ge,Re,Xe,yt):null;case ne:return Ot=Xe._init,ht(Ge,Re,Ot(Xe._payload),yt)}if(De(Xe)||oe(Xe))return Ot!==null?null:pt(Ge,Re,Xe,yt,null);Sr(Ge,Xe)}return null}function Tt(Ge,Re,Xe,yt,Ot){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return Ge=Ge.get(Xe)||null,Ce(Re,Ge,""+yt,Ot);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case F:return Ge=Ge.get(yt.key===null?Xe:yt.key)||null,Ne(Re,Ge,yt,Ot);case B:return Ge=Ge.get(yt.key===null?Xe:yt.key)||null,Qe(Re,Ge,yt,Ot);case ne:var Wt=yt._init;return Tt(Ge,Re,Xe,Wt(yt._payload),Ot)}if(De(yt)||oe(yt))return Ge=Ge.get(Xe)||null,pt(Re,Ge,yt,Ot,null);Sr(Re,yt)}return null}function Lt(Ge,Re,Xe,yt){for(var Ot=null,Wt=null,Gt=Re,sn=Re=0,Ki=null;Gt!==null&&sn<Xe.length;sn++){Gt.index>sn?(Ki=Gt,Gt=null):Ki=Gt.sibling;var Xn=ht(Ge,Gt,Xe[sn],yt);if(Xn===null){Gt===null&&(Gt=Ki);break}d&&Gt&&Xn.alternate===null&&m(Ge,Gt),Re=H(Xn,Re,sn),Wt===null?Ot=Xn:Wt.sibling=Xn,Wt=Xn,Gt=Ki}if(sn===Xe.length)return x(Ge,Gt),tt&&Fe(Ge,sn),Ot;if(Gt===null){for(;sn<Xe.length;sn++)Gt=vt(Ge,Xe[sn],yt),Gt!==null&&(Re=H(Gt,Re,sn),Wt===null?Ot=Gt:Wt.sibling=Gt,Wt=Gt);return tt&&Fe(Ge,sn),Ot}for(Gt=L(Ge,Gt);sn<Xe.length;sn++)Ki=Tt(Gt,Ge,sn,Xe[sn],yt),Ki!==null&&(d&&Ki.alternate!==null&&Gt.delete(Ki.key===null?sn:Ki.key),Re=H(Ki,Re,sn),Wt===null?Ot=Ki:Wt.sibling=Ki,Wt=Ki);return d&&Gt.forEach(function(Yd){return m(Ge,Yd)}),tt&&Fe(Ge,sn),Ot}function Rt(Ge,Re,Xe,yt){var Ot=oe(Xe);if(typeof Ot!="function")throw Error(n(150));if(Xe=Ot.call(Xe),Xe==null)throw Error(n(151));for(var Wt=Ot=null,Gt=Re,sn=Re=0,Ki=null,Xn=Xe.next();Gt!==null&&!Xn.done;sn++,Xn=Xe.next()){Gt.index>sn?(Ki=Gt,Gt=null):Ki=Gt.sibling;var Yd=ht(Ge,Gt,Xn.value,yt);if(Yd===null){Gt===null&&(Gt=Ki);break}d&&Gt&&Yd.alternate===null&&m(Ge,Gt),Re=H(Yd,Re,sn),Wt===null?Ot=Yd:Wt.sibling=Yd,Wt=Yd,Gt=Ki}if(Xn.done)return x(Ge,Gt),tt&&Fe(Ge,sn),Ot;if(Gt===null){for(;!Xn.done;sn++,Xn=Xe.next())Xn=vt(Ge,Xn.value,yt),Xn!==null&&(Re=H(Xn,Re,sn),Wt===null?Ot=Xn:Wt.sibling=Xn,Wt=Xn);return tt&&Fe(Ge,sn),Ot}for(Gt=L(Ge,Gt);!Xn.done;sn++,Xn=Xe.next())Xn=Tt(Gt,Ge,sn,Xn.value,yt),Xn!==null&&(d&&Xn.alternate!==null&&Gt.delete(Xn.key===null?sn:Xn.key),Re=H(Xn,Re,sn),Wt===null?Ot=Xn:Wt.sibling=Xn,Wt=Xn);return d&&Gt.forEach(function(gH){return m(Ge,gH)}),tt&&Fe(Ge,sn),Ot}function ri(Ge,Re,Xe,yt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===R&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case F:e:{for(var Ot=Xe.key,Wt=Re;Wt!==null;){if(Wt.key===Ot){if(Ot=Xe.type,Ot===R){if(Wt.tag===7){x(Ge,Wt.sibling),Re=$(Wt,Xe.props.children),Re.return=Ge,Ge=Re;break e}}else if(Wt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ne&&vs(Ot)===Wt.type){x(Ge,Wt.sibling),Re=$(Wt,Xe.props),Re.ref=nn(Ge,Wt,Xe),Re.return=Ge,Ge=Re;break e}x(Ge,Wt);break}else m(Ge,Wt);Wt=Wt.sibling}Xe.type===R?(Re=Sh(Xe.props.children,Ge.mode,yt,Xe.key),Re.return=Ge,Ge=Re):(yt=t1(Xe.type,Xe.key,Xe.props,null,Ge.mode,yt),yt.ref=nn(Ge,Re,Xe),yt.return=Ge,Ge=yt)}return le(Ge);case B:e:{for(Wt=Xe.key;Re!==null;){if(Re.key===Wt)if(Re.tag===4&&Re.stateNode.containerInfo===Xe.containerInfo&&Re.stateNode.implementation===Xe.implementation){x(Ge,Re.sibling),Re=$(Re,Xe.children||[]),Re.return=Ge,Ge=Re;break e}else{x(Ge,Re);break}else m(Ge,Re);Re=Re.sibling}Re=j5(Xe,Ge.mode,yt),Re.return=Ge,Ge=Re}return le(Ge);case ne:return Wt=Xe._init,ri(Ge,Re,Wt(Xe._payload),yt)}if(De(Xe))return Lt(Ge,Re,Xe,yt);if(oe(Xe))return Rt(Ge,Re,Xe,yt);Sr(Ge,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"?(Xe=""+Xe,Re!==null&&Re.tag===6?(x(Ge,Re.sibling),Re=$(Re,Xe),Re.return=Ge,Ge=Re):(x(Ge,Re),Re=F5(Xe,Ge.mode,yt),Re.return=Ge,Ge=Re),le(Ge)):x(Ge,Re)}return ri}var ei=Br(!0),Kn=Br(!1),Hi=va(null),Wi=null,Cr=null,ti=null;function Ti(){ti=Cr=Wi=null}function Fs(d){var m=Hi.current;nr(Hi),d._currentValue=m}function Uo(d,m,x){for(;d!==null;){var L=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,L!==null&&(L.childLanes|=m)):L!==null&&(L.childLanes&m)!==m&&(L.childLanes|=m),d===x)break;d=d.return}}function Ar(d,m){Wi=d,ti=Cr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Go=!0),d.firstContext=null)}function Gr(d){var m=d._currentValue;if(ti!==d)if(d={context:d,memoizedValue:m,next:null},Cr===null){if(Wi===null)throw Error(n(308));Cr=d,Wi.dependencies={lanes:0,firstContext:d}}else Cr=Cr.next=d;return m}var mo=null;function kc(d){mo===null?mo=[d]:mo.push(d)}function Ml(d,m,x,L){var $=m.interleaved;return $===null?(x.next=x,kc(m)):(x.next=$.next,$.next=x),m.interleaved=x,Yn(d,L)}function Yn(d,m){d.lanes|=m;var x=d.alternate;for(x!==null&&(x.lanes|=m),x=d,d=d.return;d!==null;)d.childLanes|=m,x=d.alternate,x!==null&&(x.childLanes|=m),x=d,d=d.return;return x.tag===3?x.stateNode:null}var Ya=!1;function Rp(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function qo(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function Ho(d,m,x){var L=d.updateQueue;if(L===null)return null;if(L=L.shared,(qn&2)!==0){var $=L.pending;return $===null?m.next=m:(m.next=$.next,$.next=m),L.pending=m,Yn(d,x)}return $=L.interleaved,$===null?(m.next=m,kc(L)):(m.next=$.next,$.next=m),L.interleaved=m,Yn(d,x)}function Du(d,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var L=m.lanes;L&=d.pendingLanes,x|=L,m.lanes=x,ua(d,x)}}function Wo(d,m){var x=d.updateQueue,L=d.alternate;if(L!==null&&(L=L.updateQueue,x===L)){var $=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var le={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?$=H=le:H=H.next=le,x=x.next}while(x!==null);H===null?$=H=m:H=H.next=m}else $=H=m;x={baseState:L.baseState,firstBaseUpdate:$,lastBaseUpdate:H,shared:L.shared,effects:L.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=m}function Ol(d,m,x,L){var $=d.updateQueue;Ya=!1;var H=$.firstBaseUpdate,le=$.lastBaseUpdate,Ce=$.shared.pending;if(Ce!==null){$.shared.pending=null;var Ne=Ce,Qe=Ne.next;Ne.next=null,le===null?H=Qe:le.next=Qe,le=Ne;var pt=d.alternate;pt!==null&&(pt=pt.updateQueue,Ce=pt.lastBaseUpdate,Ce!==le&&(Ce===null?pt.firstBaseUpdate=Qe:Ce.next=Qe,pt.lastBaseUpdate=Ne))}if(H!==null){var vt=$.baseState;le=0,pt=Qe=Ne=null,Ce=H;do{var ht=Ce.lane,Tt=Ce.eventTime;if((L&ht)===ht){pt!==null&&(pt=pt.next={eventTime:Tt,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var Lt=d,Rt=Ce;switch(ht=m,Tt=x,Rt.tag){case 1:if(Lt=Rt.payload,typeof Lt=="function"){vt=Lt.call(Tt,vt,ht);break e}vt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Rt.payload,ht=typeof Lt=="function"?Lt.call(Tt,vt,ht):Lt,ht==null)break e;vt=se({},vt,ht);break e;case 2:Ya=!0}}Ce.callback!==null&&Ce.lane!==0&&(d.flags|=64,ht=$.effects,ht===null?$.effects=[Ce]:ht.push(Ce))}else Tt={eventTime:Tt,lane:ht,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},pt===null?(Qe=pt=Tt,Ne=vt):pt=pt.next=Tt,le|=ht;if(Ce=Ce.next,Ce===null){if(Ce=$.shared.pending,Ce===null)break;ht=Ce,Ce=ht.next,ht.next=null,$.lastBaseUpdate=ht,$.shared.pending=null}}while(!0);if(pt===null&&(Ne=vt),$.baseState=Ne,$.firstBaseUpdate=Qe,$.lastBaseUpdate=pt,m=$.shared.interleaved,m!==null){$=m;do le|=$.lane,$=$.next;while($!==m)}else H===null&&($.shared.lanes=0);xh|=le,d.lanes=le,d.memoizedState=vt}}function Ru(d,m,x){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var L=d[m],$=L.callback;if($!==null){if(L.callback=null,L=x,typeof $!="function")throw Error(n(191,$));$.call(L)}}}var Fd={},go=va(Fd),jd=va(Fd),Pc=va(Fd);function Fl(d){if(d===Fd)throw Error(n(174));return d}function Bd(d,m){switch(sr(Pc,m),sr(jd,d),sr(go,Fd),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:He(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=He(m,d)}nr(go),sr(go,m)}function Xa(){nr(go),nr(jd),nr(Pc)}function Oy(d){Fl(Pc.current);var m=Fl(go.current),x=He(m,d.type);m!==x&&(sr(jd,d),sr(go,x))}function Vg(d){jd.current===d&&(nr(go),nr(jd))}var mr=va(0);function ya(d){for(var m=d;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var $g=[];function zg(){for(var d=0;d<$g.length;d++)$g[d]._workInProgressVersionPrimary=null;$g.length=0}var Mp=I.ReactCurrentDispatcher,Op=I.ReactCurrentBatchConfig,Ja=0,xr=null,Kr=null,Vr=null,Vd=!1,jl=!1,$d=0,c5=0;function ni(){throw Error(n(321))}function Fp(d,m){if(m===null)return!1;for(var x=0;x<m.length&&x<d.length;x++)if(!Un(d[x],m[x]))return!1;return!0}function gh(d,m,x,L,$,H){if(Ja=H,xr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Mp.current=d===null||d.memoizedState===null?zq:Uq,d=x(L,$),jl){H=0;do{if(jl=!1,$d=0,25<=H)throw Error(n(301));H+=1,Vr=Kr=null,m.updateQueue=null,Mp.current=qq,d=x(L,$)}while(jl)}if(Mp.current=$y,m=Kr!==null&&Kr.next!==null,Ja=0,Vr=Kr=xr=null,Vd=!1,m)throw Error(n(300));return d}function Qa(){var d=$d!==0;return $d=0,d}function xa(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?xr.memoizedState=Vr=d:Vr=Vr.next=d,Vr}function vo(){if(Kr===null){var d=xr.alternate;d=d!==null?d.memoizedState:null}else d=Kr.next;var m=Vr===null?xr.memoizedState:Vr.next;if(m!==null)Vr=m,Kr=d;else{if(d===null)throw Error(n(310));Kr=d,d={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Vr===null?xr.memoizedState=Vr=d:Vr=Vr.next=d}return Vr}function vh(d,m){return typeof m=="function"?m(d):m}function jp(d){var m=vo(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var L=Kr,$=L.baseQueue,H=x.pending;if(H!==null){if($!==null){var le=$.next;$.next=H.next,H.next=le}L.baseQueue=$=H,x.pending=null}if($!==null){H=$.next,L=L.baseState;var Ce=le=null,Ne=null,Qe=H;do{var pt=Qe.lane;if((Ja&pt)===pt)Ne!==null&&(Ne=Ne.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),L=Qe.hasEagerState?Qe.eagerState:d(L,Qe.action);else{var vt={lane:pt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};Ne===null?(Ce=Ne=vt,le=L):Ne=Ne.next=vt,xr.lanes|=pt,xh|=pt}Qe=Qe.next}while(Qe!==null&&Qe!==H);Ne===null?le=L:Ne.next=Ce,Un(L,m.memoizedState)||(Go=!0),m.memoizedState=L,m.baseState=le,m.baseQueue=Ne,x.lastRenderedState=L}if(d=x.interleaved,d!==null){$=d;do H=$.lane,xr.lanes|=H,xh|=H,$=$.next;while($!==d)}else $===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function Nc(d){var m=vo(),x=m.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var L=x.dispatch,$=x.pending,H=m.memoizedState;if($!==null){x.pending=null;var le=$=$.next;do H=d(H,le.action),le=le.next;while(le!==$);Un(H,m.memoizedState)||(Go=!0),m.memoizedState=H,m.baseQueue===null&&(m.baseState=H),x.lastRenderedState=H}return[H,L]}function Fy(){}function Ug(d,m){var x=xr,L=vo(),$=m(),H=!Un(L.memoizedState,$);if(H&&(L.memoizedState=$,Go=!0),L=L.queue,$p(By.bind(null,x,L,d),[d]),L.getSnapshot!==m||H||Vr!==null&&Vr.memoizedState.tag&1){if(x.flags|=2048,yo(9,qg.bind(null,x,L,$,m),void 0,null),Gi===null)throw Error(n(349));(Ja&30)!==0||jy(x,m,$)}return $}function jy(d,m,x){d.flags|=16384,d={getSnapshot:m,value:x},m=xr.updateQueue,m===null?(m={lastEffect:null,stores:null},xr.updateQueue=m,m.stores=[d]):(x=m.stores,x===null?m.stores=[d]:x.push(d))}function qg(d,m,x,L){m.value=x,m.getSnapshot=L,zd(m)&&Bp(d)}function By(d,m,x){return x(function(){zd(m)&&Bp(d)})}function zd(d){var m=d.getSnapshot;d=d.value;try{var x=m();return!Un(d,x)}catch{return!0}}function Bp(d){var m=Yn(d,1);m!==null&&Ul(m,d,1,-1)}function yh(d){var m=xa();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vh,lastRenderedState:d},m.queue=d,d=d.dispatch=$q.bind(null,xr,d),[m.memoizedState,d]}function yo(d,m,x,L){return d={tag:d,create:m,destroy:x,deps:L,next:null},m=xr.updateQueue,m===null?(m={lastEffect:null,stores:null},xr.updateQueue=m,m.lastEffect=d.next=d):(x=m.lastEffect,x===null?m.lastEffect=d.next=d:(L=x.next,x.next=d,d.next=L,m.lastEffect=d)),d}function Bl(){return vo().memoizedState}function ba(d,m,x,L){var $=xa();xr.flags|=d,$.memoizedState=yo(1|m,x,void 0,L===void 0?null:L)}function Mu(d,m,x,L){var $=vo();L=L===void 0?null:L;var H=void 0;if(Kr!==null){var le=Kr.memoizedState;if(H=le.destroy,L!==null&&Fp(L,le.deps)){$.memoizedState=yo(m,x,H,L);return}}xr.flags|=d,$.memoizedState=yo(1|m,x,H,L)}function Vp(d,m){return ba(8390656,8,d,m)}function $p(d,m){return Mu(2048,8,d,m)}function Vy(d,m){return Mu(4,2,d,m)}function zp(d,m){return Mu(4,4,d,m)}function Up(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function M4(d,m,x){return x=x!=null?x.concat([d]):null,Mu(4,4,Up.bind(null,m,d),x)}function u5(){}function O4(d,m){var x=vo();m=m===void 0?null:m;var L=x.memoizedState;return L!==null&&m!==null&&Fp(m,L[1])?L[0]:(x.memoizedState=[d,m],d)}function F4(d,m){var x=vo();m=m===void 0?null:m;var L=x.memoizedState;return L!==null&&m!==null&&Fp(m,L[1])?L[0]:(d=d(),x.memoizedState=[d,m],d)}function j4(d,m,x){return(Ja&21)===0?(d.baseState&&(d.baseState=!1,Go=!0),d.memoizedState=x):(Un(x,m)||(x=Oa(),xr.lanes|=x,xh|=x,d.baseState=!0),m)}function Bq(d,m){var x=wn;wn=x!==0&&4>x?x:4,d(!0);var L=Op.transition;Op.transition={};try{d(!1),m()}finally{wn=x,Op.transition=L}}function B4(){return vo().memoizedState}function Vq(d,m,x){var L=Wd(d);if(x={lane:L,action:x,hasEagerState:!1,eagerState:null,next:null},V4(d))$4(m,x);else if(x=Ml(d,m,x,L),x!==null){var $=bo();Ul(x,d,L,$),z4(x,m,L)}}function $q(d,m,x){var L=Wd(d),$={lane:L,action:x,hasEagerState:!1,eagerState:null,next:null};if(V4(d))$4(m,$);else{var H=d.alternate;if(d.lanes===0&&(H===null||H.lanes===0)&&(H=m.lastRenderedReducer,H!==null))try{var le=m.lastRenderedState,Ce=H(le,x);if($.hasEagerState=!0,$.eagerState=Ce,Un(Ce,le)){var Ne=m.interleaved;Ne===null?($.next=$,kc(m)):($.next=Ne.next,Ne.next=$),m.interleaved=$;return}}catch{}finally{}x=Ml(d,m,$,L),x!==null&&($=bo(),Ul(x,d,L,$),z4(x,m,L))}}function V4(d){var m=d.alternate;return d===xr||m!==null&&m===xr}function $4(d,m){jl=Vd=!0;var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}function z4(d,m,x){if((x&4194240)!==0){var L=m.lanes;L&=d.pendingLanes,x|=L,m.lanes=x,ua(d,x)}}var $y={readContext:Gr,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},zq={readContext:Gr,useCallback:function(d,m){return xa().memoizedState=[d,m===void 0?null:m],d},useContext:Gr,useEffect:Vp,useImperativeHandle:function(d,m,x){return x=x!=null?x.concat([d]):null,ba(4194308,4,Up.bind(null,m,d),x)},useLayoutEffect:function(d,m){return ba(4194308,4,d,m)},useInsertionEffect:function(d,m){return ba(4,2,d,m)},useMemo:function(d,m){var x=xa();return m=m===void 0?null:m,d=d(),x.memoizedState=[d,m],d},useReducer:function(d,m,x){var L=xa();return m=x!==void 0?x(m):m,L.memoizedState=L.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},L.queue=d,d=d.dispatch=Vq.bind(null,xr,d),[L.memoizedState,d]},useRef:function(d){var m=xa();return d={current:d},m.memoizedState=d},useState:yh,useDebugValue:u5,useDeferredValue:function(d){return xa().memoizedState=d},useTransition:function(){var d=yh(!1),m=d[0];return d=Bq.bind(null,d[1]),xa().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,x){var L=xr,$=xa();if(tt){if(x===void 0)throw Error(n(407));x=x()}else{if(x=m(),Gi===null)throw Error(n(349));(Ja&30)!==0||jy(L,m,x)}$.memoizedState=x;var H={value:x,getSnapshot:m};return $.queue=H,Vp(By.bind(null,L,H,d),[d]),L.flags|=2048,yo(9,qg.bind(null,L,H,x,m),void 0,null),x},useId:function(){var d=xa(),m=Gi.identifierPrefix;if(tt){var x=Ue,L=ze;x=(L&~(1<<32-xi(L)-1)).toString(32)+x,m=":"+m+"R"+x,x=$d++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=c5++,m=":"+m+"r"+x.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},Uq={readContext:Gr,useCallback:O4,useContext:Gr,useEffect:$p,useImperativeHandle:M4,useInsertionEffect:Vy,useLayoutEffect:zp,useMemo:F4,useReducer:jp,useRef:Bl,useState:function(){return jp(vh)},useDebugValue:u5,useDeferredValue:function(d){var m=vo();return j4(m,Kr.memoizedState,d)},useTransition:function(){var d=jp(vh)[0],m=vo().memoizedState;return[d,m]},useMutableSource:Fy,useSyncExternalStore:Ug,useId:B4,unstable_isNewReconciler:!1},qq={readContext:Gr,useCallback:O4,useContext:Gr,useEffect:$p,useImperativeHandle:M4,useInsertionEffect:Vy,useLayoutEffect:zp,useMemo:F4,useReducer:Nc,useRef:Bl,useState:function(){return Nc(vh)},useDebugValue:u5,useDeferredValue:function(d){var m=vo();return Kr===null?m.memoizedState=d:j4(m,Kr.memoizedState,d)},useTransition:function(){var d=Nc(vh)[0],m=vo().memoizedState;return[d,m]},useMutableSource:Fy,useSyncExternalStore:Ug,useId:B4,unstable_isNewReconciler:!1};function Vl(d,m){if(d&&d.defaultProps){m=se({},m),d=d.defaultProps;for(var x in d)m[x]===void 0&&(m[x]=d[x]);return m}return m}function d5(d,m,x,L){m=d.memoizedState,x=x(L,m),x=x==null?m:se({},m,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var zy={isMounted:function(d){return(d=d._reactInternals)?jr(d)===d:!1},enqueueSetState:function(d,m,x){d=d._reactInternals;var L=bo(),$=Wd(d),H=qo(L,$);H.payload=m,x!=null&&(H.callback=x),m=Ho(d,H,$),m!==null&&(Ul(m,d,$,L),Du(m,d,$))},enqueueReplaceState:function(d,m,x){d=d._reactInternals;var L=bo(),$=Wd(d),H=qo(L,$);H.tag=1,H.payload=m,x!=null&&(H.callback=x),m=Ho(d,H,$),m!==null&&(Ul(m,d,$,L),Du(m,d,$))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var x=bo(),L=Wd(d),$=qo(x,L);$.tag=2,m!=null&&($.callback=m),m=Ho(d,$,L),m!==null&&(Ul(m,d,L,x),Du(m,d,L))}};function U4(d,m,x,L,$,H,le){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(L,H,le):m.prototype&&m.prototype.isPureReactComponent?!Pl(x,L)||!Pl($,H):!0}function q4(d,m,x){var L=!1,$=Tc,H=m.contextType;return typeof H=="object"&&H!==null?H=Gr(H):($=Os(m)?Lu:_i.current,L=m.contextTypes,H=(L=L!=null)?Od(d,$):Tc),m=new m(x,H),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zy,d.stateNode=m,m._reactInternals=d,L&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=$,d.__reactInternalMemoizedMaskedChildContext=H),m}function H4(d,m,x,L){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,L),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,L),m.state!==d&&zy.enqueueReplaceState(m,m.state,null)}function f5(d,m,x,L){var $=d.stateNode;$.props=x,$.state=d.memoizedState,$.refs={},Rp(d);var H=m.contextType;typeof H=="object"&&H!==null?$.context=Gr(H):(H=Os(m)?Lu:_i.current,$.context=Od(d,H)),$.state=d.memoizedState,H=m.getDerivedStateFromProps,typeof H=="function"&&(d5(d,m,H,x),$.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(m=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),m!==$.state&&zy.enqueueReplaceState($,$.state,null),Ol(d,x,$,L),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308)}function qp(d,m){try{var x="",L=m;do x+=Q(L),L=L.return;while(L);var $=x}catch(H){$=`
Error generating stack: `+H.message+`
`+H.stack}return{value:d,source:m,stack:$,digest:null}}function h5(d,m,x){return{value:d,source:null,stack:x??null,digest:m??null}}function p5(d,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var Hq=typeof WeakMap=="function"?WeakMap:Map;function W4(d,m,x){x=qo(-1,x),x.tag=3,x.payload={element:null};var L=m.value;return x.callback=function(){Yy||(Yy=!0,P5=L),p5(d,m)},x}function G4(d,m,x){x=qo(-1,x),x.tag=3;var L=d.type.getDerivedStateFromError;if(typeof L=="function"){var $=m.value;x.payload=function(){return L($)},x.callback=function(){p5(d,m)}}var H=d.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){p5(d,m),typeof L!="function"&&(qd===null?qd=new Set([this]):qd.add(this));var le=m.stack;this.componentDidCatch(m.value,{componentStack:le!==null?le:""})}),x}function K4(d,m,x){var L=d.pingCache;if(L===null){L=d.pingCache=new Hq;var $=new Set;L.set(m,$)}else $=L.get(m),$===void 0&&($=new Set,L.set(m,$));$.has(x)||($.add(x),d=sH.bind(null,d,m,x),m.then(d,d))}function Y4(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function X4(d,m,x,L,$){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=qo(-1,1),m.tag=2,Ho(x,m,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=$,d)}var Wq=I.ReactCurrentOwner,Go=!1;function xo(d,m,x,L){m.child=d===null?Kn(m,null,x,L):ei(m,d.child,x,L)}function J4(d,m,x,L,$){x=x.render;var H=m.ref;return Ar(m,$),L=gh(d,m,x,L,H,$),x=Qa(),d!==null&&!Go?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~$,Ou(d,m,$)):(tt&&x&&Ze(m),m.flags|=1,xo(d,m,L,$),m.child)}function Q4(d,m,x,L,$){if(d===null){var H=x.type;return typeof H=="function"&&!O5(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=H,Z4(d,m,H,L,$)):(d=t1(x.type,null,L,m,m.mode,$),d.ref=m.ref,d.return=m,m.child=d)}if(H=d.child,(d.lanes&$)===0){var le=H.memoizedProps;if(x=x.compare,x=x!==null?x:Pl,x(le,L)&&d.ref===m.ref)return Ou(d,m,$)}return m.flags|=1,d=Kd(H,L),d.ref=m.ref,d.return=m,m.child=d}function Z4(d,m,x,L,$){if(d!==null){var H=d.memoizedProps;if(Pl(H,L)&&d.ref===m.ref)if(Go=!1,m.pendingProps=L=H,(d.lanes&$)!==0)(d.flags&131072)!==0&&(Go=!0);else return m.lanes=d.lanes,Ou(d,m,$)}return m5(d,m,x,L,$)}function eP(d,m,x){var L=m.pendingProps,$=L.children,H=d!==null?d.memoizedState:null;if(L.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(Wp,wa),wa|=x;else{if((x&1073741824)===0)return d=H!==null?H.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,sr(Wp,wa),wa|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},L=H!==null?H.baseLanes:x,sr(Wp,wa),wa|=L}else H!==null?(L=H.baseLanes|x,m.memoizedState=null):L=x,sr(Wp,wa),wa|=L;return xo(d,m,$,x),m.child}function tP(d,m){var x=m.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function m5(d,m,x,L,$){var H=Os(x)?Lu:_i.current;return H=Od(m,H),Ar(m,$),x=gh(d,m,x,L,H,$),L=Qa(),d!==null&&!Go?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~$,Ou(d,m,$)):(tt&&L&&Ze(m),m.flags|=1,xo(d,m,x,$),m.child)}function nP(d,m,x,L,$){if(Os(x)){var H=!0;Iu(m)}else H=!1;if(Ar(m,$),m.stateNode===null)qy(d,m),q4(m,x,L),f5(m,x,L,$),L=!0;else if(d===null){var le=m.stateNode,Ce=m.memoizedProps;le.props=Ce;var Ne=le.context,Qe=x.contextType;typeof Qe=="object"&&Qe!==null?Qe=Gr(Qe):(Qe=Os(x)?Lu:_i.current,Qe=Od(m,Qe));var pt=x.getDerivedStateFromProps,vt=typeof pt=="function"||typeof le.getSnapshotBeforeUpdate=="function";vt||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ce!==L||Ne!==Qe)&&H4(m,le,L,Qe),Ya=!1;var ht=m.memoizedState;le.state=ht,Ol(m,L,le,$),Ne=m.memoizedState,Ce!==L||ht!==Ne||Ms.current||Ya?(typeof pt=="function"&&(d5(m,x,pt,L),Ne=m.memoizedState),(Ce=Ya||U4(m,x,Ce,L,ht,Ne,Qe))?(vt||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(m.flags|=4194308)):(typeof le.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=L,m.memoizedState=Ne),le.props=L,le.state=Ne,le.context=Qe,L=Ce):(typeof le.componentDidMount=="function"&&(m.flags|=4194308),L=!1)}else{le=m.stateNode,Bg(d,m),Ce=m.memoizedProps,Qe=m.type===m.elementType?Ce:Vl(m.type,Ce),le.props=Qe,vt=m.pendingProps,ht=le.context,Ne=x.contextType,typeof Ne=="object"&&Ne!==null?Ne=Gr(Ne):(Ne=Os(x)?Lu:_i.current,Ne=Od(m,Ne));var Tt=x.getDerivedStateFromProps;(pt=typeof Tt=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Ce!==vt||ht!==Ne)&&H4(m,le,L,Ne),Ya=!1,ht=m.memoizedState,le.state=ht,Ol(m,L,le,$);var Lt=m.memoizedState;Ce!==vt||ht!==Lt||Ms.current||Ya?(typeof Tt=="function"&&(d5(m,x,Tt,L),Lt=m.memoizedState),(Qe=Ya||U4(m,x,Qe,L,ht,Lt,Ne)||!1)?(pt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(L,Lt,Ne),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(L,Lt,Ne)),typeof le.componentDidUpdate=="function"&&(m.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof le.componentDidUpdate!="function"||Ce===d.memoizedProps&&ht===d.memoizedState||(m.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ce===d.memoizedProps&&ht===d.memoizedState||(m.flags|=1024),m.memoizedProps=L,m.memoizedState=Lt),le.props=L,le.state=Lt,le.context=Ne,L=Qe):(typeof le.componentDidUpdate!="function"||Ce===d.memoizedProps&&ht===d.memoizedState||(m.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Ce===d.memoizedProps&&ht===d.memoizedState||(m.flags|=1024),L=!1)}return g5(d,m,x,L,H,$)}function g5(d,m,x,L,$,H){tP(d,m);var le=(m.flags&128)!==0;if(!L&&!le)return $&&My(m,x,!1),Ou(d,m,H);L=m.stateNode,Wq.current=m;var Ce=le&&typeof x.getDerivedStateFromError!="function"?null:L.render();return m.flags|=1,d!==null&&le?(m.child=ei(m,d.child,null,H),m.child=ei(m,null,Ce,H)):xo(d,m,Ce,H),m.memoizedState=L.state,$&&My(m,x,!0),m.child}function rP(d){var m=d.stateNode;m.pendingContext?Ry(d,m.pendingContext,m.pendingContext!==m.context):m.context&&Ry(d,m.context,!1),Bd(d,m.containerInfo)}function iP(d,m,x,L,$){return vn(),rr($),m.flags|=256,xo(d,m,x,L),m.child}var v5={dehydrated:null,treeContext:null,retryLane:0};function y5(d){return{baseLanes:d,cachePool:null,transitions:null}}function sP(d,m,x){var L=m.pendingProps,$=mr.current,H=!1,le=(m.flags&128)!==0,Ce;if((Ce=le)||(Ce=d!==null&&d.memoizedState===null?!1:($&2)!==0),Ce?(H=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&($|=1),sr(mr,$&1),d===null)return Et(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(le=L.children,d=L.fallback,H?(L=m.mode,H=m.child,le={mode:"hidden",children:le},(L&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=le):H=n1(le,L,0,null),d=Sh(d,L,x,null),H.return=m,d.return=m,H.sibling=d,m.child=H,m.child.memoizedState=y5(x),m.memoizedState=v5,d):x5(m,le));if($=d.memoizedState,$!==null&&(Ce=$.dehydrated,Ce!==null))return Gq(d,m,le,L,Ce,$,x);if(H){H=L.fallback,le=m.mode,$=d.child,Ce=$.sibling;var Ne={mode:"hidden",children:L.children};return(le&1)===0&&m.child!==$?(L=m.child,L.childLanes=0,L.pendingProps=Ne,m.deletions=null):(L=Kd($,Ne),L.subtreeFlags=$.subtreeFlags&14680064),Ce!==null?H=Kd(Ce,H):(H=Sh(H,le,x,null),H.flags|=2),H.return=m,L.return=m,L.sibling=H,m.child=L,L=H,H=m.child,le=d.child.memoizedState,le=le===null?y5(x):{baseLanes:le.baseLanes|x,cachePool:null,transitions:le.transitions},H.memoizedState=le,H.childLanes=d.childLanes&~x,m.memoizedState=v5,L}return H=d.child,d=H.sibling,L=Kd(H,{mode:"visible",children:L.children}),(m.mode&1)===0&&(L.lanes=x),L.return=m,L.sibling=null,d!==null&&(x=m.deletions,x===null?(m.deletions=[d],m.flags|=16):x.push(d)),m.child=L,m.memoizedState=null,L}function x5(d,m){return m=n1({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Uy(d,m,x,L){return L!==null&&rr(L),ei(m,d.child,null,x),d=x5(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Gq(d,m,x,L,$,H,le){if(x)return m.flags&256?(m.flags&=-257,L=h5(Error(n(422))),Uy(d,m,le,L)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(H=L.fallback,$=m.mode,L=n1({mode:"visible",children:L.children},$,0,null),H=Sh(H,$,le,null),H.flags|=2,L.return=m,H.return=m,L.sibling=H,m.child=L,(m.mode&1)!==0&&ei(m,d.child,null,le),m.child.memoizedState=y5(le),m.memoizedState=v5,H);if((m.mode&1)===0)return Uy(d,m,le,null);if($.data==="$!"){if(L=$.nextSibling&&$.nextSibling.dataset,L)var Ce=L.dgst;return L=Ce,H=Error(n(419)),L=h5(H,L,void 0),Uy(d,m,le,L)}if(Ce=(le&d.childLanes)!==0,Go||Ce){if(L=Gi,L!==null){switch(le&-le){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=($&(L.suspendedLanes|le))!==0?0:$,$!==0&&$!==H.retryLane&&(H.retryLane=$,Yn(d,$),Ul(L,d,$,-1))}return M5(),L=h5(Error(n(421))),Uy(d,m,le,L)}return $.data==="$?"?(m.flags|=128,m.child=d.child,m=oH.bind(null,d),$._reactRetry=m,null):(d=H.treeContext,nt=gs($.nextSibling),Ie=m,tt=!0,rt=null,d!==null&&(ve[xe++]=ze,ve[xe++]=Ue,ve[xe++]=Pe,ze=d.id,Ue=d.overflow,Pe=m),m=x5(m,L.children),m.flags|=4096,m)}function oP(d,m,x){d.lanes|=m;var L=d.alternate;L!==null&&(L.lanes|=m),Uo(d.return,m,x)}function b5(d,m,x,L,$){var H=d.memoizedState;H===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:L,tail:x,tailMode:$}:(H.isBackwards=m,H.rendering=null,H.renderingStartTime=0,H.last=L,H.tail=x,H.tailMode=$)}function aP(d,m,x){var L=m.pendingProps,$=L.revealOrder,H=L.tail;if(xo(d,m,L.children,x),L=mr.current,(L&2)!==0)L=L&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&oP(d,x,m);else if(d.tag===19)oP(d,x,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}L&=1}if(sr(mr,L),(m.mode&1)===0)m.memoizedState=null;else switch($){case"forwards":for(x=m.child,$=null;x!==null;)d=x.alternate,d!==null&&ya(d)===null&&($=x),x=x.sibling;x=$,x===null?($=m.child,m.child=null):($=x.sibling,x.sibling=null),b5(m,!1,$,x,H);break;case"backwards":for(x=null,$=m.child,m.child=null;$!==null;){if(d=$.alternate,d!==null&&ya(d)===null){m.child=$;break}d=$.sibling,$.sibling=x,x=$,$=d}b5(m,!0,x,null,H);break;case"together":b5(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function qy(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Ou(d,m,x){if(d!==null&&(m.dependencies=d.dependencies),xh|=m.lanes,(x&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,x=Kd(d,d.pendingProps),m.child=x,x.return=m;d.sibling!==null;)d=d.sibling,x=x.sibling=Kd(d,d.pendingProps),x.return=m;x.sibling=null}return m.child}function Kq(d,m,x){switch(m.tag){case 3:rP(m),vn();break;case 5:Oy(m);break;case 1:Os(m.type)&&Iu(m);break;case 4:Bd(m,m.stateNode.containerInfo);break;case 10:var L=m.type._context,$=m.memoizedProps.value;sr(Hi,L._currentValue),L._currentValue=$;break;case 13:if(L=m.memoizedState,L!==null)return L.dehydrated!==null?(sr(mr,mr.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?sP(d,m,x):(sr(mr,mr.current&1),d=Ou(d,m,x),d!==null?d.sibling:null);sr(mr,mr.current&1);break;case 19:if(L=(x&m.childLanes)!==0,(d.flags&128)!==0){if(L)return aP(d,m,x);m.flags|=128}if($=m.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),sr(mr,mr.current),L)break;return null;case 22:case 23:return m.lanes=0,eP(d,m,x)}return Ou(d,m,x)}var lP,w5,cP,uP;lP=function(d,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},w5=function(){},cP=function(d,m,x,L){var $=d.memoizedProps;if($!==L){d=m.stateNode,Fl(go.current);var H=null;switch(x){case"input":$=Ae(d,$),L=Ae(d,L),H=[];break;case"select":$=se({},$,{value:void 0}),L=se({},L,{value:void 0}),H=[];break;case"textarea":$=de(d,$),L=de(d,L),H=[];break;default:typeof $.onClick!="function"&&typeof L.onClick=="function"&&(d.onclick=Dd)}fn(x,L);var le;x=null;for(Qe in $)if(!L.hasOwnProperty(Qe)&&$.hasOwnProperty(Qe)&&$[Qe]!=null)if(Qe==="style"){var Ce=$[Qe];for(le in Ce)Ce.hasOwnProperty(le)&&(x||(x={}),x[le]="")}else Qe!=="dangerouslySetInnerHTML"&&Qe!=="children"&&Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&Qe!=="autoFocus"&&(i.hasOwnProperty(Qe)?H||(H=[]):(H=H||[]).push(Qe,null));for(Qe in L){var Ne=L[Qe];if(Ce=$!=null?$[Qe]:void 0,L.hasOwnProperty(Qe)&&Ne!==Ce&&(Ne!=null||Ce!=null))if(Qe==="style")if(Ce){for(le in Ce)!Ce.hasOwnProperty(le)||Ne&&Ne.hasOwnProperty(le)||(x||(x={}),x[le]="");for(le in Ne)Ne.hasOwnProperty(le)&&Ce[le]!==Ne[le]&&(x||(x={}),x[le]=Ne[le])}else x||(H||(H=[]),H.push(Qe,x)),x=Ne;else Qe==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ce=Ce?Ce.__html:void 0,Ne!=null&&Ce!==Ne&&(H=H||[]).push(Qe,Ne)):Qe==="children"?typeof Ne!="string"&&typeof Ne!="number"||(H=H||[]).push(Qe,""+Ne):Qe!=="suppressContentEditableWarning"&&Qe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Qe)?(Ne!=null&&Qe==="onScroll"&&ur("scroll",d),H||Ce===Ne||(H=[])):(H=H||[]).push(Qe,Ne))}x&&(H=H||[]).push("style",x);var Qe=H;(m.updateQueue=Qe)&&(m.flags|=4)}},uP=function(d,m,x,L){x!==L&&(m.flags|=4)};function Hg(d,m){if(!tt)switch(d.tailMode){case"hidden":m=d.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var L=null;x!==null;)x.alternate!==null&&(L=x),x=x.sibling;L===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:L.sibling=null}}function js(d){var m=d.alternate!==null&&d.alternate.child===d.child,x=0,L=0;if(m)for(var $=d.child;$!==null;)x|=$.lanes|$.childLanes,L|=$.subtreeFlags&14680064,L|=$.flags&14680064,$.return=d,$=$.sibling;else for($=d.child;$!==null;)x|=$.lanes|$.childLanes,L|=$.subtreeFlags,L|=$.flags,$.return=d,$=$.sibling;return d.subtreeFlags|=L,d.childLanes=x,m}function Yq(d,m,x){var L=m.pendingProps;switch(Le(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return js(m),null;case 1:return Os(m.type)&&Dp(),js(m),null;case 3:return L=m.stateNode,Xa(),nr(Ms),nr(_i),zg(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(d===null||d.child===null)&&($n(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,rt!==null&&(I5(rt),rt=null))),w5(d,m),js(m),null;case 5:Vg(m);var $=Fl(Pc.current);if(x=m.type,d!==null&&m.stateNode!=null)cP(d,m,x,L,$),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!L){if(m.stateNode===null)throw Error(n(166));return js(m),null}if(d=Fl(go.current),$n(m)){L=m.stateNode,x=m.type;var H=m.memoizedProps;switch(L[Ka]=m,L[Rd]=H,d=(m.mode&1)!==0,x){case"dialog":ur("cancel",L),ur("close",L);break;case"iframe":case"object":case"embed":ur("load",L);break;case"video":case"audio":for($=0;$<Ac.length;$++)ur(Ac[$],L);break;case"source":ur("error",L);break;case"img":case"image":case"link":ur("error",L),ur("load",L);break;case"details":ur("toggle",L);break;case"input":ye(L,H),ur("invalid",L);break;case"select":L._wrapperState={wasMultiple:!!H.multiple},ur("invalid",L);break;case"textarea":we(L,H),ur("invalid",L)}fn(x,H),$=null;for(var le in H)if(H.hasOwnProperty(le)){var Ce=H[le];le==="children"?typeof Ce=="string"?L.textContent!==Ce&&(H.suppressHydrationWarning!==!0&&Ip(L.textContent,Ce,d),$=["children",Ce]):typeof Ce=="number"&&L.textContent!==""+Ce&&(H.suppressHydrationWarning!==!0&&Ip(L.textContent,Ce,d),$=["children",""+Ce]):i.hasOwnProperty(le)&&Ce!=null&&le==="onScroll"&&ur("scroll",L)}switch(x){case"input":Se(L),qe(L,H,!0);break;case"textarea":Se(L),Ye(L);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(L.onclick=Dd)}L=$,m.updateQueue=L,L!==null&&(m.flags|=4)}else{le=$.nodeType===9?$:$.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=$e(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=le.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof L.is=="string"?d=le.createElement(x,{is:L.is}):(d=le.createElement(x),x==="select"&&(le=d,L.multiple?le.multiple=!0:L.size&&(le.size=L.size))):d=le.createElementNS(d,x),d[Ka]=m,d[Rd]=L,lP(d,m,!1,!1),m.stateNode=d;e:{switch(le=lr(x,L),x){case"dialog":ur("cancel",d),ur("close",d),$=L;break;case"iframe":case"object":case"embed":ur("load",d),$=L;break;case"video":case"audio":for($=0;$<Ac.length;$++)ur(Ac[$],d);$=L;break;case"source":ur("error",d),$=L;break;case"img":case"image":case"link":ur("error",d),ur("load",d),$=L;break;case"details":ur("toggle",d),$=L;break;case"input":ye(d,L),$=Ae(d,L),ur("invalid",d);break;case"option":$=L;break;case"select":d._wrapperState={wasMultiple:!!L.multiple},$=se({},L,{value:void 0}),ur("invalid",d);break;case"textarea":we(d,L),$=de(d,L),ur("invalid",d);break;default:$=L}fn(x,$),Ce=$;for(H in Ce)if(Ce.hasOwnProperty(H)){var Ne=Ce[H];H==="style"?Hn(d,Ne):H==="dangerouslySetInnerHTML"?(Ne=Ne?Ne.__html:void 0,Ne!=null&&dt(d,Ne)):H==="children"?typeof Ne=="string"?(x!=="textarea"||Ne!=="")&&xt(d,Ne):typeof Ne=="number"&&xt(d,""+Ne):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ne!=null&&H==="onScroll"&&ur("scroll",d):Ne!=null&&T(d,H,Ne,le))}switch(x){case"input":Se(d),qe(d,L,!1);break;case"textarea":Se(d),Ye(d);break;case"option":L.value!=null&&d.setAttribute("value",""+fe(L.value));break;case"select":d.multiple=!!L.multiple,H=L.value,H!=null?We(d,!!L.multiple,H,!1):L.defaultValue!=null&&We(d,!!L.multiple,L.defaultValue,!0);break;default:typeof $.onClick=="function"&&(d.onclick=Dd)}switch(x){case"button":case"input":case"select":case"textarea":L=!!L.autoFocus;break e;case"img":L=!0;break e;default:L=!1}}L&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return js(m),null;case 6:if(d&&m.stateNode!=null)uP(d,m,d.memoizedProps,L);else{if(typeof L!="string"&&m.stateNode===null)throw Error(n(166));if(x=Fl(Pc.current),Fl(go.current),$n(m)){if(L=m.stateNode,x=m.memoizedProps,L[Ka]=m,(H=L.nodeValue!==x)&&(d=Ie,d!==null))switch(d.tag){case 3:Ip(L.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Ip(L.nodeValue,x,(d.mode&1)!==0)}H&&(m.flags|=4)}else L=(x.nodeType===9?x:x.ownerDocument).createTextNode(L),L[Ka]=m,m.stateNode=L}return js(m),null;case 13:if(nr(mr),L=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(tt&&nt!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Pn(),vn(),m.flags|=98560,H=!1;else if(H=$n(m),L!==null&&L.dehydrated!==null){if(d===null){if(!H)throw Error(n(318));if(H=m.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(n(317));H[Ka]=m}else vn(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;js(m),H=!1}else rt!==null&&(I5(rt),rt=null),H=!0;if(!H)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(L=L!==null,L!==(d!==null&&d.memoizedState!==null)&&L&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(mr.current&1)!==0?ki===0&&(ki=3):M5())),m.updateQueue!==null&&(m.flags|=4),js(m),null);case 4:return Xa(),w5(d,m),d===null&&Tu(m.stateNode.containerInfo),js(m),null;case 10:return Fs(m.type._context),js(m),null;case 17:return Os(m.type)&&Dp(),js(m),null;case 19:if(nr(mr),H=m.memoizedState,H===null)return js(m),null;if(L=(m.flags&128)!==0,le=H.rendering,le===null)if(L)Hg(H,!1);else{if(ki!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(le=ya(d),le!==null){for(m.flags|=128,Hg(H,!1),L=le.updateQueue,L!==null&&(m.updateQueue=L,m.flags|=4),m.subtreeFlags=0,L=x,x=m.child;x!==null;)H=x,d=L,H.flags&=14680066,le=H.alternate,le===null?(H.childLanes=0,H.lanes=d,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=le.childLanes,H.lanes=le.lanes,H.child=le.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=le.memoizedProps,H.memoizedState=le.memoizedState,H.updateQueue=le.updateQueue,H.type=le.type,d=le.dependencies,H.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return sr(mr,mr.current&1|2),m.child}d=d.sibling}H.tail!==null&&ir()>Gp&&(m.flags|=128,L=!0,Hg(H,!1),m.lanes=4194304)}else{if(!L)if(d=ya(le),d!==null){if(m.flags|=128,L=!0,x=d.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),Hg(H,!0),H.tail===null&&H.tailMode==="hidden"&&!le.alternate&&!tt)return js(m),null}else 2*ir()-H.renderingStartTime>Gp&&x!==1073741824&&(m.flags|=128,L=!0,Hg(H,!1),m.lanes=4194304);H.isBackwards?(le.sibling=m.child,m.child=le):(x=H.last,x!==null?x.sibling=le:m.child=le,H.last=le)}return H.tail!==null?(m=H.tail,H.rendering=m,H.tail=m.sibling,H.renderingStartTime=ir(),m.sibling=null,x=mr.current,sr(mr,L?x&1|2:x&1),m):(js(m),null);case 22:case 23:return R5(),L=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==L&&(m.flags|=8192),L&&(m.mode&1)!==0?(wa&1073741824)!==0&&(js(m),m.subtreeFlags&6&&(m.flags|=8192)):js(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function Xq(d,m){switch(Le(m),m.tag){case 1:return Os(m.type)&&Dp(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Xa(),nr(Ms),nr(_i),zg(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return Vg(m),null;case 13:if(nr(mr),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));vn()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return nr(mr),null;case 4:return Xa(),null;case 10:return Fs(m.type._context),null;case 22:case 23:return R5(),null;case 24:return null;default:return null}}var Hy=!1,Bs=!1,Jq=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Hp(d,m){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(L){Yr(d,m,L)}else x.current=null}function E5(d,m,x){try{x()}catch(L){Yr(d,m,L)}}var dP=!1;function Qq(d,m){if(hh=Ba,d=oh(),Su(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var L=x.getSelection&&x.getSelection();if(L&&L.rangeCount!==0){x=L.anchorNode;var $=L.anchorOffset,H=L.focusNode;L=L.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var le=0,Ce=-1,Ne=-1,Qe=0,pt=0,vt=d,ht=null;t:for(;;){for(var Tt;vt!==x||$!==0&&vt.nodeType!==3||(Ce=le+$),vt!==H||L!==0&&vt.nodeType!==3||(Ne=le+L),vt.nodeType===3&&(le+=vt.nodeValue.length),(Tt=vt.firstChild)!==null;)ht=vt,vt=Tt;for(;;){if(vt===d)break t;if(ht===x&&++Qe===$&&(Ce=le),ht===H&&++pt===L&&(Ne=le),(Tt=vt.nextSibling)!==null)break;vt=ht,ht=vt.parentNode}vt=Tt}x=Ce===-1||Ne===-1?null:{start:Ce,end:Ne}}else x=null}x=x||{start:0,end:0}}else x=null;for(Pu={focusedElem:d,selectionRange:x},Ba=!1,Pt=m;Pt!==null;)if(m=Pt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Pt=d;else for(;Pt!==null;){m=Pt;try{var Lt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Rt=Lt.memoizedProps,ri=Lt.memoizedState,Ge=m.stateNode,Re=Ge.getSnapshotBeforeUpdate(m.elementType===m.type?Rt:Vl(m.type,Rt),ri);Ge.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var Xe=m.stateNode.containerInfo;Xe.nodeType===1?Xe.textContent="":Xe.nodeType===9&&Xe.documentElement&&Xe.removeChild(Xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(yt){Yr(m,m.return,yt)}if(d=m.sibling,d!==null){d.return=m.return,Pt=d;break}Pt=m.return}return Lt=dP,dP=!1,Lt}function Wg(d,m,x){var L=m.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var $=L=L.next;do{if(($.tag&d)===d){var H=$.destroy;$.destroy=void 0,H!==void 0&&E5(m,x,H)}$=$.next}while($!==L)}}function Wy(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&d)===d){var L=x.create;x.destroy=L()}x=x.next}while(x!==m)}}function S5(d){var m=d.ref;if(m!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof m=="function"?m(d):m.current=d}}function fP(d){var m=d.alternate;m!==null&&(d.alternate=null,fP(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Ka],delete m[Rd],delete m[Rs],delete m[a5],delete m[l5])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function hP(d){return d.tag===5||d.tag===3||d.tag===4}function pP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||hP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function C5(d,m,x){var L=d.tag;if(L===5||L===6)d=d.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(d,m):x.insertBefore(d,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(d,x)):(m=x,m.appendChild(d)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=Dd));else if(L!==4&&(d=d.child,d!==null))for(C5(d,m,x),d=d.sibling;d!==null;)C5(d,m,x),d=d.sibling}function A5(d,m,x){var L=d.tag;if(L===5||L===6)d=d.stateNode,m?x.insertBefore(d,m):x.appendChild(d);else if(L!==4&&(d=d.child,d!==null))for(A5(d,m,x),d=d.sibling;d!==null;)A5(d,m,x),d=d.sibling}var ys=null,$l=!1;function Ud(d,m,x){for(x=x.child;x!==null;)mP(d,m,x),x=x.sibling}function mP(d,m,x){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(Da,x)}catch{}switch(x.tag){case 5:Bs||Hp(x,m);case 6:var L=ys,$=$l;ys=null,Ud(d,m,x),ys=L,$l=$,ys!==null&&($l?(d=ys,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):ys.removeChild(x.stateNode));break;case 18:ys!==null&&($l?(d=ys,x=x.stateNode,d.nodeType===8?Og(d.parentNode,x):d.nodeType===1&&Og(d,x),Si(d)):Og(ys,x.stateNode));break;case 4:L=ys,$=$l,ys=x.stateNode.containerInfo,$l=!0,Ud(d,m,x),ys=L,$l=$;break;case 0:case 11:case 14:case 15:if(!Bs&&(L=x.updateQueue,L!==null&&(L=L.lastEffect,L!==null))){$=L=L.next;do{var H=$,le=H.destroy;H=H.tag,le!==void 0&&((H&2)!==0||(H&4)!==0)&&E5(x,m,le),$=$.next}while($!==L)}Ud(d,m,x);break;case 1:if(!Bs&&(Hp(x,m),L=x.stateNode,typeof L.componentWillUnmount=="function"))try{L.props=x.memoizedProps,L.state=x.memoizedState,L.componentWillUnmount()}catch(Ce){Yr(x,m,Ce)}Ud(d,m,x);break;case 21:Ud(d,m,x);break;case 22:x.mode&1?(Bs=(L=Bs)||x.memoizedState!==null,Ud(d,m,x),Bs=L):Ud(d,m,x);break;default:Ud(d,m,x)}}function gP(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new Jq),m.forEach(function(L){var $=aH.bind(null,d,L);x.has(L)||(x.add(L),L.then($,$))})}}function zl(d,m){var x=m.deletions;if(x!==null)for(var L=0;L<x.length;L++){var $=x[L];try{var H=d,le=m,Ce=le;e:for(;Ce!==null;){switch(Ce.tag){case 5:ys=Ce.stateNode,$l=!1;break e;case 3:ys=Ce.stateNode.containerInfo,$l=!0;break e;case 4:ys=Ce.stateNode.containerInfo,$l=!0;break e}Ce=Ce.return}if(ys===null)throw Error(n(160));mP(H,le,$),ys=null,$l=!1;var Ne=$.alternate;Ne!==null&&(Ne.return=null),$.return=null}catch(Qe){Yr($,m,Qe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)vP(m,d),m=m.sibling}function vP(d,m){var x=d.alternate,L=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(zl(m,d),Lc(d),L&4){try{Wg(3,d,d.return),Wy(3,d)}catch(Rt){Yr(d,d.return,Rt)}try{Wg(5,d,d.return)}catch(Rt){Yr(d,d.return,Rt)}}break;case 1:zl(m,d),Lc(d),L&512&&x!==null&&Hp(x,x.return);break;case 5:if(zl(m,d),Lc(d),L&512&&x!==null&&Hp(x,x.return),d.flags&32){var $=d.stateNode;try{xt($,"")}catch(Rt){Yr(d,d.return,Rt)}}if(L&4&&($=d.stateNode,$!=null)){var H=d.memoizedProps,le=x!==null?x.memoizedProps:H,Ce=d.type,Ne=d.updateQueue;if(d.updateQueue=null,Ne!==null)try{Ce==="input"&&H.type==="radio"&&H.name!=null&&he($,H),lr(Ce,le);var Qe=lr(Ce,H);for(le=0;le<Ne.length;le+=2){var pt=Ne[le],vt=Ne[le+1];pt==="style"?Hn($,vt):pt==="dangerouslySetInnerHTML"?dt($,vt):pt==="children"?xt($,vt):T($,pt,vt,Qe)}switch(Ce){case"input":Je($,H);break;case"textarea":ke($,H);break;case"select":var ht=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!H.multiple;var Tt=H.value;Tt!=null?We($,!!H.multiple,Tt,!1):ht!==!!H.multiple&&(H.defaultValue!=null?We($,!!H.multiple,H.defaultValue,!0):We($,!!H.multiple,H.multiple?[]:"",!1))}$[Rd]=H}catch(Rt){Yr(d,d.return,Rt)}}break;case 6:if(zl(m,d),Lc(d),L&4){if(d.stateNode===null)throw Error(n(162));$=d.stateNode,H=d.memoizedProps;try{$.nodeValue=H}catch(Rt){Yr(d,d.return,Rt)}}break;case 3:if(zl(m,d),Lc(d),L&4&&x!==null&&x.memoizedState.isDehydrated)try{Si(m.containerInfo)}catch(Rt){Yr(d,d.return,Rt)}break;case 4:zl(m,d),Lc(d);break;case 13:zl(m,d),Lc(d),$=d.child,$.flags&8192&&(H=$.memoizedState!==null,$.stateNode.isHidden=H,!H||$.alternate!==null&&$.alternate.memoizedState!==null||(k5=ir())),L&4&&gP(d);break;case 22:if(pt=x!==null&&x.memoizedState!==null,d.mode&1?(Bs=(Qe=Bs)||pt,zl(m,d),Bs=Qe):zl(m,d),Lc(d),L&8192){if(Qe=d.memoizedState!==null,(d.stateNode.isHidden=Qe)&&!pt&&(d.mode&1)!==0)for(Pt=d,pt=d.child;pt!==null;){for(vt=Pt=pt;Pt!==null;){switch(ht=Pt,Tt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Wg(4,ht,ht.return);break;case 1:Hp(ht,ht.return);var Lt=ht.stateNode;if(typeof Lt.componentWillUnmount=="function"){L=ht,x=ht.return;try{m=L,Lt.props=m.memoizedProps,Lt.state=m.memoizedState,Lt.componentWillUnmount()}catch(Rt){Yr(L,x,Rt)}}break;case 5:Hp(ht,ht.return);break;case 22:if(ht.memoizedState!==null){bP(vt);continue}}Tt!==null?(Tt.return=ht,Pt=Tt):bP(vt)}pt=pt.sibling}e:for(pt=null,vt=d;;){if(vt.tag===5){if(pt===null){pt=vt;try{$=vt.stateNode,Qe?(H=$.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Ce=vt.stateNode,Ne=vt.memoizedProps.style,le=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null,Ce.style.display=Vt("display",le))}catch(Rt){Yr(d,d.return,Rt)}}}else if(vt.tag===6){if(pt===null)try{vt.stateNode.nodeValue=Qe?"":vt.memoizedProps}catch(Rt){Yr(d,d.return,Rt)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===d)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===d)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===d)break e;pt===vt&&(pt=null),vt=vt.return}pt===vt&&(pt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:zl(m,d),Lc(d),L&4&&gP(d);break;case 21:break;default:zl(m,d),Lc(d)}}function Lc(d){var m=d.flags;if(m&2){try{e:{for(var x=d.return;x!==null;){if(hP(x)){var L=x;break e}x=x.return}throw Error(n(160))}switch(L.tag){case 5:var $=L.stateNode;L.flags&32&&(xt($,""),L.flags&=-33);var H=pP(d);A5(d,H,$);break;case 3:case 4:var le=L.stateNode.containerInfo,Ce=pP(d);C5(d,Ce,le);break;default:throw Error(n(161))}}catch(Ne){Yr(d,d.return,Ne)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Zq(d,m,x){Pt=d,yP(d)}function yP(d,m,x){for(var L=(d.mode&1)!==0;Pt!==null;){var $=Pt,H=$.child;if($.tag===22&&L){var le=$.memoizedState!==null||Hy;if(!le){var Ce=$.alternate,Ne=Ce!==null&&Ce.memoizedState!==null||Bs;Ce=Hy;var Qe=Bs;if(Hy=le,(Bs=Ne)&&!Qe)for(Pt=$;Pt!==null;)le=Pt,Ne=le.child,le.tag===22&&le.memoizedState!==null?wP($):Ne!==null?(Ne.return=le,Pt=Ne):wP($);for(;H!==null;)Pt=H,yP(H),H=H.sibling;Pt=$,Hy=Ce,Bs=Qe}xP(d)}else($.subtreeFlags&8772)!==0&&H!==null?(H.return=$,Pt=H):xP(d)}}function xP(d){for(;Pt!==null;){var m=Pt;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Bs||Wy(5,m);break;case 1:var L=m.stateNode;if(m.flags&4&&!Bs)if(x===null)L.componentDidMount();else{var $=m.elementType===m.type?x.memoizedProps:Vl(m.type,x.memoizedProps);L.componentDidUpdate($,x.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var H=m.updateQueue;H!==null&&Ru(m,H,L);break;case 3:var le=m.updateQueue;if(le!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}Ru(m,le,x)}break;case 5:var Ce=m.stateNode;if(x===null&&m.flags&4){x=Ce;var Ne=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Ne.autoFocus&&x.focus();break;case"img":Ne.src&&(x.src=Ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Qe=m.alternate;if(Qe!==null){var pt=Qe.memoizedState;if(pt!==null){var vt=pt.dehydrated;vt!==null&&Si(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bs||m.flags&512&&S5(m)}catch(ht){Yr(m,m.return,ht)}}if(m===d){Pt=null;break}if(x=m.sibling,x!==null){x.return=m.return,Pt=x;break}Pt=m.return}}function bP(d){for(;Pt!==null;){var m=Pt;if(m===d){Pt=null;break}var x=m.sibling;if(x!==null){x.return=m.return,Pt=x;break}Pt=m.return}}function wP(d){for(;Pt!==null;){var m=Pt;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{Wy(4,m)}catch(Ne){Yr(m,x,Ne)}break;case 1:var L=m.stateNode;if(typeof L.componentDidMount=="function"){var $=m.return;try{L.componentDidMount()}catch(Ne){Yr(m,$,Ne)}}var H=m.return;try{S5(m)}catch(Ne){Yr(m,H,Ne)}break;case 5:var le=m.return;try{S5(m)}catch(Ne){Yr(m,le,Ne)}}}catch(Ne){Yr(m,m.return,Ne)}if(m===d){Pt=null;break}var Ce=m.sibling;if(Ce!==null){Ce.return=m.return,Pt=Ce;break}Pt=m.return}}var eH=Math.ceil,Gy=I.ReactCurrentDispatcher,_5=I.ReactCurrentOwner,Za=I.ReactCurrentBatchConfig,qn=0,Gi=null,di=null,xs=0,wa=0,Wp=va(0),ki=0,Gg=null,xh=0,Ky=0,T5=0,Kg=null,Ko=null,k5=0,Gp=1/0,Fu=null,Yy=!1,P5=null,qd=null,Xy=!1,Hd=null,Jy=0,Yg=0,N5=null,Qy=-1,Zy=0;function bo(){return(qn&6)!==0?ir():Qy!==-1?Qy:Qy=ir()}function Wd(d){return(d.mode&1)===0?1:(qn&2)!==0&&xs!==0?xs&-xs:or.transition!==null?(Zy===0&&(Zy=Oa()),Zy):(d=wn,d!==0||(d=window.event,d=d===void 0?16:yc(d.type)),d)}function Ul(d,m,x,L){if(50<Yg)throw Yg=0,N5=null,Error(n(185));ca(d,x,L),((qn&2)===0||d!==Gi)&&(d===Gi&&((qn&2)===0&&(Ky|=x),ki===4&&Gd(d,xs)),Yo(d,L),x===1&&qn===0&&(m.mode&1)===0&&(Gp=ir()+500,mh&&G()))}function Yo(d,m){var x=d.callbackNode;Lr(d,m);var L=bi(d,d===Gi?xs:0);if(L===0)x!==null&&Ia(x),d.callbackNode=null,d.callbackPriority=0;else if(m=L&-L,d.callbackPriority!==m){if(x!=null&&Ia(x),m===1)d.tag===0?z(SP.bind(null,d)):D(SP.bind(null,d)),s5(function(){(qn&6)===0&&G()}),x=null;else{switch(Ro(L)){case 1:x=Do;break;case 4:x=la;break;case 16:x=Ps;break;case 536870912:x=gd;break;default:x=Ps}x=LP(x,EP.bind(null,d))}d.callbackPriority=m,d.callbackNode=x}}function EP(d,m){if(Qy=-1,Zy=0,(qn&6)!==0)throw Error(n(327));var x=d.callbackNode;if(Kp()&&d.callbackNode!==x)return null;var L=bi(d,d===Gi?xs:0);if(L===0)return null;if((L&30)!==0||(L&d.expiredLanes)!==0||m)m=e1(d,L);else{m=L;var $=qn;qn|=2;var H=AP();(Gi!==d||xs!==m)&&(Fu=null,Gp=ir()+500,wh(d,m));do try{rH();break}catch(Ce){CP(d,Ce)}while(!0);Ti(),Gy.current=H,qn=$,di!==null?m=0:(Gi=null,xs=0,m=ki)}if(m!==0){if(m===2&&($=wi(d),$!==0&&(L=$,m=L5(d,$))),m===1)throw x=Gg,wh(d,0),Gd(d,L),Yo(d,ir()),x;if(m===6)Gd(d,L);else{if($=d.current.alternate,(L&30)===0&&!tH($)&&(m=e1(d,L),m===2&&(H=wi(d),H!==0&&(L=H,m=L5(d,H))),m===1))throw x=Gg,wh(d,0),Gd(d,L),Yo(d,ir()),x;switch(d.finishedWork=$,d.finishedLanes=L,m){case 0:case 1:throw Error(n(345));case 2:Eh(d,Ko,Fu);break;case 3:if(Gd(d,L),(L&130023424)===L&&(m=k5+500-ir(),10<m)){if(bi(d,0)!==0)break;if($=d.suspendedLanes,($&L)!==L){bo(),d.pingedLanes|=d.suspendedLanes&$;break}d.timeoutHandle=Mg(Eh.bind(null,d,Ko,Fu),m);break}Eh(d,Ko,Fu);break;case 4:if(Gd(d,L),(L&4194240)===L)break;for(m=d.eventTimes,$=-1;0<L;){var le=31-xi(L);H=1<<le,le=m[le],le>$&&($=le),L&=~H}if(L=$,L=ir()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*eH(L/1960))-L,10<L){d.timeoutHandle=Mg(Eh.bind(null,d,Ko,Fu),L);break}Eh(d,Ko,Fu);break;case 5:Eh(d,Ko,Fu);break;default:throw Error(n(329))}}}return Yo(d,ir()),d.callbackNode===x?EP.bind(null,d):null}function L5(d,m){var x=Kg;return d.current.memoizedState.isDehydrated&&(wh(d,m).flags|=256),d=e1(d,m),d!==2&&(m=Ko,Ko=x,m!==null&&I5(m)),d}function I5(d){Ko===null?Ko=d:Ko.push.apply(Ko,d)}function tH(d){for(var m=d;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var L=0;L<x.length;L++){var $=x[L],H=$.getSnapshot;$=$.value;try{if(!Un(H(),$))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Gd(d,m){for(m&=~T5,m&=~Ky,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var x=31-xi(m),L=1<<x;d[x]=-1,m&=~L}}function SP(d){if((qn&6)!==0)throw Error(n(327));Kp();var m=bi(d,0);if((m&1)===0)return Yo(d,ir()),null;var x=e1(d,m);if(d.tag!==0&&x===2){var L=wi(d);L!==0&&(m=L,x=L5(d,L))}if(x===1)throw x=Gg,wh(d,0),Gd(d,m),Yo(d,ir()),x;if(x===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Eh(d,Ko,Fu),Yo(d,ir()),null}function D5(d,m){var x=qn;qn|=1;try{return d(m)}finally{qn=x,qn===0&&(Gp=ir()+500,mh&&G())}}function bh(d){Hd!==null&&Hd.tag===0&&(qn&6)===0&&Kp();var m=qn;qn|=1;var x=Za.transition,L=wn;try{if(Za.transition=null,wn=1,d)return d()}finally{wn=L,Za.transition=x,qn=m,(qn&6)===0&&G()}}function R5(){wa=Wp.current,nr(Wp)}function wh(d,m){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,Iy(x)),di!==null)for(x=di.return;x!==null;){var L=x;switch(Le(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&Dp();break;case 3:Xa(),nr(Ms),nr(_i),zg();break;case 5:Vg(L);break;case 4:Xa();break;case 13:nr(mr);break;case 19:nr(mr);break;case 10:Fs(L.type._context);break;case 22:case 23:R5()}x=x.return}if(Gi=d,di=d=Kd(d.current,null),xs=wa=m,ki=0,Gg=null,T5=Ky=xh=0,Ko=Kg=null,mo!==null){for(m=0;m<mo.length;m++)if(x=mo[m],L=x.interleaved,L!==null){x.interleaved=null;var $=L.next,H=x.pending;if(H!==null){var le=H.next;H.next=$,L.next=le}x.pending=L}mo=null}return d}function CP(d,m){do{var x=di;try{if(Ti(),Mp.current=$y,Vd){for(var L=xr.memoizedState;L!==null;){var $=L.queue;$!==null&&($.pending=null),L=L.next}Vd=!1}if(Ja=0,Vr=Kr=xr=null,jl=!1,$d=0,_5.current=null,x===null||x.return===null){ki=1,Gg=m,di=null;break}e:{var H=d,le=x.return,Ce=x,Ne=m;if(m=xs,Ce.flags|=32768,Ne!==null&&typeof Ne=="object"&&typeof Ne.then=="function"){var Qe=Ne,pt=Ce,vt=pt.tag;if((pt.mode&1)===0&&(vt===0||vt===11||vt===15)){var ht=pt.alternate;ht?(pt.updateQueue=ht.updateQueue,pt.memoizedState=ht.memoizedState,pt.lanes=ht.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var Tt=Y4(le);if(Tt!==null){Tt.flags&=-257,X4(Tt,le,Ce,H,m),Tt.mode&1&&K4(H,Qe,m),m=Tt,Ne=Qe;var Lt=m.updateQueue;if(Lt===null){var Rt=new Set;Rt.add(Ne),m.updateQueue=Rt}else Lt.add(Ne);break e}else{if((m&1)===0){K4(H,Qe,m),M5();break e}Ne=Error(n(426))}}else if(tt&&Ce.mode&1){var ri=Y4(le);if(ri!==null){(ri.flags&65536)===0&&(ri.flags|=256),X4(ri,le,Ce,H,m),rr(qp(Ne,Ce));break e}}H=Ne=qp(Ne,Ce),ki!==4&&(ki=2),Kg===null?Kg=[H]:Kg.push(H),H=le;do{switch(H.tag){case 3:H.flags|=65536,m&=-m,H.lanes|=m;var Ge=W4(H,Ne,m);Wo(H,Ge);break e;case 1:Ce=Ne;var Re=H.type,Xe=H.stateNode;if((H.flags&128)===0&&(typeof Re.getDerivedStateFromError=="function"||Xe!==null&&typeof Xe.componentDidCatch=="function"&&(qd===null||!qd.has(Xe)))){H.flags|=65536,m&=-m,H.lanes|=m;var yt=G4(H,Ce,m);Wo(H,yt);break e}}H=H.return}while(H!==null)}TP(x)}catch(Ot){m=Ot,di===x&&x!==null&&(di=x=x.return);continue}break}while(!0)}function AP(){var d=Gy.current;return Gy.current=$y,d===null?$y:d}function M5(){(ki===0||ki===3||ki===2)&&(ki=4),Gi===null||(xh&268435455)===0&&(Ky&268435455)===0||Gd(Gi,xs)}function e1(d,m){var x=qn;qn|=2;var L=AP();(Gi!==d||xs!==m)&&(Fu=null,wh(d,m));do try{nH();break}catch($){CP(d,$)}while(!0);if(Ti(),qn=x,Gy.current=L,di!==null)throw Error(n(261));return Gi=null,xs=0,ki}function nH(){for(;di!==null;)_P(di)}function rH(){for(;di!==null&&!vl();)_P(di)}function _P(d){var m=NP(d.alternate,d,wa);d.memoizedProps=d.pendingProps,m===null?TP(d):di=m,_5.current=null}function TP(d){var m=d;do{var x=m.alternate;if(d=m.return,(m.flags&32768)===0){if(x=Yq(x,m,wa),x!==null){di=x;return}}else{if(x=Xq(x,m),x!==null){x.flags&=32767,di=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{ki=6,di=null;return}}if(m=m.sibling,m!==null){di=m;return}di=m=d}while(m!==null);ki===0&&(ki=5)}function Eh(d,m,x){var L=wn,$=Za.transition;try{Za.transition=null,wn=1,iH(d,m,x,L)}finally{Za.transition=$,wn=L}return null}function iH(d,m,x,L){do Kp();while(Hd!==null);if((qn&6)!==0)throw Error(n(327));x=d.finishedWork;var $=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var H=x.lanes|x.childLanes;if(Zn(d,H),d===Gi&&(di=Gi=null,xs=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Xy||(Xy=!0,LP(Ps,function(){return Kp(),null})),H=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||H){H=Za.transition,Za.transition=null;var le=wn;wn=1;var Ce=qn;qn|=4,_5.current=null,Qq(d,x),vP(x,d),Cu(Pu),Ba=!!hh,Pu=hh=null,d.current=x,Zq(x),pd(),qn=Ce,wn=le,Za.transition=H}else d.current=x;if(Xy&&(Xy=!1,Hd=d,Jy=$),H=d.pendingLanes,H===0&&(qd=null),xl(x.stateNode),Yo(d,ir()),m!==null)for(L=d.onRecoverableError,x=0;x<m.length;x++)$=m[x],L($.value,{componentStack:$.stack,digest:$.digest});if(Yy)throw Yy=!1,d=P5,P5=null,d;return(Jy&1)!==0&&d.tag!==0&&Kp(),H=d.pendingLanes,(H&1)!==0?d===N5?Yg++:(Yg=0,N5=d):Yg=0,G(),null}function Kp(){if(Hd!==null){var d=Ro(Jy),m=Za.transition,x=wn;try{if(Za.transition=null,wn=16>d?16:d,Hd===null)var L=!1;else{if(d=Hd,Hd=null,Jy=0,(qn&6)!==0)throw Error(n(331));var $=qn;for(qn|=4,Pt=d.current;Pt!==null;){var H=Pt,le=H.child;if((Pt.flags&16)!==0){var Ce=H.deletions;if(Ce!==null){for(var Ne=0;Ne<Ce.length;Ne++){var Qe=Ce[Ne];for(Pt=Qe;Pt!==null;){var pt=Pt;switch(pt.tag){case 0:case 11:case 15:Wg(8,pt,H)}var vt=pt.child;if(vt!==null)vt.return=pt,Pt=vt;else for(;Pt!==null;){pt=Pt;var ht=pt.sibling,Tt=pt.return;if(fP(pt),pt===Qe){Pt=null;break}if(ht!==null){ht.return=Tt,Pt=ht;break}Pt=Tt}}}var Lt=H.alternate;if(Lt!==null){var Rt=Lt.child;if(Rt!==null){Lt.child=null;do{var ri=Rt.sibling;Rt.sibling=null,Rt=ri}while(Rt!==null)}}Pt=H}}if((H.subtreeFlags&2064)!==0&&le!==null)le.return=H,Pt=le;else e:for(;Pt!==null;){if(H=Pt,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Wg(9,H,H.return)}var Ge=H.sibling;if(Ge!==null){Ge.return=H.return,Pt=Ge;break e}Pt=H.return}}var Re=d.current;for(Pt=Re;Pt!==null;){le=Pt;var Xe=le.child;if((le.subtreeFlags&2064)!==0&&Xe!==null)Xe.return=le,Pt=Xe;else e:for(le=Re;Pt!==null;){if(Ce=Pt,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:Wy(9,Ce)}}catch(Ot){Yr(Ce,Ce.return,Ot)}if(Ce===le){Pt=null;break e}var yt=Ce.sibling;if(yt!==null){yt.return=Ce.return,Pt=yt;break e}Pt=Ce.return}}if(qn=$,G(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(Da,d)}catch{}L=!0}return L}finally{wn=x,Za.transition=m}}return!1}function kP(d,m,x){m=qp(x,m),m=W4(d,m,1),d=Ho(d,m,1),m=bo(),d!==null&&(ca(d,1,m),Yo(d,m))}function Yr(d,m,x){if(d.tag===3)kP(d,d,x);else for(;m!==null;){if(m.tag===3){kP(m,d,x);break}else if(m.tag===1){var L=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(qd===null||!qd.has(L))){d=qp(x,d),d=G4(m,d,1),m=Ho(m,d,1),d=bo(),m!==null&&(ca(m,1,d),Yo(m,d));break}}m=m.return}}function sH(d,m,x){var L=d.pingCache;L!==null&&L.delete(m),m=bo(),d.pingedLanes|=d.suspendedLanes&x,Gi===d&&(xs&x)===x&&(ki===4||ki===3&&(xs&130023424)===xs&&500>ir()-k5?wh(d,0):T5|=x),Yo(d,m)}function PP(d,m){m===0&&((d.mode&1)===0?m=1:(m=Ra,Ra<<=1,(Ra&130023424)===0&&(Ra=4194304)));var x=bo();d=Yn(d,m),d!==null&&(ca(d,m,x),Yo(d,x))}function oH(d){var m=d.memoizedState,x=0;m!==null&&(x=m.retryLane),PP(d,x)}function aH(d,m){var x=0;switch(d.tag){case 13:var L=d.stateNode,$=d.memoizedState;$!==null&&(x=$.retryLane);break;case 19:L=d.stateNode;break;default:throw Error(n(314))}L!==null&&L.delete(m),PP(d,x)}var NP;NP=function(d,m,x){if(d!==null)if(d.memoizedProps!==m.pendingProps||Ms.current)Go=!0;else{if((d.lanes&x)===0&&(m.flags&128)===0)return Go=!1,Kq(d,m,x);Go=(d.flags&131072)!==0}else Go=!1,tt&&(m.flags&1048576)!==0&&at(m,pe,m.index);switch(m.lanes=0,m.tag){case 2:var L=m.type;qy(d,m),d=m.pendingProps;var $=Od(m,_i.current);Ar(m,x),$=gh(null,m,L,d,$,x);var H=Qa();return m.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Os(L)?(H=!0,Iu(m)):H=!1,m.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,Rp(m),$.updater=zy,m.stateNode=$,$._reactInternals=m,f5(m,L,d,x),m=g5(null,m,L,!0,H,x)):(m.tag=0,tt&&H&&Ze(m),xo(null,m,$,x),m=m.child),m;case 16:L=m.elementType;e:{switch(qy(d,m),d=m.pendingProps,$=L._init,L=$(L._payload),m.type=L,$=m.tag=cH(L),d=Vl(L,d),$){case 0:m=m5(null,m,L,d,x);break e;case 1:m=nP(null,m,L,d,x);break e;case 11:m=J4(null,m,L,d,x);break e;case 14:m=Q4(null,m,L,Vl(L.type,d),x);break e}throw Error(n(306,L,""))}return m;case 0:return L=m.type,$=m.pendingProps,$=m.elementType===L?$:Vl(L,$),m5(d,m,L,$,x);case 1:return L=m.type,$=m.pendingProps,$=m.elementType===L?$:Vl(L,$),nP(d,m,L,$,x);case 3:e:{if(rP(m),d===null)throw Error(n(387));L=m.pendingProps,H=m.memoizedState,$=H.element,Bg(d,m),Ol(m,L,null,x);var le=m.memoizedState;if(L=le.element,H.isDehydrated)if(H={element:L,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},m.updateQueue.baseState=H,m.memoizedState=H,m.flags&256){$=qp(Error(n(423)),m),m=iP(d,m,L,x,$);break e}else if(L!==$){$=qp(Error(n(424)),m),m=iP(d,m,L,x,$);break e}else for(nt=gs(m.stateNode.containerInfo.firstChild),Ie=m,tt=!0,rt=null,x=Kn(m,null,L,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(vn(),L===$){m=Ou(d,m,x);break e}xo(d,m,L,x)}m=m.child}return m;case 5:return Oy(m),d===null&&Et(m),L=m.type,$=m.pendingProps,H=d!==null?d.memoizedProps:null,le=$.children,Rg(L,$)?le=null:H!==null&&Rg(L,H)&&(m.flags|=32),tP(d,m),xo(d,m,le,x),m.child;case 6:return d===null&&Et(m),null;case 13:return sP(d,m,x);case 4:return Bd(m,m.stateNode.containerInfo),L=m.pendingProps,d===null?m.child=ei(m,null,L,x):xo(d,m,L,x),m.child;case 11:return L=m.type,$=m.pendingProps,$=m.elementType===L?$:Vl(L,$),J4(d,m,L,$,x);case 7:return xo(d,m,m.pendingProps,x),m.child;case 8:return xo(d,m,m.pendingProps.children,x),m.child;case 12:return xo(d,m,m.pendingProps.children,x),m.child;case 10:e:{if(L=m.type._context,$=m.pendingProps,H=m.memoizedProps,le=$.value,sr(Hi,L._currentValue),L._currentValue=le,H!==null)if(Un(H.value,le)){if(H.children===$.children&&!Ms.current){m=Ou(d,m,x);break e}}else for(H=m.child,H!==null&&(H.return=m);H!==null;){var Ce=H.dependencies;if(Ce!==null){le=H.child;for(var Ne=Ce.firstContext;Ne!==null;){if(Ne.context===L){if(H.tag===1){Ne=qo(-1,x&-x),Ne.tag=2;var Qe=H.updateQueue;if(Qe!==null){Qe=Qe.shared;var pt=Qe.pending;pt===null?Ne.next=Ne:(Ne.next=pt.next,pt.next=Ne),Qe.pending=Ne}}H.lanes|=x,Ne=H.alternate,Ne!==null&&(Ne.lanes|=x),Uo(H.return,x,m),Ce.lanes|=x;break}Ne=Ne.next}}else if(H.tag===10)le=H.type===m.type?null:H.child;else if(H.tag===18){if(le=H.return,le===null)throw Error(n(341));le.lanes|=x,Ce=le.alternate,Ce!==null&&(Ce.lanes|=x),Uo(le,x,m),le=H.sibling}else le=H.child;if(le!==null)le.return=H;else for(le=H;le!==null;){if(le===m){le=null;break}if(H=le.sibling,H!==null){H.return=le.return,le=H;break}le=le.return}H=le}xo(d,m,$.children,x),m=m.child}return m;case 9:return $=m.type,L=m.pendingProps.children,Ar(m,x),$=Gr($),L=L($),m.flags|=1,xo(d,m,L,x),m.child;case 14:return L=m.type,$=Vl(L,m.pendingProps),$=Vl(L.type,$),Q4(d,m,L,$,x);case 15:return Z4(d,m,m.type,m.pendingProps,x);case 17:return L=m.type,$=m.pendingProps,$=m.elementType===L?$:Vl(L,$),qy(d,m),m.tag=1,Os(L)?(d=!0,Iu(m)):d=!1,Ar(m,x),q4(m,L,$),f5(m,L,$,x),g5(null,m,L,!0,d,x);case 19:return aP(d,m,x);case 22:return eP(d,m,x)}throw Error(n(156,m.tag))};function LP(d,m){return aa(d,m)}function lH(d,m,x,L){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function el(d,m,x,L){return new lH(d,m,x,L)}function O5(d){return d=d.prototype,!(!d||!d.isReactComponent)}function cH(d){if(typeof d=="function")return O5(d)?1:0;if(d!=null){if(d=d.$$typeof,d===M)return 11;if(d===Z)return 14}return 2}function Kd(d,m){var x=d.alternate;return x===null?(x=el(d.tag,m,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=m,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,m=d.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function t1(d,m,x,L,$,H){var le=2;if(L=d,typeof d=="function")O5(d)&&(le=1);else if(typeof d=="string")le=5;else e:switch(d){case R:return Sh(x.children,$,H,m);case S:le=8,$|=8;break;case k:return d=el(12,x,m,$|2),d.elementType=k,d.lanes=H,d;case O:return d=el(13,x,m,$),d.elementType=O,d.lanes=H,d;case q:return d=el(19,x,m,$),d.elementType=q,d.lanes=H,d;case ee:return n1(x,$,H,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case P:le=10;break e;case N:le=9;break e;case M:le=11;break e;case Z:le=14;break e;case ne:le=16,L=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=el(le,x,m,$),m.elementType=d,m.type=L,m.lanes=H,m}function Sh(d,m,x,L){return d=el(7,d,L,m),d.lanes=x,d}function n1(d,m,x,L){return d=el(22,d,L,m),d.elementType=ee,d.lanes=x,d.stateNode={isHidden:!1},d}function F5(d,m,x){return d=el(6,d,null,m),d.lanes=x,d}function j5(d,m,x){return m=el(4,d.children!==null?d.children:[],d.key,m),m.lanes=x,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function uH(d,m,x,L,$){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=L,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function B5(d,m,x,L,$,H,le,Ce,Ne){return d=new uH(d,m,x,Ce,Ne),m===1?(m=1,H===!0&&(m|=8)):m=0,H=el(3,null,null,m),d.current=H,H.stateNode=d,H.memoizedState={element:L,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(H),d}function dH(d,m,x){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:L==null?null:""+L,children:d,containerInfo:m,implementation:x}}function IP(d){if(!d)return Tc;d=d._reactInternals;e:{if(jr(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Os(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var x=d.type;if(Os(x))return jg(d,x,m)}return m}function DP(d,m,x,L,$,H,le,Ce,Ne){return d=B5(x,L,!0,d,$,H,le,Ce,Ne),d.context=IP(null),x=d.current,L=bo(),$=Wd(x),H=qo(L,$),H.callback=m??null,Ho(x,H,$),d.current.lanes=$,ca(d,$,L),Yo(d,L),d}function r1(d,m,x,L){var $=m.current,H=bo(),le=Wd($);return x=IP(x),m.context===null?m.context=x:m.pendingContext=x,m=qo(H,le),m.payload={element:d},L=L===void 0?null:L,L!==null&&(m.callback=L),d=Ho($,m,le),d!==null&&(Ul(d,$,le,H),Du(d,$,le)),le}function i1(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function RP(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<m?x:m}}function V5(d,m){RP(d,m),(d=d.alternate)&&RP(d,m)}function fH(){return null}var MP=typeof reportError=="function"?reportError:function(d){console.error(d)};function $5(d){this._internalRoot=d}s1.prototype.render=$5.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));r1(d,m,null,null)},s1.prototype.unmount=$5.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;bh(function(){r1(null,d,null,null)}),m[qi]=null}};function s1(d){this._internalRoot=d}s1.prototype.unstable_scheduleHydration=function(d){if(d){var m=Mo();d={blockedOn:null,target:d,priority:m};for(var x=0;x<Oo.length&&m!==0&&m<Oo[x].priority;x++);Oo.splice(x,0,d),x===0&&vc(d)}};function z5(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function o1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function OP(){}function hH(d,m,x,L,$){if($){if(typeof L=="function"){var H=L;L=function(){var Qe=i1(le);H.call(Qe)}}var le=DP(m,L,d,0,null,!1,!1,"",OP);return d._reactRootContainer=le,d[qi]=le.current,Tu(d.nodeType===8?d.parentNode:d),bh(),le}for(;$=d.lastChild;)d.removeChild($);if(typeof L=="function"){var Ce=L;L=function(){var Qe=i1(Ne);Ce.call(Qe)}}var Ne=B5(d,0,!1,null,null,!1,!1,"",OP);return d._reactRootContainer=Ne,d[qi]=Ne.current,Tu(d.nodeType===8?d.parentNode:d),bh(function(){r1(m,Ne,x,L)}),Ne}function a1(d,m,x,L,$){var H=x._reactRootContainer;if(H){var le=H;if(typeof $=="function"){var Ce=$;$=function(){var Ne=i1(le);Ce.call(Ne)}}r1(m,le,d,$)}else le=hH(x,m,d,$,L);return i1(le)}vd=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var x=Ma(m.pendingLanes);x!==0&&(ua(m,x|1),Yo(m,ir()),(qn&6)===0&&(Gp=ir()+500,G()))}break;case 13:bh(function(){var L=Yn(d,1);if(L!==null){var $=bo();Ul(L,d,1,$)}}),V5(d,1)}},mc=function(d){if(d.tag===13){var m=Yn(d,134217728);if(m!==null){var x=bo();Ul(m,d,134217728,x)}V5(d,134217728)}},yd=function(d){if(d.tag===13){var m=Wd(d),x=Yn(d,m);if(x!==null){var L=bo();Ul(x,d,m,L)}V5(d,m)}},Mo=function(){return wn},wl=function(d,m){var x=wn;try{return wn=d,m()}finally{wn=x}},_n=function(d,m,x){switch(m){case"input":if(Je(d,x),m=x.name,x.type==="radio"&&m!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var L=x[m];if(L!==d&&L.form===d.form){var $=ph(L);if(!$)throw Error(n(90));Be(L),Je(L,$)}}}break;case"textarea":ke(d,x);break;case"select":m=x.value,m!=null&&We(d,!!x.multiple,m,!1)}},Fn=D5,hn=bh;var pH={usingClientEntryPoint:!1,Events:[Md,Nu,ph,St,Ht,D5]},Xg={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mH={bundleType:Xg.bundleType,version:Xg.version,rendererPackageName:Xg.rendererPackageName,rendererConfig:Xg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=sa(d),d===null?null:d.stateNode},findFiberByHostInstance:Xg.findFiberByHostInstance||fH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l1.isDisabled&&l1.supportsFiber)try{Da=l1.inject(mH),ls=l1}catch{}}return Xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pH,Xo.createPortal=function(d,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z5(m))throw Error(n(200));return dH(d,m,null,x)},Xo.createRoot=function(d,m){if(!z5(d))throw Error(n(299));var x=!1,L="",$=MP;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),m=B5(d,1,!1,null,null,x,!1,L,$),d[qi]=m.current,Tu(d.nodeType===8?d.parentNode:d),new $5(m)},Xo.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=sa(m),d=d===null?null:d.stateNode,d},Xo.flushSync=function(d){return bh(d)},Xo.hydrate=function(d,m,x){if(!o1(m))throw Error(n(200));return a1(null,d,m,!0,x)},Xo.hydrateRoot=function(d,m,x){if(!z5(d))throw Error(n(405));var L=x!=null&&x.hydratedSources||null,$=!1,H="",le=MP;if(x!=null&&(x.unstable_strictMode===!0&&($=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(le=x.onRecoverableError)),m=DP(m,null,d,1,x??null,$,!1,H,le),d[qi]=m.current,Tu(d),L)for(d=0;d<L.length;d++)x=L[d],$=x._getVersion,$=$(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,$]:m.mutableSourceEagerHydrationData.push(x,$);return new s1(m)},Xo.render=function(d,m,x){if(!o1(m))throw Error(n(200));return a1(null,d,m,!1,x)},Xo.unmountComponentAtNode=function(d){if(!o1(d))throw Error(n(40));return d._reactRootContainer?(bh(function(){a1(null,null,d,!1,function(){d._reactRootContainer=null,d[qi]=null})}),!0):!1},Xo.unstable_batchedUpdates=D5,Xo.unstable_renderSubtreeIntoContainer=function(d,m,x,L){if(!o1(x))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return a1(d,m,x,!1,L)},Xo.version="18.3.1-next-f1338f8080-20240426",Xo}var qP;function o8(){if(qP)return W5.exports;qP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),W5.exports=_H(),W5.exports}var HP;function TH(){if(HP)return c1;HP=1;var t=o8();return c1.createRoot=t.createRoot,c1.hydrateRoot=t.hydrateRoot,c1}var kH=TH();const PH=uu(kH);var Qg={},WP;function NH(){if(WP)return Qg;WP=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.parse=o,Qg.serialize=c;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const g=new s,v=h.length;if(v<2)return g;const y=(p==null?void 0:p.decode)||u;let w=0;do{const E=h.indexOf("=",w);if(E===-1)break;const T=h.indexOf(";",w),I=T===-1?v:T;if(E>I){w=h.lastIndexOf(";",E-1)+1;continue}const F=a(h,w,E),B=l(h,E,F),R=h.slice(F,B);if(g[R]===void 0){let S=a(h,E+1,I),k=l(h,I,S);const P=y(h.slice(S,k));g[R]=P}w=I+1}while(w<v);return g}function a(h,p,g){do{const v=h.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<g);return g}function l(h,p,g){for(;p>g;){const v=h.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return g}function c(h,p,g){const v=(g==null?void 0:g.encode)||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const y=v(p);if(!e.test(y))throw new TypeError(`argument val is invalid: ${p}`);let w=h+"="+y;if(!g)return w;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);w+="; Max-Age="+g.maxAge}if(g.domain){if(!n.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);w+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);w+="; Path="+g.path}if(g.expires){if(!f(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);w+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(w+="; HttpOnly"),g.secure&&(w+="; Secure"),g.partitioned&&(w+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return w}function u(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function f(h){return i.call(h)==="[object Date]"}return Qg}NH();var GP="popstate";function LH(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return hC("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nv(i)}return DH(e,n,null,t)}function Or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IH(){return Math.random().toString(36).substring(2,10)}function KP(t,e){return{usr:t.state,key:t.key,idx:e}}function hC(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fg(e):e,state:n,key:e&&e.key||r||IH()}}function nv({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function DH(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let y=u(),w=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:w})}function h(y,w){a="PUSH";let E=hC(v.location,y,w);c=u()+1;let T=KP(E,c),I=v.createHref(E);try{o.pushState(T,"",I)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(I)}s&&l&&l({action:a,location:v.location,delta:1})}function p(y,w){a="REPLACE";let E=hC(v.location,y,w);c=u();let T=KP(E,c),I=v.createHref(E);o.replaceState(T,"",I),s&&l&&l({action:a,location:v.location,delta:0})}function g(y){return RH(y)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(GP,f),l=y,()=>{i.removeEventListener(GP,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(y){return o.go(y)}};return v}function RH(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Or(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nv(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function a8(t,e,n="/"){return MH(t,e,n,!1)}function MH(t,e,n,r){let i=typeof e=="string"?fg(e):e,s=id(i.pathname||"/",n);if(s==null)return null;let o=l8(t);OH(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=GH(s);a=HH(o[l],c,r)}return a}function l8(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Or(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Qu([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Or(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),l8(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:UH(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of c8(s.path))i(s,o,l)}),e}function c8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=c8(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function OH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var FH=/^:[\w-]+$/,jH=3,BH=2,VH=1,$H=10,zH=-2,YP=t=>t==="*";function UH(t,e){let n=t.split("/"),r=n.length;return n.some(YP)&&(r+=zH),e&&(r+=BH),n.filter(i=>!YP(i)).reduce((i,s)=>i+(FH.test(s)?jH:s===""?VH:$H),r)}function qH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function HH(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=ub({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Qu([s,f.pathname]),pathnameBase:JH(Qu([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Qu([s,f.pathnameBase]))}return o}function ub(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function WH(t,e=!1,n=!0){tc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tc(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function id(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function KH(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fg(t):t;return{pathname:n?n.startsWith("/")?n:YH(n,e):e,search:QH(r),hash:ZH(i)}}function YH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Y5(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I_(t){let e=XH(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function D_(t,e,n,r=!1){let i;typeof t=="string"?i=fg(t):(i={...t},Or(!i.pathname||!i.pathname.includes("?"),Y5("?","pathname","search",i)),Or(!i.pathname||!i.pathname.includes("#"),Y5("#","pathname","hash",i)),Or(!i.search||!i.search.includes("#"),Y5("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=KH(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Qu=t=>t.join("/").replace(/\/\/+/g,"/"),JH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u8=["POST","PUT","PATCH","DELETE"];new Set(u8);var tW=["GET",...u8];new Set(tW);var hg=b.createContext(null);hg.displayName="DataRouter";var I2=b.createContext(null);I2.displayName="DataRouterState";var d8=b.createContext({isTransitioning:!1});d8.displayName="ViewTransition";var nW=b.createContext(new Map);nW.displayName="Fetchers";var rW=b.createContext(null);rW.displayName="Await";var lc=b.createContext(null);lc.displayName="Navigation";var Gv=b.createContext(null);Gv.displayName="Location";var ml=b.createContext({outlet:null,matches:[],isDataRoute:!1});ml.displayName="Route";var R_=b.createContext(null);R_.displayName="RouteError";function iW(t,{relative:e}={}){Or(pg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(lc),{hash:i,pathname:s,search:o}=Kv(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Qu([n,s])),r.createHref({pathname:a,search:o,hash:i})}function pg(){return b.useContext(Gv)!=null}function gl(){return Or(pg(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Gv).location}var f8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h8(t){b.useContext(lc).static||b.useLayoutEffect(t)}function cc(){let{isDataRoute:t}=b.useContext(ml);return t?xW():sW()}function sW(){Or(pg(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(hg),{basename:e,navigator:n}=b.useContext(lc),{matches:r}=b.useContext(ml),{pathname:i}=gl(),s=JSON.stringify(I_(r)),o=b.useRef(!1);return h8(()=>{o.current=!0}),b.useCallback((l,c={})=>{if(tc(o.current,f8),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=D_(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Qu([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}var oW=b.createContext(null);function aW(t){let e=b.useContext(ml).outlet;return e&&b.createElement(oW.Provider,{value:t},e)}function M_(){let{matches:t}=b.useContext(ml),e=t[t.length-1];return e?e.params:{}}function Kv(t,{relative:e}={}){let{matches:n}=b.useContext(ml),{pathname:r}=gl(),i=JSON.stringify(I_(n));return b.useMemo(()=>D_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lW(t,e){return p8(t,e)}function p8(t,e,n,r){var E;Or(pg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=b.useContext(lc),{matches:o}=b.useContext(ml),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let T=f&&f.path||"";m8(c,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let h=gl(),p;if(e){let T=typeof e=="string"?fg(e):e;Or(u==="/"||((E=T.pathname)==null?void 0:E.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${T.pathname}" was given in the \`location\` prop.`),p=T}else p=h;let g=p.pathname||"/",v=g;if(u!=="/"){let T=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=!s&&n&&n.matches&&n.matches.length>0?n.matches:a8(t,{pathname:v});tc(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),tc(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=hW(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Qu([u,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Qu([u,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,n,r);return e&&w?b.createElement(Gv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function cW(){let t=yW(),e=eW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,o)}var uW=b.createElement(cW,null),dW=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(ml.Provider,{value:this.props.routeContext},b.createElement(R_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fW({routeContext:t,match:e,children:n}){let r=b.useContext(hg);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(ml.Provider,{value:t},n)}function hW(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Or(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,g=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||uW,o&&(a<0&&u===0?(m8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,g=null):a===u&&(h=!0,g=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,u+1)),y=()=>{let w;return f?w=p:h?w=g:c.route.Component?w=b.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=l,b.createElement(fW,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?b.createElement(dW,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}function O_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pW(t){let e=b.useContext(hg);return Or(e,O_(t)),e}function mW(t){let e=b.useContext(I2);return Or(e,O_(t)),e}function gW(t){let e=b.useContext(ml);return Or(e,O_(t)),e}function F_(t){let e=gW(t),n=e.matches[e.matches.length-1];return Or(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function vW(){return F_("useRouteId")}function yW(){var r;let t=b.useContext(R_),e=mW("useRouteError"),n=F_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function xW(){let{router:t}=pW("useNavigate"),e=F_("useNavigate"),n=b.useRef(!1);return h8(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{tc(n.current,f8),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var XP={};function m8(t,e,n){!e&&!XP[t]&&(XP[t]=!0,tc(!1,n))}b.memo(bW);function bW({routes:t,future:e,state:n}){return p8(t,void 0,n,e)}function db({to:t,replace:e,state:n,relative:r}){Or(pg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(lc);tc(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(ml),{pathname:o}=gl(),a=cc(),l=D_(t,I_(s),o,r==="path"),c=JSON.stringify(l);return b.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function wW(t){return aW(t.context)}function Tr(t){Or(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EW({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Or(!pg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=fg(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=b.useMemo(()=>{let g=id(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:h},navigationType:r}},[o,l,c,u,f,h,r]);return tc(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:b.createElement(lc.Provider,{value:a},b.createElement(Gv.Provider,{children:e,value:p}))}function g8({children:t,location:e}){return lW(pC(t),e)}function pC(t,e=[]){let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,pC(r.props.children,s));return}Or(r.type===Tr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Or(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pC(r.props.children,s)),n.push(o)}),n}var Y1="get",X1="application/x-www-form-urlencoded";function D2(t){return t!=null&&typeof t.tagName=="string"}function SW(t){return D2(t)&&t.tagName.toLowerCase()==="button"}function CW(t){return D2(t)&&t.tagName.toLowerCase()==="form"}function AW(t){return D2(t)&&t.tagName.toLowerCase()==="input"}function _W(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TW(t,e){return t.button===0&&(!e||e==="_self")&&!_W(t)}var u1=null;function kW(){if(u1===null)try{new FormData(document.createElement("form"),0),u1=!1}catch{u1=!0}return u1}var PW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function X5(t){return t!=null&&!PW.has(t)?(tc(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${X1}"`),null):t}function NW(t,e){let n,r,i,s,o;if(CW(t)){let a=t.getAttribute("action");r=a?id(a,e):null,n=t.getAttribute("method")||Y1,i=X5(t.getAttribute("enctype"))||X1,s=new FormData(t)}else if(SW(t)||AW(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?id(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Y1,i=X5(t.getAttribute("formenctype"))||X5(a.getAttribute("enctype"))||X1,s=new FormData(a,t),!kW()){let{name:c,type:u,value:f}=t;if(u==="image"){let h=c?`${c}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else c&&s.append(c,f)}}else{if(D2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Y1,r=null,i=X1,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function j_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LW(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IW(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DW(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await LW(s,n);return o.links?o.links():[]}return[]}));return FW(r.flat(1).filter(IW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function JP(t,e,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function RW(t,e,{includeHydrateFallback:n}={}){return MW(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MW(t){return[...new Set(t)]}function OW(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function FW(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(OW(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jW=new Set([100,101,204,205]);function BW(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&id(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function v8(){let t=b.useContext(hg);return j_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function VW(){let t=b.useContext(I2);return j_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var B_=b.createContext(void 0);B_.displayName="FrameworkContext";function y8(){let t=b.useContext(B_);return j_(t,"You must render this element inside a <HydratedRouter> element"),t}function $W(t,e){let n=b.useContext(B_),[r,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,h=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=w=>{w.forEach(E=>{o(E.isIntersecting)})},y=new IntersectionObserver(v,{threshold:.5});return h.current&&y.observe(h.current),()=>{y.disconnect()}}},[t]),b.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Zg(a,p),onBlur:Zg(l,g),onMouseEnter:Zg(c,p),onMouseLeave:Zg(u,g),onTouchStart:Zg(f,p)}]:[!1,h,{}]}function Zg(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zW({page:t,...e}){let{router:n}=v8(),r=b.useMemo(()=>a8(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?b.createElement(qW,{page:t,matches:r,...e}):null}function UW(t){let{manifest:e,routeModules:n}=y8(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return DW(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function qW({page:t,matches:e,...n}){let r=gl(),{manifest:i,routeModules:s}=y8(),{basename:o}=v8(),{loaderData:a,matches:l}=VW(),c=b.useMemo(()=>JP(t,e,l,i,r,"data"),[t,e,l,i,r]),u=b.useMemo(()=>JP(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=b.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(w=>{var T;let E=i.routes[w.route.id];!E||!E.hasLoader||(!c.some(I=>I.route.id===w.route.id)&&w.route.id in a&&((T=s[w.route.id])!=null&&T.shouldRevalidate)||E.hasClientLoader?v=!0:g.add(w.route.id))}),g.size===0)return[];let y=BW(t,o);return v&&g.size>0&&y.searchParams.set("_routes",e.filter(w=>g.has(w.route.id)).map(w=>w.route.id).join(",")),[y.pathname+y.search]},[o,a,r,i,c,e,t,s]),h=b.useMemo(()=>RW(u,i),[u,i]),p=UW(u);return b.createElement(b.Fragment,null,f.map(g=>b.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),h.map(g=>b.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:v})=>b.createElement("link",{key:g,...v})))}function HW(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var x8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x8&&(window.__reactRouterVersion="7.6.0")}catch{}function WW({basename:t,children:e,window:n}){let r=b.useRef();r.current==null&&(r.current=LH({window:n,v5Compat:!0}));let i=r.current,[s,o]=b.useState({action:i.action,location:i.location}),a=b.useCallback(l=>{b.startTransition(()=>o(l))},[o]);return b.useLayoutEffect(()=>i.listen(a),[i,a]),b.createElement(EW,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var b8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zt=b.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:g}=b.useContext(lc),v=typeof c=="string"&&b8.test(c),y,w=!1;if(typeof c=="string"&&v&&(y=c,x8))try{let k=new URL(window.location.href),P=c.startsWith("//")?new URL(k.protocol+c):new URL(c),N=id(P.pathname,g);P.origin===k.origin&&N!=null?c=N+P.search+P.hash:w=!0}catch{tc(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=iW(c,{relative:i}),[T,I,F]=$W(r,h),B=XW(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function R(k){e&&e(k),k.defaultPrevented||B(k)}let S=b.createElement("a",{...h,...F,href:y||E,onClick:w||s?e:R,ref:HW(p,I),target:l,"data-discover":!v&&n==="render"?"true":void 0});return T&&!v?b.createElement(b.Fragment,null,S,b.createElement(zW,{page:E})):S});Zt.displayName="Link";var GW=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let f=Kv(o,{relative:c.relative}),h=gl(),p=b.useContext(I2),{navigator:g,basename:v}=b.useContext(lc),y=p!=null&&tG(f)&&a===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,E=h.pathname,T=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&v&&(T=id(T,v)||T);const I=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let F=E===w||!i&&E.startsWith(w)&&E.charAt(I)==="/",B=T!=null&&(T===w||!i&&T.startsWith(w)&&T.charAt(w.length)==="/"),R={isActive:F,isPending:B,isTransitioning:y},S=F?e:void 0,k;typeof r=="function"?k=r(R):k=[r,F?"active":null,B?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(R):s;return b.createElement(Zt,{...c,"aria-current":S,className:k,ref:u,style:P,to:o,viewTransition:a},typeof l=="function"?l(R):l)});GW.displayName="NavLink";var KW=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Y1,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let g=ZW(),v=eG(a,{relative:c}),y=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&b8.test(a),E=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let I=T.nativeEvent.submitter,F=(I==null?void 0:I.getAttribute("formmethod"))||o;g(I||T.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return b.createElement("form",{ref:p,method:y,action:v,onSubmit:r?l:E,...h,"data-discover":!w&&t==="render"?"true":void 0})});KW.displayName="Form";function YW(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w8(t){let e=b.useContext(hg);return Or(e,YW(t)),e}function XW(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=cc(),l=gl(),c=Kv(t,{relative:s});return b.useCallback(u=>{if(TW(u,e)){u.preventDefault();let f=n!==void 0?n:nv(l)===nv(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,e,t,i,s,o])}var JW=0,QW=()=>`__${String(++JW)}__`;function ZW(){let{router:t}=w8("useSubmit"),{basename:e}=b.useContext(lc),n=vW();return b.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=NW(r,e);if(i.navigate===!1){let u=i.fetcherKey||QW();await t.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function eG(t,{relative:e}={}){let{basename:n}=b.useContext(lc),r=b.useContext(ml);Or(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Kv(t||".",{relative:e})},o=gl();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Qu([n,s.pathname])),nv(s)}function tG(t,e={}){let n=b.useContext(d8);Or(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w8("useViewTransitionState"),i=Kv(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=id(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=id(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ub(i.pathname,o)!=null||ub(i.pathname,s)!=null}[...jW];var Ur=o8();const nG=uu(Ur);var J5,QP;function rG(){if(QP)return J5;QP=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var u;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=s.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return J5=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},J5}var iG=rG();const sG=uu(iG);var Q5,ZP;function oG(){if(ZP)return Q5;ZP=1;var t=function(e,n,r,i,s,o,a,l){if(!e){var c;if(n===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,s,o,a,l],f=0;c=new Error(n.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return Q5=t,Q5}var aG=oG();const eN=uu(aG);var Z5,tN;function lG(){return tN||(tN=1,Z5=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var f=e[u],h=n[u];if(s=r?r.call(i,f,h,u):void 0,s===!1||s===void 0&&f!==h)return!1}return!0}),Z5}var cG=lG();const uG=uu(cG);var E8=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(E8||{}),eE={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},nN=Object.values(E8),V_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},dG=Object.entries(V_).reduce((t,[e,n])=>(t[n]=e,t),{}),Zl="data-rh",Am={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},_m=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},fG=t=>{let e=_m(t,"title");const n=_m(t,Am.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=_m(t,Am.DEFAULT_TITLE);return e||r||void 0},hG=t=>_m(t,Am.ON_CHANGE_CLIENT_STATE)||(()=>{}),tE=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),pG=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),mG=t=>console&&typeof console.warn=="function"&&console.warn(t),e0=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&mG(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const u=Object.keys(l);for(let h=0;h<u.length;h+=1){const p=u[h],g=p.toLowerCase();e.indexOf(g)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(g==="rel"&&l[g].toLowerCase()==="stylesheet")&&(c=g),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][f]?!1:(o[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...o[c]};r[c]=u}return i},[]).reverse()},gG=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},vG=t=>({baseTag:pG(["href"],t),bodyAttributes:tE("bodyAttributes",t),defer:_m(t,Am.DEFER),encode:_m(t,Am.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:tE("htmlAttributes",t),linkTags:e0("link",["rel","href"],t),metaTags:e0("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:e0("noscript",["innerHTML"],t),onChangeClientState:hG(t),scriptTags:e0("script",["src","innerHTML"],t),styleTags:e0("style",["cssText"],t),title:fG(t),titleAttributes:tE("titleAttributes",t),prioritizeSeoTags:gG(t,Am.PRIORITIZE_SEO_TAGS)}),S8=t=>Array.isArray(t)?t.join(""):t,yG=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},nE=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(yG(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},rN=(t,e)=>({...t,[e]:void 0}),xG=["noscript","script","style"],mC=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),C8=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),bG=(t,e,n,r)=>{const i=C8(n),s=S8(e);return i?`<${t} ${Zl}="true" ${i}>${mC(s,r)}</${t}>`:`<${t} ${Zl}="true">${mC(s,r)}</${t}>`},wG=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const f=typeof s[u]>"u"?u:`${u}="${mC(s[u],n)}"`;return c?`${c} ${f}`:f},""),a=s.innerHTML||s.cssText||"",l=xG.indexOf(t)===-1;return`${r}<${t} ${Zl}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),A8=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=V_[r];return n[i||r]=t[r],n},e),EG=(t,e,n)=>{const r={key:e,[Zl]:!0},i=A8(n,r);return[Me.createElement("title",i,e)]},J1=(t,e)=>e.map((n,r)=>{const i={key:r,[Zl]:!0};return Object.keys(n).forEach(s=>{const a=V_[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),Me.createElement(t,i)}),sl=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>EG(t,e.title,e.titleAttributes),toString:()=>bG(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>A8(e),toString:()=>C8(e)};default:return{toComponent:()=>J1(t,e),toString:()=>wG(t,e,n)}}},SG=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=nE(t,eE.meta),s=nE(e,eE.link),o=nE(n,eE.script);return{priorityMethods:{toComponent:()=>[...J1("meta",i.priority),...J1("link",s.priority),...J1("script",o.priority)],toString:()=>`${sl("meta",i.priority,r)} ${sl("link",s.priority,r)} ${sl("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},CG=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:u,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:f,scriptTags:h}=SG(t)),{priority:p,base:sl("base",e,r),bodyAttributes:sl("bodyAttributes",n,r),htmlAttributes:sl("htmlAttributes",i,r),link:sl("link",u,r),meta:sl("meta",f,r),noscript:sl("noscript",s,r),script:sl("script",h,r),style:sl("style",o,r),title:sl("title",{title:a,titleAttributes:l},r)}},gC=CG,d1=[],_8=!!(typeof window<"u"&&window.document&&window.document.createElement),vC=class{constructor(t,e){ju(this,"instances",[]);ju(this,"canUseDOM",_8);ju(this,"context");ju(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?d1:this.instances,add:t=>{(this.canUseDOM?d1:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?d1:this.instances).indexOf(t);(this.canUseDOM?d1:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=gC({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},AG={},T8=Me.createContext(AG),Hh,k8=(Hh=class extends b.Component{constructor(n){super(n);ju(this,"helmetData");this.helmetData=new vC(this.props.context||{},Hh.canUseDOM)}render(){return Me.createElement(T8.Provider,{value:this.helmetData.value},this.props.children)}},ju(Hh,"canUseDOM",_8),Hh),Yp=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Zl}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,f=typeof a[u]>"u"?"":a[u];l.setAttribute(c,f)}l.setAttribute(Zl,"true"),i.some((c,u)=>(o=u,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},yC=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Zl),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(Zl):n.getAttribute(Zl)!==o.join(",")&&n.setAttribute(Zl,o.join(","))},_G=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=S8(t)),yC("title",e)},iN=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:f,titleAttributes:h}=t;yC("body",r),yC("html",i),_G(f,h);const p={baseTag:Yp("base",n),linkTags:Yp("link",s),metaTags:Yp("meta",o),noscriptTags:Yp("noscript",a),scriptTags:Yp("script",c),styleTags:Yp("style",u)},g={},v={};Object.keys(p).forEach(y=>{const{newTags:w,oldTags:E}=p[y];w.length&&(g[y]=w),E.length&&(v[y]=p[y].oldTags)}),e&&e(),l(t,g,v)},t0=null,TG=t=>{t0&&cancelAnimationFrame(t0),t.defer?t0=requestAnimationFrame(()=>{iN(t,()=>{t0=null})}):(iN(t),t0=null)},kG=TG,sN=class extends b.Component{constructor(){super(...arguments);ju(this,"rendered",!1)}shouldComponentUpdate(e){return!uG(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=vG(e.get().map(s=>{const o={...s.props};return delete o.context,o}));k8.canUseDOM?kG(i):gC&&(r=gC(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},dC,$_=(dC=class extends b.Component{shouldComponentUpdate(t){return!sG(rN(this.props,"helmetData"),rN(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return eN(nN.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${nN.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),eN(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Me.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[dG[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof vC)){const i=r;r=new vC(i.context,!0),delete n.helmetData}return r?Me.createElement(sN,{...n,context:r.value}):Me.createElement(T8.Consumer,null,i=>Me.createElement(sN,{...n,context:i}))}},ju(dC,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),dC);let PG={data:""},NG=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PG,LG=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,IG=/\/\*[^]*?\*\/|  +/g,oN=/\n+/g,cf=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?cf(o,s):s+"{"+cf(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=cf(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=cf.p?cf.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Bu={},P8=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+P8(t[n]);return e}return t},DG=(t,e,n,r,i)=>{let s=P8(t),o=Bu[s]||(Bu[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Bu[o]){let l=s!==t?t:(c=>{let u,f,h=[{}];for(;u=LG.exec(c.replace(IG,""));)u[4]?h.shift():u[3]?(f=u[3].replace(oN," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(oN," ").trim();return h[0]})(t);Bu[o]=cf(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Bu.g?Bu.g:null;return n&&(Bu.g=Bu[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Bu[o],e,r,a),o},RG=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":cf(a,""):a===!1?"":a}return r+i+(o??"")},"");function R2(t){let e=this||{},n=t.call?t(e.p):t;return DG(n.unshift?n.raw?RG(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,NG(e.target),e.g,e.o,e.k)}let N8,xC,bC;R2.bind({g:1});let sd=R2.bind({k:1});function MG(t,e,n,r){cf.p=e,N8=t,xC=n,bC=r}function Kf(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:xC&&xC()},a),n.o=/ *go\d+/.test(l),a.className=R2.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),bC&&c[0]&&bC(a),N8(c,a)}return i}}var OG=t=>typeof t=="function",fb=(t,e)=>OG(t)?t(e):t,FG=(()=>{let t=0;return()=>(++t).toString()})(),L8=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jG=20,I8=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,jG)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return I8(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Q1=[],Dh={toasts:[],pausedAt:void 0},mp=t=>{Dh=I8(Dh,t),Q1.forEach(e=>{e(Dh)})},BG={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},VG=(t={})=>{let[e,n]=b.useState(Dh),r=b.useRef(Dh);b.useEffect(()=>(r.current!==Dh&&n(Dh),Q1.push(n),()=>{let s=Q1.indexOf(n);s>-1&&Q1.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||BG[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},$G=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||FG()}),Yv=t=>(e,n)=>{let r=$G(e,t,n);return mp({type:2,toast:r}),r.id},oi=(t,e)=>Yv("blank")(t,e);oi.error=Yv("error");oi.success=Yv("success");oi.loading=Yv("loading");oi.custom=Yv("custom");oi.dismiss=t=>{mp({type:3,toastId:t})};oi.remove=t=>mp({type:4,toastId:t});oi.promise=(t,e,n)=>{let r=oi.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?fb(e.success,i):void 0;return s?oi.success(s,{id:r,...n,...n==null?void 0:n.success}):oi.dismiss(r),i}).catch(i=>{let s=e.error?fb(e.error,i):void 0;s?oi.error(s,{id:r,...n,...n==null?void 0:n.error}):oi.dismiss(r)}),t};var zG=(t,e)=>{mp({type:1,toast:{id:t,height:e}})},UG=()=>{mp({type:5,time:Date.now()})},L0=new Map,qG=1e3,HG=(t,e=qG)=>{if(L0.has(t))return;let n=setTimeout(()=>{L0.delete(t),mp({type:4,toastId:t})},e);L0.set(t,n)},WG=t=>{let{toasts:e,pausedAt:n}=VG(t);b.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&oi.dismiss(a.id);return}return setTimeout(()=>oi.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=b.useCallback(()=>{n&&mp({type:6,time:Date.now()})},[n]),i=b.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),f=u.findIndex(p=>p.id===s.id),h=u.filter((p,g)=>g<f&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[h+1]:[0,h]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return b.useEffect(()=>{e.forEach(s=>{if(s.dismissed)HG(s.id,s.removeDelay);else{let o=L0.get(s.id);o&&(clearTimeout(o),L0.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:zG,startPause:UG,endPause:r,calculateOffset:i}}},GG=sd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KG=sd`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YG=sd`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XG=Kf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KG} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YG} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JG=sd`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,QG=Kf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JG} 1s linear infinite;
`,ZG=sd`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eK=sd`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tK=Kf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ZG} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nK=Kf("div")`
  position: absolute;
`,rK=Kf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,iK=sd`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sK=Kf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${iK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,oK=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(sK,null,e):e:n==="blank"?null:b.createElement(rK,null,b.createElement(QG,{...r}),n!=="loading"&&b.createElement(nK,null,n==="error"?b.createElement(XG,{...r}):b.createElement(tK,{...r})))},aK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,cK="0%{opacity:0;} 100%{opacity:1;}",uK="0%{opacity:1;} 100%{opacity:0;}",dK=Kf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fK=Kf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hK=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=L8()?[cK,uK]:[aK(n),lK(n)];return{animation:e?`${sd(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sd(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},pK=b.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?hK(t.position||e||"top-center",t.visible):{opacity:0},s=b.createElement(oK,{toast:t}),o=b.createElement(fK,{...t.ariaProps},fb(t.message,t));return b.createElement(dK,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):b.createElement(b.Fragment,null,s,o))});MG(b.createElement);var mK=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=b.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:s,className:e,style:n},i)},gK=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:L8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},vK=R2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,f1=16,yK=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=WG(n);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:f1,left:f1,right:f1,bottom:f1,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=gK(u,f);return b.createElement(mK,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?vK:"",style:h},c.type==="custom"?fb(c.message,c):i?i(c):b.createElement(pK,{toast:c,position:u}))}))};const D8=b.createContext(void 0),xK=({children:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(()=>()=>{}),[s,o]=b.useState(!1),a=u=>(n(u),o(!0),new Promise(f=>{i(()=>f)})),l=()=>{r(!0),o(!1),n(null)},c=()=>{r(!1),o(!1),n(null)};return A.jsxs(D8.Provider,{value:{confirm:a},children:[t,s&&e&&A.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded p-6 max-w-sm shadow-lg text-center",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:e.title}),A.jsx("p",{className:"text-sm text-gray-600 mb-4",children:typeof e.description=="string"?e.description:JSON.stringify(e.description)}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-200 rounded",children:e.cancelText||"Cancelar"}),A.jsx("button",{onClick:l,className:`px-4 py-2 rounded text-white ${e.variant==="danger"?"bg-red-600 hover:bg-red-700":"bg-black"}`,children:e.confirmText||"Aceptar"})]})]})})]})},bK=()=>{const t=b.useContext(D8);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t.confirm},R8=b.createContext({language:"es",setLanguage:()=>{}}),wK=({children:t})=>{const[e,n]=b.useState("es");b.useEffect(()=>{const i=localStorage.getItem("language");i&&n(i)},[]);const r=i=>{localStorage.setItem("language",i),n(i)};return A.jsx(R8.Provider,{value:{language:e,setLanguage:r},children:t})};var Z1={exports:{}};function EK(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ex={exports:{}};const SK={},CK=Object.freeze(Object.defineProperty({__proto__:null,default:SK},Symbol.toStringTag,{value:"Module"})),AK=bH(CK);var _K=ex.exports,aN;function On(){return aN||(aN=1,function(t,e){(function(n,r){t.exports=r()})(_K,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof U5<"u"&&U5.crypto&&(s=U5.crypto),!s&&typeof EK=="function")try{s=AK}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function E(){}return function(T){var I;return E.prototype=T,I=new E,E.prototype=null,I}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(E){var T=a(this);return E&&T.mixIn(E),(!T.hasOwnProperty("init")||this.init===T.init)&&(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var T in E)E.hasOwnProperty(T)&&(this[T]=E[T]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=u.extend({init:function(E,T){E=this.words=E||[],T!=i?this.sigBytes=T:this.sigBytes=E.length*4},toString:function(E){return(E||p).stringify(this)},concat:function(E){var T=this.words,I=E.words,F=this.sigBytes,B=E.sigBytes;if(this.clamp(),F%4)for(var R=0;R<B;R++){var S=I[R>>>2]>>>24-R%4*8&255;T[F+R>>>2]|=S<<24-(F+R)%4*8}else for(var k=0;k<B;k+=4)T[F+k>>>2]=I[k>>>2];return this.sigBytes+=B,this},clamp:function(){var E=this.words,T=this.sigBytes;E[T>>>2]&=4294967295<<32-T%4*8,E.length=r.ceil(T/4)},clone:function(){var E=u.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var T=[],I=0;I<E;I+=4)T.push(o());return new f.init(T,E)}}),h=l.enc={},p=h.Hex={stringify:function(E){for(var T=E.words,I=E.sigBytes,F=[],B=0;B<I;B++){var R=T[B>>>2]>>>24-B%4*8&255;F.push((R>>>4).toString(16)),F.push((R&15).toString(16))}return F.join("")},parse:function(E){for(var T=E.length,I=[],F=0;F<T;F+=2)I[F>>>3]|=parseInt(E.substr(F,2),16)<<24-F%8*4;return new f.init(I,T/2)}},g=h.Latin1={stringify:function(E){for(var T=E.words,I=E.sigBytes,F=[],B=0;B<I;B++){var R=T[B>>>2]>>>24-B%4*8&255;F.push(String.fromCharCode(R))}return F.join("")},parse:function(E){for(var T=E.length,I=[],F=0;F<T;F++)I[F>>>2]|=(E.charCodeAt(F)&255)<<24-F%4*8;return new f.init(I,T)}},v=h.Utf8={stringify:function(E){try{return decodeURIComponent(escape(g.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return g.parse(unescape(encodeURIComponent(E)))}},y=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=v.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var T,I=this._data,F=I.words,B=I.sigBytes,R=this.blockSize,S=R*4,k=B/S;E?k=r.ceil(k):k=r.max((k|0)-this._minBufferSize,0);var P=k*R,N=r.min(P*4,B);if(P){for(var M=0;M<P;M+=R)this._doProcessBlock(F,M);T=F.splice(0,P),I.sigBytes-=N}return new f.init(T,N)},clone:function(){var E=u.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});c.Hasher=y.extend({cfg:u.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var T=this._doFinalize();return T},blockSize:16,_createHelper:function(E){return function(T,I){return new E.init(I).finalize(T)}},_createHmacHelper:function(E){return function(T,I){return new w.HMAC.init(E,I).finalize(T)}}});var w=l.algo={};return l}(Math);return n})}(ex)),ex.exports}var tx={exports:{}},TK=tx.exports,lN;function M2(){return lN||(lN=1,function(t,e){(function(n,r){t.exports=r(On())})(TK,function(n){return function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,f=[],h=0;h<u;h++){var p=c[h];f.push(p.high),f.push(p.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return c}})}(),n})}(tx)),tx.exports}var nx={exports:{}},kK=nx.exports,cN;function PK(){return cN||(cN=1,function(t,e){(function(n,r){t.exports=r(On())})(kK,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=l[f]<<24-f%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=s}}(),n.lib.WordArray})}(nx)),nx.exports}var rx={exports:{}},NK=rx.exports,uN;function LK(){return uN||(uN=1,function(t,e){(function(n,r){t.exports=r(On())})(NK,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],h=0;h<u;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return s.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],h=0;h<u;h+=2){var p=a(c[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return s.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(rx)),rx.exports}var ix={exports:{}},IK=ix.exports,dN;function gp(){return dN||(dN=1,function(t,e){(function(n,r){t.exports=r(On())})(IK,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var h=[],p=0;p<u;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,y=c[p+2>>>2]>>>24-(p+2)%4*8&255,w=g<<16|v<<8|y,E=0;E<4&&p+E*.75<u;E++)h.push(f.charAt(w>>>6*(3-E)&63));var T=f.charAt(64);if(T)for(;h.length%4;)h.push(T);return h.join("")},parse:function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(c=g)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],h=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,v=u[l.charCodeAt(p)]>>>6-p%4*2,y=g|v;f[h>>>2]|=y<<24-h%4*8,h++}return s.create(f,h)}}(),n.enc.Base64})}(ix)),ix.exports}var sx={exports:{}},DK=sx.exports,fN;function RK(){return fN||(fN=1,function(t,e){(function(n,r){t.exports=r(On())})(DK,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,h=c?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<f;g+=3)for(var v=u[g>>>2]>>>24-g%4*8&255,y=u[g+1>>>2]>>>24-(g+1)%4*8&255,w=u[g+2>>>2]>>>24-(g+2)%4*8&255,E=v<<16|y<<8|w,T=0;T<4&&g+T*.75<f;T++)p.push(h.charAt(E>>>6*(3-T)&63));var I=h.charAt(64);if(I)for(;p.length%4;)p.push(I);return p.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<f.length;p++)h[f.charCodeAt(p)]=p}var g=f.charAt(64);if(g){var v=l.indexOf(g);v!==-1&&(u=v)}return a(l,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],h=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,v=u[l.charCodeAt(p)]>>>6-p%4*2,y=g|v;f[h>>>2]|=y<<24-h%4*8,h++}return s.create(f,h)}}(),n.enc.Base64url})}(sx)),sx.exports}var ox={exports:{}},MK=ox.exports,hN;function vp(){return hN||(hN=1,function(t,e){(function(n,r){t.exports=r(On())})(MK,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var v=0;v<64;v++)c[v]=r.abs(r.sin(v+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,y){for(var w=0;w<16;w++){var E=y+w,T=v[E];v[E]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var I=this._hash.words,F=v[y+0],B=v[y+1],R=v[y+2],S=v[y+3],k=v[y+4],P=v[y+5],N=v[y+6],M=v[y+7],O=v[y+8],q=v[y+9],Z=v[y+10],ne=v[y+11],ee=v[y+12],Y=v[y+13],oe=v[y+14],se=v[y+15],K=I[0],V=I[1],W=I[2],J=I[3];K=f(K,V,W,J,F,7,c[0]),J=f(J,K,V,W,B,12,c[1]),W=f(W,J,K,V,R,17,c[2]),V=f(V,W,J,K,S,22,c[3]),K=f(K,V,W,J,k,7,c[4]),J=f(J,K,V,W,P,12,c[5]),W=f(W,J,K,V,N,17,c[6]),V=f(V,W,J,K,M,22,c[7]),K=f(K,V,W,J,O,7,c[8]),J=f(J,K,V,W,q,12,c[9]),W=f(W,J,K,V,Z,17,c[10]),V=f(V,W,J,K,ne,22,c[11]),K=f(K,V,W,J,ee,7,c[12]),J=f(J,K,V,W,Y,12,c[13]),W=f(W,J,K,V,oe,17,c[14]),V=f(V,W,J,K,se,22,c[15]),K=h(K,V,W,J,B,5,c[16]),J=h(J,K,V,W,N,9,c[17]),W=h(W,J,K,V,ne,14,c[18]),V=h(V,W,J,K,F,20,c[19]),K=h(K,V,W,J,P,5,c[20]),J=h(J,K,V,W,Z,9,c[21]),W=h(W,J,K,V,se,14,c[22]),V=h(V,W,J,K,k,20,c[23]),K=h(K,V,W,J,q,5,c[24]),J=h(J,K,V,W,oe,9,c[25]),W=h(W,J,K,V,S,14,c[26]),V=h(V,W,J,K,O,20,c[27]),K=h(K,V,W,J,Y,5,c[28]),J=h(J,K,V,W,R,9,c[29]),W=h(W,J,K,V,M,14,c[30]),V=h(V,W,J,K,ee,20,c[31]),K=p(K,V,W,J,P,4,c[32]),J=p(J,K,V,W,O,11,c[33]),W=p(W,J,K,V,ne,16,c[34]),V=p(V,W,J,K,oe,23,c[35]),K=p(K,V,W,J,B,4,c[36]),J=p(J,K,V,W,k,11,c[37]),W=p(W,J,K,V,M,16,c[38]),V=p(V,W,J,K,Z,23,c[39]),K=p(K,V,W,J,Y,4,c[40]),J=p(J,K,V,W,F,11,c[41]),W=p(W,J,K,V,S,16,c[42]),V=p(V,W,J,K,N,23,c[43]),K=p(K,V,W,J,q,4,c[44]),J=p(J,K,V,W,ee,11,c[45]),W=p(W,J,K,V,se,16,c[46]),V=p(V,W,J,K,R,23,c[47]),K=g(K,V,W,J,F,6,c[48]),J=g(J,K,V,W,M,10,c[49]),W=g(W,J,K,V,oe,15,c[50]),V=g(V,W,J,K,P,21,c[51]),K=g(K,V,W,J,ee,6,c[52]),J=g(J,K,V,W,S,10,c[53]),W=g(W,J,K,V,Z,15,c[54]),V=g(V,W,J,K,B,21,c[55]),K=g(K,V,W,J,O,6,c[56]),J=g(J,K,V,W,se,10,c[57]),W=g(W,J,K,V,N,15,c[58]),V=g(V,W,J,K,Y,21,c[59]),K=g(K,V,W,J,k,6,c[60]),J=g(J,K,V,W,ne,10,c[61]),W=g(W,J,K,V,R,15,c[62]),V=g(V,W,J,K,q,21,c[63]),I[0]=I[0]+K|0,I[1]=I[1]+V|0,I[2]=I[2]+W|0,I[3]=I[3]+J|0},_doFinalize:function(){var v=this._data,y=v.words,w=this._nDataBytes*8,E=v.sigBytes*8;y[E>>>5]|=128<<24-E%32;var T=r.floor(w/4294967296),I=w;y[(E+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y[(E+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,v.sigBytes=(y.length+1)*4,this._process();for(var F=this._hash,B=F.words,R=0;R<4;R++){var S=B[R];B[R]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return F},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,y,w,E,T,I,F){var B=v+(y&w|~y&E)+T+F;return(B<<I|B>>>32-I)+y}function h(v,y,w,E,T,I,F){var B=v+(y&E|w&~E)+T+F;return(B<<I|B>>>32-I)+y}function p(v,y,w,E,T,I,F){var B=v+(y^w^E)+T+F;return(B<<I|B>>>32-I)+y}function g(v,y,w,E,T,I,F){var B=v+(w^(y|~E))+T+F;return(B<<I|B>>>32-I)+y}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(ox)),ox.exports}var ax={exports:{}},OK=ax.exports,pN;function M8(){return pN||(pN=1,function(t,e){(function(n,r){t.exports=r(On())})(OK,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,p=h[0],g=h[1],v=h[2],y=h[3],w=h[4],E=0;E<80;E++){if(E<16)l[E]=u[f+E]|0;else{var T=l[E-3]^l[E-8]^l[E-14]^l[E-16];l[E]=T<<1|T>>>31}var I=(p<<5|p>>>27)+w+l[E];E<20?I+=(g&v|~g&y)+1518500249:E<40?I+=(g^v^y)+1859775393:E<60?I+=(g&v|g&y|v&y)-1894007588:I+=(g^v^y)-899497514,w=y,y=v,v=g<<30|g>>>2,g=p,p=I}h[0]=h[0]+p|0,h[1]=h[1]+g|0,h[2]=h[2]+v|0,h[3]=h[3]+y|0,h[4]=h[4]+w|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(p+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(ax)),ax.exports}var lx={exports:{}},FK=lx.exports,mN;function z_(){return mN||(mN=1,function(t,e){(function(n,r){t.exports=r(On())})(FK,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],u=[];(function(){function p(w){for(var E=r.sqrt(w),T=2;T<=E;T++)if(!(w%T))return!1;return!0}function g(w){return(w-(w|0))*4294967296|0}for(var v=2,y=0;y<64;)p(v)&&(y<8&&(c[y]=g(r.pow(v,1/2))),u[y]=g(r.pow(v,1/3)),y++),v++})();var f=[],h=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,g){for(var v=this._hash.words,y=v[0],w=v[1],E=v[2],T=v[3],I=v[4],F=v[5],B=v[6],R=v[7],S=0;S<64;S++){if(S<16)f[S]=p[g+S]|0;else{var k=f[S-15],P=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,N=f[S-2],M=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;f[S]=P+f[S-7]+M+f[S-16]}var O=I&F^~I&B,q=y&w^y&E^w&E,Z=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),ne=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),ee=R+ne+O+u[S]+f[S],Y=Z+q;R=B,B=F,F=I,I=T+ee|0,T=E,E=w,w=y,y=ee+Y|0}v[0]=v[0]+y|0,v[1]=v[1]+w|0,v[2]=v[2]+E|0,v[3]=v[3]+T|0,v[4]=v[4]+I|0,v[5]=v[5]+F|0,v[6]=v[6]+B|0,v[7]=v[7]+R|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,y=p.sigBytes*8;return g[y>>>5]|=128<<24-y%32,g[(y+64>>>9<<4)+14]=r.floor(v/4294967296),g[(y+64>>>9<<4)+15]=v,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})}(lx)),lx.exports}var cx={exports:{}},jK=cx.exports,gN;function BK(){return gN||(gN=1,function(t,e){(function(n,r,i){t.exports=r(On(),z_())})(jK,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(cx)),cx.exports}var ux={exports:{}},VK=ux.exports,vN;function O8(){return vN||(vN=1,function(t,e){(function(n,r,i){t.exports=r(On(),M2())})(VK,function(n){return function(){var r=n,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var g=0;g<80;g++)h[g]=u()})();var p=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,v){for(var y=this._hash.words,w=y[0],E=y[1],T=y[2],I=y[3],F=y[4],B=y[5],R=y[6],S=y[7],k=w.high,P=w.low,N=E.high,M=E.low,O=T.high,q=T.low,Z=I.high,ne=I.low,ee=F.high,Y=F.low,oe=B.high,se=B.low,K=R.high,V=R.low,W=S.high,J=S.low,Q=k,re=P,ce=N,fe=M,be=O,ge=q,Se=Z,Be=ne,_e=ee,Ae=Y,ye=oe,he=se,Je=K,qe=V,je=W,De=J,We=0;We<80;We++){var de,we,ke=h[We];if(We<16)we=ke.high=g[v+We*2]|0,de=ke.low=g[v+We*2+1]|0;else{var Ye=h[We-15],$e=Ye.high,He=Ye.low,ot=($e>>>1|He<<31)^($e>>>8|He<<24)^$e>>>7,dt=(He>>>1|$e<<31)^(He>>>8|$e<<24)^(He>>>7|$e<<25),xt=h[We-2],st=xt.high,jt=xt.low,Vt=(st>>>19|jt<<13)^(st<<3|jt>>>29)^st>>>6,Hn=(jt>>>19|st<<13)^(jt<<3|st>>>29)^(jt>>>6|st<<26),Ut=h[We-7],fn=Ut.high,lr=Ut.low,Kt=h[We-16],Fr=Kt.high,_n=Kt.low;de=dt+lr,we=ot+fn+(de>>>0<dt>>>0?1:0),de=de+Hn,we=we+Vt+(de>>>0<Hn>>>0?1:0),de=de+_n,we=we+Fr+(de>>>0<_n>>>0?1:0),ke.high=we,ke.low=de}var Qn=_e&ye^~_e&Je,gn=Ae&he^~Ae&qe,Yt=Q&ce^Q&be^ce&be,St=re&fe^re&ge^fe&ge,Ht=(Q>>>28|re<<4)^(Q<<30|re>>>2)^(Q<<25|re>>>7),Fn=(re>>>28|Q<<4)^(re<<30|Q>>>2)^(re<<25|Q>>>7),hn=(_e>>>14|Ae<<18)^(_e>>>18|Ae<<14)^(_e<<23|Ae>>>9),Tn=(Ae>>>14|_e<<18)^(Ae>>>18|_e<<14)^(Ae<<23|_e>>>9),fr=f[We],gt=fr.high,Ct=fr.low,rn=De+Tn,yn=je+hn+(rn>>>0<De>>>0?1:0),rn=rn+gn,yn=yn+Qn+(rn>>>0<gn>>>0?1:0),rn=rn+Ct,yn=yn+gt+(rn>>>0<Ct>>>0?1:0),rn=rn+de,yn=yn+we+(rn>>>0<de>>>0?1:0),kn=Fn+St,Dn=Ht+Yt+(kn>>>0<Fn>>>0?1:0);je=Je,De=qe,Je=ye,qe=he,ye=_e,he=Ae,Ae=Be+rn|0,_e=Se+yn+(Ae>>>0<Be>>>0?1:0)|0,Se=be,Be=ge,be=ce,ge=fe,ce=Q,fe=re,re=rn+kn|0,Q=yn+Dn+(re>>>0<rn>>>0?1:0)|0}P=w.low=P+re,w.high=k+Q+(P>>>0<re>>>0?1:0),M=E.low=M+fe,E.high=N+ce+(M>>>0<fe>>>0?1:0),q=T.low=q+ge,T.high=O+be+(q>>>0<ge>>>0?1:0),ne=I.low=ne+Be,I.high=Z+Se+(ne>>>0<Be>>>0?1:0),Y=F.low=Y+Ae,F.high=ee+_e+(Y>>>0<Ae>>>0?1:0),se=B.low=se+he,B.high=oe+ye+(se>>>0<he>>>0?1:0),V=R.low=V+qe,R.high=K+Je+(V>>>0<qe>>>0?1:0),J=S.low=J+De,S.high=W+je+(J>>>0<De>>>0?1:0)},_doFinalize:function(){var g=this._data,v=g.words,y=this._nDataBytes*8,w=g.sigBytes*8;v[w>>>5]|=128<<24-w%32,v[(w+128>>>10<<5)+30]=Math.floor(y/4294967296),v[(w+128>>>10<<5)+31]=y,g.sigBytes=v.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=s._createHelper(p),r.HmacSHA512=s._createHmacHelper(p)}(),n.SHA512})}(ux)),ux.exports}var dx={exports:{}},$K=dx.exports,yN;function zK(){return yN||(yN=1,function(t,e){(function(n,r,i){t.exports=r(On(),M2(),O8())})($K,function(n){return function(){var r=n,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(dx)),dx.exports}var fx={exports:{}},UK=fx.exports,xN;function qK(){return xN||(xN=1,function(t,e){(function(n,r,i){t.exports=r(On(),M2())})(UK,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,u=i.algo,f=[],h=[],p=[];(function(){for(var y=1,w=0,E=0;E<24;E++){f[y+5*w]=(E+1)*(E+2)/2%64;var T=w%5,I=(2*y+3*w)%5;y=T,w=I}for(var y=0;y<5;y++)for(var w=0;w<5;w++)h[y+5*w]=w+(2*y+3*w)%5*5;for(var F=1,B=0;B<24;B++){for(var R=0,S=0,k=0;k<7;k++){if(F&1){var P=(1<<k)-1;P<32?S^=1<<P:R^=1<<P-32}F&128?F=F<<1^113:F<<=1}p[B]=c.create(R,S)}})();var g=[];(function(){for(var y=0;y<25;y++)g[y]=c.create()})();var v=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],w=0;w<25;w++)y[w]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,w){for(var E=this._state,T=this.blockSize/2,I=0;I<T;I++){var F=y[w+2*I],B=y[w+2*I+1];F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var R=E[I];R.high^=B,R.low^=F}for(var S=0;S<24;S++){for(var k=0;k<5;k++){for(var P=0,N=0,M=0;M<5;M++){var R=E[k+5*M];P^=R.high,N^=R.low}var O=g[k];O.high=P,O.low=N}for(var k=0;k<5;k++)for(var q=g[(k+4)%5],Z=g[(k+1)%5],ne=Z.high,ee=Z.low,P=q.high^(ne<<1|ee>>>31),N=q.low^(ee<<1|ne>>>31),M=0;M<5;M++){var R=E[k+5*M];R.high^=P,R.low^=N}for(var Y=1;Y<25;Y++){var P,N,R=E[Y],oe=R.high,se=R.low,K=f[Y];K<32?(P=oe<<K|se>>>32-K,N=se<<K|oe>>>32-K):(P=se<<K-32|oe>>>64-K,N=oe<<K-32|se>>>64-K);var V=g[h[Y]];V.high=P,V.low=N}var W=g[0],J=E[0];W.high=J.high,W.low=J.low;for(var k=0;k<5;k++)for(var M=0;M<5;M++){var Y=k+5*M,R=E[Y],Q=g[Y],re=g[(k+1)%5+5*M],ce=g[(k+2)%5+5*M];R.high=Q.high^~re.high&ce.high,R.low=Q.low^~re.low&ce.low}var R=E[0],fe=p[S];R.high^=fe.high,R.low^=fe.low}},_doFinalize:function(){var y=this._data,w=y.words;this._nDataBytes*8;var E=y.sigBytes*8,T=this.blockSize*32;w[E>>>5]|=1<<24-E%32,w[(r.ceil((E+1)/T)*T>>>5)-1]|=128,y.sigBytes=w.length*4,this._process();for(var I=this._state,F=this.cfg.outputLength/8,B=F/8,R=[],S=0;S<B;S++){var k=I[S],P=k.high,N=k.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,R.push(N),R.push(P)}return new o.init(R,F)},clone:function(){for(var y=a.clone.call(this),w=y._state=this._state.slice(0),E=0;E<25;E++)w[E]=w[E].clone();return y}});i.SHA3=a._createHelper(v),i.HmacSHA3=a._createHmacHelper(v)}(Math),n.SHA3})}(fx)),fx.exports}var hx={exports:{}},HK=hx.exports,bN;function WK(){return bN||(bN=1,function(t,e){(function(n,r){t.exports=r(On())})(HK,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,R){for(var S=0;S<16;S++){var k=R+S,P=B[k];B[k]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var N=this._hash.words,M=p.words,O=g.words,q=c.words,Z=u.words,ne=f.words,ee=h.words,Y,oe,se,K,V,W,J,Q,re,ce;W=Y=N[0],J=oe=N[1],Q=se=N[2],re=K=N[3],ce=V=N[4];for(var fe,S=0;S<80;S+=1)fe=Y+B[R+q[S]]|0,S<16?fe+=y(oe,se,K)+M[0]:S<32?fe+=w(oe,se,K)+M[1]:S<48?fe+=E(oe,se,K)+M[2]:S<64?fe+=T(oe,se,K)+M[3]:fe+=I(oe,se,K)+M[4],fe=fe|0,fe=F(fe,ne[S]),fe=fe+V|0,Y=V,V=K,K=F(se,10),se=oe,oe=fe,fe=W+B[R+Z[S]]|0,S<16?fe+=I(J,Q,re)+O[0]:S<32?fe+=T(J,Q,re)+O[1]:S<48?fe+=E(J,Q,re)+O[2]:S<64?fe+=w(J,Q,re)+O[3]:fe+=y(J,Q,re)+O[4],fe=fe|0,fe=F(fe,ee[S]),fe=fe+ce|0,W=ce,ce=re,re=F(Q,10),Q=J,J=fe;fe=N[1]+se+re|0,N[1]=N[2]+K+ce|0,N[2]=N[3]+V+W|0,N[3]=N[4]+Y+J|0,N[4]=N[0]+oe+Q|0,N[0]=fe},_doFinalize:function(){var B=this._data,R=B.words,S=this._nDataBytes*8,k=B.sigBytes*8;R[k>>>5]|=128<<24-k%32,R[(k+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,B.sigBytes=(R.length+1)*4,this._process();for(var P=this._hash,N=P.words,M=0;M<5;M++){var O=N[M];N[M]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return P},clone:function(){var B=a.clone.call(this);return B._hash=this._hash.clone(),B}});function y(B,R,S){return B^R^S}function w(B,R,S){return B&R|~B&S}function E(B,R,S){return(B|~R)^S}function T(B,R,S){return B&S|R&~S}function I(B,R,S){return B^(R|~S)}function F(B,R){return B<<R|B>>>32-R}i.RIPEMD160=a._createHelper(v),i.HmacRIPEMD160=a._createHmacHelper(v)}(),n.RIPEMD160})}(hx)),hx.exports}var px={exports:{}},GK=px.exports,wN;function U_(){return wN||(wN=1,function(t,e){(function(n,r){t.exports=r(On())})(GK,function(n){(function(){var r=n,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var f=c.blockSize,h=f*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),g=this._iKey=u.clone(),v=p.words,y=g.words,w=0;w<f;w++)v[w]^=1549556828,y[w]^=909522486;p.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,f=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(px)),px.exports}var mx={exports:{}},KK=mx.exports,EN;function YK(){return EN||(EN=1,function(t,e){(function(n,r,i){t.exports=r(On(),z_(),U_())})(KK,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var p=this.cfg,g=c.create(p.hasher,f),v=o.create(),y=o.create([1]),w=v.words,E=y.words,T=p.keySize,I=p.iterations;w.length<T;){var F=g.update(h).finalize(y);g.reset();for(var B=F.words,R=B.length,S=F,k=1;k<I;k++){S=g.finalize(S),g.reset();for(var P=S.words,N=0;N<R;N++)B[N]^=P[N]}v.concat(F),E[0]++}return v.sigBytes=T*4,v}});r.PBKDF2=function(f,h,p){return u.create(p).compute(f,h)}}(),n.PBKDF2})}(mx)),mx.exports}var gx={exports:{}},XK=gx.exports,SN;function Yf(){return SN||(SN=1,function(t,e){(function(n,r,i){t.exports=r(On(),M8(),U_())})(XK,function(n){return function(){var r=n,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,p=this.cfg,g=p.hasher.create(),v=o.create(),y=v.words,w=p.keySize,E=p.iterations;y.length<w;){h&&g.update(h),h=g.update(u).finalize(f),g.reset();for(var T=1;T<E;T++)h=g.finalize(h),g.reset();v.concat(h)}return v.sigBytes=w*4,v}});r.EvpKDF=function(u,f,h){return c.create(h).compute(u,f)}}(),n.EvpKDF})}(gx)),gx.exports}var vx={exports:{}},JK=vx.exports,CN;function is(){return CN||(CN=1,function(t,e){(function(n,r,i){t.exports=r(On(),Yf())})(JK,function(n){n.lib.Cipher||function(r){var i=n,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,f=i.algo,h=f.EvpKDF,p=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(P,N){return this.create(this._ENC_XFORM_MODE,P,N)},createDecryptor:function(P,N){return this.create(this._DEC_XFORM_MODE,P,N)},init:function(P,N,M){this.cfg=this.cfg.extend(M),this._xformMode=P,this._key=N,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(N){return typeof N=="string"?k:B}return function(N){return{encrypt:function(M,O,q){return P(O).encrypt(N,M,O,q)},decrypt:function(M,O,q){return P(O).decrypt(N,M,O,q)}}}}()});s.StreamCipher=p.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var g=i.mode={},v=s.BlockCipherMode=o.extend({createEncryptor:function(P,N){return this.Encryptor.create(P,N)},createDecryptor:function(P,N){return this.Decryptor.create(P,N)},init:function(P,N){this._cipher=P,this._iv=N}}),y=g.CBC=function(){var P=v.extend();P.Encryptor=P.extend({processBlock:function(M,O){var q=this._cipher,Z=q.blockSize;N.call(this,M,O,Z),q.encryptBlock(M,O),this._prevBlock=M.slice(O,O+Z)}}),P.Decryptor=P.extend({processBlock:function(M,O){var q=this._cipher,Z=q.blockSize,ne=M.slice(O,O+Z);q.decryptBlock(M,O),N.call(this,M,O,Z),this._prevBlock=ne}});function N(M,O,q){var Z,ne=this._iv;ne?(Z=ne,this._iv=r):Z=this._prevBlock;for(var ee=0;ee<q;ee++)M[O+ee]^=Z[ee]}return P}(),w=i.pad={},E=w.Pkcs7={pad:function(P,N){for(var M=N*4,O=M-P.sigBytes%M,q=O<<24|O<<16|O<<8|O,Z=[],ne=0;ne<O;ne+=4)Z.push(q);var ee=a.create(Z,O);P.concat(ee)},unpad:function(P){var N=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=N}};s.BlockCipher=p.extend({cfg:p.cfg.extend({mode:y,padding:E}),reset:function(){var P;p.reset.call(this);var N=this.cfg,M=N.iv,O=N.mode;this._xformMode==this._ENC_XFORM_MODE?P=O.createEncryptor:(P=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,M&&M.words):(this._mode=P.call(O,this,M&&M.words),this._mode.__creator=P)},_doProcessBlock:function(P,N){this._mode.processBlock(P,N)},_doFinalize:function(){var P,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),N.unpad(P)),P},blockSize:128/32});var T=s.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),I=i.format={},F=I.OpenSSL={stringify:function(P){var N,M=P.ciphertext,O=P.salt;return O?N=a.create([1398893684,1701076831]).concat(O).concat(M):N=M,N.toString(u)},parse:function(P){var N,M=u.parse(P),O=M.words;return O[0]==1398893684&&O[1]==1701076831&&(N=a.create(O.slice(2,4)),O.splice(0,4),M.sigBytes-=16),T.create({ciphertext:M,salt:N})}},B=s.SerializableCipher=o.extend({cfg:o.extend({format:F}),encrypt:function(P,N,M,O){O=this.cfg.extend(O);var q=P.createEncryptor(M,O),Z=q.finalize(N),ne=q.cfg;return T.create({ciphertext:Z,key:M,iv:ne.iv,algorithm:P,mode:ne.mode,padding:ne.padding,blockSize:P.blockSize,formatter:O.format})},decrypt:function(P,N,M,O){O=this.cfg.extend(O),N=this._parse(N,O.format);var q=P.createDecryptor(M,O).finalize(N.ciphertext);return q},_parse:function(P,N){return typeof P=="string"?N.parse(P,this):P}}),R=i.kdf={},S=R.OpenSSL={execute:function(P,N,M,O,q){if(O||(O=a.random(64/8)),q)var Z=h.create({keySize:N+M,hasher:q}).compute(P,O);else var Z=h.create({keySize:N+M}).compute(P,O);var ne=a.create(Z.words.slice(N),M*4);return Z.sigBytes=N*4,T.create({key:Z,iv:ne,salt:O})}},k=s.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:S}),encrypt:function(P,N,M,O){O=this.cfg.extend(O);var q=O.kdf.execute(M,P.keySize,P.ivSize,O.salt,O.hasher);O.iv=q.iv;var Z=B.encrypt.call(this,P,N,q.key,O);return Z.mixIn(q),Z},decrypt:function(P,N,M,O){O=this.cfg.extend(O),N=this._parse(N,O.format);var q=O.kdf.execute(M,P.keySize,P.ivSize,N.salt,O.hasher);O.iv=q.iv;var Z=B.decrypt.call(this,P,N,q.key,O);return Z}})}()})}(vx)),vx.exports}var yx={exports:{}},QK=yx.exports,AN;function ZK(){return AN||(AN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(QK,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)s[o+f]^=c[f]}return r}(),n.mode.CFB})}(yx)),yx.exports}var xx={exports:{}},eY=xx.exports,_N;function tY(){return _N||(_N=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(eY,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[l-1]=u[l-1]+1|0;for(var h=0;h<l;h++)s[o+h]^=f[h]}});return r.Decryptor=i,r}(),n.mode.CTR})}(xx)),xx.exports}var bx={exports:{}},nY=bx.exports,TN;function rY(){return TN||(TN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(nY,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),s(h);var p=h.slice(0);c.encryptBlock(p,0);for(var g=0;g<u;g++)a[l+g]^=p[g]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(bx)),bx.exports}var wx={exports:{}},iY=wx.exports,kN;function sY(){return kN||(kN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(iY,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<l;f++)s[o+f]^=u[f]}});return r.Decryptor=i,r}(),n.mode.OFB})}(wx)),wx.exports}var Ex={exports:{}},oY=Ex.exports,PN;function aY(){return PN||(PN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(oY,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),n.mode.ECB})}(Ex)),Ex.exports}var Sx={exports:{}},lY=Sx.exports,NN;function cY(){return NN||(NN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(lY,function(n){return n.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(Sx)),Sx.exports}var Cx={exports:{}},uY=Cx.exports,LN;function dY(){return LN||(LN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(uY,function(n){return n.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(Cx)),Cx.exports}var Ax={exports:{}},fY=Ax.exports,IN;function hY(){return IN||(IN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(fY,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Ax)),Ax.exports}var _x={exports:{}},pY=_x.exports,DN;function mY(){return DN||(DN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(pY,function(n){return n.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},n.pad.ZeroPadding})}(_x)),_x.exports}var Tx={exports:{}},gY=Tx.exports,RN;function vY(){return RN||(RN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(gY,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Tx)),Tx.exports}var kx={exports:{}},yY=kx.exports,MN;function xY(){return MN||(MN=1,function(t,e){(function(n,r,i){t.exports=r(On(),is())})(yY,function(n){return function(r){var i=n,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var f=l.parse(u);return o.create({ciphertext:f})}}}(),n.format.Hex})}(kx)),kx.exports}var Px={exports:{}},bY=Px.exports,ON;function wY(){return ON||(ON=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(bY,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],u=[],f=[],h=[],p=[],g=[],v=[],y=[];(function(){for(var T=[],I=0;I<256;I++)I<128?T[I]=I<<1:T[I]=I<<1^283;for(var F=0,B=0,I=0;I<256;I++){var R=B^B<<1^B<<2^B<<3^B<<4;R=R>>>8^R&255^99,a[F]=R,l[R]=F;var S=T[F],k=T[S],P=T[k],N=T[R]*257^R*16843008;c[F]=N<<24|N>>>8,u[F]=N<<16|N>>>16,f[F]=N<<8|N>>>24,h[F]=N;var N=P*16843009^k*65537^S*257^F*16843008;p[R]=N<<24|N>>>8,g[R]=N<<16|N>>>16,v[R]=N<<8|N>>>24,y[R]=N,F?(F=S^T[T[T[P^S]]],B^=T[T[B]]):F=B=1}})();var w=[0,1,2,4,8,16,32,64,128,27,54],E=o.AES=s.extend({_doReset:function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,F=I.words,B=I.sigBytes/4,R=this._nRounds=B+6,S=(R+1)*4,k=this._keySchedule=[],P=0;P<S;P++)P<B?k[P]=F[P]:(T=k[P-1],P%B?B>6&&P%B==4&&(T=a[T>>>24]<<24|a[T>>>16&255]<<16|a[T>>>8&255]<<8|a[T&255]):(T=T<<8|T>>>24,T=a[T>>>24]<<24|a[T>>>16&255]<<16|a[T>>>8&255]<<8|a[T&255],T^=w[P/B|0]<<24),k[P]=k[P-B]^T);for(var N=this._invKeySchedule=[],M=0;M<S;M++){var P=S-M;if(M%4)var T=k[P];else var T=k[P-4];M<4||P<=4?N[M]=T:N[M]=p[a[T>>>24]]^g[a[T>>>16&255]]^v[a[T>>>8&255]]^y[a[T&255]]}}},encryptBlock:function(T,I){this._doCryptBlock(T,I,this._keySchedule,c,u,f,h,a)},decryptBlock:function(T,I){var F=T[I+1];T[I+1]=T[I+3],T[I+3]=F,this._doCryptBlock(T,I,this._invKeySchedule,p,g,v,y,l);var F=T[I+1];T[I+1]=T[I+3],T[I+3]=F},_doCryptBlock:function(T,I,F,B,R,S,k,P){for(var N=this._nRounds,M=T[I]^F[0],O=T[I+1]^F[1],q=T[I+2]^F[2],Z=T[I+3]^F[3],ne=4,ee=1;ee<N;ee++){var Y=B[M>>>24]^R[O>>>16&255]^S[q>>>8&255]^k[Z&255]^F[ne++],oe=B[O>>>24]^R[q>>>16&255]^S[Z>>>8&255]^k[M&255]^F[ne++],se=B[q>>>24]^R[Z>>>16&255]^S[M>>>8&255]^k[O&255]^F[ne++],K=B[Z>>>24]^R[M>>>16&255]^S[O>>>8&255]^k[q&255]^F[ne++];M=Y,O=oe,q=se,Z=K}var Y=(P[M>>>24]<<24|P[O>>>16&255]<<16|P[q>>>8&255]<<8|P[Z&255])^F[ne++],oe=(P[O>>>24]<<24|P[q>>>16&255]<<16|P[Z>>>8&255]<<8|P[M&255])^F[ne++],se=(P[q>>>24]<<24|P[Z>>>16&255]<<16|P[M>>>8&255]<<8|P[O&255])^F[ne++],K=(P[Z>>>24]<<24|P[M>>>16&255]<<16|P[O>>>8&255]<<8|P[q&255])^F[ne++];T[I]=Y,T[I+1]=oe,T[I+2]=se,T[I+3]=K},keySize:256/32});r.AES=s._createHelper(E)}(),n.AES})}(Px)),Px.exports}var Nx={exports:{}},EY=Nx.exports,FN;function SY(){return FN||(FN=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(EY,function(n){return function(){var r=n,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var w=this._key,E=w.words,T=[],I=0;I<56;I++){var F=l[I]-1;T[I]=E[F>>>5]>>>31-F%32&1}for(var B=this._subKeys=[],R=0;R<16;R++){for(var S=B[R]=[],k=u[R],I=0;I<24;I++)S[I/6|0]|=T[(c[I]-1+k)%28]<<31-I%6,S[4+(I/6|0)]|=T[28+(c[I+24]-1+k)%28]<<31-I%6;S[0]=S[0]<<1|S[0]>>>31;for(var I=1;I<7;I++)S[I]=S[I]>>>(I-1)*4+3;S[7]=S[7]<<5|S[7]>>>27}for(var P=this._invSubKeys=[],I=0;I<16;I++)P[I]=B[15-I]},encryptBlock:function(w,E){this._doCryptBlock(w,E,this._subKeys)},decryptBlock:function(w,E){this._doCryptBlock(w,E,this._invSubKeys)},_doCryptBlock:function(w,E,T){this._lBlock=w[E],this._rBlock=w[E+1],g.call(this,4,252645135),g.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),g.call(this,1,1431655765);for(var I=0;I<16;I++){for(var F=T[I],B=this._lBlock,R=this._rBlock,S=0,k=0;k<8;k++)S|=f[k][((R^F[k])&h[k])>>>0];this._lBlock=R,this._rBlock=B^S}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,g.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),w[E]=this._lBlock,w[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(w,E){var T=(this._lBlock>>>w^this._rBlock)&E;this._rBlock^=T,this._lBlock^=T<<w}function v(w,E){var T=(this._rBlock>>>w^this._lBlock)&E;this._lBlock^=T,this._rBlock^=T<<w}r.DES=o._createHelper(p);var y=a.TripleDES=o.extend({_doReset:function(){var w=this._key,E=w.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=E.slice(0,2),I=E.length<4?E.slice(0,2):E.slice(2,4),F=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=p.createEncryptor(s.create(T)),this._des2=p.createEncryptor(s.create(I)),this._des3=p.createEncryptor(s.create(F))},encryptBlock:function(w,E){this._des1.encryptBlock(w,E),this._des2.decryptBlock(w,E),this._des3.encryptBlock(w,E)},decryptBlock:function(w,E){this._des3.decryptBlock(w,E),this._des2.encryptBlock(w,E),this._des1.decryptBlock(w,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(y)}(),n.TripleDES})}(Nx)),Nx.exports}var Lx={exports:{}},CY=Lx.exports,jN;function AY(){return jN||(jN=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(CY,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,v=0;g<256;g++){var y=g%h,w=f[y>>>2]>>>24-y%4*8&255;v=(v+p[g]+w)%256;var E=p[g];p[g]=p[v],p[v]=E}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,f=this._i,h=this._j,p=0,g=0;g<4;g++){f=(f+1)%256,h=(h+u[f])%256;var v=u[f];u[f]=u[h],u[h]=v,p|=u[(u[f]+u[h])%256]<<24-g*8}return this._i=f,this._j=h,p}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=s._createHelper(c)}(),n.RC4})}(Lx)),Lx.exports}var Ix={exports:{}},_Y=Ix.exports,BN;function TY(){return BN||(BN=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(_Y,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.Rabbit=s.extend({_doReset:function(){for(var h=this._key.words,p=this.cfg.iv,g=0;g<4;g++)h[g]=(h[g]<<8|h[g]>>>24)&16711935|(h[g]<<24|h[g]>>>8)&4278255360;var v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],y=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)y[g]^=v[g+4&7];if(p){var w=p.words,E=w[0],T=w[1],I=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,F=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,B=I>>>16|F&4294901760,R=F<<16|I&65535;y[0]^=I,y[1]^=B,y[2]^=F,y[3]^=R,y[4]^=I,y[5]^=B,y[6]^=F,y[7]^=R;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(h,p){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,h[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=h[g]+p[g],y=v&65535,w=v>>>16,E=((y*y>>>17)+y*w>>>15)+w*w,T=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=E^T}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(u)}(),n.Rabbit})}(Ix)),Ix.exports}var Dx={exports:{}},kY=Dx.exports,VN;function PY(){return VN||(VN=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(kY,function(n){return function(){var r=n,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.RabbitLegacy=s.extend({_doReset:function(){var h=this._key.words,p=this.cfg.iv,g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],v=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)v[y]^=g[y+4&7];if(p){var w=p.words,E=w[0],T=w[1],I=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,F=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,B=I>>>16|F&4294901760,R=F<<16|I&65535;v[0]^=I,v[1]^=B,v[2]^=F,v[3]^=R,v[4]^=I,v[5]^=B,v[6]^=F,v[7]^=R;for(var y=0;y<4;y++)f.call(this)}},_doProcessBlock:function(h,p){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,h[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=h[g]+p[g],y=v&65535,w=v>>>16,E=((y*y>>>17)+y*w>>>15)+w*w,T=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=E^T}h[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,h[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,h[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,h[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,h[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,h[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,h[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,h[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(u)}(),n.RabbitLegacy})}(Dx)),Dx.exports}var Rx={exports:{}},NY=Rx.exports,$N;function LY(){return $N||($N=1,function(t,e){(function(n,r,i){t.exports=r(On(),gp(),vp(),Yf(),is())})(NY,function(n){return function(){var r=n,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(y,w){let E=w>>24&255,T=w>>16&255,I=w>>8&255,F=w&255,B=y.sbox[0][E]+y.sbox[1][T];return B=B^y.sbox[2][I],B=B+y.sbox[3][F],B}function h(y,w,E){let T=w,I=E,F;for(let B=0;B<a;++B)T=T^y.pbox[B],I=f(y,T)^I,F=T,T=I,I=F;return F=T,T=I,I=F,I=I^y.pbox[a],T=T^y.pbox[a+1],{left:T,right:I}}function p(y,w,E){let T=w,I=E,F;for(let B=a+1;B>1;--B)T=T^y.pbox[B],I=f(y,T)^I,F=T,T=I,I=F;return F=T,T=I,I=F,I=I^y.pbox[1],T=T^y.pbox[0],{left:T,right:I}}function g(y,w,E){for(let R=0;R<4;R++){y.sbox[R]=[];for(let S=0;S<256;S++)y.sbox[R][S]=c[R][S]}let T=0;for(let R=0;R<a+2;R++)y.pbox[R]=l[R]^w[T],T++,T>=E&&(T=0);let I=0,F=0,B=0;for(let R=0;R<a+2;R+=2)B=h(y,I,F),I=B.left,F=B.right,y.pbox[R]=I,y.pbox[R+1]=F;for(let R=0;R<4;R++)for(let S=0;S<256;S+=2)B=h(y,I,F),I=B.left,F=B.right,y.sbox[R][S]=I,y.sbox[R][S+1]=F;return!0}var v=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,w=y.words,E=y.sigBytes/4;g(u,w,E)}},encryptBlock:function(y,w){var E=h(u,y[w],y[w+1]);y[w]=E.left,y[w+1]=E.right},decryptBlock:function(y,w){var E=p(u,y[w],y[w+1]);y[w]=E.left,y[w+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(v)}(),n.Blowfish})}(Rx)),Rx.exports}var IY=Z1.exports,zN;function DY(){return zN||(zN=1,function(t,e){(function(n,r,i){t.exports=r(On(),M2(),PK(),LK(),gp(),RK(),vp(),M8(),z_(),BK(),O8(),zK(),qK(),WK(),U_(),YK(),Yf(),is(),ZK(),tY(),rY(),sY(),aY(),cY(),dY(),hY(),mY(),vY(),xY(),wY(),SY(),AY(),TY(),PY(),LY())})(IY,function(n){return n})}(Z1)),Z1.exports}var RY=DY();const F8=uu(RY),j8="usuarios",MY="fefo157@gmail.com",OY=t=>F8.SHA256(t).toString(),FY=()=>{const t=localStorage.getItem(j8);return t?JSON.parse(t):[]},UN=()=>{const t=localStorage.getItem("loggedInUser");return t?JSON.parse(t):null},jY=t=>{localStorage.setItem("loggedInUser",JSON.stringify(t))},BY=()=>{localStorage.removeItem("loggedInUser")},VY=FY();if(VY.length===0){const e=OY("admin123"),n={id:9999,name:"Admin Fefo",phone:"099999999",address:"Oficina",city:"Montevideo",department:"Montevideo",postalCode:"11900",email:MY,password:e};localStorage.setItem(j8,JSON.stringify([n])),console.log(" Usuario admin creado automticamente"),console.log(" Hash de 'admin123':",e)}const B8=b.createContext(void 0);function V8({children:t}){const e=UN(),[n,r]=b.useState(e?{id:String(e.id),uid:String(e.id),name:e.name,email:e.email,password:""}:null);b.useEffect(()=>{const o=UN();o&&!n&&r({id:String(o.id),uid:String(o.id),name:o.name,email:o.email,password:""})},[n]);const i=o=>{r({...o,uid:String(o.id)}),jY({id:Number(o.id),name:o.name,email:o.email})},s=()=>{r(null),BY()};return A.jsx(B8.Provider,{value:{user:n,login:i,logout:s},children:t})}function O2(){const t=b.useContext(B8);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const $Y=()=>{};var qN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},z8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[u],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($8(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new UY;const h=s<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qY=function(t){const e=$8(t);return z8.encodeByteArray(e,!0)},hb=function(t){return qY(t).replace(/\./g,"")},U8=function(t){try{return z8.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=()=>HY().__FIREBASE_DEFAULTS__,GY=()=>{if(typeof process>"u"||typeof qN>"u")return;const t=qN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&U8(t[1]);return e&&JSON.parse(e)},F2=()=>{try{return $Y()||WY()||GY()||KY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q8=t=>{var e,n;return(n=(e=F2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YY=t=>{const e=q8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H8=()=>{var t;return(t=F2())===null||t===void 0?void 0:t.config},W8=t=>{var e;return(e=F2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hb(JSON.stringify(n)),hb(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QY(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())}function ZY(){var t;const e=(t=F2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eX(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tX(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rX(){const t=eo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iX(){return!ZY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sX(){try{return typeof indexedDB=="object"}catch{return!1}}function oX(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aX="FirebaseError";class fd extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aX,Object.setPrototypeOf(this,fd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xv.prototype.create)}}class Xv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lX(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fd(i,a,r)}}function lX(t,e){return t.replace(cX,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cX=/\{\$([^}]+)}/g;function uX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(HN(s)&&HN(o)){if(!tp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function HN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function g0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function v0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dX(t,e){const n=new fX(t,e);return n.subscribe.bind(n)}class fX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rE),i.error===void 0&&(i.error=rE),i.complete===void 0&&(i.complete=rE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){return t&&t._delegate?t._delegate:t}class np{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gX(e))try{this.getOrInitializeService({instanceIdentifier:_h})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_h){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_h){return this.instances.has(e)}getOptions(e=_h){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_h){return this.component?this.component.multipleInstances?e:_h:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mX(t){return t===_h?void 0:t}function gX(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nn||(Nn={}));const yX={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},xX=Nn.INFO,bX={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},wX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let q_=class{constructor(e){this.name=e,this._logLevel=xX,this._logHandler=wX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}};const EX=(t,e)=>e.some(n=>t instanceof n);let WN,GN;function SX(){return WN||(WN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CX(){return GN||(GN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G8=new WeakMap,wC=new WeakMap,K8=new WeakMap,iE=new WeakMap,H_=new WeakMap;function AX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cf(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G8.set(n,t)}).catch(()=>{}),H_.set(e,t),e}function _X(t){if(wC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wC.set(t,e)}let EC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K8.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cf(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TX(t){EC=t(EC)}function kX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sE(this),e,...n);return K8.set(r,e.sort?e.sort():[e]),Cf(r)}:CX().includes(t)?function(...e){return t.apply(sE(this),e),Cf(G8.get(this))}:function(...e){return Cf(t.apply(sE(this),e))}}function PX(t){return typeof t=="function"?kX(t):(t instanceof IDBTransaction&&_X(t),EX(t,SX())?new Proxy(t,EC):t)}function Cf(t){if(t instanceof IDBRequest)return AX(t);if(iE.has(t))return iE.get(t);const e=PX(t);return e!==t&&(iE.set(t,e),H_.set(e,t)),e}const sE=t=>H_.get(t);function NX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cf(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cf(o.result),l.oldVersion,l.newVersion,Cf(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const LX=["get","getKey","getAll","getAllKeys","count"],IX=["put","add","delete","clear"],oE=new Map;function KN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oE.get(e))return oE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LX.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return oE.set(e,s),s}TX(t=>({...t,get:(e,n,r)=>KN(e,n)||t.get(e,n,r),has:(e,n)=>!!KN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const SC="@firebase/app",YN="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new q_("@firebase/app"),MX="@firebase/app-compat",OX="@firebase/analytics-compat",FX="@firebase/analytics",jX="@firebase/app-check-compat",BX="@firebase/app-check",VX="@firebase/auth",$X="@firebase/auth-compat",zX="@firebase/database",UX="@firebase/data-connect",qX="@firebase/database-compat",HX="@firebase/functions",WX="@firebase/functions-compat",GX="@firebase/installations",KX="@firebase/installations-compat",YX="@firebase/messaging",XX="@firebase/messaging-compat",JX="@firebase/performance",QX="@firebase/performance-compat",ZX="@firebase/remote-config",eJ="@firebase/remote-config-compat",tJ="@firebase/storage",nJ="@firebase/storage-compat",rJ="@firebase/firestore",iJ="@firebase/vertexai",sJ="@firebase/firestore-compat",oJ="firebase",aJ="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="[DEFAULT]",lJ={[SC]:"fire-core",[MX]:"fire-core-compat",[FX]:"fire-analytics",[OX]:"fire-analytics-compat",[BX]:"fire-app-check",[jX]:"fire-app-check-compat",[VX]:"fire-auth",[$X]:"fire-auth-compat",[zX]:"fire-rtdb",[UX]:"fire-data-connect",[qX]:"fire-rtdb-compat",[HX]:"fire-fn",[WX]:"fire-fn-compat",[GX]:"fire-iid",[KX]:"fire-iid-compat",[YX]:"fire-fcm",[XX]:"fire-fcm-compat",[JX]:"fire-perf",[QX]:"fire-perf-compat",[ZX]:"fire-rc",[eJ]:"fire-rc-compat",[tJ]:"fire-gcs",[nJ]:"fire-gcs-compat",[rJ]:"fire-fst",[sJ]:"fire-fst-compat",[iJ]:"fire-vertex","fire-js":"fire-js",[oJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map,cJ=new Map,AC=new Map;function XN(t,e){try{t.container.addComponent(e)}catch(n){od.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Um(t){const e=t.name;if(AC.has(e))return od.debug(`There were multiple attempts to register component ${e}.`),!1;AC.set(e,t);for(const n of rv.values())XN(n,t);for(const n of cJ.values())XN(n,t);return!0}function W_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kl(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Af=new Xv("app","Firebase",uJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new np("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Af.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=aJ;function G_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:CC,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Af.create("bad-app-name",{appName:String(i)});if(n||(n=H8()),!n)throw Af.create("no-options");const s=rv.get(i);if(s){if(tp(n,s.options)&&tp(r,s.config))return s;throw Af.create("duplicate-app",{appName:i})}const o=new vX(i);for(const l of AC.values())o.addComponent(l);const a=new dJ(n,r,o);return rv.set(i,a),a}function Y8(t=CC){const e=rv.get(t);if(!e&&t===CC&&H8())return G_();if(!e)throw Af.create("no-app",{appName:t});return e}function JN(){return Array.from(rv.values())}function _f(t,e,n){var r;let i=(r=lJ[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),od.warn(a.join(" "));return}Um(new np(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fJ="firebase-heartbeat-database",hJ=1,iv="firebase-heartbeat-store";let aE=null;function X8(){return aE||(aE=NX(fJ,hJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iv)}catch(n){console.warn(n)}}}}).catch(t=>{throw Af.create("idb-open",{originalErrorMessage:t.message})})),aE}async function pJ(t){try{const n=(await X8()).transaction(iv),r=await n.objectStore(iv).get(J8(t));return await n.done,r}catch(e){if(e instanceof fd)od.warn(e.message);else{const n=Af.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});od.warn(n.message)}}}async function QN(t,e){try{const r=(await X8()).transaction(iv,"readwrite");await r.objectStore(iv).put(e,J8(t)),await r.done}catch(n){if(n instanceof fd)od.warn(n.message);else{const r=Af.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});od.warn(r.message)}}}function J8(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mJ=1024,gJ=30;class vJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gJ){const o=bJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){od.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ZN(),{heartbeatsToSend:r,unsentEntries:i}=yJ(this._heartbeatsCache.heartbeats),s=hb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return od.warn(n),""}}}function ZN(){return new Date().toISOString().substring(0,10)}function yJ(t,e=mJ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),e3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sX()?oX().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return QN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e3(t){return hb(JSON.stringify({version:2,heartbeats:t})).length}function bJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){Um(new np("platform-logger",e=>new DX(e),"PRIVATE")),Um(new np("heartbeat",e=>new vJ(e),"PRIVATE")),_f(SC,YN,t),_f(SC,YN,"esm2017"),_f("fire-js","")}wJ("");var EJ="firebase",SJ="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_f(EJ,SJ,"app");var t3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tf,Q8;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function k(){}k.prototype=S.prototype,R.D=S.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(P,N,M){for(var O=Array(arguments.length-2),q=2;q<arguments.length;q++)O[q-2]=arguments[q];return S.prototype[N].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,S,k){k||(k=0);var P=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)P[N]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(N=0;16>N;++N)P[N]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=R.g[0],k=R.g[1],N=R.g[2];var M=R.g[3],O=S+(M^k&(N^M))+P[0]+3614090360&4294967295;S=k+(O<<7&4294967295|O>>>25),O=M+(N^S&(k^N))+P[1]+3905402710&4294967295,M=S+(O<<12&4294967295|O>>>20),O=N+(k^M&(S^k))+P[2]+606105819&4294967295,N=M+(O<<17&4294967295|O>>>15),O=k+(S^N&(M^S))+P[3]+3250441966&4294967295,k=N+(O<<22&4294967295|O>>>10),O=S+(M^k&(N^M))+P[4]+4118548399&4294967295,S=k+(O<<7&4294967295|O>>>25),O=M+(N^S&(k^N))+P[5]+1200080426&4294967295,M=S+(O<<12&4294967295|O>>>20),O=N+(k^M&(S^k))+P[6]+2821735955&4294967295,N=M+(O<<17&4294967295|O>>>15),O=k+(S^N&(M^S))+P[7]+4249261313&4294967295,k=N+(O<<22&4294967295|O>>>10),O=S+(M^k&(N^M))+P[8]+1770035416&4294967295,S=k+(O<<7&4294967295|O>>>25),O=M+(N^S&(k^N))+P[9]+2336552879&4294967295,M=S+(O<<12&4294967295|O>>>20),O=N+(k^M&(S^k))+P[10]+4294925233&4294967295,N=M+(O<<17&4294967295|O>>>15),O=k+(S^N&(M^S))+P[11]+2304563134&4294967295,k=N+(O<<22&4294967295|O>>>10),O=S+(M^k&(N^M))+P[12]+1804603682&4294967295,S=k+(O<<7&4294967295|O>>>25),O=M+(N^S&(k^N))+P[13]+4254626195&4294967295,M=S+(O<<12&4294967295|O>>>20),O=N+(k^M&(S^k))+P[14]+2792965006&4294967295,N=M+(O<<17&4294967295|O>>>15),O=k+(S^N&(M^S))+P[15]+1236535329&4294967295,k=N+(O<<22&4294967295|O>>>10),O=S+(N^M&(k^N))+P[1]+4129170786&4294967295,S=k+(O<<5&4294967295|O>>>27),O=M+(k^N&(S^k))+P[6]+3225465664&4294967295,M=S+(O<<9&4294967295|O>>>23),O=N+(S^k&(M^S))+P[11]+643717713&4294967295,N=M+(O<<14&4294967295|O>>>18),O=k+(M^S&(N^M))+P[0]+3921069994&4294967295,k=N+(O<<20&4294967295|O>>>12),O=S+(N^M&(k^N))+P[5]+3593408605&4294967295,S=k+(O<<5&4294967295|O>>>27),O=M+(k^N&(S^k))+P[10]+38016083&4294967295,M=S+(O<<9&4294967295|O>>>23),O=N+(S^k&(M^S))+P[15]+3634488961&4294967295,N=M+(O<<14&4294967295|O>>>18),O=k+(M^S&(N^M))+P[4]+3889429448&4294967295,k=N+(O<<20&4294967295|O>>>12),O=S+(N^M&(k^N))+P[9]+568446438&4294967295,S=k+(O<<5&4294967295|O>>>27),O=M+(k^N&(S^k))+P[14]+3275163606&4294967295,M=S+(O<<9&4294967295|O>>>23),O=N+(S^k&(M^S))+P[3]+4107603335&4294967295,N=M+(O<<14&4294967295|O>>>18),O=k+(M^S&(N^M))+P[8]+1163531501&4294967295,k=N+(O<<20&4294967295|O>>>12),O=S+(N^M&(k^N))+P[13]+2850285829&4294967295,S=k+(O<<5&4294967295|O>>>27),O=M+(k^N&(S^k))+P[2]+4243563512&4294967295,M=S+(O<<9&4294967295|O>>>23),O=N+(S^k&(M^S))+P[7]+1735328473&4294967295,N=M+(O<<14&4294967295|O>>>18),O=k+(M^S&(N^M))+P[12]+2368359562&4294967295,k=N+(O<<20&4294967295|O>>>12),O=S+(k^N^M)+P[5]+4294588738&4294967295,S=k+(O<<4&4294967295|O>>>28),O=M+(S^k^N)+P[8]+2272392833&4294967295,M=S+(O<<11&4294967295|O>>>21),O=N+(M^S^k)+P[11]+1839030562&4294967295,N=M+(O<<16&4294967295|O>>>16),O=k+(N^M^S)+P[14]+4259657740&4294967295,k=N+(O<<23&4294967295|O>>>9),O=S+(k^N^M)+P[1]+2763975236&4294967295,S=k+(O<<4&4294967295|O>>>28),O=M+(S^k^N)+P[4]+1272893353&4294967295,M=S+(O<<11&4294967295|O>>>21),O=N+(M^S^k)+P[7]+4139469664&4294967295,N=M+(O<<16&4294967295|O>>>16),O=k+(N^M^S)+P[10]+3200236656&4294967295,k=N+(O<<23&4294967295|O>>>9),O=S+(k^N^M)+P[13]+681279174&4294967295,S=k+(O<<4&4294967295|O>>>28),O=M+(S^k^N)+P[0]+3936430074&4294967295,M=S+(O<<11&4294967295|O>>>21),O=N+(M^S^k)+P[3]+3572445317&4294967295,N=M+(O<<16&4294967295|O>>>16),O=k+(N^M^S)+P[6]+76029189&4294967295,k=N+(O<<23&4294967295|O>>>9),O=S+(k^N^M)+P[9]+3654602809&4294967295,S=k+(O<<4&4294967295|O>>>28),O=M+(S^k^N)+P[12]+3873151461&4294967295,M=S+(O<<11&4294967295|O>>>21),O=N+(M^S^k)+P[15]+530742520&4294967295,N=M+(O<<16&4294967295|O>>>16),O=k+(N^M^S)+P[2]+3299628645&4294967295,k=N+(O<<23&4294967295|O>>>9),O=S+(N^(k|~M))+P[0]+4096336452&4294967295,S=k+(O<<6&4294967295|O>>>26),O=M+(k^(S|~N))+P[7]+1126891415&4294967295,M=S+(O<<10&4294967295|O>>>22),O=N+(S^(M|~k))+P[14]+2878612391&4294967295,N=M+(O<<15&4294967295|O>>>17),O=k+(M^(N|~S))+P[5]+4237533241&4294967295,k=N+(O<<21&4294967295|O>>>11),O=S+(N^(k|~M))+P[12]+1700485571&4294967295,S=k+(O<<6&4294967295|O>>>26),O=M+(k^(S|~N))+P[3]+2399980690&4294967295,M=S+(O<<10&4294967295|O>>>22),O=N+(S^(M|~k))+P[10]+4293915773&4294967295,N=M+(O<<15&4294967295|O>>>17),O=k+(M^(N|~S))+P[1]+2240044497&4294967295,k=N+(O<<21&4294967295|O>>>11),O=S+(N^(k|~M))+P[8]+1873313359&4294967295,S=k+(O<<6&4294967295|O>>>26),O=M+(k^(S|~N))+P[15]+4264355552&4294967295,M=S+(O<<10&4294967295|O>>>22),O=N+(S^(M|~k))+P[6]+2734768916&4294967295,N=M+(O<<15&4294967295|O>>>17),O=k+(M^(N|~S))+P[13]+1309151649&4294967295,k=N+(O<<21&4294967295|O>>>11),O=S+(N^(k|~M))+P[4]+4149444226&4294967295,S=k+(O<<6&4294967295|O>>>26),O=M+(k^(S|~N))+P[11]+3174756917&4294967295,M=S+(O<<10&4294967295|O>>>22),O=N+(S^(M|~k))+P[2]+718787259&4294967295,N=M+(O<<15&4294967295|O>>>17),O=k+(M^(N|~S))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+M&4294967295}r.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var k=S-this.blockSize,P=this.B,N=this.h,M=0;M<S;){if(N==0)for(;M<=k;)i(this,R,M),M+=this.blockSize;if(typeof R=="string"){for(;M<S;)if(P[N++]=R.charCodeAt(M++),N==this.blockSize){i(this,P),N=0;break}}else for(;M<S;)if(P[N++]=R[M++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var k=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=k&255,k/=256;for(this.u(R),R=Array(16),S=k=0;4>S;++S)for(var P=0;32>P;P+=8)R[k++]=this.g[S]>>>P&255;return R};function s(R,S){var k=a;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=S(R)}function o(R,S){this.h=S;for(var k=[],P=!0,N=R.length-1;0<=N;N--){var M=R[N]|0;P&&M==S||(k[N]=M,P=!1)}this.g=k}var a={};function l(R){return-128<=R&&128>R?s(R,function(S){return new o([S|0],0>S?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return f;if(0>R)return y(c(-R));for(var S=[],k=1,P=0;R>=k;P++)S[P]=R/k|0,k*=4294967296;return new o(S,0)}function u(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return y(u(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(S,8)),P=f,N=0;N<R.length;N+=8){var M=Math.min(8,R.length-N),O=parseInt(R.substring(N,N+M),S);8>M?(M=c(Math.pow(S,M)),P=P.j(M).add(c(O))):(P=P.j(k),P=P.add(c(O)))}return P}var f=l(0),h=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-y(this).m();for(var R=0,S=1,k=0;k<this.g.length;k++){var P=this.i(k);R+=(0<=P?P:4294967296+P)*S,S*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(g(this))return"0";if(v(this))return"-"+y(this).toString(R);for(var S=c(Math.pow(R,6)),k=this,P="";;){var N=I(k,S).g;k=w(k,N.j(S));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=N,g(k))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function g(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function v(R){return R.h==-1}t.l=function(R){return R=w(this,R),v(R)?-1:g(R)?0:1};function y(R){for(var S=R.g.length,k=[],P=0;P<S;P++)k[P]=~R.g[P];return new o(k,~R.h).add(h)}t.abs=function(){return v(this)?y(this):this},t.add=function(R){for(var S=Math.max(this.g.length,R.g.length),k=[],P=0,N=0;N<=S;N++){var M=P+(this.i(N)&65535)+(R.i(N)&65535),O=(M>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);P=O>>>16,M&=65535,O&=65535,k[N]=O<<16|M}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(R,S){return R.add(y(S))}t.j=function(R){if(g(this)||g(R))return f;if(v(this))return v(R)?y(this).j(y(R)):y(y(this).j(R));if(v(R))return y(this.j(y(R)));if(0>this.l(p)&&0>R.l(p))return c(this.m()*R.m());for(var S=this.g.length+R.g.length,k=[],P=0;P<2*S;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<R.g.length;N++){var M=this.i(P)>>>16,O=this.i(P)&65535,q=R.i(N)>>>16,Z=R.i(N)&65535;k[2*P+2*N]+=O*Z,E(k,2*P+2*N),k[2*P+2*N+1]+=M*Z,E(k,2*P+2*N+1),k[2*P+2*N+1]+=O*q,E(k,2*P+2*N+1),k[2*P+2*N+2]+=M*q,E(k,2*P+2*N+2)}for(P=0;P<S;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=S;P<2*S;P++)k[P]=0;return new o(k,0)};function E(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function T(R,S){this.g=R,this.h=S}function I(R,S){if(g(S))throw Error("division by zero");if(g(R))return new T(f,f);if(v(R))return S=I(y(R),S),new T(y(S.g),y(S.h));if(v(S))return S=I(R,y(S)),new T(y(S.g),S.h);if(30<R.g.length){if(v(R)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var k=h,P=S;0>=P.l(R);)k=F(k),P=F(P);var N=B(k,1),M=B(P,1);for(P=B(P,2),k=B(k,2);!g(P);){var O=M.add(P);0>=O.l(R)&&(N=N.add(k),M=O),P=B(P,1),k=B(k,1)}return S=w(R,N.j(S)),new T(N,S)}for(N=f;0<=R.l(S);){for(k=Math.max(1,Math.floor(R.m()/S.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=c(k),O=M.j(S);v(O)||0<O.l(R);)k-=P,M=c(k),O=M.j(S);g(M)&&(M=h),N=N.add(M),R=w(R,O)}return new T(N,R)}t.A=function(R){return I(this,R).h},t.and=function(R){for(var S=Math.max(this.g.length,R.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)&R.i(P);return new o(k,this.h&R.h)},t.or=function(R){for(var S=Math.max(this.g.length,R.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)|R.i(P);return new o(k,this.h|R.h)},t.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),k=[],P=0;P<S;P++)k[P]=this.i(P)^R.i(P);return new o(k,this.h^R.h)};function F(R){for(var S=R.g.length+1,k=[],P=0;P<S;P++)k[P]=R.i(P)<<1|R.i(P-1)>>>31;return new o(k,R.h)}function B(R,S){var k=S>>5;S%=32;for(var P=R.g.length-k,N=[],M=0;M<P;M++)N[M]=0<S?R.i(M+k)>>>S|R.i(M+k+1)<<32-S:R.i(M+k);return new o(N,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Q8=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Tf=o}).apply(typeof t3<"u"?t3:typeof self<"u"?self:typeof window<"u"?window:{});var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z8,y0,eF,Mx,_C,tF,nF,rF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,U,X){return _==Array.prototype||_==Object.prototype||(_[U]=X.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof h1=="object"&&h1];for(var U=0;U<_.length;++U){var X=_[U];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var r=n(this);function i(_,U){if(U)e:{var X=r;_=_.split(".");for(var me=0;me<_.length-1;me++){var Oe=_[me];if(!(Oe in X))break e;X=X[Oe]}_=_[_.length-1],me=X[_],U=U(me),U!=me&&U!=null&&e(X,_,{configurable:!0,writable:!0,value:U})}}function s(_,U){_ instanceof String&&(_+="");var X=0,me=!1,Oe={next:function(){if(!me&&X<_.length){var Ke=X++;return{value:U(Ke,_[Ke]),done:!1}}return me=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}i("Array.prototype.values",function(_){return _||function(){return s(this,function(U,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(_){var U=typeof _;return U=U!="object"?U:_?Array.isArray(_)?"array":U:"null",U=="array"||U=="object"&&typeof _.length=="number"}function c(_){var U=typeof _;return U=="object"&&_!=null||U=="function"}function u(_,U,X){return _.call.apply(_.bind,arguments)}function f(_,U,X){if(!_)throw Error();if(2<arguments.length){var me=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,me),_.apply(U,Oe)}}return function(){return _.apply(U,arguments)}}function h(_,U,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(_,U){var X=Array.prototype.slice.call(arguments,1);return function(){var me=X.slice();return me.push.apply(me,arguments),_.apply(this,me)}}function g(_,U){function X(){}X.prototype=U.prototype,_.aa=U.prototype,_.prototype=new X,_.prototype.constructor=_,_.Qb=function(me,Oe,Ke){for(var ft=Array(arguments.length-2),on=2;on<arguments.length;on++)ft[on-2]=arguments[on];return U.prototype[Oe].apply(me,ft)}}function v(_){const U=_.length;if(0<U){const X=Array(U);for(let me=0;me<U;me++)X[me]=_[me];return X}return[]}function y(_,U){for(let X=1;X<arguments.length;X++){const me=arguments[X];if(l(me)){const Oe=_.length||0,Ke=me.length||0;_.length=Oe+Ke;for(let ft=0;ft<Ke;ft++)_[Oe+ft]=me[ft]}else _.push(me)}}class w{constructor(U,X){this.i=U,this.j=X,this.h=0,this.g=null}get(){let U;return 0<this.h?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function E(_){return/^[\s\xa0]*$/.test(_)}function T(){var _=a.navigator;return _&&(_=_.userAgent)?_:""}function I(_){return I[" "](_),_}I[" "]=function(){};var F=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function B(_,U,X){for(const me in _)U.call(X,_[me],me,_)}function R(_,U){for(const X in _)U.call(void 0,_[X],X,_)}function S(_){const U={};for(const X in _)U[X]=_[X];return U}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(_,U){let X,me;for(let Oe=1;Oe<arguments.length;Oe++){me=arguments[Oe];for(X in me)_[X]=me[X];for(let Ke=0;Ke<k.length;Ke++)X=k[Ke],Object.prototype.hasOwnProperty.call(me,X)&&(_[X]=me[X])}}function N(_){var U=1;_=_.split(":");const X=[];for(;0<U&&_.length;)X.push(_.shift()),U--;return _.length&&X.push(_.join(":")),X}function M(_){a.setTimeout(()=>{throw _},0)}function O(){var _=oe;let U=null;return _.g&&(U=_.g,_.g=_.g.next,_.g||(_.h=null),U.next=null),U}class q{constructor(){this.h=this.g=null}add(U,X){const me=Z.get();me.set(U,X),this.h?this.h.next=me:this.g=me,this.h=me}}var Z=new w(()=>new ne,_=>_.reset());class ne{constructor(){this.next=this.g=this.h=null}set(U,X){this.h=U,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Y=!1,oe=new q,se=()=>{const _=a.Promise.resolve(void 0);ee=()=>{_.then(K)}};var K=()=>{for(var _;_=O();){try{_.h.call(_.g)}catch(X){M(X)}var U=Z;U.j(_),100>U.h&&(U.h++,_.next=U.g,U.g=_)}Y=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(_,U){this.type=_,this.g=this.target=U,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var _=!1,U=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const X=()=>{};a.addEventListener("test",X,U),a.removeEventListener("test",X,U)}catch{}return _}();function Q(_,U){if(W.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var X=this.type=_.type,me=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=U,U=_.relatedTarget){if(F){e:{try{I(U.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(U=null)}}else X=="mouseover"?U=_.fromElement:X=="mouseout"&&(U=_.toElement);this.relatedTarget=U,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:re[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Q.aa.h.call(this)}}g(Q,W);var re={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),fe=0;function be(_,U,X,me,Oe){this.listener=_,this.proxy=null,this.src=U,this.type=X,this.capture=!!me,this.ha=Oe,this.key=++fe,this.da=this.fa=!1}function ge(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Se(_){this.src=_,this.g={},this.h=0}Se.prototype.add=function(_,U,X,me,Oe){var Ke=_.toString();_=this.g[Ke],_||(_=this.g[Ke]=[],this.h++);var ft=_e(_,U,me,Oe);return-1<ft?(U=_[ft],X||(U.fa=!1)):(U=new be(U,this.src,Ke,!!me,Oe),U.fa=X,_.push(U)),U};function Be(_,U){var X=U.type;if(X in _.g){var me=_.g[X],Oe=Array.prototype.indexOf.call(me,U,void 0),Ke;(Ke=0<=Oe)&&Array.prototype.splice.call(me,Oe,1),Ke&&(ge(U),_.g[X].length==0&&(delete _.g[X],_.h--))}}function _e(_,U,X,me){for(var Oe=0;Oe<_.length;++Oe){var Ke=_[Oe];if(!Ke.da&&Ke.listener==U&&Ke.capture==!!X&&Ke.ha==me)return Oe}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ye={};function he(_,U,X,me,Oe){if(Array.isArray(U)){for(var Ke=0;Ke<U.length;Ke++)he(_,U[Ke],X,me,Oe);return null}return X=Ye(X),_&&_[ce]?_.K(U,X,c(me)?!!me.capture:!1,Oe):Je(_,U,X,!1,me,Oe)}function Je(_,U,X,me,Oe,Ke){if(!U)throw Error("Invalid event type");var ft=c(Oe)?!!Oe.capture:!!Oe,on=we(_);if(on||(_[Ae]=on=new Se(_)),X=on.add(U,X,me,ft,Ke),X.proxy)return X;if(me=qe(),X.proxy=me,me.src=_,me.listener=X,_.addEventListener)J||(Oe=ft),Oe===void 0&&(Oe=!1),_.addEventListener(U.toString(),me,Oe);else if(_.attachEvent)_.attachEvent(We(U.toString()),me);else if(_.addListener&&_.removeListener)_.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return X}function qe(){function _(X){return U.call(_.src,_.listener,X)}const U=de;return _}function je(_,U,X,me,Oe){if(Array.isArray(U))for(var Ke=0;Ke<U.length;Ke++)je(_,U[Ke],X,me,Oe);else me=c(me)?!!me.capture:!!me,X=Ye(X),_&&_[ce]?(_=_.i,U=String(U).toString(),U in _.g&&(Ke=_.g[U],X=_e(Ke,X,me,Oe),-1<X&&(ge(Ke[X]),Array.prototype.splice.call(Ke,X,1),Ke.length==0&&(delete _.g[U],_.h--)))):_&&(_=we(_))&&(U=_.g[U.toString()],_=-1,U&&(_=_e(U,X,me,Oe)),(X=-1<_?U[_]:null)&&De(X))}function De(_){if(typeof _!="number"&&_&&!_.da){var U=_.src;if(U&&U[ce])Be(U.i,_);else{var X=_.type,me=_.proxy;U.removeEventListener?U.removeEventListener(X,me,_.capture):U.detachEvent?U.detachEvent(We(X),me):U.addListener&&U.removeListener&&U.removeListener(me),(X=we(U))?(Be(X,_),X.h==0&&(X.src=null,U[Ae]=null)):ge(_)}}}function We(_){return _ in ye?ye[_]:ye[_]="on"+_}function de(_,U){if(_.da)_=!0;else{U=new Q(U,this);var X=_.listener,me=_.ha||_.src;_.fa&&De(_),_=X.call(me,U)}return _}function we(_){return _=_[Ae],_ instanceof Se?_:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ye(_){return typeof _=="function"?_:(_[ke]||(_[ke]=function(U){return _.handleEvent(U)}),_[ke])}function $e(){V.call(this),this.i=new Se(this),this.M=this,this.F=null}g($e,V),$e.prototype[ce]=!0,$e.prototype.removeEventListener=function(_,U,X,me){je(this,_,U,X,me)};function He(_,U){var X,me=_.F;if(me)for(X=[];me;me=me.F)X.push(me);if(_=_.M,me=U.type||U,typeof U=="string")U=new W(U,_);else if(U instanceof W)U.target=U.target||_;else{var Oe=U;U=new W(me,_),P(U,Oe)}if(Oe=!0,X)for(var Ke=X.length-1;0<=Ke;Ke--){var ft=U.g=X[Ke];Oe=ot(ft,me,!0,U)&&Oe}if(ft=U.g=_,Oe=ot(ft,me,!0,U)&&Oe,Oe=ot(ft,me,!1,U)&&Oe,X)for(Ke=0;Ke<X.length;Ke++)ft=U.g=X[Ke],Oe=ot(ft,me,!1,U)&&Oe}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var _=this.i,U;for(U in _.g){for(var X=_.g[U],me=0;me<X.length;me++)ge(X[me]);delete _.g[U],_.h--}}this.F=null},$e.prototype.K=function(_,U,X,me){return this.i.add(String(_),U,!1,X,me)},$e.prototype.L=function(_,U,X,me){return this.i.add(String(_),U,!0,X,me)};function ot(_,U,X,me){if(U=_.i.g[String(U)],!U)return!0;U=U.concat();for(var Oe=!0,Ke=0;Ke<U.length;++Ke){var ft=U[Ke];if(ft&&!ft.da&&ft.capture==X){var on=ft.listener,Cn=ft.ha||ft.src;ft.fa&&Be(_.i,ft),Oe=on.call(Cn,me)!==!1&&Oe}}return Oe&&!me.defaultPrevented}function dt(_,U,X){if(typeof _=="function")X&&(_=h(_,X));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(U)?-1:a.setTimeout(_,U||0)}function xt(_){_.g=dt(()=>{_.g=null,_.i&&(_.i=!1,xt(_))},_.l);const U=_.h;_.h=null,_.m.apply(null,U)}class st extends V{constructor(U,X){super(),this.m=U,this.l=X,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(_){V.call(this),this.h=_,this.g={}}g(jt,V);var Vt=[];function Hn(_){B(_.g,function(U,X){this.g.hasOwnProperty(X)&&De(U)},_),_.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Hn(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=a.JSON.stringify,fn=a.JSON.parse,lr=class{stringify(_){return a.JSON.stringify(_,void 0)}parse(_){return a.JSON.parse(_,void 0)}};function Kt(){}Kt.prototype.h=null;function Fr(_){return _.h||(_.h=_.i())}function _n(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){W.call(this,"d")}g(gn,W);function Yt(){W.call(this,"c")}g(Yt,W);var St={},Ht=null;function Fn(){return Ht=Ht||new $e}St.La="serverreachability";function hn(_){W.call(this,St.La,_)}g(hn,W);function Tn(_){const U=Fn();He(U,new hn(U))}St.STAT_EVENT="statevent";function fr(_,U){W.call(this,St.STAT_EVENT,_),this.stat=U}g(fr,W);function gt(_){const U=Fn();He(U,new fr(U,_))}St.Ma="timingevent";function Ct(_,U){W.call(this,St.Ma,_),this.size=U}g(Ct,W);function rn(_,U){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){_()},U)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function kn(_,U,X,me,Oe,Ke){_.info(function(){if(_.g)if(Ke)for(var ft="",on=Ke.split("&"),Cn=0;Cn<on.length;Cn++){var an=on[Cn].split("=");if(1<an.length){var Gn=an[0];an=an[1];var er=Gn.split("_");ft=2<=er.length&&er[1]=="type"?ft+(Gn+"="+an+"&"):ft+(Gn+"=redacted&")}}else ft=null;else ft=Ke;return"XMLHTTP REQ ("+me+") [attempt "+Oe+"]: "+U+`
`+X+`
`+ft})}function Dn(_,U,X,me,Oe,Ke,ft){_.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+Oe+"]: "+U+`
`+X+`
`+Ke+" "+ft})}function jn(_,U,X,me){_.info(function(){return"XMLHTTP TEXT ("+U+"): "+as(_,X)+(me?" "+me:"")})}function Oi(_,U){_.info(function(){return"TIMEOUT: "+U})}yn.prototype.info=function(){};function as(_,U){if(!_.g)return U;if(!U)return null;try{var X=JSON.parse(U);if(X){for(_=0;_<X.length;_++)if(Array.isArray(X[_])){var me=X[_];if(!(2>me.length)){var Oe=me[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var Ke=Oe[0];if(Ke!="noop"&&Ke!="stop"&&Ke!="close")for(var ft=1;ft<Oe.length;ft++)Oe[ft]=""}}}}return Ut(X)}catch{return U}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function ji(){}g(ji,Kt),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},jr=new ji;function Nr(_,U,X,me){this.j=_,this.i=U,this.l=X,this.R=me||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}var sa={},oa={};function aa(_,U,X){_.L=1,_.v=ua(wi(U)),_.m=X,_.P=!0,Ia(_,null)}function Ia(_,U){_.F=Date.now(),ir(_),_.A=wi(_.v);var X=_.A,me=_.R;Array.isArray(me)||(me=[String(me)]),$t(X.i,"t",me),_.C=0,X=_.j.J,_.h=new oo,_.g=ie(_.j,X?U:null,!_.m),0<_.O&&(_.M=new st(h(_.Y,_,_.g),_.O)),U=_.U,X=_.g,me=_.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(Vt[0]=Oe.toString()),Oe=Vt);for(var Ke=0;Ke<Oe.length;Ke++){var ft=he(X,Oe[Ke],me||U.handleEvent,!1,U.h||U);if(!ft)break;U.g[ft.key]=ft}U=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),U["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,U)):(_.u="GET",_.g.ea(_.A,_.u,null,U)),Tn(),kn(_.i,_.u,_.A,_.l,_.R,_.m)}Nr.prototype.ca=function(_){_=_.target;const U=this.M;U&&Ir(_)==3?U.j():this.Y(_)},Nr.prototype.Y=function(_){try{if(_==this.g)e:{const er=Ir(this.g);var U=this.g.Ba();const ds=this.g.Z();if(!(3>er)&&(er!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||er!=4||U==7||(U==8||0>=ds?Tn(3):Tn(2)),Do(this);var X=this.g.Z();this.X=X;t:if(vl(this)){var me=yu(this.g);_="";var Oe=me.length,Ke=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ps(this),la(this);var ft="";break t}this.h.i=new a.TextDecoder}for(U=0;U<Oe;U++)this.h.h=!0,_+=this.h.i.decode(me[U],{stream:!(Ke&&U==Oe-1)});me.length=0,this.h.g+=_,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=X==200,Dn(this.i,this.u,this.A,this.l,this.R,er,X),this.o){if(this.T&&!this.K){t:{if(this.g){var on,Cn=this.g;if((on=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(on)){var an=on;break t}}an=null}if(X=an)jn(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yl(this,X);else{this.o=!1,this.s=3,gt(12),Ps(this),la(this);break e}}if(this.P){X=!0;let Ci;for(;!this.J&&this.C<ft.length;)if(Ci=pd(this,ft),Ci==oa){er==4&&(this.s=4,gt(14),X=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==sa){this.s=4,gt(15),jn(this.i,this.l,ft,"[Invalid Chunk]"),X=!1;break}else jn(this.i,this.l,Ci,null),yl(this,Ci);if(vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),er!=4||ft.length!=0||this.h.h||(this.s=1,gt(16),X=!1),this.o=this.o&&X,!X)jn(this.i,this.l,ft,"[Invalid Chunked Response]"),Ps(this),la(this);else if(0<ft.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),xc(Gn),Gn.M=!0,gt(11))}}else jn(this.i,this.l,ft,null),yl(this,ft);er==4&&Ps(this),this.o&&!this.J&&(er==4?Vo(this.j,this):(this.o=!1,ir(this)))}else co(this.g),X==400&&0<ft.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Ps(this),la(this)}}}catch{}finally{}};function vl(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function pd(_,U){var X=_.C,me=U.indexOf(`
`,X);return me==-1?oa:(X=Number(U.substring(X,me)),isNaN(X)?sa:(me+=1,me+X>U.length?oa:(U=U.slice(me,me+X),_.C=me+X,U)))}Nr.prototype.cancel=function(){this.J=!0,Ps(this)};function ir(_){_.S=Date.now()+_.I,md(_,_.I)}function md(_,U){if(_.B!=null)throw Error("WatchDog timer not null");_.B=rn(h(_.ba,_),U)}function Do(_){_.B&&(a.clearTimeout(_.B),_.B=null)}Nr.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Oi(this.i,this.A),this.L!=2&&(Tn(),gt(17)),Ps(this),this.s=2,la(this)):md(this,this.S-_)};function la(_){_.j.G==0||_.J||Vo(_.j,_)}function Ps(_){Do(_);var U=_.M;U&&typeof U.ma=="function"&&U.ma(),_.M=null,Hn(_.U),_.g&&(U=_.g,_.g=null,U.abort(),U.ma())}function yl(_,U){try{var X=_.j;if(X.G!=0&&(X.g==_||xi(X.h,_))){if(!_.K&&xi(X.h,_)&&X.G==3){try{var me=X.Da.g.parse(U)}catch{me=null}if(Array.isArray(me)&&me.length==3){var Oe=me;if(Oe[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<_.F)pa(X),uo(X);else break e;Ua(X),gt(18)}}else X.za=Oe[1],0<X.za-X.T&&37500>Oe[2]&&X.F&&X.v==0&&!X.C&&(X.C=rn(h(X.Za,X),6e3));if(1>=xl(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else $i(X,11)}else if((_.K||X.g==_)&&pa(X),!E(U))for(Oe=X.Da.g.parse(U),U=0;U<Oe.length;U++){let an=Oe[U];if(X.T=an[0],an=an[1],X.G==2)if(an[0]=="c"){X.K=an[1],X.ia=an[2];const Gn=an[3];Gn!=null&&(X.la=Gn,X.j.info("VER="+X.la));const er=an[4];er!=null&&(X.Aa=er,X.j.info("SVER="+X.Aa));const ds=an[5];ds!=null&&typeof ds=="number"&&0<ds&&(me=1.5*ds,X.L=me,X.j.info("backChannelRequestTimeoutMs_="+me)),me=X;const Ci=_.g;if(Ci){const ma=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var Ke=me.h;Ke.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(pr(Ke,Ke.h),Ke.h=null))}if(me.D){const ga=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(me.ya=ga,Zn(me.I,me.D,ga))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-_.F,X.j.info("Handshake RTT: "+X.R+"ms")),me=X;var ft=_;if(me.qa=j(me,me.J?me.ia:null,me.W),ft.K){pu(me.h,ft);var on=ft,Cn=me.L;Cn&&(on.I=Cn),on.B&&(Do(on),ir(on)),me.g=ft}else ha(me);0<X.i.length&&jo(X)}else an[0]!="stop"&&an[0]!="close"||$i(X,7);else X.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?$i(X,7):Er(X):an[0]!="noop"&&X.l&&X.l.ta(an),X.v=0)}}Tn(4)}catch{}}var gd=class{constructor(_,U){this.g=_,this.map=U}};function Da(_){this.l=_||10,a.PerformanceNavigationTiming?(_=a.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ls(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function xl(_){return _.h?1:_.g?_.g.size:0}function xi(_,U){return _.h?_.h==U:_.g?_.g.has(U):!1}function pr(_,U){_.g?_.g.add(U):_.h=U}function pu(_,U){_.h&&_.h==U?_.h=null:_.g&&_.g.has(U)&&_.g.delete(U)}Da.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function mu(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let U=_.i;for(const X of _.g.values())U=U.concat(X.D);return U}return v(_.i)}function bl(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var U=[],X=_.length,me=0;me<X;me++)U.push(_[me]);return U}U=[],X=0;for(me in _)U[X++]=_[me];return U}function Ra(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var U=[];_=_.length;for(var X=0;X<_;X++)U.push(X);return U}U=[],X=0;for(const me in _)U[X++]=me;return U}}}function Ma(_,U){if(_.forEach&&typeof _.forEach=="function")_.forEach(U,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,U,void 0);else for(var X=Ra(_),me=bl(_),Oe=me.length,Ke=0;Ke<Oe;Ke++)U.call(void 0,me[Ke],X&&X[Ke],_)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pc(_,U){if(_){_=_.split("&");for(var X=0;X<_.length;X++){var me=_[X].indexOf("="),Oe=null;if(0<=me){var Ke=_[X].substring(0,me);Oe=_[X].substring(me+1)}else Ke=_[X];U(Ke,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function Lr(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Lr){this.h=_.h,Oa(this,_.j),this.o=_.o,this.g=_.g,Fa(this,_.s),this.l=_.l;var U=_.i,X=new ao;X.i=U.i,U.g&&(X.g=new Map(U.g),X.h=U.h),ca(this,X),this.m=_.m}else _&&(U=String(_).match(bi))?(this.h=!1,Oa(this,U[1]||"",!0),this.o=wn(U[2]||""),this.g=wn(U[3]||"",!0),Fa(this,U[4]),this.l=wn(U[5]||"",!0),ca(this,U[6]||"",!0),this.m=wn(U[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}Lr.prototype.toString=function(){var _=[],U=this.j;U&&_.push(Ro(U,mc,!0),":");var X=this.g;return(X||U=="file")&&(_.push("//"),(U=this.o)&&_.push(Ro(U,mc,!0),"@"),_.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&_.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&_.push("/"),_.push(Ro(X,X.charAt(0)=="/"?Mo:yd,!0))),(X=this.i.toString())&&_.push("?",X),(X=this.m)&&_.push("#",Ro(X,ja)),_.join("")};function wi(_){return new Lr(_)}function Oa(_,U,X){_.j=X?wn(U,!0):U,_.j&&(_.j=_.j.replace(/:$/,""))}function Fa(_,U){if(U){if(U=Number(U),isNaN(U)||0>U)throw Error("Bad port number "+U);_.s=U}else _.s=null}function ca(_,U,X){U instanceof ao?(_.i=U,Oo(_.i,_.h)):(X||(U=Ro(U,wl)),_.i=new ao(U,_.h))}function Zn(_,U,X){_.i.set(U,X)}function ua(_){return Zn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function wn(_,U){return _?U?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ro(_,U,X){return typeof _=="string"?(_=encodeURI(_).replace(U,vd),X&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function vd(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var mc=/[#\/\?@]/g,yd=/[#\?:]/g,Mo=/[#\?]/g,wl=/[#\?@]/g,ja=/#/g;function ao(_,U){this.h=this.g=null,this.i=_||null,this.j=!!U}function Bn(_){_.g||(_.g=new Map,_.h=0,_.i&&pc(_.i,function(U,X){_.add(decodeURIComponent(U.replace(/\+/g," ")),X)}))}t=ao.prototype,t.add=function(_,U){Bn(this),this.i=null,_=Ls(this,_);var X=this.g.get(_);return X||this.g.set(_,X=[]),X.push(U),this.h+=1,this};function lo(_,U){Bn(_),U=Ls(_,U),_.g.has(U)&&(_.i=null,_.h-=_.g.get(U).length,_.g.delete(U))}function Ns(_,U){return Bn(_),U=Ls(_,U),_.g.has(U)}t.forEach=function(_,U){Bn(this),this.g.forEach(function(X,me){X.forEach(function(Oe){_.call(U,Oe,me,this)},this)},this)},t.na=function(){Bn(this);const _=Array.from(this.g.values()),U=Array.from(this.g.keys()),X=[];for(let me=0;me<U.length;me++){const Oe=_[me];for(let Ke=0;Ke<Oe.length;Ke++)X.push(U[me])}return X},t.V=function(_){Bn(this);let U=[];if(typeof _=="string")Ns(this,_)&&(U=U.concat(this.g.get(Ls(this,_))));else{_=Array.from(this.g.values());for(let X=0;X<_.length;X++)U=U.concat(_[X])}return U},t.set=function(_,U){return Bn(this),this.i=null,_=Ls(this,_),Ns(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[U]),this.h+=1,this},t.get=function(_,U){return _?(_=this.V(_),0<_.length?String(_[0]):U):U};function $t(_,U,X){lo(_,U),0<X.length&&(_.i=null,_.g.set(Ls(_,U),v(X)),_.h+=X.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],U=Array.from(this.g.keys());for(var X=0;X<U.length;X++){var me=U[X];const Ke=encodeURIComponent(String(me)),ft=this.V(me);for(me=0;me<ft.length;me++){var Oe=Ke;ft[me]!==""&&(Oe+="="+encodeURIComponent(String(ft[me]))),_.push(Oe)}}return this.i=_.join("&")};function Ls(_,U){return U=String(U),_.j&&(U=U.toLowerCase()),U}function Oo(_,U){U&&!_.j&&(Bn(_),_.i=null,_.g.forEach(function(X,me){var Oe=me.toLowerCase();me!=Oe&&(lo(this,me),$t(this,Oe,X))},_)),_.j=U}function Fo(_,U){const X=new yn;if(a.Image){const me=new Image;me.onload=p(Ei,X,"TestLoadImage: loaded",!0,U,me),me.onerror=p(Ei,X,"TestLoadImage: error",!1,U,me),me.onabort=p(Ei,X,"TestLoadImage: abort",!1,U,me),me.ontimeout=p(Ei,X,"TestLoadImage: timeout",!1,U,me),a.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=_}else U(!1)}function gu(_,U){const X=new yn,me=new AbortController,Oe=setTimeout(()=>{me.abort(),Ei(X,"TestPingServer: timeout",!1,U)},1e4);fetch(_,{signal:me.signal}).then(Ke=>{clearTimeout(Oe),Ke.ok?Ei(X,"TestPingServer: ok",!0,U):Ei(X,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(Oe),Ei(X,"TestPingServer: error",!1,U)})}function Ei(_,U,X,me,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),me(X)}catch{}}function gc(){this.g=new lr}function vc(_,U,X){const me=X||"";try{Ma(_,function(Oe,Ke){let ft=Oe;c(Oe)&&(ft=Ut(Oe)),U.push(me+Ke+"="+encodeURIComponent(ft))})}catch(Oe){throw U.push(me+"type="+encodeURIComponent("_badmap")),Oe}}function da(_){this.l=_.Ub||null,this.j=_.eb||!1}g(da,Kt),da.prototype.g=function(){return new El(this.l,this.j)},da.prototype.i=function(_){return function(){return _}}({});function El(_,U){$e.call(this),this.D=_,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(El,$e),t=El.prototype,t.open=function(_,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=U,this.readyState=1,Si(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const U={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(U.body=_),(this.D||a).fetch(new Request(this.A,U)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xd(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function xd(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var U=_.value?_.value:new Uint8Array(0);(U=this.v.decode(U,{stream:!_.done}))&&(this.response=this.responseText+=U)}_.done?cs(this):Si(this),this.readyState==3&&xd(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,cs(this))},t.Qa=function(_){this.g&&(this.response=_,cs(this))},t.ga=function(){this.g&&cs(this)};function cs(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Si(_)}t.setRequestHeader=function(_,U){this.u.append(_,U)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],U=this.h.entries();for(var X=U.next();!X.done;)X=X.value,_.push(X[0]+": "+X[1]),X=U.next();return _.join(`\r
`)};function Si(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Bi(_){let U="";return B(_,function(X,me){U+=me,U+=":",U+=X,U+=`\r
`}),U}function Ba(_,U,X){e:{for(me in X){var me=!1;break e}me=!0}me||(X=Bi(X),typeof _=="string"?X!=null&&encodeURIComponent(String(X)):Zn(_,U,X))}function Wn(_){$e.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Wn,$e);var vu=/^https?$/i,Va=["POST","PUT"];t=Wn.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,U,X,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);U=U?U.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?Fr(this.o):Fr(jr),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(U,String(_),!0),this.B=!1}catch(Ke){$a(this,Ke);return}if(_=X||"",X=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var Oe in me)X.set(Oe,me[Oe]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const Ke of me.keys())X.set(Ke,me.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(X.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),Oe=a.FormData&&_ instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Va,U,void 0))||me||Oe||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,ft]of X)this.g.setRequestHeader(Ke,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(_),this.u=!1}catch(Ke){$a(this,Ke)}};function $a(_,U){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=U,_.m=5,Sl(_),Vi(_)}function Sl(_){_.A||(_.A=!0,He(_,"complete"),He(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,He(this,"complete"),He(this,"abort"),Vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Wn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yc(this):this.bb())},t.bb=function(){yc(this)};function yc(_){if(_.h&&typeof o<"u"&&(!_.v[1]||Ir(_)!=4||_.Z()!=2)){if(_.u&&Ir(_)==4)dt(_.Ea,0,_);else if(He(_,"readystatechange"),Ir(_)==4){_.h=!1;try{const ft=_.Z();e:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var X;if(!(X=U)){var me;if(me=ft===0){var Oe=String(_.D).match(bi)[1]||null;!Oe&&a.self&&a.self.location&&(Oe=a.self.location.protocol.slice(0,-1)),me=!vu.test(Oe?Oe.toLowerCase():"")}X=me}if(X)He(_,"complete"),He(_,"success");else{_.m=6;try{var Ke=2<Ir(_)?_.g.statusText:""}catch{Ke=""}_.l=Ke+" ["+_.Z()+"]",Sl(_)}}finally{Vi(_)}}}}function Vi(_,U){if(_.g){us(_);const X=_.g,me=_.v[0]?()=>{}:null;_.g=null,_.v=null,U||He(_,"ready");try{X.onreadystatechange=me}catch{}}}function us(_){_.I&&(a.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Ir(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var U=this.g.responseText;return _&&U.indexOf(_)==0&&(U=U.substring(_.length)),fn(U)}};function yu(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function co(_){const U={};_=(_.g&&2<=Ir(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<_.length;me++){if(E(_[me]))continue;var X=N(_[me]);const Oe=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const Ke=U[Oe]||[];U[Oe]=Ke,Ke.push(X)}R(U,function(me){return me.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(_,U,X){return X&&X.internalChannelParams&&X.internalChannelParams[_]||U}function Cl(_){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,_),this.cb=Hr("retryDelaySeedMs",1e4,_),this.Wa=Hr("forwardChannelMaxRetries",2,_),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Da(_&&_.concurrentRequestLimit),this.Da=new gc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cl.prototype,t.la=8,t.G=1,t.connect=function(_,U,X,me){gt(0),this.W=_,this.H=U||{},X&&me!==void 0&&(this.H.OSID=X,this.H.OAID=me),this.F=this.X,this.I=j(this,null,this.W),jo(this)};function Er(_){if(fa(_),_.G==3){var U=_.U++,X=wi(_.I);if(Zn(X,"SID",_.K),Zn(X,"RID",U),Zn(X,"TYPE","terminate"),Bo(_,X),U=new Nr(_,_.j,U),U.L=2,U.v=ua(wi(X)),X=!1,a.navigator&&a.navigator.sendBeacon)try{X=a.navigator.sendBeacon(U.v.toString(),"")}catch{}!X&&a.Image&&(new Image().src=U.v,X=!0),X||(U.g=ie(U.j,null),U.g.ea(U.v)),U.F=Date.now(),ir(U)}wc(_)}function uo(_){_.g&&(xc(_),_.g.cancel(),_.g=null)}function fa(_){uo(_),_.u&&(a.clearTimeout(_.u),_.u=null),pa(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&a.clearTimeout(_.s),_.s=null)}function jo(_){if(!ls(_.h)&&!_.s){_.s=!0;var U=_.Ga;ee||se(),Y||(ee(),Y=!0),oe.add(U,_),_.B=0}}function xu(_,U){return xl(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=U.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=rn(h(_.Ga,_,U),bc(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Oe=new Nr(this,this.j,_);let Ke=this.o;if(this.S&&(Ke?(Ke=S(Ke),P(Ke,this.S)):Ke=this.S),this.m!==null||this.O||(Oe.H=Ke,Ke=null),this.P)e:{for(var U=0,X=0;X<this.i.length;X++){t:{var me=this.i[X];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(U+=me,4096<U){U=X;break e}if(U===4096||X===this.i.length-1){U=X+1;break e}}U=1e3}else U=1e3;U=fo(this,Oe,U),X=wi(this.I),Zn(X,"RID",_),Zn(X,"CVER",22),this.D&&Zn(X,"X-HTTP-Session-Id",this.D),Bo(this,X),Ke&&(this.O?U="headers="+encodeURIComponent(String(Bi(Ke)))+"&"+U:this.m&&Ba(X,this.m,Ke)),pr(this.h,Oe),this.Ua&&Zn(X,"TYPE","init"),this.P?(Zn(X,"$req",U),Zn(X,"SID","null"),Oe.T=!0,aa(Oe,X,null)):aa(Oe,X,U),this.G=2}}else this.G==3&&(_?za(this,_):this.i.length==0||ls(this.h)||za(this))};function za(_,U){var X;U?X=U.l:X=_.U++;const me=wi(_.I);Zn(me,"SID",_.K),Zn(me,"RID",X),Zn(me,"AID",_.T),Bo(_,me),_.m&&_.o&&Ba(me,_.m,_.o),X=new Nr(_,_.j,X,_.B+1),_.m===null&&(X.H=_.o),U&&(_.i=U.D.concat(_.i)),U=fo(_,X,1e3),X.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),pr(_.h,X),aa(X,me,U)}function Bo(_,U){_.H&&B(_.H,function(X,me){Zn(U,me,X)}),_.l&&Ma({},function(X,me){Zn(U,me,X)})}function fo(_,U,X){X=Math.min(_.i.length,X);var me=_.l?h(_.l.Na,_.l,_):null;e:{var Oe=_.i;let Ke=-1;for(;;){const ft=["count="+X];Ke==-1?0<X?(Ke=Oe[0].g,ft.push("ofs="+Ke)):Ke=0:ft.push("ofs="+Ke);let on=!0;for(let Cn=0;Cn<X;Cn++){let an=Oe[Cn].g;const Gn=Oe[Cn].map;if(an-=Ke,0>an)Ke=Math.max(0,Oe[Cn].g-100),on=!1;else try{vc(Gn,ft,"req"+an+"_")}catch{me&&me(Gn)}}if(on){me=ft.join("&");break e}}}return _=_.i.splice(0,X),U.D=_,me}function ha(_){if(!_.g&&!_.u){_.Y=1;var U=_.Fa;ee||se(),Y||(ee(),Y=!0),oe.add(U,_),_.v=0}}function Ua(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=rn(h(_.Fa,_),bc(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=rn(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),uo(this),bd(this))};function xc(_){_.A!=null&&(a.clearTimeout(_.A),_.A=null)}function bd(_){_.g=new Nr(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var U=wi(_.qa);Zn(U,"RID","rpc"),Zn(U,"SID",_.K),Zn(U,"AID",_.T),Zn(U,"CI",_.F?"0":"1"),!_.F&&_.ja&&Zn(U,"TO",_.ja),Zn(U,"TYPE","xmlhttp"),Bo(_,U),_.m&&_.o&&Ba(U,_.m,_.o),_.L&&(_.g.I=_.L);var X=_.g;_=_.ia,X.L=1,X.v=ua(wi(U)),X.m=null,X.P=!0,Ia(X,_)}t.Za=function(){this.C!=null&&(this.C=null,uo(this),Ua(this),gt(19))};function pa(_){_.C!=null&&(a.clearTimeout(_.C),_.C=null)}function Vo(_,U){var X=null;if(_.g==U){pa(_),xc(_),_.g=null;var me=2}else if(xi(_.h,U))X=U.D,pu(_.h,U),me=1;else return;if(_.G!=0){if(U.o)if(me==1){X=U.m?U.m.length:0,U=Date.now()-U.F;var Oe=_.B;me=Fn(),He(me,new Ct(me,X)),jo(_)}else ha(_);else if(Oe=U.s,Oe==3||Oe==0&&0<U.X||!(me==1&&xu(_,U)||me==2&&Ua(_)))switch(X&&0<X.length&&(U=_.h,U.i=U.i.concat(X)),Oe){case 1:$i(_,5);break;case 4:$i(_,10);break;case 3:$i(_,6);break;default:$i(_,2)}}}function bc(_,U){let X=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(X*=2),X*U}function $i(_,U){if(_.j.info("Error code "+U),U==2){var X=h(_.fb,_),me=_.Xa;const Oe=!me;me=new Lr(me||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Oa(me,"https"),ua(me),Oe?Fo(me.toString(),X):gu(me.toString(),X)}else gt(2);_.G=0,_.l&&_.l.sa(U),wc(_),fa(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function wc(_){if(_.G=0,_.ka=[],_.l){const U=mu(_.h);(U.length!=0||_.i.length!=0)&&(y(_.ka,U),y(_.ka,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.ra()}}function j(_,U,X){var me=X instanceof Lr?wi(X):new Lr(X);if(me.g!="")U&&(me.g=U+"."+me.g),Fa(me,me.s);else{var Oe=a.location;me=Oe.protocol,U=U?U+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var Ke=new Lr(null);me&&Oa(Ke,me),U&&(Ke.g=U),Oe&&Fa(Ke,Oe),X&&(Ke.l=X),me=Ke}return X=_.D,U=_.ya,X&&U&&Zn(me,X,U),Zn(me,"VER",_.la),Bo(_,me),me}function ie(_,U,X){if(U&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return U=_.Ca&&!_.pa?new Wn(new da({eb:X})):new Wn(_.pa),U.Ha(_.J),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ee(){}t=Ee.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(_,U){return new Ve(_,U)};function Ve(_,U){$e.call(this),this.g=new Cl(U),this.l=_,this.h=U&&U.messageUrlParams||null,_=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(_?_["X-WebChannel-Content-Type"]=U.messageContentType:_={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.va&&(_?_["X-WebChannel-Client-Profile"]=U.va:_={"X-WebChannel-Client-Profile":U.va}),this.g.S=_,(_=U&&U.Sb)&&!E(_)&&(this.g.m=_),this.v=U&&U.supportsCrossDomainXhr||!1,this.u=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!E(U)&&(this.g.D=U,_=this.h,_!==null&&U in _&&(_=this.h,U in _&&delete _[U])),this.j=new bt(this)}g(Ve,$e),Ve.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ve.prototype.close=function(){Er(this.g)},Ve.prototype.o=function(_){var U=this.g;if(typeof _=="string"){var X={};X.__data__=_,_=X}else this.u&&(X={},X.__data__=Ut(_),_=X);U.i.push(new gd(U.Ya++,_)),U.G==3&&jo(U)},Ve.prototype.N=function(){this.g.l=null,delete this.j,Er(this.g),delete this.g,Ve.aa.N.call(this)};function et(_){gn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var U=_.__sm__;if(U){e:{for(const X in U){_=X;break e}_=void 0}(this.i=_)&&(_=this.i,U=U!==null&&_ in U?U[_]:void 0),this.data=U}else this.data=_}g(et,gn);function ut(){Yt.call(this),this.status=1}g(ut,Yt);function bt(_){this.g=_}g(bt,Ee),bt.prototype.ua=function(){He(this.g,"a")},bt.prototype.ta=function(_){He(this.g,new et(_))},bt.prototype.sa=function(_){He(this.g,new ut)},bt.prototype.ra=function(){He(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Ve.prototype.send=Ve.prototype.o,Ve.prototype.open=Ve.prototype.m,Ve.prototype.close=Ve.prototype.close,rF=function(){return new Te},nF=function(){return Fn()},tF=St,_C={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Mx=Fi,ks.COMPLETE="complete",eF=ks,_n.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,y0=_n,Wn.prototype.listenOnce=Wn.prototype.L,Wn.prototype.getLastError=Wn.prototype.Ka,Wn.prototype.getLastErrorCode=Wn.prototype.Ba,Wn.prototype.getStatus=Wn.prototype.Z,Wn.prototype.getResponseJson=Wn.prototype.Oa,Wn.prototype.getResponseText=Wn.prototype.oa,Wn.prototype.send=Wn.prototype.ea,Wn.prototype.setWithCredentials=Wn.prototype.Ha,Z8=Wn}).apply(typeof h1<"u"?h1:typeof self<"u"?self:typeof window<"u"?window:{});const n3="@firebase/firestore",r3="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ks.UNAUTHENTICATED=new Ks(null),Ks.GOOGLE_CREDENTIALS=new Ks("google-credentials-uid"),Ks.FIRST_PARTY=new Ks("first-party-uid"),Ks.MOCK_USER=new Ks("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new q_("@firebase/firestore");function sm(){return rp.logLevel}function kt(t,...e){if(rp.logLevel<=Nn.DEBUG){const n=e.map(K_);rp.debug(`Firestore (${gg}): ${t}`,...n)}}function ad(t,...e){if(rp.logLevel<=Nn.ERROR){const n=e.map(K_);rp.error(`Firestore (${gg}): ${t}`,...n)}}function qm(t,...e){if(rp.logLevel<=Nn.WARN){const n=e.map(K_);rp.warn(`Firestore (${gg}): ${t}`,...n)}}function K_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iF(t,r,n)}function iF(t,e,n){let r=`FIRESTORE (${gg}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ad(r),new Error(r)}function ar(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iF(e,i,r)}function mn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends fd{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ks.UNAUTHENTICATED))}shutdown(){}}class AJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _J{constructor(e){this.t=e,this.currentUser=Ks.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ar(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Zu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ar(typeof r.accessToken=="string",31837,{l:r}),new sF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ar(e===null||typeof e=="string",2055,{h:e}),new Ks(e)}}class TJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ks.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kJ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TJ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ks.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PJ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ar(this.o===void 0,3512);const r=s=>{s.error!=null&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,kt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new i3(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ar(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new i3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NJ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Sn(t,e){return t<e?-1:t>e?1:0}function TC(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Sn(r,i);{const s=oF(),o=LJ(s.encode(s3(t,n)),s.encode(s3(e,n)));return o!==0?o:Sn(r,i)}}n+=r>65535?2:1}return Sn(t.length,e.length)}function s3(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LJ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Sn(t[n],e[n]);return Sn(t.length,e.length)}function Hm(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=-62135596800,a3=1e6;class Di{static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a3);return new Di(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<o3)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a3}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-o3;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{static fromTimestamp(e){return new un(e)}static min(){return new un(new Di(0,0))}static max(){return new un(new Di(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="__name__";class Oc{constructor(e,n,r){n===void 0?n=0:n>e.length&&tn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Oc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Oc.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Sn(e.length,n.length)}static compareSegments(e,n){const r=Oc.isNumericId(e),i=Oc.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Oc.extractNumericId(e).compare(Oc.extractNumericId(n)):TC(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tf.fromString(e.substring(4,e.length-2))}}class kr extends Oc{construct(e,n,r){return new kr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Nt(ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kr(n)}static emptyPath(){return new kr([])}}const IJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class As extends Oc{construct(e,n,r){return new As(e,n,r)}static isValidIdentifier(e){return IJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),As.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l3}static keyField(){return new As([l3])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Nt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Nt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Nt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Nt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new As(n)}static emptyPath(){return new As([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.path=e}static fromPath(e){return new zt(kr.fromString(e))}static fromName(e){return new zt(kr.fromString(e).popFirst(5))}static empty(){return new zt(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new zt(new kr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-1;function DJ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=un.fromTimestamp(r===1e9?new Di(n+1,0):new Di(n,r));return new Rf(i,zt.empty(),e)}function RJ(t){return new Rf(t.readTime,t.key,sv)}class Rf{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rf(un.min(),zt.empty(),sv)}static max(){return new Rf(un.max(),zt.empty(),sv)}}function MJ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=zt.comparator(t.documentKey,e.documentKey),n!==0?n:Sn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(t){if(t.code!==ct.FAILED_PRECONDITION||t.message!==OJ)throw t;kt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new lt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.reject(n)}static resolve(e){return new lt((n,r)=>{n(e)})}static reject(e){return new lt((n,r)=>{r(e)})}static waitFor(e){return new lt((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=lt.resolve(!1);for(const r of e)n=n.next(i=>i?lt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new lt((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new lt((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jJ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}j2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=-1;function B2(t){return t==null}function pb(t){return t===0&&1/t==-1/0}function BJ(t){return typeof t=="number"&&Number.isInteger(t)&&!pb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="";function VJ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c3(e)),e=$J(t.get(n),e);return c3(e)}function $J(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case lF:n+="";break;default:n+=s}}return n}function c3(t){return t+lF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.comparator=e,this.root=n||Es.EMPTY}insert(e,n){return new qr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Es.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new p1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new p1(this.root,e,this.comparator,!1)}getReverseIterator(){return new p1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new p1(this.root,e,this.comparator,!0)}}class p1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Es{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Es.RED,this.left=i??Es.EMPTY,this.right=s??Es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Es(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Es.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}Es.EMPTY=null,Es.RED=!0,Es.BLACK=!1;Es.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Es(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d3(this.data.getIterator())}getIteratorFrom(e){return new d3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ri(this.comparator);return n.data=e,n}}class d3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.fields=e,e.sort(As.comparator)}static empty(){return new _a([])}unionWith(e){let n=new Ri(As.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _a(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hm(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uF("Invalid base64 string: "+s):s}}(e);return new _s(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _s(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_s.EMPTY_BYTE_STRING=new _s("");const zJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mf(t){if(ar(!!t,39018),typeof t=="string"){let e=0;const n=zJ.exec(t);if(ar(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:si(t.seconds),nanos:si(t.nanos)}}function si(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Of(t){return typeof t=="string"?_s.fromBase64String(t):_s.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="server_timestamp",fF="__type__",hF="__previous_value__",pF="__local_write_time__";function X_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[fF])===null||n===void 0?void 0:n.stringValue)===dF}function V2(t){const e=t.mapValue.fields[hF];return X_(e)?V2(e):e}function ov(t){const e=Mf(t.mapValue.fields[pF].timestampValue);return new Di(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const mb="(default)";class av{constructor(e,n){this.projectId=e,this.database=n||mb}static empty(){return new av("","")}get isDefaultDatabase(){return this.database===mb}isEqual(e){return e instanceof av&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="__type__",qJ="__max__",m1={mapValue:{}},gF="__vector__",gb="value";function Ff(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?X_(t)?4:WJ(t)?9007199254740991:HJ(t)?10:11:tn(28295,{value:t})}function tu(t,e){if(t===e)return!0;const n=Ff(t);if(n!==Ff(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ov(t).isEqual(ov(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mf(i.timestampValue),a=Mf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Of(i.bytesValue).isEqual(Of(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return si(i.geoPointValue.latitude)===si(s.geoPointValue.latitude)&&si(i.geoPointValue.longitude)===si(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return si(i.integerValue)===si(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=si(i.doubleValue),a=si(s.doubleValue);return o===a?pb(o)===pb(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Hm(t.arrayValue.values||[],e.arrayValue.values||[],tu);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(u3(o)!==u3(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!tu(o[l],a[l])))return!1;return!0}(t,e);default:return tn(52216,{left:t})}}function lv(t,e){return(t.values||[]).find(n=>tu(n,e))!==void 0}function Wm(t,e){if(t===e)return 0;const n=Ff(t),r=Ff(e);if(n!==r)return Sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sn(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=si(s.integerValue||s.doubleValue),l=si(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return f3(t.timestampValue,e.timestampValue);case 4:return f3(ov(t),ov(e));case 5:return TC(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Of(s),l=Of(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Sn(a[c],l[c]);if(u!==0)return u}return Sn(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Sn(si(s.latitude),si(o.latitude));return a!==0?a:Sn(si(s.longitude),si(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return h3(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const f=s.fields||{},h=o.fields||{},p=(a=f[gb])===null||a===void 0?void 0:a.arrayValue,g=(l=h[gb])===null||l===void 0?void 0:l.arrayValue,v=Sn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:h3(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===m1.mapValue&&o===m1.mapValue)return 0;if(s===m1.mapValue)return 1;if(o===m1.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=TC(l[f],u[f]);if(h!==0)return h;const p=Wm(a[l[f]],c[u[f]]);if(p!==0)return p}return Sn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw tn(23264,{Pe:n})}}function f3(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Sn(t,e);const n=Mf(t),r=Mf(e),i=Sn(n.seconds,r.seconds);return i!==0?i:Sn(n.nanos,r.nanos)}function h3(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Wm(n[i],r[i]);if(s)return s}return Sn(n.length,r.length)}function Gm(t){return kC(t)}function kC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mf(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Of(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return zt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kC(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kC(n.fields[o])}`;return i+"}"}(t.mapValue):tn(61005,{value:t})}function Ox(t){switch(Ff(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=V2(t);return e?16+Ox(e):16;case 5:return 2*t.stringValue.length;case 6:return Of(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ox(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xf(r.fields,(s,o)=>{i+=s.length+Ox(o)}),i}(t.mapValue);default:throw tn(13486,{value:t})}}function p3(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function PC(t){return!!t&&"integerValue"in t}function J_(t){return!!t&&"arrayValue"in t}function m3(t){return!!t&&"nullValue"in t}function g3(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fx(t){return!!t&&"mapValue"in t}function HJ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mF])===null||n===void 0?void 0:n.stringValue)===gF}function I0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=I0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=I0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WJ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.value=e}static empty(){return new Zo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=I0(n)}setAll(e){let n=As.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=I0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xf(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zo(I0(this.value))}}function vF(t){const e=[];return Xf(t.fields,(n,r)=>{const i=new As([n]);if(Fx(r)){const s=vF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _a(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ys(e,0,un.min(),un.min(),un.min(),Zo.empty(),0)}static newFoundDocument(e,n,r,i){return new Ys(e,1,n,un.min(),r,i,0)}static newNoDocument(e,n){return new Ys(e,2,n,un.min(),un.min(),Zo.empty(),0)}static newUnknownDocument(e,n){return new Ys(e,3,n,un.min(),un.min(),Zo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(un.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.position=e,this.inclusive=n}}function v3(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=zt.comparator(zt.fromName(o.referenceValue),n.key):r=Wm(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y3(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n="asc"){this.field=e,this.dir=n}}function GJ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{}class pi extends yF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YJ(e,n,r):n==="array-contains"?new QJ(e,r):n==="in"?new ZJ(e,r):n==="not-in"?new eQ(e,r):n==="array-contains-any"?new tQ(e,r):new pi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XJ(e,r):new JJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wm(n,this.value)):n!==null&&Ff(this.value)===Ff(n)&&this.matchesComparison(Wm(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nc extends yF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new nc(e,n)}matches(e){return xF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function xF(t){return t.op==="and"}function bF(t){return KJ(t)&&xF(t)}function KJ(t){for(const e of t.filters)if(e instanceof nc)return!1;return!0}function NC(t){if(t instanceof pi)return t.field.canonicalString()+t.op.toString()+Gm(t.value);if(bF(t))return t.filters.map(e=>NC(e)).join(",");{const e=t.filters.map(n=>NC(n)).join(",");return`${t.op}(${e})`}}function wF(t,e){return t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.field.isEqual(i.field)&&tu(r.value,i.value)}(t,e):t instanceof nc?function(r,i){return i instanceof nc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&wF(o,i.filters[a]),!0):!1}(t,e):void tn(19439)}function EF(t){return t instanceof pi?function(n){return`${n.field.canonicalString()} ${n.op} ${Gm(n.value)}`}(t):t instanceof nc?function(n){return n.op.toString()+" {"+n.getFilters().map(EF).join(" ,")+"}"}(t):"Filter"}class YJ extends pi{constructor(e,n,r){super(e,n,r),this.key=zt.fromName(r.referenceValue)}matches(e){const n=zt.comparator(e.key,this.key);return this.matchesComparison(n)}}class XJ extends pi{constructor(e,n){super(e,"in",n),this.keys=SF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JJ extends pi{constructor(e,n){super(e,"not-in",n),this.keys=SF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>zt.fromName(r.referenceValue))}class QJ extends pi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return J_(n)&&lv(n.arrayValue,this.value)}}class ZJ extends pi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lv(this.value.arrayValue,n)}}class eQ extends pi{constructor(e,n){super(e,"not-in",n)}matches(e){if(lv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lv(this.value.arrayValue,n)}}class tQ extends pi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!J_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function x3(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nQ(t,e,n,r,i,s,o)}function Q_(t){const e=mn(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>NC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),B2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gm(r)).join(",")),e.Ie=n}return e.Ie}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GJ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y3(t.startAt,e.startAt)&&y3(t.endAt,e.endAt)}function LC(t){return zt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rQ(t,e,n,r,i,s,o,a){return new Qv(t,e,n,r,i,s,o,a)}function eT(t){return new Qv(t)}function b3(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CF(t){return t.collectionGroup!==null}function D0(t){const e=mn(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ri(As.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new yb(s,r))}),n.has(As.keyField().canonicalString())||e.Ee.push(new yb(As.keyField(),r))}return e.Ee}function qc(t){const e=mn(t);return e.de||(e.de=iQ(e,D0(t))),e.de}function iQ(t,e){if(t.limitType==="F")return x3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new yb(i.field,s)});const n=t.endAt?new vb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vb(t.startAt.position,t.startAt.inclusive):null;return x3(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function IC(t,e){const n=t.filters.concat([e]);return new Qv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function DC(t,e,n){return new Qv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $2(t,e){return Z_(qc(t),qc(e))&&t.limitType===e.limitType}function AF(t){return`${Q_(qc(t))}|lt:${t.limitType}`}function om(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>EF(i)).join(", ")}]`),B2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gm(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gm(i)).join(",")),`Target(${r})`}(qc(t))}; limitType=${t.limitType})`}function z2(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):zt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of D0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=v3(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,D0(r),i)||r.endAt&&!function(o,a,l){const c=v3(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,D0(r),i))}(t,e)}function sQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _F(t){return(e,n)=>{let r=!1;for(const i of D0(t)){const s=oQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oQ(t,e,n){const r=t.field.isKeyField()?zt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Wm(l,c):tn(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xf(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ=new qr(zt.comparator);function ld(){return aQ}const TF=new qr(zt.comparator);function x0(...t){let e=TF;for(const n of t)e=e.insert(n.key,n);return e}function kF(t){let e=TF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rh(){return R0()}function PF(){return R0()}function R0(){return new yp(t=>t.toString(),(t,e)=>t.isEqual(e))}const lQ=new qr(zt.comparator),cQ=new Ri(zt.comparator);function Ln(...t){let e=cQ;for(const n of t)e=e.add(n);return e}const uQ=new Ri(Sn);function dQ(){return uQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pb(e)?"-0":e}}function NF(t){return{integerValue:""+t}}function fQ(t,e){return BJ(e)?NF(e):tT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this._=void 0}}function hQ(t,e,n){return t instanceof xb?function(i,s){const o={fields:{[fF]:{stringValue:dF},[pF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&X_(s)&&(s=V2(s)),s&&(o.fields[hF]=s),{mapValue:o}}(n,e):t instanceof cv?IF(t,e):t instanceof uv?DF(t,e):function(i,s){const o=LF(i,s),a=w3(o)+w3(i.Re);return PC(o)&&PC(i.Re)?NF(a):tT(i.serializer,a)}(t,e)}function pQ(t,e,n){return t instanceof cv?IF(t,e):t instanceof uv?DF(t,e):n}function LF(t,e){return t instanceof bb?function(r){return PC(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class xb extends U2{}class cv extends U2{constructor(e){super(),this.elements=e}}function IF(t,e){const n=RF(e);for(const r of t.elements)n.some(i=>tu(i,r))||n.push(r);return{arrayValue:{values:n}}}class uv extends U2{constructor(e){super(),this.elements=e}}function DF(t,e){let n=RF(e);for(const r of t.elements)n=n.filter(i=>!tu(i,r));return{arrayValue:{values:n}}}class bb extends U2{constructor(e,n){super(),this.serializer=e,this.Re=n}}function w3(t){return si(t.integerValue||t.doubleValue)}function RF(t){return J_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mQ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cv&&i instanceof cv||r instanceof uv&&i instanceof uv?Hm(r.elements,i.elements,tu):r instanceof bb&&i instanceof bb?tu(r.Re,i.Re):r instanceof xb&&i instanceof xb}(t.transform,e.transform)}class gQ{constructor(e,n){this.version=e,this.transformResults=n}}class ul{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ul}static exists(e){return new ul(void 0,e)}static updateTime(e){return new ul(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class q2{}function MF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nT(t.key,ul.none()):new Zv(t.key,t.data,ul.none());{const n=t.data,r=Zo.empty();let i=new Ri(As.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jf(t.key,r,new _a(i.toArray()),ul.none())}}function vQ(t,e,n){t instanceof Zv?function(i,s,o){const a=i.value.clone(),l=S3(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jf?function(i,s,o){if(!jx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=S3(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OF(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function M0(t,e,n,r){return t instanceof Zv?function(s,o,a,l){if(!jx(s.precondition,o))return a;const c=s.value.clone(),u=C3(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jf?function(s,o,a,l){if(!jx(s.precondition,o))return a;const c=C3(s.fieldTransforms,l,o),u=o.data;return u.setAll(OF(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return jx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=LF(r.transform,i||null);s!=null&&(n===null&&(n=Zo.empty()),n.set(r.field,s))}return n||null}function E3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hm(r,i,(s,o)=>mQ(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zv extends q2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jf extends q2{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S3(t,e,n){const r=new Map;ar(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,pQ(o,a,n[i]))}return r}function C3(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hQ(s,o,e))}return r}class nT extends q2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xQ extends q2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=M0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=M0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PF();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MF(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(un.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ln())}isEqual(e){return this.batchId===e.batchId&&Hm(this.mutations,e.mutations,(n,r)=>E3(n,r))&&Hm(this.baseMutations,e.baseMutations,(n,r)=>E3(n,r))}}class rT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ar(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return lQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new rT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,zn;function SQ(t){switch(t){case ct.OK:return tn(64938);case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return tn(15467,{code:t})}}function FF(t){if(t===void 0)return ad("GRPC error has no .code"),ct.UNKNOWN;switch(t){case fi.OK:return ct.OK;case fi.CANCELLED:return ct.CANCELLED;case fi.UNKNOWN:return ct.UNKNOWN;case fi.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case fi.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case fi.INTERNAL:return ct.INTERNAL;case fi.UNAVAILABLE:return ct.UNAVAILABLE;case fi.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case fi.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case fi.NOT_FOUND:return ct.NOT_FOUND;case fi.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case fi.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case fi.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case fi.ABORTED:return ct.ABORTED;case fi.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case fi.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case fi.DATA_LOSS:return ct.DATA_LOSS;default:return tn(39323,{code:t})}}(zn=fi||(fi={}))[zn.OK=0]="OK",zn[zn.CANCELLED=1]="CANCELLED",zn[zn.UNKNOWN=2]="UNKNOWN",zn[zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zn[zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zn[zn.NOT_FOUND=5]="NOT_FOUND",zn[zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",zn[zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",zn[zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",zn[zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zn[zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zn[zn.ABORTED=10]="ABORTED",zn[zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",zn[zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",zn[zn.INTERNAL=13]="INTERNAL",zn[zn.UNAVAILABLE=14]="UNAVAILABLE",zn[zn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=new Tf([4294967295,4294967295],0);function A3(t){const e=oF().encode(t),n=new Q8;return n.update(e),new Uint8Array(n.digest())}function _3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Tf([n,r],0),new Tf([i,s],0)]}class iT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new b0(`Invalid padding: ${n}`);if(r<0)throw new b0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new b0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new b0(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Tf.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Tf.fromNumber(r)));return i.compare(CQ)===1&&(i=new Tf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=A3(e),[r,i]=_3(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=A3(e),[r,i]=_3(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class b0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ey.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new H2(un.min(),i,new qr(Sn),ld(),Ln())}}class ey{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ey(r,n,Ln(),Ln(),Ln())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class jF{constructor(e,n){this.targetId=e,this.Ce=n}}class BF{constructor(e,n,r=_s.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T3{constructor(){this.Fe=0,this.Me=k3(),this.xe=_s.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ln(),n=Ln(),r=Ln();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tn(38017,{changeType:s})}}),new ey(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=k3()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ar(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AQ{constructor(e){this.ze=e,this.je=new Map,this.He=ld(),this.Je=g1(),this.Ye=g1(),this.Ze=new qr(Sn)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:tn(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(LC(s))if(r===0){const o=new zt(s.path);this.tt(n,o,Ys.newNoDocument(o,un.min()))}else ar(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Of(r).toUint8Array()}catch(l){if(l instanceof uF)return qm("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new iT(o,i,s)}catch(l){return qm(l instanceof b0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&LC(a.target)){const l=new zt(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ys.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Ln();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new H2(e,n,this.Ze,this.He,r);return this.He=ld(),this.Je=g1(),this.Ye=g1(),this.Ze=new qr(Sn),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new T3,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ri(Sn),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ri(Sn),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||kt("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new T3),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function g1(){return new qr(zt.comparator)}function k3(){return new qr(zt.comparator)}const _Q={asc:"ASCENDING",desc:"DESCENDING"},TQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kQ={and:"AND",or:"OR"};class PQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function RC(t,e){return t.useProto3Json||B2(e)?e:{value:e}}function wb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NQ(t,e){return wb(t,e.toTimestamp())}function Hc(t){return ar(!!t,49232),un.fromTimestamp(function(n){const r=Mf(n);return new Di(r.seconds,r.nanos)}(t))}function sT(t,e){return MC(t,e).canonicalString()}function MC(t,e){const n=function(i){return new kr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $F(t){const e=kr.fromString(t);return ar(WF(e),10190,{key:e.toString()}),e}function OC(t,e){return sT(t.databaseId,e.path)}function lE(t,e){const n=$F(e);if(n.get(1)!==t.databaseId.projectId)throw new Nt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Nt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zt(UF(n))}function zF(t,e){return sT(t.databaseId,e)}function LQ(t){const e=$F(t);return e.length===4?kr.emptyPath():UF(e)}function FC(t){return new kr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UF(t){return ar(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function P3(t,e,n){return{name:OC(t,e),fields:n.value.mapValue.fields}}function IQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:tn(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ar(u===void 0||typeof u=="string",58123),_s.fromBase64String(u||"")):(ar(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),_s.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?ct.UNKNOWN:FF(c.code);return new Nt(u,c.message||"")}(o);n=new BF(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lE(t,r.document.name),s=Hc(r.document.updateTime),o=r.document.createTime?Hc(r.document.createTime):un.min(),a=new Zo({mapValue:{fields:r.document.fields}}),l=Ys.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Bx(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lE(t,r.document),s=r.readTime?Hc(r.readTime):un.min(),o=Ys.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bx([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lE(t,r.document),s=r.removedTargetIds||[];n=new Bx([],s,i,null)}else{if(!("filter"in e))return tn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new EQ(i,s),a=r.targetId;n=new jF(a,o)}}return n}function DQ(t,e){let n;if(e instanceof Zv)n={update:P3(t,e.key,e.value)};else if(e instanceof nT)n={delete:OC(t,e.key)};else if(e instanceof Jf)n={update:P3(t,e.key,e.data),updateMask:zQ(e.fieldMask)};else{if(!(e instanceof xQ))return tn(16599,{ft:e.type});n={verify:OC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof xb)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bb)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw tn(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:NQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:tn(27497)}(t,e.precondition)),n}function RQ(t,e){return t&&t.length>0?(ar(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Hc(i.updateTime):Hc(s);return o.isEqual(un.min())&&(o=Hc(s)),new gQ(o,i.transformResults||[])}(n,e))):[]}function MQ(t,e){return{documents:[zF(t,e.path)]}}function OQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zF(t,i);const s=function(c){if(c.length!==0)return HF(nc.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:am(h.field),direction:BQ(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=RC(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function FQ(t){let e=LQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ar(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(f){const h=qF(f);return h instanceof nc&&bF(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(g){return new yb(lm(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,B2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new vb(p,h)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new vb(p,h)}(n.endAt)),rQ(e,i,o,s,a,"F",l,c)}function jQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lm(n.unaryFilter.field);return pi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lm(n.unaryFilter.field);return pi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lm(n.unaryFilter.field);return pi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lm(n.unaryFilter.field);return pi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}}(t):t.fieldFilter!==void 0?function(n){return pi.create(lm(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nc.create(n.compositeFilter.filters.map(r=>qF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tn(1026)}}(n.compositeFilter.op))}(t):tn(30097,{filter:t})}function BQ(t){return _Q[t]}function VQ(t){return TQ[t]}function $Q(t){return kQ[t]}function am(t){return{fieldPath:t.canonicalString()}}function lm(t){return As.fromServerFormat(t.fieldPath)}function HF(t){return t instanceof pi?function(n){if(n.op==="=="){if(g3(n.value))return{unaryFilter:{field:am(n.field),op:"IS_NAN"}};if(m3(n.value))return{unaryFilter:{field:am(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(g3(n.value))return{unaryFilter:{field:am(n.field),op:"IS_NOT_NAN"}};if(m3(n.value))return{unaryFilter:{field:am(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:am(n.field),op:VQ(n.op),value:n.value}}}(t):t instanceof nc?function(n){const r=n.getFilters().map(i=>HF(i));return r.length===1?r[0]:{compositeFilter:{op:$Q(n.op),filters:r}}}(t):tn(54877,{filter:t})}function zQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i,s=un.min(),o=un.min(),a=_s.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.wt=e}}function qQ(t){const e=FQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?DC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(){this.yn=new WQ}addToCollectionParentIndex(e,n){return this.yn.add(n),lt.resolve()}getCollectionParents(e,n){return lt.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return lt.resolve()}deleteFieldIndex(e,n){return lt.resolve()}deleteAllFieldIndexes(e){return lt.resolve()}createTargetIndexes(e,n){return lt.resolve()}getDocumentsMatchingTarget(e,n){return lt.resolve(null)}getIndexType(e,n){return lt.resolve(0)}getFieldIndexes(e,n){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,n){return lt.resolve(Rf.min())}getMinOffsetFromCollectionGroup(e,n){return lt.resolve(Rf.min())}updateCollectionGroup(e,n,r){return lt.resolve()}updateIndexEntries(e,n){return lt.resolve()}}class WQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ri(kr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ri(kr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GF=41943040;class Jo{static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(GF,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Km(0)}static ir(){return new Km(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3="LruGarbageCollector",GQ=1048576;function I3([t,e],[n,r]){const i=Sn(t,n);return i===0?Sn(e,r):i}class KQ{constructor(e){this.cr=e,this.buffer=new Ri(I3),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I3(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YQ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){kt(L3,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yg(n)?kt(L3,"Ignoring IndexedDB error during garbage collection: ",n):await vg(n)}await this.Ir(3e5)})}}class XQ{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return lt.resolve(j2.le);const r=new KQ(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(kt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(N3)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(kt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N3):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(kt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),sm()<=Nn.DEBUG&&kt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function JQ(t,e){return new XQ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.changes=new yp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ys.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?lt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&M0(r.mutation,i,_a.empty(),Di.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ln()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ln()){const i=Rh();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=x0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rh();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ln()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ld();const o=R0(),a=function(){return R0()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Jf)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),M0(u.mutation,c,u.mutation.getFieldMask(),Di.now())):o.set(c.key,_a.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var f;return a.set(c,new ZQ(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=R0();let i=new qr((o,a)=>o-a),s=Ln();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||_a.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||Ln()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=PF();u.forEach(h=>{if(!s.has(h)){const p=MF(n.get(h),r.get(h));p!==null&&f.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return lt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return zt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):lt.resolve(Rh());let a=sv,l=s;return o.next(c=>lt.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?lt.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ln())).next(u=>({batchId:a,changes:kF(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new zt(n)).next(r=>{let i=x0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=x0();return this.indexManager.getCollectionParents(e,s).next(a=>lt.forEach(a,l=>{const c=function(f,h){return new Qv(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ys.newInvalidDocument(u)))});let a=x0();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&M0(u.mutation,c,_a.empty(),Di.now()),z2(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return lt.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hc(i.createTime)}}(n)),lt.resolve()}getNamedQuery(e,n){return lt.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:qQ(i.bundledQuery),readTime:Hc(i.readTime)}}(n)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(){this.overlays=new qr(zt.comparator),this.Or=new Map}getOverlay(e,n){return lt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rh();return lt.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),lt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),lt.resolve()}getOverlaysForCollection(e,n,r){const i=Rh(),s=n.length+1,o=new zt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return lt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Rh(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Rh(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return lt.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wQ(n,r));let s=this.Or.get(n);s===void 0&&(s=Ln(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.sessionToken=_s.EMPTY_BYTE_STRING}getSessionToken(e){return lt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Nr=new Ri(Yi.Br),this.Lr=new Ri(Yi.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Yi(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Yi(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new zt(new kr([])),r=new Yi(n,e),i=new Yi(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new zt(new kr([])),r=new Yi(n,e),i=new Yi(n,e+1);let s=Ln();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Yi(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yi{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return zt.comparator(e.key,n.key)||Sn(e.Gr,n.Gr)}static kr(e,n){return Sn(e.Gr,n.Gr)||zt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ri(Yi.Br)}checkEmpty(e){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bQ(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Yi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return lt.resolve(o)}lookupMutationBatch(e,n){return lt.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return lt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Y_:this.Jn-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yi(n,0),i=new Yi(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),lt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ri(Sn);return n.forEach(i=>{const s=new Yi(i,0),o=new Yi(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),lt.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;zt.isDocumentKey(s)||(s=s.child(""));const o=new Yi(new zt(s),0);let a=new Ri(Sn);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Gr)),!0)},o),lt.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ar(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return lt.forEach(n.mutations,i=>{const s=new Yi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Yi(n,0),i=this.zr.firstAfterOrEqual(r);return lt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,lt.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.Zr=e,this.docs=function(){return new qr(zt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return lt.resolve(r?r.document.mutableCopy():Ys.newInvalidDocument(n))}getEntries(e,n){let r=ld();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ys.newInvalidDocument(i))}),lt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ld();const o=n.path,a=new zt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MJ(RJ(u),r)<=0||(i.has(u.key)||z2(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return lt.resolve(s)}getAllFromCollectionGroup(e,n,r,i){tn(9500)}Xr(e,n){return lt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oZ(this)}getSize(e){return lt.resolve(this.size)}}class oZ extends QQ{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),lt.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e){this.persistence=e,this.ei=new yp(n=>Q_(n),Z_),this.lastRemoteSnapshotVersion=un.min(),this.highestTargetId=0,this.ti=0,this.ni=new oT,this.targetCount=0,this.ri=Km.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),lt.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Km(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,lt.resolve()}updateTargetData(e,n){return this.ar(n),lt.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),lt.waitFor(s).next(()=>i)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return lt.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),lt.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),lt.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),lt.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return lt.resolve(r)}containsKey(e,n){return lt.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.ii={},this.overlays={},this.si=new j2(0),this.oi=!1,this.oi=!0,this._i=new rZ,this.referenceDelegate=e(this),this.ai=new aZ(this),this.indexManager=new HQ,this.remoteDocumentCache=function(i){return new sZ(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new UQ(n),this.ci=new tZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new iZ(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){kt("MemoryPersistence","Starting transaction:",e);const i=new lZ(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return lt.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class lZ extends FJ{constructor(e){super(),this.currentSequenceNumber=e}}class aT{constructor(e){this.persistence=e,this.Ti=new oT,this.Ii=null}static Ei(e){return new aT(e)}get di(){if(this.Ii)return this.Ii;throw tn(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),lt.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),lt.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.di,r=>{const i=zt.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,un.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return lt.or([()=>lt.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Eb{constructor(e,n){this.persistence=e,this.Ri=new yp(r=>VJ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JQ(this,n)}static Ei(e,n){return new Eb(e,n)}li(){}hi(e){return lt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return lt.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?lt.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,un.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),lt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),lt.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),lt.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),lt.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ox(e.data.value)),n}gr(e,n,r){return lt.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return lt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Ln(),i=Ln();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return iX()?8:jJ(eo())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cZ;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(sm()<=Nn.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",om(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),lt.resolve()):(sm()<=Nn.DEBUG&&kt("QueryEngine","Query:",om(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(sm()<=Nn.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",om(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qc(n))):lt.resolve())}Rs(e,n){if(b3(n))return lt.resolve(null);let r=qc(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=DC(n,null,"F"),r=qc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ln(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(n,a);return this.ys(n,c,o,l.readTime)?this.Rs(e,DC(n,null,"F")):this.ws(e,c,n,l)}))})))}Vs(e,n,r,i){return b3(n)||i.isEqual(un.min())?lt.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?lt.resolve(null):(sm()<=Nn.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),om(n)),this.ws(e,o,n,DJ(i,sv)).next(a=>a))})}ps(e,n){let r=new Ri(_F(e));return n.forEach((i,s)=>{z2(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return sm()<=Nn.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",om(n)),this.As.getDocumentsMatchingQuery(e,n,Rf.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LocalStore",dZ=3e8;class fZ{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new qr(Sn),this.Ds=new yp(s=>Q_(s),Z_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eZ(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function hZ(t,e,n,r){return new fZ(t,e,n,r)}async function YF(t,e){const n=mn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ln();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function pZ(t,e){const n=mn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,h=f.keys();let p=lt.resolve();return h.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(v=>{const y=c.docVersions.get(g);ar(y!==null,48541),v.version.compareTo(y)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ln();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XF(t){const e=mn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function mZ(t,e){const n=mn(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((u,f)=>{const h=i.get(f);if(!h)return;a.push(n.ai.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.ai.addMatchingKeys(s,u.addedDocuments,f)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(_s.EMPTY_BYTE_STRING,un.min()).withLastLimboFreeSnapshotVersion(un.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(v,y,w){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=dZ?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,u)&&a.push(n.ai.updateTargetData(s,p))});let l=ld(),c=Ln();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(gZ(s,o,e.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!r.isEqual(un.min())){const u=n.ai.getLastRemoteSnapshotVersion(s).next(f=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return lt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ss=i,s))}function gZ(t,e,n){let r=Ln(),i=Ln();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ld();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(un.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):kt(cT,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function vZ(t,e){const n=mn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Y_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yZ(t,e){const n=mn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,lt.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new vf(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function jC(t,e,n){const r=mn(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yg(o))throw o;kt(cT,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function D3(t,e,n){const r=mn(t);let i=un.min(),s=Ln();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=mn(l),h=f.Ds.get(u);return h!==void 0?lt.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(r,o,qc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:un.min(),n?s:Ln())).next(a=>(xZ(r,sQ(e),a),{documents:a,Ns:s})))}function xZ(t,e,n){let r=t.vs.get(e)||un.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class R3{constructor(){this.activeTargetIds=dQ()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bZ{constructor(){this.So=new R3,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new R3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="ConnectivityMonitor";class O3{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){kt(M3,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){kt(M3,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1=null;function BC(){return v1===null?v1=function(){return 268435456+Math.round(2147483648*Math.random())}():v1++,"0x"+v1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="RestConnection",EZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SZ{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===mb?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=BC(),a=this.$o(e,n.toUriEncodedString());kt(cE,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,s),this.Ko(e,a,l,r).then(c=>(kt(cE,`Received RPC '${e}' ${o}: `,c),c),c=>{throw qm(cE,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gg}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=EZ[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="WebChannelConnection";class AZ extends SZ{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const s=BC();return new Promise((o,a)=>{const l=new Z8;l.setWithCredentials(!0),l.listenOnce(eF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mx.NO_ERROR:const u=l.getResponseJson();kt(Vs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Mx.TIMEOUT:kt(Vs,`RPC '${e}' ${s} timed out`),a(new Nt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Mx.HTTP_ERROR:const f=l.getStatus();if(kt(Vs,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(w)>=0?w:ct.UNKNOWN}(p.status);a(new Nt(g,p.message))}else a(new Nt(ct.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Nt(ct.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{kt(Vs,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);kt(Vs,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}a_(e,n,r){const i=BC(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rF(),a=nF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");kt(Vs,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let h=!1,p=!1;const g=new CZ({Go:y=>{p?kt(Vs,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(h||(kt(Vs,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),kt(Vs,`RPC '${e}' stream ${i} sending:`,y),f.send(y))},zo:()=>f.close()}),v=(y,w,E)=>{y.listen(w,T=>{try{E(T)}catch(I){setTimeout(()=>{throw I},0)}})};return v(f,y0.EventType.OPEN,()=>{p||(kt(Vs,`RPC '${e}' stream ${i} transport opened.`),g.t_())}),v(f,y0.EventType.CLOSE,()=>{p||(p=!0,kt(Vs,`RPC '${e}' stream ${i} transport closed`),g.r_())}),v(f,y0.EventType.ERROR,y=>{p||(p=!0,qm(Vs,`RPC '${e}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),g.r_(new Nt(ct.UNAVAILABLE,"The operation could not be completed")))}),v(f,y0.EventType.MESSAGE,y=>{var w;if(!p){const E=y.data[0];ar(!!E,16349);const T=E,I=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(I){kt(Vs,`RPC '${e}' stream ${i} received error:`,I);const F=I.status;let B=function(k){const P=fi[k];if(P!==void 0)return FF(P)}(F),R=I.message;B===void 0&&(B=ct.INTERNAL,R="Unknown error status: "+F+" with message "+I.message),p=!0,g.r_(new Nt(B,R)),f.close()}else kt(Vs,`RPC '${e}' stream ${i} received:`,E),g.i_(E)}}),v(a,tF.STAT_EVENT,y=>{y.stat===_C.PROXY?kt(Vs,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===_C.NOPROXY&&kt(Vs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function uE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t){return new PQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&kt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="PersistentStream";class QF{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new JF(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ct.RESOURCE_EXHAUSTED?(ad(n.toString()),ad("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Nt(ct.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return kt(F3,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(kt(F3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _Z extends QF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=IQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return un.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?un.min():o.readTime?Hc(o.readTime):un.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=FC(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=LC(l)?{documents:MQ(s,l)}:{query:OQ(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VF(s,o.resumeToken);const c=RC(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(un.min())>0){a.readTime=wb(s,o.snapshotVersion.toTimestamp());const c=RC(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=jQ(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=FC(this.serializer),n.removeTarget=e,this.F_(n)}}class TZ extends QF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ar(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ar(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ar(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=RQ(e.writeResults,e.commitTime),r=Hc(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=FC(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DQ(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{}class PZ extends kZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Nt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,MC(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Nt(ct.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,MC(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Nt(ct.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class NZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ad(n),this.ea=!1):kt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RemoteStore";class LZ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{xp(this)&&(kt(ip,"Restarting streams for network reachability change."),await async function(l){const c=mn(l);c.aa.add(4),await ty(c),c.la.set("Unknown"),c.aa.delete(4),await G2(c)}(this))})}),this.la=new NZ(r,i)}}async function G2(t){if(xp(t))for(const e of t.ua)await e(!0)}async function ty(t){for(const e of t.ua)await e(!1)}function ZF(t,e){const n=mn(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),hT(n)?fT(n):xg(n).b_()&&dT(n,e))}function uT(t,e){const n=mn(t),r=xg(n);n._a.delete(e),r.b_()&&ej(n,e),n._a.size===0&&(r.b_()?r.v_():xp(n)&&n.la.set("Unknown"))}function dT(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(un.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xg(t).U_(e)}function ej(t,e){t.ha.Ke(e),xg(t).K_(e)}function fT(t){t.ha=new AQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xg(t).start(),t.la.ta()}function hT(t){return xp(t)&&!xg(t).w_()&&t._a.size>0}function xp(t){return mn(t).aa.size===0}function tj(t){t.ha=void 0}async function IZ(t){t.la.set("Online")}async function DZ(t){t._a.forEach((e,n)=>{dT(t,e)})}async function RZ(t,e){tj(t),hT(t)?(t.la.ia(e),fT(t)):t.la.set("Unknown")}async function MZ(t,e,n){if(t.la.set("Online"),e instanceof BF&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){kt(ip,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sb(t,r)}else if(e instanceof Bx?t.ha.Xe(e):e instanceof jF?t.ha.ot(e):t.ha.nt(e),!n.isEqual(un.min()))try{const r=await XF(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s._a.get(c);u&&s._a.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s._a.get(l);if(!u)return;s._a.set(l,u.withResumeToken(_s.EMPTY_BYTE_STRING,u.snapshotVersion)),ej(s,l);const f=new vf(u.target,l,c,u.sequenceNumber);dT(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){kt(ip,"Failed to raise snapshot:",r),await Sb(t,r)}}async function Sb(t,e,n){if(!yg(e))throw e;t.aa.add(1),await ty(t),t.la.set("Offline"),n||(n=()=>XF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{kt(ip,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await G2(t)})}function nj(t,e){return e().catch(n=>Sb(t,n,e))}async function K2(t){const e=mn(t),n=jf(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Y_;for(;OZ(e);)try{const i=await vZ(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,FZ(e,i)}catch(i){await Sb(e,i)}rj(e)&&ij(e)}function OZ(t){return xp(t)&&t.oa.length<10}function FZ(t,e){t.oa.push(e);const n=jf(t);n.b_()&&n.W_&&n.G_(e.mutations)}function rj(t){return xp(t)&&!jf(t).w_()&&t.oa.length>0}function ij(t){jf(t).start()}async function jZ(t){jf(t).H_()}async function BZ(t){const e=jf(t);for(const n of t.oa)e.G_(n.mutations)}async function VZ(t,e,n){const r=t.oa.shift(),i=rT.from(r,e,n);await nj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await K2(t)}async function $Z(t,e){e&&jf(t).W_&&await async function(r,i){if(function(o){return SQ(o)&&o!==ct.ABORTED}(i.code)){const s=r.oa.shift();jf(r).D_(),await nj(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await K2(r)}}(t,e),rj(t)&&ij(t)}async function j3(t,e){const n=mn(t);n.asyncQueue.verifyOperationInProgress(),kt(ip,"RemoteStore received new credentials");const r=xp(n);n.aa.add(3),await ty(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await G2(n)}async function zZ(t,e){const n=mn(t);e?(n.aa.delete(2),await G2(n)):e||(n.aa.add(2),await ty(n),n.la.set("Unknown"))}function xg(t){return t.Pa||(t.Pa=function(n,r,i){const s=mn(n);return s.Y_(),new _Z(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:IZ.bind(null,t),Jo:DZ.bind(null,t),Zo:RZ.bind(null,t),Q_:MZ.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),hT(t)?fT(t):t.la.set("Unknown")):(await t.Pa.stop(),tj(t))})),t.Pa}function jf(t){return t.Ta||(t.Ta=function(n,r,i){const s=mn(n);return s.Y_(),new TZ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:jZ.bind(null,t),Zo:$Z.bind(null,t),z_:BZ.bind(null,t),j_:VZ.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await K2(t)):(await t.Ta.stop(),t.oa.length>0&&(kt(ip,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new pT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mT(t,e){if(ad("AsyncQueue",`${e}: ${t}`),yg(t))return new Nt(ct.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{static emptySet(e){return new Tm(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||zt.comparator(n.key,r.key):(n,r)=>zt.comparator(n.key,r.key),this.keyedMap=x0(),this.sortedSet=new qr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tm)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.Ia=new qr(zt.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):tn(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ym{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ym(e,n,Tm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class qZ{constructor(){this.queries=V3(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=mn(n),s=i.queries;i.queries=V3(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new Nt(ct.ABORTED,"Firestore shutting down"))}}function V3(){return new yp(t=>AF(t),$2)}async function sj(t,e){const n=mn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new UZ,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=mT(o,`Initialization of query '${om(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&gT(n)}async function oj(t,e){const n=mn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HZ(t,e){const n=mn(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&gT(n)}function WZ(t,e,n){const r=mn(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function gT(t){t.fa.forEach(e=>{e.next()})}var VC,$3;($3=VC||(VC={})).ya="default",$3.Cache="cache";class aj{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ym(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ym.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==VC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.key=e}}class cj{constructor(e){this.key=e}}class GZ{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ln(),this.mutatedKeys=Ln(),this.Ua=_F(e),this.Ka=new Tm(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new B3,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const h=i.get(u),p=z2(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;h&&p?h.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),y=!0):this.ja(h,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),y=!0):h&&!p&&(r.track({type:1,doc:h}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((u,f)=>function(p,g){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Vt:y})}};return v(p)-v(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new Ym(this.query,e.Ka,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new B3,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ln(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new cj(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new lj(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Ln();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ym.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vT="SyncEngine";class KZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YZ{constructor(e){this.key=e,this.tu=!1}}class XZ{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new yp(a=>AF(a),$2),this.iu=new Map,this.su=new Set,this.ou=new qr(zt.comparator),this._u=new Map,this.au=new oT,this.uu={},this.cu=new Map,this.lu=Km.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function JZ(t,e,n=!0){const r=mj(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await uj(r,e,n,!0),i}async function QZ(t,e){const n=mj(t);await uj(n,e,!0,!1)}async function uj(t,e,n,r){const i=await yZ(t.localStore,qc(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await ZZ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ZF(t.remoteStore,i),a}async function ZZ(t,e,n,r,i){t.Pu=(f,h,p)=>async function(v,y,w,E){let T=y.view.Ga(w);T.ys&&(T=await D3(v.localStore,y.query,!1).then(({documents:R})=>y.view.Ga(R,T)));const I=E&&E.targetChanges.get(y.targetId),F=E&&E.targetMismatches.get(y.targetId)!=null,B=y.view.applyChanges(T,v.isPrimaryClient,I,F);return U3(v,y.targetId,B.Ya),B.snapshot}(t,f,h,p);const s=await D3(t.localStore,e,!0),o=new GZ(e,s.Ns),a=o.Ga(s.documents),l=ey.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);U3(t,n,c.Ya);const u=new KZ(e,n,o);return t.ru.set(e,u),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function eee(t,e,n){const r=mn(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!$2(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&uT(r.remoteStore,i.targetId),$C(r,i.targetId)}).catch(vg)):($C(r,i.targetId),await jC(r.localStore,i.targetId,!0))}async function tee(t,e){const n=mn(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),uT(n.remoteStore,r.targetId))}async function nee(t,e,n){const r=cee(t);try{const i=await function(o,a){const l=mn(o),c=Di.now(),u=a.reduce((p,g)=>p.add(g.key),Ln());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ld(),v=Ln();return l.Cs.getEntries(p,u).next(y=>{g=y,g.forEach((w,E)=>{E.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{f=y;const w=[];for(const E of a){const T=yQ(E,f.get(E.key).overlayedDocument);T!=null&&w.push(new Jf(E.key,T,vF(T.value.mapValue),ul.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(y=>{h=y;const w=y.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,w)})}).then(()=>({batchId:h.batchId,changes:kF(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.uu[o.currentUser.toKey()];c||(c=new qr(Sn)),c=c.insert(a,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,n),await ny(r,i.changes),await K2(r.remoteStore)}catch(i){const s=mT(i,"Failed to persist write");n.reject(s)}}async function dj(t,e){const n=mn(t);try{const r=await mZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(ar(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?ar(o.tu,14607):i.removedDocuments.size>0&&(ar(o.tu,42227),o.tu=!1))}),await ny(n,r,e)}catch(r){await vg(r)}}function z3(t,e,n){const r=mn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=mn(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(a)&&(c=!0)}),c&&gT(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ree(t,e,n){const r=mn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new qr(zt.comparator);o=o.insert(s,Ys.newNoDocument(s,un.min()));const a=Ln().add(s),l=new H2(un.min(),new Map,new qr(Sn),o,a);await dj(r,l),r.ou=r.ou.remove(s),r._u.delete(e),yT(r)}else await jC(r.localStore,e,!1).then(()=>$C(r,e,n)).catch(vg)}async function iee(t,e){const n=mn(t),r=e.batch.batchId;try{const i=await pZ(n.localStore,e);hj(n,r,null),fj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ny(n,i)}catch(i){await vg(i)}}async function see(t,e,n){const r=mn(t);try{const i=await function(o,a){const l=mn(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(ar(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);hj(r,e,n),fj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ny(r,i)}catch(i){await vg(i)}}function fj(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function hj(t,e,n){const r=mn(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function $C(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||pj(t,r)})}function pj(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(uT(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),yT(t))}function U3(t,e,n){for(const r of n)r instanceof lj?(t.au.addReference(r.key,e),oee(t,r)):r instanceof cj?(kt(vT,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||pj(t,r.key)):tn(19791,{Iu:r})}function oee(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(kt(vT,"New document in limbo: "+n),t.su.add(r),yT(t))}function yT(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new zt(kr.fromString(e)),r=t.lu.next();t._u.set(r,new YZ(n)),t.ou=t.ou.insert(n,r),ZF(t.remoteStore,new vf(qc(eT(n.path)),r,"TargetPurposeLimboResolution",j2.le))}}async function ny(t,e,n){const r=mn(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=lT.Ps(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,c){const u=mn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>lt.forEach(c,h=>lt.forEach(h.ls,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>lt.forEach(h.hs,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!yg(f))throw f;kt(cT,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ss.get(h),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,v)}}}(r.localStore,s))}async function aee(t,e){const n=mn(t);if(!n.currentUser.isEqual(e)){kt(vT,"User change. New user:",e.toKey());const r=await YF(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new Nt(ct.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ny(n,r.Ms)}}function lee(t,e){const n=mn(t),r=n._u.get(e);if(r&&r.tu)return Ln().add(r.key);{let i=Ln();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function mj(t){const e=mn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ree.bind(null,e),e.nu.Q_=HZ.bind(null,e.eventManager),e.nu.Tu=WZ.bind(null,e.eventManager),e}function cee(t){const e=mn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=see.bind(null,e),e}class Cb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=W2(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return hZ(this.persistence,new uZ,e.initialUser,this.serializer)}Ru(e){return new KF(aT.Ei,this.serializer)}Au(e){return new bZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cb.provider={build:()=>new Cb};class uee extends Cb{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ar(this.persistence.referenceDelegate instanceof Eb,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YQ(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new KF(r=>Eb.Ei(r,n),this.serializer)}}class zC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aee.bind(null,this.syncEngine),await zZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qZ}()}createDatastore(e){const n=W2(e.databaseInfo.databaseId),r=function(s){return new AZ(s)}(e.databaseInfo);return function(s,o,a,l){return new PZ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new LZ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>z3(this.syncEngine,n,0),function(){return O3.C()?new O3:new wZ}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const f=new XZ(i,s,o,a,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=mn(i);kt(ip,"RemoteStore shutting down."),s.aa.add(5),await ty(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zC.provider={build:()=>new zC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ad("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="FirestoreClient";class dee{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ks.UNAUTHENTICATED,this.clientId=aF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{kt(Bf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(kt(Bf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dE(t,e){t.asyncQueue.verifyOperationInProgress(),kt(Bf,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fee(t);kt(Bf,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>j3(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>j3(e.remoteStore,i)),t._onlineComponents=e}async function fee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){kt(Bf,"Using user provided OfflineComponentProvider");try{await dE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qm("Error using user provided cache. Falling back to memory cache: "+n),await dE(t,new Cb)}}else kt(Bf,"Using default OfflineComponentProvider"),await dE(t,new uee(void 0));return t._offlineComponents}async function vj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(kt(Bf,"Using user provided OnlineComponentProvider"),await q3(t,t._uninitializedComponentsProvider._online)):(kt(Bf,"Using default OnlineComponentProvider"),await q3(t,new zC))),t._onlineComponents}function hee(t){return vj(t).then(e=>e.syncEngine)}async function yj(t){const e=await vj(t),n=e.eventManager;return n.onListen=JZ.bind(null,e.syncEngine),n.onUnlisten=eee.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tee.bind(null,e.syncEngine),n}function pee(t,e,n={}){const r=new Zu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new gj({next:h=>{u.yu(),o.enqueueAndForget(()=>oj(s,f));const p=h.docs.has(a);!p&&h.fromCache?c.reject(new Nt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Nt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new aj(eT(a.path),u,{includeMetadataChanges:!0,Fa:!0});return sj(s,f)}(await yj(t),t.asyncQueue,e,n,r)),r.promise}function mee(t,e,n={}){const r=new Zu;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new gj({next:h=>{u.yu(),o.enqueueAndForget(()=>oj(s,f)),h.fromCache&&l.source==="server"?c.reject(new Nt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new aj(a,u,{includeMetadataChanges:!0,Fa:!0});return sj(s,f)}(await yj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t,e,n){if(!n)throw new Nt(ct.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gee(t,e,n,r){if(e===!0&&r===!0)throw new Nt(ct.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function W3(t){if(!zt.isDocumentKey(t))throw new Nt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G3(t){if(zt.isDocumentKey(t))throw new Nt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tn(12329,{type:typeof t})}function rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y2(t);throw new Nt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="firestore.googleapis.com",K3=!0;class Y3{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Nt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wj,this.ssl=K3}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:K3;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GQ)throw new Nt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gee("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Nt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Nt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Nt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class X2{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Nt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CJ;switch(r.type){case"firstParty":return new kJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Nt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H3.get(n);r&&(kt("ComponentProvider","Removing Datastore"),H3.delete(n),r.terminate())}(this),Promise.resolve()}}function vee(t,e,n,r={}){var i;const s=(t=rc(t,X2))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==wj&&s.host!==a&&qm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!tp(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ks.MOCK_USER;else{c=JY(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Nt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ks(f)}t._authCredentials=new AJ(new sF(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bg(this.firestore,e,this._query)}}class To{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class kf extends bg{constructor(e,n,r){super(e,n,eT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new zt(e))}withConverter(e){return new kf(this.firestore,e,this._path)}}function ta(t,e,...n){if(t=to(t),bj("collection","path",e),t instanceof X2){const r=kr.fromString(e,...n);return G3(r),new kf(t,null,r)}{if(!(t instanceof To||t instanceof kf))throw new Nt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kr.fromString(e,...n));return G3(r),new kf(t.firestore,null,r)}}function ko(t,e,...n){if(t=to(t),arguments.length===1&&(e=aF.newId()),bj("doc","path",e),t instanceof X2){const r=kr.fromString(e,...n);return W3(r),new To(t,null,new zt(r))}{if(!(t instanceof To||t instanceof kf))throw new Nt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kr.fromString(e,...n));return W3(r),new To(t.firestore,t instanceof kf?t.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="AsyncQueue";class J3{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new JF(this,"async_queue_retry"),this.ju=()=>{const r=uE();r&&kt(X3,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=uE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=uE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Zu;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!yg(e))throw e;kt(X3,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ad("INTERNAL UNHANDLED ERROR: ",Q3(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=pT.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&tn(47125,{ec:Q3(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Q3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bp extends X2{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new J3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J3(e),this._firestoreClient=void 0,await e}}}function Ej(t,e){const n=typeof t=="object"?t:Y8(),r=typeof t=="string"?t:mb,i=W_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YY("firestore");s&&vee(i,...s)}return i}function xT(t){if(t._terminated)throw new Nt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yee(t),t._firestoreClient}function yee(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new UJ(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,xj(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dee(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xm(_s.fromBase64String(e))}catch(n){throw new Nt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xm(_s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Nt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new As(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Nt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Nt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=/^__.*__$/;class bee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jf(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zv(e,this.data,n,this.fieldTransforms)}}class Sj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jf(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{oc:t})}}class ST{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new ST(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ab(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Cj(this.oc)&&xee.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class wee{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||W2(e)}dc(e,n,r,i=!1){return new ST({oc:e,methodName:n,Ec:r,path:As.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q2(t){const e=t._freezeSettings(),n=W2(t._databaseId);return new wee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Aj(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);CT("Data must be an object, but it was:",o,r);const a=_j(r,o);let l,c;if(s.merge)l=new _a(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const h=UC(e,f,n);if(!o.contains(h))throw new Nt(ct.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kj(u,h)||u.push(h)}l=new _a(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new bee(new Zo(a),l,c)}class Z2 extends bT{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Z2}}function Eee(t,e,n,r){const i=t.dc(1,e,n);CT("Data must be an object, but it was:",i,r);const s=[],o=Zo.empty();Xf(r,(l,c)=>{const u=AT(e,l,n);c=to(c);const f=i.hc(u);if(c instanceof Z2)s.push(u);else{const h=ry(c,f);h!=null&&(s.push(u),o.set(u,h))}});const a=new _a(s);return new Sj(o,a,i.fieldTransforms)}function See(t,e,n,r,i,s){const o=t.dc(1,e,n),a=[UC(e,r,n)],l=[i];if(s.length%2!=0)throw new Nt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(UC(e,s[h])),l.push(s[h+1]);const c=[],u=Zo.empty();for(let h=a.length-1;h>=0;--h)if(!kj(c,a[h])){const p=a[h];let g=l[h];g=to(g);const v=o.hc(p);if(g instanceof Z2)c.push(p);else{const y=ry(g,v);y!=null&&(c.push(p),u.set(p,y))}}const f=new _a(c);return new Sj(u,f,o.fieldTransforms)}function Cee(t,e,n,r=!1){return ry(n,t.dc(r?4:3,e))}function ry(t,e){if(Tj(t=to(t)))return CT("Unsupported field value:",e,t),_j(t,e);if(t instanceof bT)return function(r,i){if(!Cj(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ry(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=to(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Di.fromDate(r);return{timestampValue:wb(i.serializer,s)}}if(r instanceof Di){const s=new Di(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wb(i.serializer,s)}}if(r instanceof wT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xm)return{bytesValue:VF(i.serializer,r._byteString)};if(r instanceof To){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ET)return function(o,a){return{mapValue:{fields:{[mF]:{stringValue:gF},[gb]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return tT(a.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Y2(r)}`)}(t,e)}function _j(t,e){const n={};return cF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xf(t,(r,i)=>{const s=ry(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Tj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Di||t instanceof wT||t instanceof Xm||t instanceof To||t instanceof bT||t instanceof ET)}function CT(t,e,n){if(!Tj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Y2(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function UC(t,e,n){if((e=to(e))instanceof J2)return e._internalPath;if(typeof e=="string")return AT(t,e);throw Ab("Field path arguments must be of type string or ",t,!1,void 0,n)}const Aee=new RegExp("[~\\*/\\[\\]]");function AT(t,e,n){if(e.search(Aee)>=0)throw Ab(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new J2(...e.split("."))._internalPath}catch{throw Ab(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ab(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Nt(ct.INVALID_ARGUMENT,a+t+l)}function kj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _ee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_T("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _ee extends Pj{data(){return super.data()}}function _T(t,e){return typeof e=="string"?AT(t,e):e instanceof J2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tee(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Nt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TT{}class kee extends TT{}function Pee(t,e,...n){let r=[];e instanceof TT&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof kT).length,a=s.filter(l=>l instanceof ew).length;if(o>1||o>0&&a>0)throw new Nt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ew extends kee{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ew(e,n,r)}_apply(e){const n=this._parse(e);return Nj(e._query,n),new bg(e.firestore,e.converter,IC(e._query,n))}_parse(e){const n=Q2(e.firestore);return function(s,o,a,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Nt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eL(f,u);const g=[];for(const v of f)g.push(Z3(l,s,v));h={arrayValue:{values:g}}}else h=Z3(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eL(f,u),h=Cee(a,o,f,u==="in"||u==="not-in");return pi.create(c,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nee(t,e,n){const r=e,i=_T("where",t);return ew._create(i,r,n)}class kT extends TT{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kT(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nc.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Nj(o,l),o=IC(o,l)}(e._query,n),new bg(e.firestore,e.converter,IC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Z3(t,e,n){if(typeof(n=to(n))=="string"){if(n==="")throw new Nt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CF(e)&&n.indexOf("/")!==-1)throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kr.fromString(n));if(!zt.isDocumentKey(r))throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p3(t,new zt(r))}if(n instanceof To)return p3(t,n._key);throw new Nt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Y2(n)}.`)}function eL(t,e){if(!Array.isArray(t)||t.length===0)throw new Nt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Nj(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Nt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Nt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Lee{convertValue(e,n="none"){switch(Ff(e)){case 0:return null;case 1:return e.booleanValue;case 2:return si(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xf(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[gb].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>si(o.doubleValue));return new ET(s)}convertGeoPoint(e){return new wT(si(e.latitude),si(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=V2(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ov(e));default:return null}}convertTimestamp(e){const n=Mf(e);return new Di(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kr.fromString(e);ar(WF(r),9688,{name:e});const i=new av(r.get(1),r.get(3)),s=new zt(r.popFirst(5));return i.isEqual(n)||ad(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ij extends Pj{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_T("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vx extends Ij{data(e={}){return super.data(e)}}class Iee{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new w0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vx(this._firestore,this._userDataWriter,r.key,r,new w0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new w0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vx(i._firestore,i._userDataWriter,a.doc.key,a.doc,new w0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Dee(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Dee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){t=rc(t,To);const e=rc(t.firestore,bp);return pee(xT(e),t._key).then(n=>Ree(e,t,n))}class Dj extends Lee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,n)}}function nu(t){t=rc(t,bg);const e=rc(t.firestore,bp),n=xT(e),r=new Dj(e);return Tee(t._query),mee(n,t._query).then(i=>new Iee(e,r,t,i))}function Rj(t,e,n){t=rc(t,To);const r=rc(t.firestore,bp),i=Lj(t.converter,e);return nw(r,[Aj(Q2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ul.none())])}function Mj(t,e,n,...r){t=rc(t,To);const i=rc(t.firestore,bp),s=Q2(i);let o;return o=typeof(e=to(e))=="string"||e instanceof J2?See(s,"updateDoc",t._key,e,n,r):Eee(s,"updateDoc",t._key,e),nw(i,[o.toMutation(t._key,ul.exists(!0))])}function sy(t){return nw(rc(t.firestore,bp),[new nT(t._key,ul.none())])}function tw(t,e){const n=rc(t.firestore,bp),r=ko(t),i=Lj(t.converter,e);return nw(n,[Aj(Q2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ul.exists(!1))]).then(()=>r)}function nw(t,e){return function(r,i){const s=new Zu;return r.asyncQueue.enqueueAndForget(async()=>nee(await hee(r),i,s)),s.promise}(xT(t),e)}function Ree(t,e,n){const r=n.docs.get(e._key),i=new Dj(t);return new Ij(t,i,e._key,r,new w0(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gg=i})(mg),Um(new np("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bp(new _J(r.getProvider("auth-internal")),new PJ(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Nt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new av(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_f(n3,r3,e),_f(n3,r3,"esm2017")})();function PT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Oj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mee=Oj,Fj=new Xv("auth","Firebase",Oj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new q_("@firebase/auth");function Oee(t,...e){_b.logLevel<=Nn.WARN&&_b.warn(`Auth (${mg}): ${t}`,...e)}function $x(t,...e){_b.logLevel<=Nn.ERROR&&_b.error(`Auth (${mg}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,...e){throw NT(t,...e)}function Wc(t,...e){return NT(t,...e)}function jj(t,e,n){const r=Object.assign(Object.assign({},Mee()),{[e]:n});return new Xv("auth","Firebase",r).create(e,{appName:t.name})}function Pf(t){return jj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Fj.create(t,...e)}function en(t,e,...n){if(!t)throw NT(e,...n)}function Gu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $x(e),new Error(e)}function cd(t,e){t||Gu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Fee(){return tL()==="http:"||tL()==="https:"}function tL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Fee()||tX()||"connection"in navigator)?navigator.onLine:!0}function Bee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.shortDelay=e,this.longDelay=n,cd(n>e,"Short delay should be less than long delay!"),this.isMobile=QY()||nX()}get(){return jee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){cd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zee=new oy(3e4,6e4);function wp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qf(t,e,n,r,i={}){return Vj(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Jv(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return eX()||(c.referrerPolicy="no-referrer"),Bj.fetch()(await $j(t,t.config.apiHost,n,a),c)})}async function Vj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vee),e);try{const i=new qee(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw y1(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw y1(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw y1(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw y1(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jj(t,u,c);ic(t,u)}}catch(i){if(i instanceof fd)throw i;ic(t,"network-request-failed",{message:String(i)})}}async function rw(t,e,n,r,i={}){const s=await Qf(t,e,n,r,i);return"mfaPendingCredential"in s&&ic(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function $j(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?LT(t.config,i):`${t.config.apiScheme}://${i}`;return $ee.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Uee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wc(this.auth,"network-request-failed")),zee.get())})}}function y1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wc(t,e,r);return i.customData._tokenResponse=n,i}function nL(t){return t!==void 0&&t.enterprise!==void 0}class Hee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Wee(t,e){return Qf(t,"GET","/v2/recaptchaConfig",wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gee(t,e){return Qf(t,"POST","/v1/accounts:delete",e)}async function Tb(t,e){return Qf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kee(t,e=!1){const n=to(t),r=await n.getIdToken(e),i=IT(r);en(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:O0(fE(i.auth_time)),issuedAtTime:O0(fE(i.iat)),expirationTime:O0(fE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fE(t){return Number(t)*1e3}function IT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $x("JWT malformed, contained fewer than 3 sections"),null;try{const i=U8(n);return i?JSON.parse(i):($x("Failed to decode base64 JWT payload"),null)}catch(i){return $x("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function rL(t){const e=IT(t);return en(e,"internal-error"),en(typeof e.exp<"u","internal-error"),en(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dv(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fd&&Yee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Yee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=O0(this.lastLoginAt),this.creationTime=O0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dv(t,Tb(n,{idToken:r}));en(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zj(s.providerUserInfo):[],a=Qee(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HC(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Jee(t){const e=to(t);await kb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zj(t){return t.map(e=>{var{providerId:n}=e,r=PT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e){const n=await Vj(t,{},async()=>{const r=Jv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await $j(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ete(t,e){return Qf(t,"POST","/v2/accounts:revokeToken",wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){en(e.idToken,"internal-error"),en(typeof e.idToken<"u","internal-error"),en(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){en(e.length!==0,"internal-error");const n=rL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(en(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Zee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new km;return r&&(en(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(en(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(en(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new km,this.toJSON())}_performRefresh(){return Gu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t,e){en(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ec{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=PT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dv(this,this.stsTokenManager.getToken(this.auth,e));return en(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Kee(this,e)}reload(){return Jee(this)}_assign(e){this!==e&&(en(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ec(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kl(this.auth.app))return Promise.reject(Pf(this.auth));const e=await this.getIdToken();return await dv(this,Gee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:I,isAnonymous:F,providerData:B,stsTokenManager:R}=n;en(T&&R,e,"internal-error");const S=km.fromJSON(this.name,R);en(typeof T=="string",e,"internal-error"),Xd(f,e.name),Xd(h,e.name),en(typeof I=="boolean",e,"internal-error"),en(typeof F=="boolean",e,"internal-error"),Xd(p,e.name),Xd(g,e.name),Xd(v,e.name),Xd(y,e.name),Xd(w,e.name),Xd(E,e.name);const k=new ec({uid:T,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:F,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:S,createdAt:w,lastLoginAt:E});return B&&Array.isArray(B)&&(k.providerData=B.map(P=>Object.assign({},P))),y&&(k._redirectEventId=y),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new km;i.updateFromServerResponse(n);const s=new ec({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kb(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];en(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zj(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new km;a.updateFromIdToken(r);const l=new ec({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new HC(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new Map;function Ku(t){cd(t instanceof Function,"Expected a class definition");let e=iL.get(t);return e?(cd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Uj.type="NONE";const sL=Uj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e,n){return`firebase:${t}:${e}:${n}`}class Pm{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=zx(this.userKey,i.apiKey,s),this.fullPersistenceKey=zx("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tb(this.auth,{idToken:e}).catch(()=>{});return n?ec._fromGetAccountInfoResponse(this.auth,n,e):null}return ec._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pm(Ku(sL),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ku(sL);const o=zx(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const h=await Tb(e,{idToken:u}).catch(()=>{});if(!h)break;f=await ec._fromGetAccountInfoResponse(e,h,u)}else f=ec._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pm(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Pm(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yj(e))return"Blackberry";if(Xj(e))return"Webos";if(Hj(e))return"Safari";if((e.includes("chrome/")||Wj(e))&&!e.includes("edge/"))return"Chrome";if(Kj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qj(t=eo()){return/firefox\//i.test(t)}function Hj(t=eo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wj(t=eo()){return/crios\//i.test(t)}function Gj(t=eo()){return/iemobile/i.test(t)}function Kj(t=eo()){return/android/i.test(t)}function Yj(t=eo()){return/blackberry/i.test(t)}function Xj(t=eo()){return/webos/i.test(t)}function DT(t=eo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tte(t=eo()){var e;return DT(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nte(){return rX()&&document.documentMode===10}function Jj(t=eo()){return DT(t)||Kj(t)||Xj(t)||Yj(t)||/windows phone/i.test(t)||Gj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e=[]){let n;switch(t){case"Browser":n=oL(eo());break;case"Worker":n=`${oL(eo())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mg}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ite(t,e={}){return Qf(t,"GET","/v2/passwordPolicy",wp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=6;class ote{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ste,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ate{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aL(this),this.idTokenSubscription=new aL(this),this.beforeStateQueue=new rte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ku(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Pm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tb(this,{idToken:e}),r=await ec._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return en(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kb(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kl(this.app))return Promise.reject(Pf(this));const n=e?to(e):null;return n&&en(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&en(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kl(this.app)?Promise.reject(Pf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kl(this.app)?Promise.reject(Pf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ku(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ite(this),n=new ote(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xv("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ete(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ku(e)||this._popupRedirectResolver;en(n,this,"argument-error"),this.redirectPersistenceManager=await Pm.create(this,[Ku(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(en(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Kl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Oee(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function wg(t){return to(t)}class aL{constructor(e){this.auth=e,this.observer=null,this.addObserver=dX(n=>this.observer=n)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lte(t){iw=t}function Zj(t){return iw.loadJS(t)}function cte(){return iw.recaptchaEnterpriseScript}function ute(){return iw.gapiScript}function dte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fte{constructor(){this.enterprise=new hte}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class hte{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pte="recaptcha-enterprise",e7="NO_RECAPTCHA";class mte{constructor(e){this.type=pte,this.auth=wg(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Wee(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Hee(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;nL(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(e7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fte().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&nL(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=cte();l.length!==0&&(l+=a),Zj(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function lL(t,e,n,r=!1,i=!1){const s=new mte(t);let o;if(i)o=e7;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function cL(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lL(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await lL(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t,e){const n=W_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tp(s,e??{}))return i;ic(i,"already-initialized")}return n.initialize({options:e})}function vte(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ku);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yte(t,e,n){const r=wg(t);en(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=t7(e),{host:o,port:a}=xte(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){en(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),en(tp(c,r.config.emulator)&&tp(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,bte()}function t7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xte(t){const e=t7(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:uL(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:uL(o)}}}function uL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gu("not implemented")}_getIdTokenResponse(e){return Gu("not implemented")}_linkToIdToken(e,n){return Gu("not implemented")}_getReauthenticationResolver(e){return Gu("not implemented")}}async function wte(t,e){return Qf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ete(t,e){return rw(t,"POST","/v1/accounts:signInWithPassword",wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ste(t,e){return rw(t,"POST","/v1/accounts:signInWithEmailLink",wp(t,e))}async function Cte(t,e){return rw(t,"POST","/v1/accounts:signInWithEmailLink",wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends RT{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cL(e,n,"signInWithPassword",Ete);case"emailLink":return Ste(e,{email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cL(e,r,"signUpPassword",wte);case"emailLink":return Cte(e,{idToken:n,email:this._email,oobCode:this._password});default:ic(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nm(t,e){return rw(t,"POST","/v1/accounts:signInWithIdp",wp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate="http://localhost";class sp extends RT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ic("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=PT(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new sp(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nm(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nm(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nm(e,n)}buildRequest(){const e={requestUri:Ate,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jv(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tte(t){const e=g0(v0(t)).link,n=e?g0(v0(e)).deep_link_id:null,r=g0(v0(t)).deep_link_id;return(r?g0(v0(r)).link:null)||r||n||e||t}class MT{constructor(e){var n,r,i,s,o,a;const l=g0(v0(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=_te((i=l.mode)!==null&&i!==void 0?i:null);en(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Tte(e);try{return new MT(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.providerId=Eg.PROVIDER_ID}static credential(e,n){return fv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=MT.parseLink(n);return en(r,"argument-error"),fv._fromEmailAndCode(e,r.code,r.tenantId)}}Eg.PROVIDER_ID="password";Eg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Eg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends n7{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ay{constructor(){super("facebook.com")}static credential(e){return sp._fromParams({providerId:uf.PROVIDER_ID,signInMethod:uf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uf.credentialFromTaggedObject(e)}static credentialFromError(e){return uf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uf.credential(e.oauthAccessToken)}catch{return null}}}uf.FACEBOOK_SIGN_IN_METHOD="facebook.com";uf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends ay{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sp._fromParams({providerId:df.PROVIDER_ID,signInMethod:df.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return df.credentialFromTaggedObject(e)}static credentialFromError(e){return df.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return df.credential(n,r)}catch{return null}}}df.GOOGLE_SIGN_IN_METHOD="google.com";df.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends ay{constructor(){super("github.com")}static credential(e){return sp._fromParams({providerId:ff.PROVIDER_ID,signInMethod:ff.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ff.credentialFromTaggedObject(e)}static credentialFromError(e){return ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ff.credential(e.oauthAccessToken)}catch{return null}}}ff.GITHUB_SIGN_IN_METHOD="github.com";ff.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends ay{constructor(){super("twitter.com")}static credential(e,n){return sp._fromParams({providerId:hf.PROVIDER_ID,signInMethod:hf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hf.credentialFromTaggedObject(e)}static credentialFromError(e){return hf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hf.credential(n,r)}catch{return null}}}hf.TWITTER_SIGN_IN_METHOD="twitter.com";hf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ec._fromIdTokenResponse(e,r,i),o=dL(r);return new Jm({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dL(r);return new Jm({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends fd{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pb.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Pb(e,n,r,i)}}function r7(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Pb._fromErrorAndOperation(t,s,e,r):s})}async function kte(t,e,n=!1){const r=await dv(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jm._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pte(t,e,n=!1){const{auth:r}=t;if(Kl(r.app))return Promise.reject(Pf(r));const i="reauthenticate";try{const s=await dv(t,r7(r,i,e,t),n);en(s.idToken,r,"internal-error");const o=IT(s.idToken);en(o,r,"internal-error");const{sub:a}=o;return en(t.uid===a,r,"user-mismatch"),Jm._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ic(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i7(t,e,n=!1){if(Kl(t.app))return Promise.reject(Pf(t));const r="signIn",i=await r7(t,r,e),s=await Jm._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Nte(t,e){return i7(wg(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lte(t){const e=wg(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Ite(t,e,n){return Kl(t.app)?Promise.reject(Pf(t)):Nte(to(t),Eg.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Lte(t),r})}function Dte(t,e,n,r){return to(t).onIdTokenChanged(e,n,r)}function Rte(t,e,n){return to(t).beforeAuthStateChanged(e,n)}const Nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nb,"1"),this.storage.removeItem(Nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte=1e3,Ote=10;class o7 extends s7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);nte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ote):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o7.type="LOCAL";const Fte=o7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7 extends s7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a7.type="SESSION";const l7=a7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await jte(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=OT("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(){return window}function Vte(t){Gc().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(){return typeof Gc().WorkerGlobalScope<"u"&&typeof Gc().importScripts=="function"}async function $te(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zte(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ute(){return c7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="firebaseLocalStorageDb",qte=1,Lb="firebaseLocalStorage",d7="fbase_key";class ly{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ow(t,e){return t.transaction([Lb],e?"readwrite":"readonly").objectStore(Lb)}function Hte(){const t=indexedDB.deleteDatabase(u7);return new ly(t).toPromise()}function WC(){const t=indexedDB.open(u7,qte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Lb,{keyPath:d7})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Lb)?e(r):(r.close(),await Hte(),e(await WC()))})})}async function fL(t,e,n){const r=ow(t,!0).put({[d7]:e,value:n});return new ly(r).toPromise()}async function Wte(t,e){const n=ow(t,!1).get(e),r=await new ly(n).toPromise();return r===void 0?null:r.value}function hL(t,e){const n=ow(t,!0).delete(e);return new ly(n).toPromise()}const Gte=800,Kte=3;class f7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await WC(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Kte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sw._getInstance(Ute()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $te(),!this.activeServiceWorker)return;this.sender=new Bte(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zte()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await WC();return await fL(e,Nb,"1"),await hL(e,Nb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Wte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ow(i,!1).getAll();return new ly(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f7.type="LOCAL";const Yte=f7;new oy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t,e){return e?Ku(e):(en(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends RT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nm(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jte(t){return i7(t.auth,new FT(t),t.bypassAuthState)}function Qte(t){const{auth:e,user:n}=t;return en(n,e,"internal-error"),Pte(n,new FT(t),t.bypassAuthState)}async function Zte(t){const{auth:e,user:n}=t;return en(n,e,"internal-error"),kte(n,new FT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jte;case"linkViaPopup":case"linkViaRedirect":return Zte;case"reauthViaPopup":case"reauthViaRedirect":return Qte;default:ic(this.auth,"internal-error")}}resolve(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=new oy(2e3,1e4);class hm extends h7{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hm.currentPopupAction&&hm.currentPopupAction.cancel(),hm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return en(e,this.auth,"internal-error"),e}async onExecution(){cd(this.filter.length===1,"Popup operations only handle one event");const e=OT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ene.get())};e()}}hm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne="pendingRedirect",Ux=new Map;class nne extends h7{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ux.get(this.auth._key());if(!e){try{const r=await rne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ux.set(this.auth._key(),e)}return this.bypassAuthState||Ux.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rne(t,e){const n=one(e),r=sne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ine(t,e){Ux.set(t._key(),e)}function sne(t){return Ku(t._redirectPersistence)}function one(t){return zx(tne,t.config.apiKey,t.name)}async function ane(t,e,n=!1){if(Kl(t.app))return Promise.reject(Pf(t));const r=wg(t),i=Xte(r,e),o=await new nne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne=10*60*1e3;class cne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!une(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wc(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lne&&this.cachedEventUids.clear(),this.cachedEventUids.has(pL(e))}saveEventToCache(e){this.cachedEventUids.add(pL(e)),this.lastProcessedEventTime=Date.now()}}function pL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p7({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function une(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dne(t,e={}){return Qf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hne=/^https?/;async function pne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dne(t);for(const n of e)try{if(mne(n))return}catch{}ic(t,"unauthorized-domain")}function mne(t){const e=qC(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hne.test(n))return!1;if(fne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gne=new oy(3e4,6e4);function mL(){const t=Gc().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vne(t){return new Promise((e,n)=>{var r,i,s;function o(){mL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mL(),n(Wc(t,"network-request-failed"))},timeout:gne.get()})}if(!((i=(r=Gc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gc().gapi)===null||s===void 0)&&s.load)o();else{const a=dte("iframefcb");return Gc()[a]=()=>{gapi.load?o():n(Wc(t,"network-request-failed"))},Zj(`${ute()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qx=null,e})}let qx=null;function yne(t){return qx=qx||vne(t),qx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xne=new oy(5e3,15e3),bne="__/auth/iframe",wne="emulator/auth/iframe",Ene={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cne(t){const e=t.config;en(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LT(e,wne):`https://${t.config.authDomain}/${bne}`,r={apiKey:e.apiKey,appName:t.name,v:mg},i=Sne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jv(r).slice(1)}`}async function Ane(t){const e=await yne(t),n=Gc().gapi;return en(n,t,"internal-error"),e.open({where:document.body,url:Cne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ene,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Wc(t,"network-request-failed"),a=Gc().setTimeout(()=>{s(o)},xne.get());function l(){Gc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tne=500,kne=600,Pne="_blank",Nne="http://localhost";class gL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lne(t,e,n,r=Tne,i=kne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_ne),{width:r.toString(),height:i.toString(),top:s,left:o}),c=eo().toLowerCase();n&&(a=Wj(c)?Pne:n),qj(c)&&(e=e||Nne,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(tte(c)&&a!=="_self")return Ine(e||"",a),new gL(null);const f=window.open(e||"",a,u);en(f,t,"popup-blocked");try{f.focus()}catch{}return new gL(f)}function Ine(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dne="__/auth/handler",Rne="emulator/auth/handler",Mne=encodeURIComponent("fac");async function vL(t,e,n,r,i,s){en(t.config.authDomain,t,"auth-domain-config-required"),en(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mg,eventId:i};if(e instanceof n7){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uX(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof ay){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Mne}=${encodeURIComponent(l)}`:"";return`${One(t)}?${Jv(a).slice(1)}${c}`}function One({config:t}){return t.emulator?LT(t,Rne):`https://${t.authDomain}/${Dne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="webStorageSupport";class Fne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l7,this._completeRedirectFn=ane,this._overrideRedirectResult=ine}async _openPopup(e,n,r,i){var s;cd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await vL(e,n,r,qC(),i);return Lne(e,o,OT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await vL(e,n,r,qC(),i);return Vte(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cd(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ane(e),r=new cne(e);return n.register("authEvent",i=>(en(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hE,{type:hE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hE];o!==void 0&&n(!!o),ic(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jj()||Hj()||DT()}}const jne=Fne;var yL="@firebase/auth",xL="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $ne(t){Um(new np("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;en(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qj(t)},c=new ate(r,i,s,l);return vte(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Um(new np("auth-internal",e=>{const n=wg(e.getProvider("auth").getImmediate());return(r=>new Bne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_f(yL,xL,Vne(t)),_f(yL,xL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zne=5*60,Une=W8("authIdTokenMaxAge")||zne;let bL=null;const qne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Une)return;const i=n==null?void 0:n.token;bL!==i&&(bL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m7(t=Y8()){const e=W_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=gte(t,{popupRedirectResolver:jne,persistence:[Yte,Fte,l7]}),r=W8("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=qne(s.toString());Rte(n,o,()=>o(n.currentUser)),Dte(n,a=>o(a))}}const i=q8("auth");return i&&yte(n,`http://${i}`),n}function Hne(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Wc("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Hne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$ne("Browser");const Wne={apiKey:"AIzaSyAH24DEyVBICPK6DcIUpQtj9pkejg54ip8",authDomain:"looma-store.firebaseapp.com",projectId:"looma-store",storageBucket:"looma-store.firebasestorage.app",messagingSenderId:"76702168220",appId:"1:76702168220:web:6c226b493c3ddc5f44a959"},g7=G_(Wne),hr=Ej(g7);m7(g7);const Gne=hr;async function wL(t,e){if(t)try{await Rj(ko(hr,"carts",t),{cartItems:e})}catch(n){console.error("Error saving cart to Firebase:",n)}}async function Kne(t){if(!t)return[];try{const e=await iy(ko(hr,"carts",t));if(e.exists())return e.data().cartItems||[]}catch(e){console.error("Error loading cart from Firebase:",e)}return[]}const v7=b.createContext(void 0);function y7({children:t}){const{user:e}=O2();b.useRef(!1);const[n,r]=b.useState(()=>{const y=localStorage.getItem("cartItems");if(!y)return[];try{const w=JSON.parse(y);return console.log(" Cargando carrito desde localStorage (inicio):",w),w.filter(E=>E&&E.id&&typeof E.id=="string")}catch(w){return console.error("Error al parsear carrito localStorage:",w),[]}}),[i,s]=b.useState(!1),[o,a]=b.useState({name:"",address:"",address2:"",city:"",state:"",postalCode:"",phone:"",email:"",country:"United States",password:"",confirmPassword:"",wantsToRegister:!1,coordinates:{lat:0,lng:0},zip:""}),[l,c]=b.useState(()=>{const y=localStorage.getItem("shippingData");return y?JSON.parse(y):{name:"",address:"",city:"",state:"",postalCode:"",country:"",phone:"",email:"",coordinates:{lat:0,lng:0}}}),u=y=>{const w=["name","address","city","state","postalCode","phone","email"];for(const I of w){const F=y[I];if(!F||typeof F!="string"||F.trim()==="")return console.warn(`Campo invlido o vaco: ${I}`),!1}return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)?/^\d{8,15}$/.test(y.phone)?!0:(console.warn("Telfono invlido"),!1):(console.warn("Email invlido"),!1)};b.useEffect(()=>{localStorage.setItem("shippingData",JSON.stringify(l))},[l]),b.useEffect(()=>{const y=localStorage.getItem("cartItems"),w=y?JSON.parse(y):[];e!=null&&e.uid?Kne(e.uid).then(E=>{E.length>0?(console.log(" Cargando carrito desde Firebase:",E),r(E)):w.length>0?(console.log(" Firebase vaco, usando localStorage:",w),r(w),wL(e.uid,w)):r([]),s(!0)}):(w.length>0?(console.log(" Usuario annimo, carrito desde localStorage:",w),r(w)):r([]),s(!0))},[e==null?void 0:e.uid]),b.useEffect(()=>{i&&(e!=null&&e.uid?wL(e.uid,n):localStorage.setItem("cartItems",JSON.stringify(n)))},[n,e==null?void 0:e.uid,i]);const f=y=>{if(!y||!y.id){console.warn("Intento de agregar item invlido al carrito:",y);return}typeof y.title=="string"?y.title:typeof y.title=="object"&&y.title!==null&&(y.title.en??Object.values(y.title)[0]);const w={...y,title:y.title,quantity:y.quantity||1};console.log(" Agregando al carrito:",w),r(E=>{const T=E.findIndex(I=>I.id===w.id&&I.size===w.size&&I.variantId===w.variantId);if(T!==-1){const I=[...E];return I[T]={...I[T],quantity:I[T].quantity+w.quantity},I}else return[...E,w]})},h=(y,w,E)=>{r(T=>T.map(I=>{var F;return((F=I.id)==null?void 0:F.toString())===y.toString()&&I.size===w?{...I,...E}:I}).filter(I=>I.quantity>0))},p=(y,w)=>{r(E=>E.filter(T=>{var I;return!(((I=T.id)==null?void 0:I.toString())===y.toString()&&T.size===w)}))},g=()=>{r([]),localStorage.removeItem("cartItems")},v=y=>{a(y),c(y)};return A.jsx(v7.Provider,{value:{items:n,cartItems:n,addToCart:f,updateItem:h,clearCart:g,removeItem:p,shippingInfo:o,setShippingInfo:v,shippingData:l,setShippingData:c,validateShippingData:u,total:n.reduce((y,w)=>y+w.priceUSD*w.quantity,0)},children:t})}function pl(){const t=b.useContext(v7);if(!t)throw new Error("useCart debe usarse dentro de <CartProvider>");return t}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xne=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),EL=t=>{const e=Xne(t);return e.charAt(0).toUpperCase()+e.slice(1)},x7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...Jne,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:x7("lucide",i),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(Qne,{ref:s,iconNode:e,className:x7(`lucide-${Yne(EL(t))}`,`lucide-${t}`,r),...i}));return n.displayName=EL(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ere=hd("arrow-left",Zne);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nre=hd("arrow-right",tre);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],b7=hd("arrow-up",rre);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sre=hd("check",ire);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],GC=hd("chevron-left",ore);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lre=hd("chevron-right",are);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ure=hd("rocket",cre);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Vf=hd("shopping-cart",dre);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hre=hd("trash-2",fre);function jT(){return A.jsx("footer",{className:"bg-black border-t border-gray-800 py-4 mt-12 text-center text-xs text-gray-400",children:A.jsxs("p",{className:"leading-tight",children:[" 2025 Bionova  Made with  by"," ",A.jsx("a",{href:"https://www.devrodri.com",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-white/80 hover:text-white transition",children:"Rodrigo Opalo"})]})})}var pE,SL;function pre(){return SL||(SL=1,pE={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),pE}var mre=pre();const gre=uu(mre);var vre=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function CL(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(gre[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("-->");return{type:"comment",comment:r!==-1?t.slice(4,r):""}}for(var i=new RegExp(vre),s=null;(s=i.exec(t))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),e.attrs[a[0]]=a[1],i.lastIndex--}else s[2]&&(e.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return e}var yre=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,xre=/^\s*$/,bre=Object.create(null);function w7(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(w7,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var wre={parse:function(t,e){e||(e={}),e.components||(e.components=bre);var n,r=[],i=[],s=-1,o=!1;if(t.indexOf("<")!==0){var a=t.indexOf("<");r.push({type:"text",content:a===-1?t:t.substring(0,a)})}return t.replace(yre,function(l,c){if(o){if(l!=="</"+n.name+">")return;o=!1}var u,f=l.charAt(1)!=="/",h=l.startsWith("<!--"),p=c+l.length,g=t.charAt(p);if(h){var v=CL(l);return s<0?(r.push(v),r):((u=i[s]).children.push(v),r)}if(f&&(s++,(n=CL(l)).type==="tag"&&e.components[n.name]&&(n.type="component",o=!0),n.voidElement||o||!g||g==="<"||n.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),s===0&&r.push(n),(u=i[s-1])&&u.children.push(n),i[s]=n),(!f||n.voidElement)&&(s>-1&&(n.voidElement||n.name===l.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!o&&g!=="<"&&g)){u=s===-1?r:i[s].children;var y=t.indexOf("<",p),w=t.slice(p,y===-1?void 0:y);xre.test(w)&&(w=" "),(y>-1&&s+u.length>=0||w!==" ")&&u.push({type:"text",content:w})}}),r},stringify:function(t){return t.reduce(function(e,n){return e+w7("",n)},"")}};const Hx=(t,e,n,r)=>{var s,o,a,l;const i=[n,{code:e,...r||{}}];if((o=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);dl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},AL={},hv=(t,e,n,r)=>{dl(n)&&AL[n]||(dl(n)&&(AL[n]=new Date),Hx(t,e,n,r))},E7=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},KC=(t,e,n)=>{t.loadNamespaces(e,E7(t,n))},_L=(t,e,n,r)=>{if(dl(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return KC(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,E7(t,r))},Ere=(t,e,n={})=>!e.languages||!e.languages.length?(hv(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{var s;if(((s=n.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),dl=t=>typeof t=="string",Mh=t=>typeof t=="object"&&t!==null,Sre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Cre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Are=t=>Cre[t],_re=t=>t.replace(Sre,Are);let YC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:_re};const Tre=(t={})=>{YC={...YC,...t}},S7=()=>YC;let C7;const kre=t=>{C7=t},BT=()=>C7,mE=(t,e)=>{var r;if(!t)return!1;const n=((r=t.props)==null?void 0:r.children)??t.children;return e?n.length>0:!!n},gE=t=>{var n,r;if(!t)return[];const e=((n=t.props)==null?void 0:n.children)??t.children;return(r=t.props)!=null&&r.i18nIsDynamicList?pm(e):e},Pre=t=>Array.isArray(t)&&t.every(b.isValidElement),pm=t=>Array.isArray(t)?t:[t],Nre=(t,e)=>{const n={...e};return n.props=Object.assign(t.props,e.props),n},A7=(t,e,n,r)=>{if(!t)return"";let i="";const s=pm(t),o=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((a,l)=>{if(dl(a)){i+=`${a}`;return}if(b.isValidElement(a)){const{props:c,type:u}=a,f=Object.keys(c).length,h=o.indexOf(u)>-1,p=c.children;if(!p&&h&&!f){i+=`<${u}/>`;return}if(!p&&(!h||f)||c.i18nIsDynamicList){i+=`<${l}></${l}>`;return}if(h&&f===1&&dl(p)){i+=`<${u}>${p}</${u}>`;return}const g=A7(p,e,n,r);i+=`<${l}>${g}</${l}>`;return}if(a===null){Hx(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(Mh(a)){const{format:c,...u}=a,f=Object.keys(u);if(f.length===1){const h=c?`${f[0]}, ${c}`:f[0];i+=`{{${h}}}`;return}Hx(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:a});return}Hx(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:a})}),i},Lre=(t,e,n,r,i,s)=>{if(e==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(o.map(y=>`<${y}`).join("|")).test(e);if(!t&&!a&&!s)return[e];const l={},c=y=>{pm(y).forEach(E=>{dl(E)||(mE(E)?c(gE(E)):Mh(E)&&!b.isValidElement(E)&&Object.assign(l,E))})};c(t);const u=wre.parse(`<0>${e}</0>`),f={...l,...i},h=(y,w,E)=>{var F;const T=gE(y),I=g(T,w.children,E);return Pre(T)&&I.length===0||(F=y.props)!=null&&F.i18nIsDynamicList?T:I},p=(y,w,E,T,I)=>{y.dummy?(y.children=w,E.push(b.cloneElement(y,{key:T},I?void 0:w))):E.push(...b.Children.map([y],F=>{const B={...F.props};return delete B.i18nIsDynamicList,b.createElement(F.type,{...B,key:T,ref:F.props.ref??F.ref},I?null:w)}))},g=(y,w,E)=>{const T=pm(y);return pm(w).reduce((F,B,R)=>{var k,P;const S=((P=(k=B.children)==null?void 0:k[0])==null?void 0:P.content)&&n.services.interpolator.interpolate(B.children[0].content,f,n.language);if(B.type==="tag"){let N=T[parseInt(B.name,10)];E.length===1&&!N&&(N=E[0][B.name]),N||(N={});const M=Object.keys(B.attrs).length!==0?Nre({props:B.attrs},N):N,O=b.isValidElement(M),q=O&&mE(B,!0)&&!B.voidElement,Z=a&&Mh(M)&&M.dummy&&!O,ne=Mh(t)&&Object.hasOwnProperty.call(t,B.name);if(dl(M)){const ee=n.services.interpolator.interpolate(M,f,n.language);F.push(ee)}else if(mE(M)||q){const ee=h(M,B,E);p(M,ee,F,R)}else if(Z){const ee=g(T,B.children,E);p(M,ee,F,R)}else if(Number.isNaN(parseFloat(B.name)))if(ne){const ee=h(M,B,E);p(M,ee,F,R,B.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(B.name)>-1)if(B.voidElement)F.push(b.createElement(B.name,{key:`${B.name}-${R}`}));else{const ee=g(T,B.children,E);F.push(b.createElement(B.name,{key:`${B.name}-${R}`},ee))}else if(B.voidElement)F.push(`<${B.name} />`);else{const ee=g(T,B.children,E);F.push(`<${B.name}>${ee}</${B.name}>`)}else if(Mh(M)&&!O){const ee=B.children[0]?S:null;ee&&F.push(ee)}else p(M,S,F,R,B.children.length!==1||!S)}else if(B.type==="text"){const N=r.transWrapTextNodes,M=s?r.unescape(n.services.interpolator.interpolate(B.content,f,n.language)):n.services.interpolator.interpolate(B.content,f,n.language);N?F.push(b.createElement(N,{key:`${B.name}-${R}`},M)):F.push(M)}return F},[])},v=g([{dummy:!0,children:t||[]}],u,pm(t||[]));return gE(v[0])},_7=(t,e,n)=>{const r=t.key||e,i=b.cloneElement(t,{key:r});if(!i.props||!i.props.children||n.indexOf(`${e}/>`)<0&&n.indexOf(`${e} />`)<0)return i;function s(){return b.createElement(b.Fragment,null,i)}return b.createElement(s,{key:r})},Ire=(t,e)=>t.map((n,r)=>_7(n,r,e)),Dre=(t,e)=>{const n={};return Object.keys(t).forEach(r=>{Object.assign(n,{[r]:_7(t[r],r,e)})}),n},Rre=(t,e,n,r)=>t?Array.isArray(t)?Ire(t,e):Mh(t)?Dre(t,e):(hv(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Mre({children:t,count:e,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:c,i18n:u,t:f,shouldUnescape:h,...p}){var M,O,q,Z,ne,ee;const g=u||BT();if(!g)return hv(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),t;const v=f||g.t.bind(g)||(Y=>Y),y={...S7(),...(M=g.options)==null?void 0:M.react};let w=c||v.ns||((O=g.options)==null?void 0:O.defaultNS);w=dl(w)?[w]:w||["translation"];const E=A7(t,y,g,r),T=a||E||y.transEmptyNodeValue||r,{hashTransKey:I}=y,F=r||(I?I(E||T):E||T);(Z=(q=g.options)==null?void 0:q.interpolation)!=null&&Z.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const B=o||e!==void 0&&!((ee=(ne=g.options)==null?void 0:ne.interpolation)!=null&&ee.alwaysFormat)||!t?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},R={...s,context:i||s.context,count:e,...o,...B,defaultValue:T,ns:w},S=F?v(F,R):T,k=Rre(l,S,g,r),P=Lre(k||t,S,g,y,R,h),N=n??y.defaultTransParent;return N?b.createElement(N,p,P):P}const T7={type:"3rdParty",init(t){Tre(t.options.react),kre(t)}},k7=b.createContext();class Ore{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Fre({children:t,count:e,parent:n,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:c,i18n:u,t:f,shouldUnescape:h,...p}){var E;const{i18n:g,defaultNS:v}=b.useContext(k7)||{},y=u||g||BT(),w=f||(y==null?void 0:y.t.bind(y));return Mre({children:t,count:e,parent:n,i18nKey:r,context:i,tOptions:s,values:o,defaults:a,components:l,ns:c||(w==null?void 0:w.ns)||v||((E=y==null?void 0:y.options)==null?void 0:E.defaultNS),i18n:y,t:f,shouldUnescape:h,...p})}const jre=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current},P7=(t,e,n,r)=>t.getFixedT(e,n,r),Bre=(t,e,n,r)=>b.useCallback(P7(t,e,n,r),[t,e,n,r]),Zr=(t,e={})=>{var I,F,B,R;const{i18n:n}=e,{i18n:r,defaultNS:i}=b.useContext(k7)||{},s=n||r||BT();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Ore),!s){hv(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const S=(P,N)=>dl(N)?N:Mh(N)&&dl(N.defaultValue)?N.defaultValue:Array.isArray(P)?P[P.length-1]:P,k=[S,{},!1];return k.t=S,k.i18n={},k.ready=!1,k}(I=s.options.react)!=null&&I.wait&&hv(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...S7(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||((F=s.options)==null?void 0:F.defaultNS);c=dl(c)?[c]:c||["translation"],(R=(B=s.reportNamespaces).addUsedNamespaces)==null||R.call(B,c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(S=>Ere(S,s,o)),f=Bre(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),h=()=>f,p=()=>P7(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[g,v]=b.useState(h);let y=c.join();e.lng&&(y=`${e.lng}${y}`);const w=jre(y),E=b.useRef(!0);b.useEffect(()=>{const{bindI18n:S,bindI18nStore:k}=o;E.current=!0,!u&&!a&&(e.lng?_L(s,e.lng,c,()=>{E.current&&v(p)}):KC(s,c,()=>{E.current&&v(p)})),u&&w&&w!==y&&E.current&&v(p);const P=()=>{E.current&&v(p)};return S&&(s==null||s.on(S,P)),k&&(s==null||s.store.on(k,P)),()=>{E.current=!1,s&&(S==null||S.split(" ").forEach(N=>s.off(N,P))),k&&s&&k.split(" ").forEach(N=>s.store.off(N,P))}},[s,y]),b.useEffect(()=>{E.current&&u&&v(h)},[s,l,u]);const T=[g,s,u];if(T.t=g,T.i18n=s,T.ready=u,u||!u&&!a)return T;throw new Promise(S=>{e.lng?_L(s,e.lng,c,()=>S()):KC(s,c,()=>S())})},Vre=["https://ik.imagekit.io/devrodri/FUXION2_f6kk4g.mp4","https://ik.imagekit.io/devrodri/PURE2_detyqs.mp4","https://ik.imagekit.io/devrodri/PURE7_l5zvrs.mov"];function $re(){const{t}=Zr();return b.useEffect(()=>{const e=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fadeInUp")})},{threshold:.1});return document.querySelectorAll(".video-showcase-title").forEach(r=>e.observe(r)),()=>e.disconnect()},[]),A.jsx("section",{className:"bg-white pb-0 mb-0 pt-16 px-4 text-black",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsxs("div",{className:"animate-fadeIn",children:[A.jsx("h2",{className:"video-showcase-title text-4xl sm:text-6xl font-extrabold text-center mb-1 tracking-tight text-[#365486] drop-shadow-[0_4px_12px_rgba(0,0,0,0.4)] transition-all duration-700",children:t("highlights.title")}),A.jsx("div",{className:"video-showcase-title text-center mt-2 mb-10 transition-opacity duration-700 delay-300",children:A.jsx("p",{className:"text-base sm:text-lg text-gray-700",children:t("highlights.subtitle")})})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-8",children:Vre.map((e,n)=>A.jsx("div",{className:"overflow-hidden rounded-2xl border border-neutral-200 shadow-lg bg-white aspect-[9/16] transform transition-transform duration-300 hover:scale-105 opacity-0 animate-fadeIn",style:{animationDelay:`${n*.3}s`,animationFillMode:"forwards"},children:A.jsx("video",{src:e,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1/tucasaca/poster-placeholder.jpg",className:"w-full h-full object-cover"})},n))})]})})}const ru="/logo.png";var N7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},TL=Me.createContext&&Me.createContext(N7),zre=["attr","size","title"];function Ure(t,e){if(t==null)return{};var n=qre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Db(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){Hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hre(t,e,n){return e=Wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L7(t){return t&&t.map((e,n)=>Me.createElement(e.tag,Db({key:n},e.attr),L7(e.child)))}function aw(t){return e=>Me.createElement(Kre,Ib({attr:Db({},t.attr)},e),L7(t.child))}function Kre(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Ure(t,zre),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Me.createElement("svg",Ib({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Db(Db({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),t.children)};return TL!==void 0?Me.createElement(TL.Consumer,null,n=>e(n)):e(N7)}function iu(t){return aw({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function I7(t){return aw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}const ln=t=>typeof t=="string",n0=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},PL=t=>t==null?"":""+t,Yre=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},Xre=/###/g,NL=t=>t&&t.indexOf("###")>-1?t.replace(Xre,"."):t,LL=t=>!t||ln(t),F0=(t,e,n)=>{const r=ln(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(LL(t))return{};const s=NL(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return LL(t)?{}:{obj:t,k:NL(r[i])}},IL=(t,e,n)=>{const{obj:r,k:i}=F0(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=F0(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=F0(t,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=n},Jre=(t,e,n,r)=>{const{obj:i,k:s}=F0(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Rb=(t,e)=>{const{obj:n,k:r}=F0(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Qre=(t,e,n)=>{const r=Rb(t,n);return r!==void 0?r:Rb(e,n)},D7=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?ln(t[r])||t[r]instanceof String||ln(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):D7(t[r],e[r],n):t[r]=e[r]);return t},Xp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Zre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const eie=t=>ln(t)?t.replace(/[&<>"'\/]/g,e=>Zre[e]):t;class tie{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const nie=[" ",",","?","!",";"],rie=new tie(20),iie=(t,e,n)=>{e=e||"",n=n||"";const r=nie.filter(o=>e.indexOf(o)<0&&n.indexOf(o)<0);if(r.length===0)return!0;const i=rie.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},XC=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=n),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},pv=t=>t==null?void 0:t.replace("_","-"),sie={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class Mb{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||sie,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(ln(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Mb(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Mb(this.logger,e)}}var jc=new Mb;let lw=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...n])})}};class DL extends lw{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):ln(r)&&s?a.push(...r.split(s)):a.push(r)));const l=Rb(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!o||!ln(r)?l:XC((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),IL(this.data,a,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(ln(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let l=Rb(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?D7(l,r,s):l={...l,...r},IL(this.data,a,l),o.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var R7={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,n,r,i))??e}),e}};const RL={},ML=t=>!ln(t)&&typeof t!="boolean"&&typeof t!="number";class Ob extends lw{constructor(e,n={}){super(),Yre(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!iie(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ln(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:ln(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return h?s?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const v=(p==null?void 0:p.usedKey)||a,y=(p==null?void 0:p.exactUsedKey)||a,w=["[object Number]","[object Function]","[object RegExp]"],E=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,I=i.count!==void 0&&!ln(i.count),F=Ob.hasDefaultValue(i),B=I?this.pluralResolver.getSuffix(f,i.count,i):"",R=i.ordinal&&I?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",S=I&&!i.ordinal&&i.count===0,k=S&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${B}`]||i[`defaultValue${R}`]||i.defaultValue;let P=g;T&&!g&&F&&(P=k);const N=ML(P),M=Object.prototype.toString.apply(P);if(T&&P&&N&&w.indexOf(M)<0&&!(ln(E)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,P,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=O,p.usedParams=this.getUsedParamsDetails(i),p):O}if(o){const O=Array.isArray(P),q=O?[]:{},Z=O?y:v;for(const ne in P)if(Object.prototype.hasOwnProperty.call(P,ne)){const ee=`${Z}${o}${ne}`;F&&!g?q[ne]=this.translate(ee,{...i,defaultValue:ML(k)?k[ne]:void 0,joinArrays:!1,ns:l}):q[ne]=this.translate(ee,{...i,joinArrays:!1,ns:l}),q[ne]===ee&&(q[ne]=P[ne])}g=q}}else if(T&&ln(E)&&Array.isArray(g))g=g.join(E),g&&(g=this.extendTranslation(g,e,i,r));else{let O=!1,q=!1;!this.isValidLookup(g)&&F&&(O=!0,g=k),this.isValidLookup(g)||(q=!0,g=a);const ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:g,ee=F&&k!==g&&this.options.updateMissing;if(q||O||ee){if(this.logger.log(ee?"updateKey":"missingKey",f,c,a,ee?k:g),o){const K=this.resolve(a,{...i,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let K=0;K<oe.length;K++)Y.push(oe[K]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(i.lng||this.language):Y.push(i.lng||this.language);const se=(K,V,W)=>{var Q;const J=F&&W!==g?W:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(K,c,V,J,ee,i):(Q=this.backendConnector)!=null&&Q.saveMissing&&this.backendConnector.saveMissing(K,c,V,J,ee,i),this.emit("missingKey",K,c,V,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&I?Y.forEach(K=>{const V=this.pluralResolver.getSuffixes(K,i);S&&i[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(W=>{se([K],a+W,i[`defaultValue${W}`]||k)})}):se(Y,a,k))}g=this.extendTranslation(g,e,i,p,r),q&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${a}`),(q||O)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,O?g:void 0,i))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,n,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=ln(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let h=r.replace&&!ln(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;f<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=ln(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=R7.handle(a,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,o,a;return ln(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=n.count!==void 0&&!ln(n.count),p=h&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(ln(n.context)||typeof n.context=="number")&&n.context!=="",v=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(y=>{var w,E;this.isValidLookup(r)||(a=y,!RL[`${v[0]}-${y}`]&&((w=this.utils)!=null&&w.hasLoadedNamespace)&&!((E=this.utils)!=null&&E.hasLoadedNamespace(a))&&(RL[`${v[0]}-${y}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(T=>{var B;if(this.isValidLookup(r))return;o=T;const I=[u];if((B=this.i18nFormat)!=null&&B.addLookupKeys)this.i18nFormat.addLookupKeys(I,u,T,y,n);else{let R;h&&(R=this.pluralResolver.getSuffix(T,n.count,n));const S=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(I.push(u+R),n.ordinal&&R.indexOf(k)===0&&I.push(u+R.replace(k,this.options.pluralSeparator)),p&&I.push(u+S)),g){const P=`${u}${this.options.contextSeparator}${n.context}`;I.push(P),h&&(I.push(P+R),n.ordinal&&R.indexOf(k)===0&&I.push(P+R.replace(k,this.options.pluralSeparator)),p&&I.push(P+S))}}let F;for(;F=I.pop();)this.isValidLookup(r)||(s=F,r=this.getResource(T,y,F,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ln(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class OL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jc.create("languageUtils")}getScriptPartFromCode(e){if(e=pv(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=pv(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(ln(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),ln(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ln(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):ln(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const FL={zero:0,one:1,two:2,few:3,many:4,other:5},jL={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class oie{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=jc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=pv(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jL;if(!e.match(/-|_/))return jL;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,n)}return this.pluralRulesCache[s]=o,o}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>FL[i]-FL[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const BL=(t,e,n,r=".",i=!0)=>{let s=Qre(t,e,n);return!s&&i&&ln(n)&&(s=XC(t,n,r),s===void 0&&(s=XC(e,n,r))),s},vE=t=>t.replace(/\$/g,"$$$$");class aie{constructor(e={}){var n;this.logger=jc.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:y,maxReplaces:w,alwaysFormat:E}=e.interpolation;this.escape=n!==void 0?n:eie,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Xp(s):o||"{{",this.suffix=a?Xp(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=h?Xp(h):p||Xp("$t("),this.nestingSuffix=g?Xp(g):v||Xp(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=w||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var p;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const E=BL(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,r,{...i,...n,interpolationkey:g}):E}const v=g.split(this.formatSeparator),y=v.shift().trim(),w=v.join(this.formatSeparator).trim();return this.format(BL(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),w,r,{...i,...n,interpolationkey:y})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>vE(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?vE(this.escape(g)):vE(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const v=s[1].trim();if(o=c(v),o===void 0)if(typeof u=="function"){const w=u(e,s,i);o=ln(w)?w:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!ln(o)&&!this.useRawValueToEscape&&(o=PL(o));const y=g.safeValue(o);if(e=e.replace(s[0],y),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let h=`{${f[1]}`;l=f[0],h=this.interpolate(h,o);const p=h.match(/'/g),g=h.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),c&&(o={...c,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!ln(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=u.shift(),l=u,c=!0}if(s=n(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!ln(s))return s;ln(s)||(s=PL(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const lie=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},VL=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=t(pv(r),i),e[o]=a),a(n)}},cie=t=>(e,n,r)=>t(pv(n),r)(e);class uie{constructor(e={}){this.logger=jc.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?VL:cie;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=VL(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var f;const{formatName:c,formatOptions:u}=lie(l);if(this.formats[c]){let h=a;try{const p=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;h=this.formats[c](a,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const die=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class fie extends lw{constructor(e,n,r,i={}){var s,o;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=jc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;n.forEach(f=>{const h=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,u=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],o=i[1];n&&this.emit("failedLoading",s,o,n),!n&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{Jre(l.loaded,[s],o),die(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,n,a)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ln(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ln(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,n,r,i,s,o={},a=()=>{}){var l,c,u,f,h;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((h=this.backend)!=null&&h.create){const p={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,n,r,i,p):v=g(e,n,r,i),v&&typeof v.then=="function"?v.then(y=>a(null,y)).catch(a):a(null,v)}catch(v){a(v)}else g(e,n,r,i,a,p)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const $L=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ln(t[1])&&(e.defaultValue=t[1]),ln(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),zL=t=>{var e,n;return ln(t.ns)&&(t.ns=[t.ns]),ln(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ln(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},x1=()=>{},hie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class mv extends lw{constructor(e={},n){if(super(),this.options=zL(e),this.services={},this.logger=jc,this.modules={external:[]},hie(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(ln(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=$L();this.options={...r,...this.options,...zL(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?jc.init(i(this.modules.logger),this.options):jc.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=uie;const u=new OL(this.options);this.store=new DL(this.options.resources,this.options);const f=this.services;f.logger=jc,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new oie(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new aie(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new fie(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Ob(this.services,this.options),this.translator.on("*",(h,...p)=>{this.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=x1),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=n0(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),n(u,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,n=x1){var s,o;let r=n;const i=ln(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=n0();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=x1),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&R7.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=n0();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(a,(...c)=>this.t(...c))},o=a=>{var u,f;!e&&!a&&this.services.languageDetector&&(a=[]);const l=ln(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ln(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,c)),this.loadResources(c,h=>{s(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,n,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(s)?u=s.map(f=>`${l.keyPrefix}${c}${f}`):u=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s,this.t(u,l)};return ln(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const a=n.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,n){const r=n0();return this.options.ns?(ln(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=n0();ln(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new OL($L());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new mv(e,n)}cloneInstance(e={},n=x1){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new mv(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,f)=>(u[f]={...l[c][f]},u),l[c]),l),{});s.store=new DL(a,i),s.services.resourceStore=s.store}return s.translator=new Ob(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ft=mv.createInstance();Ft.createInstance=mv.createInstance;Ft.createInstance;Ft.dir;Ft.init;Ft.loadResources;Ft.reloadResources;Ft.use;Ft.changeLanguage;Ft.getFixedT;Ft.t;Ft.exists;Ft.setDefaultNamespace;Ft.hasLoadedNamespace;Ft.loadNamespaces;Ft.loadLanguages;const{slice:pie,forEach:mie}=[];function gie(t){return mie.call(pie.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function vie(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const UL=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,yie=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!UL.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!UL.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},qL={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=yie(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var xie={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return qL.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&qL.create(n,t,r,i,s)}},bie={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(n=o[a].substring(l+1))}}return n}};let Jp=null;const HL=()=>{if(Jp!==null)return Jp;try{if(Jp=typeof window<"u"&&window.localStorage!==null,!Jp)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Jp=!1}return Jp};var wie={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&HL())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&HL()&&window.localStorage.setItem(n,t)}};let Qp=null;const WL=()=>{if(Qp!==null)return Qp;try{if(Qp=typeof window<"u"&&window.sessionStorage!==null,!Qp)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Qp=!1}return Qp};var Eie={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&WL())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&WL()&&window.sessionStorage.setItem(n,t)}},Sie={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},Cie={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Aie={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},_ie={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let M7=!1;try{document.cookie,M7=!0}catch{}const O7=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];M7||O7.splice(1,1);const Tie=()=>({order:O7,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class VT{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=gie(n,this.options||{},Tie()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(xie),this.addDetector(bie),this.addDetector(wie),this.addDetector(Eie),this.addDetector(Sie),this.addDetector(Cie),this.addDetector(Aie),this.addDetector(_ie)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!vie(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}VT.type="languageDetector";const kie={tagline:"Soluciones naturales para tu bienestar diario",headline1:"Nutricin celular",headline2:"con respaldo cientfico",description:"Descubr los productos Fuxion seleccionados para transformar tu salud desde adentro.",button:"Ver productos Fuxion"},Pie={tagline:"Suplementos Naturales",headline1:"Apoyo Cognitivo",headline2:"y Bienestar Diario",description:"Descubr Double Wood Supplements: salud cerebral, energa y longevidad con respaldo natural.",button:"Ver productos Double Wood"},Nie={tagline:"Bienestar Puro",headline1:"Suplementos de",headline2:"Alta Calidad",description:"Descubr nuestra lnea premium de suplementos nutricionales diseados para un bienestar ptimo.",button:"Descubrir Pure"},Lie={home:"Inicio",shop:"Tienda",about:"Nosotros",contact:"Contacto"},Iie={relatedProducts:"Tambin te podria interesar",addToCart:"Agregar al carrito",outOfStock:"Agotado",selectSize:"Seleccion un talle",customizationNote:"Las camisetas personalizadas requieren tiempo adicional de entrega.",inStock:"En stock",preOrder:"Por encargue",description:"Descripcin",price:"Precio",backToCatalog:"Volver al catlogo",quantity:"Cantidad",featuredProduct:"Producto destacado"},Die={clearFilters:"Limpiar filtros",showAll:"Mostrar todo",allProducts:"Productos disponibles",searchPlaceholder:"Ej: magnesio",filterBy:"Marcas y lneas",backToHome:"Volver al inicio",searchLabel:"Buscar por nombre",productsFound:"{{count}} producto encontrado",productsFound_plural:"{{count}} productos encontrados",sortBy:"Ordenar por",sort:{az:"A-Z",za:"Z-A",priceAsc:"Precio ",priceDesc:"Precio "},noProductsFound:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a Mostrar todo.",noResults:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a Mostrar todo.",noResultsClickable:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a <showAll>Mostrar todo</showAll>.",openFilters:"Filtros"},Rie={slide1:{title:"La ciencia de Fuxion en accin",subtitle:"Innovacin nutricional en cada sorbo"},slide2:{title:"Tu salud, tu eleccin",subtitle:"Productos nutracuticos para un mejor bienestar"},slide3:{title:"Fuxion transforma vidas",subtitle:"Nutricin de vanguardia, resultados reales"},slide4:{title:"Vitalidad desde la raz",subtitle:"Frmulas basadas en ciencia y naturaleza"},slide5:{title:"Pure Encapsulations",subtitle:"Suplementos premium basados en evidencia clnica"},slide6:{title:"Confianza mdica",subtitle:"Formulados sin alrgenos comunes"},slide7:{title:"Pura transparencia",subtitle:"Ingredientes puros, resultados reales"},slide8:{title:"Calidad sin compromisos",subtitle:"Estndares estrictos en cada cpsula"},slide9:{title:"Ciencia natural en accin",subtitle:"Apoyo cognitivo con respaldo herbal"},slide10:{title:"Energa y foco diario",subtitle:"Suplementos que impulsan tu da"},slide11:{title:"Frmulas avanzadas",subtitle:"Pureza y potencia desde la naturaleza"},slide12:{title:"Tu salud, nuestra misin",subtitle:"Confianza respaldada por miles de usuarios"},cta:"COMPRAR AHORA"},Mie={title:"Marcas que potencian tu bienestar",eyebrow:"NUTRICIN FUNCIONAL Y BIENESTAR",powerfulBrands:"Marcas que potencian tu bienestar",shortTitle:"Potenci tu bienestar"},Oie={title:"Bienestar en accin",subtitle:"Descubr cmo nuestros suplementos mejoran tu salud cada da."},Fie={title:"Quines somos",description:"Bionova es una tienda online dedicada a ofrecer suplementos de alta calidad que potencian tu salud y bienestar. Seleccionamos cuidadosamente productos de marcas reconocidas como Fuxion, Pure Encapsulations y Double Wood Supplements, combinando naturaleza y ciencia en cada eleccin. Operamos desde Miami y realizamos envos seguros a todo Estados Unidos.",mission:"Nuestra misin es acercarte soluciones naturales respaldadas por la ciencia, con atencin personalizada, entregas rpidas y una experiencia de compra simple y confiable.",addressLabel:"Direccin comercial",address:`20200 NW 2nd Ave, STE 108
Miami Gardens, FL 33169, USA`,emailLabel:"Email de contacto",email:"info@getbionova.com",cta:"Conoc nuestros productos",subtitle:"NUESTRO COMPROMISO",headline:"Ciencia, naturaleza y bienestar en cada frmula",preview:"En Bionova te acercamos suplementos naturales de alta calidad, cuidadosamente seleccionados de marcas lderes como Fuxion, Pure Encapsulations y Double Wood. Combinamos evidencia cientfica con el poder de la naturaleza para apoyar tu salud de forma integral y confiable."},jie={title:"Necesits ayuda? Estamos para vos.",description:"Pods escribirnos en cualquier momento a nuestro correo electrnico y te responderemos a la brevedad. Nuestro equipo est basado en Miami y te asistir en ingls o espaol, segn prefieras.",cta:"Escribinos por email"},F7={hero:kie,dw:Pie,pure:Nie,nav:Lie,productPage:Iie,shop:Die,promoSlider:Rie,categories:Mie,highlights:Oie,about:Fie,contact:jie},Bie={tagline:"Natural solutions for your daily wellness",headline1:"Cellular nutrition",headline2:"With scientific backing",description:"Discover Fuxion products selected to transform your health from within.",button:"View Fuxion products"},Vie={tagline:"Natural supplements",headline1:"Cognitive Support",headline2:"& Daily Wellness",description:"Discover Double Wood Supplements: brain health, energy, and longevity backed by natural science.",button:"View Double Wood products"},$ie={tagline:"Pure Encapsulations",headline1:"Pure Quality",headline2:"Trusted Worldwide",description:"Clinical-grade supplements backed by science.",button:"Discover Pure"},zie={home:"Home",shop:"Shop",about:"About",contact:"Contact"},Uie={backToHome:"Back to home",searchLabel:"Search by name",productsFound:"{{count}} product found",productsFound_plural:"{{count}} products found",filterBy:"Brands & Lines",searchPlaceholder:"Ex: magnesium",allProducts:"Available products",sortBy:"Sort by",sortPriceAsc:"Price ",sortPriceDesc:"Price ",sortNameAZ:"A-Z",sortNameZA:"Z-A",clearFilters:"Clear filters",showAll:"Show all",noResults:"No products found for this selection. Try other filters or go back to Show all.",noResultsClickable:"No products found for this selection. Try other filters or go back to <showAll>Show all</showAll>.",openFilters:"Filters",sort:{az:"A-Z",za:"Z-A",priceAsc:"Price ",priceDesc:"Price "}},qie={backToCatalog:"Back to catalog",featuredProduct:"Featured product",option:"Option",quantity:"Quantity",addToCart:"Add to cart",outOfStock:"OUT OF STOCK",viewCart:"View cart",relatedProducts:"You might also like"},Hie={slide1:{title:"The science of Fuxion in action",subtitle:"Nutritional innovation in every sip"},slide2:{title:"Your health, your choice",subtitle:"Nutraceutical products for better wellness"},slide3:{title:"Fuxion transforms lives",subtitle:"Cutting-edge nutrition, real results"},slide4:{title:"Vitality from the root",subtitle:"Formulas based on science and nature"},slide5:{title:"Pure Encapsulations",subtitle:"Premium supplements backed by clinical evidence"},slide6:{title:"Medical-grade confidence",subtitle:"Formulated without common allergens"},slide7:{title:"Pure transparency",subtitle:"Clean ingredients, real results"},slide8:{title:"Uncompromising quality",subtitle:"Strict standards in every capsule"},slide9:{title:"Cognitive Support & Daily Vitality",subtitle:"Natural formulas for sharp focus and energy"},slide10:{title:"Your Brains Best Ally",subtitle:"Supplements to protect and energize your mind"},slide11:{title:"Sharper mind, stronger you",subtitle:"Clinically tested ingredients to support brain health"},slide12:{title:"Longevity Starts Here",subtitle:"Support your long-term vitality with natural solutions"},cta:"SHOP NOW"},Wie={title:"Brands that empower your wellness",eyebrow:"FUNCTIONAL NUTRITION AND WELLNESS",shortTitle:"Empower your wellness"},Gie={title:"Wellness in action",subtitle:"Discover how our supplements enhance your daily health"},Kie={title:"About Us",description:"Bionova is an online store dedicated to offering high-quality supplements that enhance your health and wellness. We carefully select products from trusted brands such as Fuxion, Pure Encapsulations, and Double Wood Supplements, combining the power of nature with scientific evidence. Based in Miami, we ship safely across the United States.",mission:"Our mission is to bring you natural solutions backed by science, with personalized service, fast shipping, and a seamless, trustworthy shopping experience.",addressLabel:"Business address",address:`20200 NW 2nd Ave, STE 108
Miami Gardens, FL 33169
United States`,emailLabel:"Contact email",email:"info@getbionova.com",cta:"Discover our products",subtitle:"OUR COMMITMENT",headline:"Science, nature, and wellness in every formula",preview:"At Bionova, we bring you high-quality natural supplements, carefully selected from leading brands like Fuxion, Pure Encapsulations, and Double Wood. We combine scientific evidence with the power of nature to support your health in a comprehensive and trustworthy way."},Yie={title:"Need help? We're here for you.",description:"You can email us anytime and well get back to you as soon as possible. Our team is based in Miami and will assist you in English or Spanish, depending on your preference.",cta:"Email us"},j7={hero:Bie,dw:Vie,pure:$ie,nav:zie,shop:Uie,productPage:qie,promoSlider:Hie,categories:Wie,highlights:Gie,about:Kie,contact:Yie};Ft.use(VT).use(T7).init({resources:{es:{translation:F7},en:{translation:j7}},fallbackLng:"es",interpolation:{escapeValue:!1}});function Xie({children:t}){const{items:e}=pl(),n=gl(),r=e.reduce((c,u)=>c+u.quantity,0),{t:i}=Zr(),[s,o]=b.useState(!1),a=n.pathname.startsWith("/producto/"),l=n.pathname.startsWith("/shop");return A.jsxs("div",{className:`flex flex-col min-h-screen w-full overflow-x-hidden text-black ${n.pathname==="/"?"bg-transparent":"bg-neutral-50"}`,children:[!a&&!l&&A.jsxs("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-50 shadow-sm py-0.5",children:[A.jsxs("div",{className:"flex sm:hidden items-center justify-between px-4 py-0.5",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"max-h-[2.25rem] w-auto object-contain"})}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-xs px-1 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-xs px-1 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),r>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:r})]}),A.jsx("button",{className:"text-[#004AAD]",onClick:()=>o(!s),children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&A.jsx("div",{className:"sm:hidden px-4 pb-2",children:A.jsxs("nav",{className:"flex flex-col gap-2 text-sm",children:[A.jsx(Zt,{to:"/shop",onClick:()=>o(!1),className:"text-[#004AAD] font-semibold",children:i("nav.shop","Tienda")}),A.jsx(Zt,{to:"/about",onClick:()=>o(!1),className:"text-[#004AAD] font-semibold",children:i("nav.about","Nosotros")}),A.jsx(Zt,{to:"/contact",onClick:()=>o(!1),className:"text-[#004AAD] font-semibold",children:i("nav.contact","Contacto")})]})}),A.jsxs("div",{className:"hidden sm:flex max-w-7xl mx-auto px-4 py-1 items-center justify-between",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"h-12 w-auto object-contain"})}),A.jsxs("nav",{className:"flex items-center gap-6 text-base",children:[A.jsx(Zt,{to:"/shop",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:i("nav.shop","Shop")}),A.jsx(Zt,{to:"/about",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:i("nav.about","About")}),A.jsx(Zt,{to:"/contact",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:i("nav.contact","Contact")})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-sm px-2 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-sm px-2 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),r>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:r})]})]})]})]}),A.jsxs("main",{className:"pt-0 flex-grow w-full bg-transparent text-black",children:[t,n.pathname==="/"&&A.jsx($re,{})]}),A.jsx(jT,{})]})}function Jie(){return A.jsx(Xie,{children:A.jsx(wW,{})})}const $T=b.createContext({});function zT(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const UT=typeof window<"u",B7=UT?b.useLayoutEffect:b.useEffect,cw=b.createContext(null),qT=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Qie extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zie({children:t,isPresent:e,anchorX:n}){const r=b.useId(),i=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=b.useContext(qT);return b.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=s.current;if(e||!i.current||!a||!l)return;const h=n==="left"?`left: ${u}`:`right: ${f}`;i.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),A.jsx(Qie,{isPresent:e,childRef:i,sizeRef:s,children:b.cloneElement(t,{ref:i})})}const ese=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=zT(tse),c=b.useId();let u=!0,f=b.useMemo(()=>(u=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return s&&u&&(f={...f}),b.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=A.jsx(Zie,{isPresent:n,anchorX:a,children:t})),A.jsx(cw.Provider,{value:f,children:t})};function tse(){return new Map}function V7(t=!0){const e=b.useContext(cw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=b.useId();b.useEffect(()=>{if(t)return i(s)},[t]);const o=b.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const b1=t=>t.key||"";function GL(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const nse=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=V7(o),u=b.useMemo(()=>GL(t),[t]),f=o&&!l?[]:u.map(b1),h=b.useRef(!0),p=b.useRef(u),g=zT(()=>new Map),[v,y]=b.useState(u),[w,E]=b.useState(u);B7(()=>{h.current=!1,p.current=u;for(let F=0;F<w.length;F++){const B=b1(w[F]);f.includes(B)?g.delete(B):g.get(B)!==!0&&g.set(B,!1)}},[w,f.length,f.join("-")]);const T=[];if(u!==v){let F=[...u];for(let B=0;B<w.length;B++){const R=w[B],S=b1(R);f.includes(S)||(F.splice(B,0,R),T.push(R))}return s==="wait"&&T.length&&(F=T),E(GL(F)),y(u),null}const{forceRender:I}=b.useContext($T);return A.jsx(A.Fragment,{children:w.map(F=>{const B=b1(F),R=o&&!l?!1:u===w||f.includes(B),S=()=>{if(g.has(B))g.set(B,!0);else return;let k=!0;g.forEach(P=>{P||(k=!1)}),k&&(I==null||I(),E(p.current),o&&(c==null||c()),r&&r())};return A.jsx(ese,{isPresent:R,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:R?void 0:S,anchorX:a,children:F},B)})})};function HT(t,e){t.indexOf(e)===-1&&t.push(e)}function WT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let $7=()=>{};const JC={useManualTiming:!1};function GT(t){let e;return()=>(e===void 0&&(e=t()),e)}const fl=t=>t,gv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class KT{constructor(){this.subscriptions=[]}add(e){return HT(this.subscriptions,e),()=>WT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kc=t=>t*1e3,Yc=t=>t/1e3;function z7(t,e){return e?t*(1e3/e):0}const rse=GT(()=>window.ScrollTimeline!==void 0);class ise{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(rse()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sse extends ise{then(e,n){return this.finished.finally(e).then(()=>{})}}const KL={value:null},YT=t=>Array.isArray(t)&&typeof t[0]=="number",ose={};function ase(t,e){const n=GT(t);return()=>ose[e]??n()}const vv=ase(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),U7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},E0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,QC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:E0([0,.65,.55,1]),circOut:E0([.55,0,1,.45]),backIn:E0([.31,.01,.66,-.59]),backOut:E0([.33,1.53,.69,.99])};function q7(t,e){if(t)return typeof t=="function"&&vv()?U7(t,e):YT(t)?E0(t):Array.isArray(t)?t.map(n=>q7(n,e)||QC.easeOut):QC[t]}function lse(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=q7(a,i);return Array.isArray(f)&&(u.easing=f),t.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:c})}function XT(t){return typeof t=="function"&&"applyToOptions"in t}function JT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Fb=2e4;function QT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fb;)e+=n,r=t.next(e);return e>=Fb?1/0:e}function cse(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(QT(r),Fb);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Yc(i)}}function H7(t){return!!(typeof t=="function"&&vv()||!t||typeof t=="string"&&(t in QC||vv())||YT(t)||Array.isArray(t)&&t.every(H7))}function YL(t,e){t.timeline=e,t.onfinish=null}const w1=["read","resolveKeyframes","update","preRender","render","postRender"];function use(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),t()),l++,f(a)}const u={schedule:(f,h=!1,p=!1)=>{const v=p&&i?n:r;return h&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&KL.value&&KL.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const dse=40;function W7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=w1.reduce((w,E)=>(w[E]=use(s,e?E:void 0),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=o,p=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,dse),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:w1.reduce((w,E)=>{const T=o[E];return w[E]=(I,F=!1,B=!1)=>(n||g(),T.schedule(I,F,B)),w},{}),cancel:w=>{for(let E=0;E<w1.length;E++)o[w1[E]].cancel(w)},state:i,steps:o}}const{schedule:ZT}=W7(queueMicrotask,!1),{schedule:br,cancel:$f,state:ws,steps:yE}=W7(typeof requestAnimationFrame<"u"?requestAnimationFrame:fl,!0);let Wx;function fse(){Wx=void 0}const Xc={now:()=>(Wx===void 0&&Xc.set(ws.isProcessing||JC.useManualTiming?ws.timestamp:performance.now()),Wx),set:t=>{Wx=t,queueMicrotask(fse)}},Wl={x:!1,y:!1};function G7(){return Wl.x||Wl.y}function hse(t){return t==="x"||t==="y"?Wl[t]?null:(Wl[t]=!0,()=>{Wl[t]=!1}):Wl.x||Wl.y?null:(Wl.x=Wl.y=!0,()=>{Wl.x=Wl.y=!1})}function pse(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function K7(t,e){const n=pse(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function XL(t){return!(t.pointerType==="touch"||G7())}function mse(t,e,n={}){const[r,i,s]=K7(t,n),o=a=>{if(!XL(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{XL(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Y7=(t,e)=>e?t===e?!0:Y7(t,e.parentElement):!1,ek=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,gse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vse(t){return gse.has(t.tagName)||t.tabIndex!==-1}const S0=new WeakSet;function JL(t){return e=>{e.key==="Enter"&&t(e)}}function xE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yse=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=JL(()=>{if(S0.has(n))return;xE(n,"down");const i=JL(()=>{xE(n,"up")}),s=()=>xE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function QL(t){return ek(t)&&!G7()}function xse(t,e,n={}){const[r,i,s]=K7(t,n),o=a=>{const l=a.currentTarget;if(!QL(a)||S0.has(l))return;S0.add(l);const c=e(l,a),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!QL(p)||!S0.has(l))&&(S0.delete(l),typeof c=="function"&&c(p,{success:g}))},f=p=>{u(p,l===window||l===document||n.useGlobalTarget||Y7(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>yse(c,i)),!vse(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const ZL=30,bse=t=>!isNaN(parseFloat(t));class wse{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Xc.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bse(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new KT);const r=this.events[e].add(n);return e==="change"?()=>{r(),br.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ZL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ZL);return z7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yv(t,e){return new wse(t,e)}const X7=b.createContext({strict:!1}),eI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qm={};for(const t in eI)Qm[t]={isEnabled:e=>eI[t].some(n=>!!e[n])};function Ese(t){for(const e in t)Qm[e]={...Qm[e],...t[e]}}const Sse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Sse.has(t)}let J7=t=>!jb(t);function Cse(t){t&&(J7=e=>e.startsWith("on")?!jb(e):t(e))}try{Cse(require("@emotion/is-prop-valid").default)}catch{}function Ase(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(J7(i)||n===!0&&jb(i)||!e&&!jb(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function _se(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const uw=b.createContext({});function dw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xv(t){return typeof t=="string"||Array.isArray(t)}const tk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nk=["initial",...tk];function fw(t){return dw(t.animate)||nk.some(e=>xv(t[e]))}function Q7(t){return!!(fw(t)||t.variants)}function Tse(t,e){if(fw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xv(n)?n:void 0,animate:xv(r)?r:void 0}}return t.inherit!==!1?e:{}}function kse(t){const{initial:e,animate:n}=Tse(t,b.useContext(uw));return b.useMemo(()=>({initial:e,animate:n}),[tI(e),tI(n)])}function tI(t){return Array.isArray(t)?t.join(" "):t}const Pse=Symbol.for("motionComponentSymbol");function mm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Nse(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mm(n)&&(n.current=r))},[e])}const rk=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lse="framerAppearId",Z7="data-"+rk(Lse),eB=b.createContext({});function Ise(t,e,n,r,i){var v,y;const{visualElement:s}=b.useContext(uw),o=b.useContext(X7),a=b.useContext(cw),l=b.useContext(qT).reducedMotion,c=b.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=b.useContext(eB);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Dse(c.current,n,i,f);const h=b.useRef(!1);b.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const p=n[Z7],g=b.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,p)));return B7(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),ZT.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,p)}),g.current=!1))}),u}function Dse(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tB(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&mm(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function tB(t){if(t)return t.options.allowProjection!==!1?t.projection:tB(t.parent)}function Rse({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Ese(t);function s(a,l){let c;const u={...b.useContext(qT),...a,layoutId:Mse(a)},{isStatic:f}=u,h=kse(a),p=r(a,f);if(!f&&UT){Ose();const g=Fse(u);c=g.MeasureLayout,h.visualElement=Ise(i,p,u,e,g.ProjectionNode)}return A.jsxs(uw.Provider,{value:h,children:[c&&h.visualElement?A.jsx(c,{visualElement:h.visualElement,...u}):null,n(i,a,Nse(p,h.visualElement,l),p,f,h.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=b.forwardRef(s);return o[Pse]=i,o}function Mse({layoutId:t}){const e=b.useContext($T).id;return e&&t!==void 0?e+"-"+t:t}function Ose(t,e){b.useContext(X7).strict}function Fse(t){const{drag:e,layout:n}=Qm;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nB=t=>e=>typeof e=="string"&&e.startsWith(t),ik=nB("--"),jse=nB("var(--"),sk=t=>jse(t)?Bse.test(t.split("/*")[0].trim()):!1,Bse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bv={};function Vse(t){for(const e in t)bv[e]=t[e],ik(e)&&(bv[e].isCSSVariable=!0)}const Sg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ep=new Set(Sg);function rB(t,{layout:e,layoutId:n}){return Ep.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bv[t]||t==="opacity")}const Qs=t=>!!(t&&t.getVelocity),iB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ud=(t,e,n)=>n>e?e:n<t?t:n,Cg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wv={...Cg,transform:t=>ud(0,1,t)},E1={...Cg,default:1},cy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ef=cy("deg"),Jc=cy("%"),Xt=cy("px"),$se=cy("vh"),zse=cy("vw"),nI={...Jc,parse:t=>Jc.parse(t)/100,transform:t=>Jc.transform(t*100)},Use={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,backgroundPositionX:Xt,backgroundPositionY:Xt},qse={rotate:ef,rotateX:ef,rotateY:ef,rotateZ:ef,scale:E1,scaleX:E1,scaleY:E1,scaleZ:E1,skew:ef,skewX:ef,skewY:ef,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:wv,originX:nI,originY:nI,originZ:Xt},rI={...Cg,transform:Math.round},ok={...Use,...qse,zIndex:rI,size:Xt,fillOpacity:wv,strokeOpacity:wv,numOctaves:rI},Hse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Wse=Sg.length;function Gse(t,e,n){let r="",i=!0;for(let s=0;s<Wse;s++){const o=Sg[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=iB(a,ok[o]);if(!l){i=!1;const u=Hse[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function ak(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Ep.has(l)){o=!0;continue}else if(ik(l)){i[l]=c;continue}else{const u=iB(c,ok[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=Gse(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const lk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sB(t,e,n){for(const r in e)!Qs(e[r])&&!rB(r,n)&&(t[r]=e[r])}function Kse({transformTemplate:t},e){return b.useMemo(()=>{const n=lk();return ak(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Yse(t,e){const n=t.style||{},r={};return sB(r,n,t),Object.assign(r,Kse(t,e)),r}function Xse(t,e){const n={},r=Yse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Jse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ck(t){return typeof t!="string"||t.includes("-")?!1:!!(Jse.indexOf(t)>-1||/[A-Z]/u.test(t))}const Qse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zse={offset:"strokeDashoffset",array:"strokeDasharray"};function eoe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Qse:Zse;t[s.offset]=Xt.transform(-r);const o=Xt.transform(e),a=Xt.transform(n);t[s.array]=`${o} ${a}`}function iI(t,e,n){return typeof t=="string"?t:Xt.transform(e+n*t)}function toe(t,e,n){const r=iI(e,t.x,t.width),i=iI(n,t.y,t.height);return`${r} ${i}`}function uk(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(ak(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:g}=t;h.transform&&(g&&(p.transform=h.transform),delete h.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=toe(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&eoe(h,o,a,l,!1)}const oB=()=>({...lk(),attrs:{}}),dk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function noe(t,e,n,r){const i=b.useMemo(()=>{const s=oB();return uk(s,e,dk(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};sB(s,t.style,t),i.style={...s,...i.style}}return i}function roe(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(ck(n)?noe:Xse)(r,s,o,n),c=Ase(r,typeof n=="string",t),u=n!==b.Fragment?{...c,...l,ref:i}:{},{children:f}=r,h=b.useMemo(()=>Qs(f)?f.get():f,[f]);return b.createElement(n,{...u,children:h})}}function sI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function fk(t,e,n,r){if(typeof e=="function"){const[i,s]=sI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=sI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const ZC=t=>Array.isArray(t),ioe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),soe=t=>ZC(t)?t[t.length-1]||0:t;function Gx(t){const e=Qs(t)?t.get():t;return ioe(e)?e.toValue():e}function ooe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:aoe(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const aB=t=>(e,n)=>{const r=b.useContext(uw),i=b.useContext(cw),s=()=>ooe(t,e,r,i);return n?s():zT(s)};function aoe(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Gx(s[h]);let{initial:o,animate:a}=t;const l=fw(t),c=Q7(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!dw(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const g=fk(t,h[p]);if(g){const{transitionEnd:v,transition:y,...w}=g;for(const E in w){let T=w[E];if(Array.isArray(T)){const I=u?T.length-1:0;T=T[I]}T!==null&&(i[E]=T)}for(const E in v)i[E]=v[E]}}}return i}function hk(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Qs(r[o])||e.style&&Qs(e.style[o])||rB(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const loe={useVisualState:aB({scrapeMotionValuesFromProps:hk,createRenderState:lk})};function lB(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function cB(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const uB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dB(t,e,n,r){cB(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(uB.has(i)?i:rk(i),e.attrs[i])}function fB(t,e,n){const r=hk(t,e,n);for(const i in t)if(Qs(t[i])||Qs(e[i])){const s=Sg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const oI=["x","y","width","height","cx","cy","r"],coe={useVisualState:aB({scrapeMotionValuesFromProps:fB,createRenderState:oB,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ep.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<oI.length;a++){const l=oI[a];t[l]!==e[l]&&(o=!0)}o&&br.read(()=>{lB(n,r),br.render(()=>{uk(r,i,dk(n.tagName),t.transformTemplate),dB(n,r)})})}})};function uoe(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...ck(r)?coe:loe,preloadedFeatures:t,useRender:roe(i),createVisualElement:e,Component:r};return Rse(o)}}function Ev(t,e,n){const r=t.getProps();return fk(r,e,n!==void 0?n:r.custom,t)}const hB=new Set(["width","height","top","left","right","bottom",...Sg]);function doe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yv(n))}function foe(t,e){const n=Ev(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=soe(s[o]);doe(t,o,a)}}function hoe(t){return!!(Qs(t)&&t.add)}function eA(t,e){const n=t.getValue("willChange");if(hoe(n))return n.add(e);if(!n&&JC.WillChange){const r=new JC.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pB(t){return t.props[Z7]}const mB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,poe=1e-7,moe=12;function goe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=mB(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>poe&&++a<moe);return o}function uy(t,e,n,r){if(t===e&&n===r)return fl;const i=s=>goe(s,0,1,t,n);return s=>s===0||s===1?s:mB(i(s),e,r)}const gB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vB=t=>e=>1-t(1-e),yB=uy(.33,1.53,.69,.99),pk=vB(yB),xB=gB(pk),bB=t=>(t*=2)<1?.5*pk(t):.5*(2-Math.pow(2,-10*(t-1))),mk=t=>1-Math.sin(Math.acos(t)),wB=vB(mk),EB=gB(mk),SB=t=>/^0[^.\s]+$/u.test(t);function voe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SB(t):!0}const j0=t=>Math.round(t*1e5)/1e5,gk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yoe(t){return t==null}const xoe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vk=(t,e)=>n=>!!(typeof n=="string"&&xoe.test(n)&&n.startsWith(t)||e&&!yoe(n)&&Object.prototype.hasOwnProperty.call(n,e)),CB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(gk);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},boe=t=>ud(0,255,t),bE={...Cg,transform:t=>Math.round(boe(t))},Oh={test:vk("rgb","red"),parse:CB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bE.transform(t)+", "+bE.transform(e)+", "+bE.transform(n)+", "+j0(wv.transform(r))+")"};function woe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tA={test:vk("#"),parse:woe,transform:Oh.transform},gm={test:vk("hsl","hue"),parse:CB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jc.transform(j0(e))+", "+Jc.transform(j0(n))+", "+j0(wv.transform(r))+")"},Ws={test:t=>Oh.test(t)||tA.test(t)||gm.test(t),parse:t=>Oh.test(t)?Oh.parse(t):gm.test(t)?gm.parse(t):tA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oh.transform(t):gm.transform(t)},Eoe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Soe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gk))==null?void 0:e.length)||0)+(((n=t.match(Eoe))==null?void 0:n.length)||0)>0}const AB="number",_B="color",Coe="var",Aoe="var(",aI="${}",_oe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(_oe,l=>(Ws.test(l)?(r.color.push(s),i.push(_B),n.push(Ws.parse(l))):l.startsWith(Aoe)?(r.var.push(s),i.push(Coe),n.push(l)):(r.number.push(s),i.push(AB),n.push(parseFloat(l))),++s,aI)).split(aI);return{values:n,split:a,indexes:r,types:i}}function TB(t){return Sv(t).values}function kB(t){const{split:e,types:n}=Sv(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===AB?s+=j0(i[o]):a===_B?s+=Ws.transform(i[o]):s+=i[o]}return s}}const Toe=t=>typeof t=="number"?0:t;function koe(t){const e=TB(t);return kB(t)(e.map(Toe))}const zf={test:Soe,parse:TB,createTransformer:kB,getAnimatableNone:koe},Poe=new Set(["brightness","contrast","saturate","opacity"]);function Noe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gk)||[];if(!r)return t;const i=n.replace(r,"");let s=Poe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Loe=/\b([a-z-]*)\(.*?\)/gu,nA={...zf,getAnimatableNone:t=>{const e=t.match(Loe);return e?e.map(Noe).join(" "):t}},Ioe={...ok,color:Ws,backgroundColor:Ws,outlineColor:Ws,fill:Ws,stroke:Ws,borderColor:Ws,borderTopColor:Ws,borderRightColor:Ws,borderBottomColor:Ws,borderLeftColor:Ws,filter:nA,WebkitFilter:nA},PB=t=>Ioe[t];function NB(t,e){let n=PB(t);return n!==nA&&(n=zf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Doe=new Set(["auto","none","0"]);function Roe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Doe.has(s)&&Sv(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=NB(n,i)}const Fh=t=>t*180/Math.PI,rA=t=>{const e=Fh(Math.atan2(t[1],t[0]));return iA(e)},Moe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rA,rotateZ:rA,skewX:t=>Fh(Math.atan(t[1])),skewY:t=>Fh(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},iA=t=>(t=t%360,t<0&&(t+=360),t),lI=rA,cI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),uI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ooe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cI,scaleY:uI,scale:t=>(cI(t)+uI(t))/2,rotateX:t=>iA(Fh(Math.atan2(t[6],t[5]))),rotateY:t=>iA(Fh(Math.atan2(-t[2],t[0]))),rotateZ:lI,rotate:lI,skewX:t=>Fh(Math.atan(t[4])),skewY:t=>Fh(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function dI(t){return t.includes("scale")?1:0}function sA(t,e){if(!t||t==="none")return dI(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Ooe,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Moe,i=a}if(!i)return dI(e);const s=r[e],o=i[1].split(",").map(joe);return typeof s=="function"?s(o):o[s]}const Foe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sA(n,e)};function joe(t){return parseFloat(t.trim())}const fI=t=>t===Cg||t===Xt,Boe=new Set(["x","y","z"]),Voe=Sg.filter(t=>!Boe.has(t));function $oe(t){const e=[];return Voe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zm={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sA(e,"x"),y:(t,{transform:e})=>sA(e,"y")};Zm.translateX=Zm.x;Zm.translateY=Zm.y;const Wh=new Set;let oA=!1,aA=!1;function LB(){if(aA){const t=Array.from(Wh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=$oe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aA=!1,oA=!1,Wh.forEach(t=>t.complete()),Wh.clear()}function IB(){Wh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(aA=!0)})}function zoe(){IB(),LB()}class yk{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Wh.add(this),oA||(oA=!0,br.read(IB),br.resolveKeyframes(LB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Wh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Wh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Uoe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qoe(t){const e=Uoe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RB(t,e,n=1){const[r,i]=qoe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return DB(o)?parseFloat(o):o}return sk(i)?RB(i,e,n+1):i}const MB=t=>e=>e.test(t),Hoe={test:t=>t==="auto",parse:t=>t},OB=[Cg,Xt,Jc,ef,zse,$se,Hoe],hI=t=>OB.find(MB(t));class FB extends yk{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),sk(c))){const u=RB(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!hB.has(r)||e.length!==2)return;const[i,s]=e,o=hI(i),a=hI(s);if(o!==a)if(fI(o)&&fI(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)voe(e[i])&&r.push(i);r.length&&Roe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zm[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Zm[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const pI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zf.test(t)||t==="0")&&!t.startsWith("url("));function Woe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Goe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=pI(i,e),a=pI(s,e);return!o||!a?!1:Woe(t)||(n==="spring"||XT(n))&&r}const Koe=t=>t!==null;function hw(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Koe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Yoe=40;class jB{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xc.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Yoe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zoe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Xc.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Goe(e,r,i,s))if(o)this.options.duration=0;else{l&&l(hw(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const zr=(t,e,n)=>t+(e-t)*n;function wE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Xoe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=wE(l,a,t+1/3),s=wE(l,a,t),o=wE(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Bb(t,e){return n=>n>0?e:t}const EE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Joe=[tA,Oh,gm],Qoe=t=>Joe.find(e=>e.test(t));function mI(t){const e=Qoe(t);if(!e)return!1;let n=e.parse(t);return e===gm&&(n=Xoe(n)),n}const gI=(t,e)=>{const n=mI(t),r=mI(e);if(!n||!r)return Bb(t,e);const i={...n};return s=>(i.red=EE(n.red,r.red,s),i.green=EE(n.green,r.green,s),i.blue=EE(n.blue,r.blue,s),i.alpha=zr(n.alpha,r.alpha,s),Oh.transform(i))},Zoe=(t,e)=>n=>e(t(n)),dy=(...t)=>t.reduce(Zoe),lA=new Set(["none","hidden"]);function eae(t,e){return lA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tae(t,e){return n=>zr(t,e,n)}function xk(t){return typeof t=="number"?tae:typeof t=="string"?sk(t)?Bb:Ws.test(t)?gI:iae:Array.isArray(t)?BB:typeof t=="object"?Ws.test(t)?gI:nae:Bb}function BB(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>xk(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function nae(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=xk(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function rae(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const iae=(t,e)=>{const n=zf.createTransformer(e),r=Sv(t),i=Sv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lA.has(t)&&!i.values.length||lA.has(e)&&!r.values.length?eae(t,e):dy(BB(rae(r,i),i.values),n):Bb(t,e)};function VB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zr(t,e,n):xk(t)(t,e)}const sae=5;function $B(t,e,n){const r=Math.max(e-sae,0);return z7(n-t(r),e-r)}const Jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vI=.001;function oae({duration:t=Jr.duration,bounce:e=Jr.bounce,velocity:n=Jr.velocity,mass:r=Jr.mass}){let i,s,o=1-e;o=ud(Jr.minDamping,Jr.maxDamping,o),t=ud(Jr.minDuration,Jr.maxDuration,Yc(t)),o<1?(i=c=>{const u=c*o,f=u*t,h=u-n,p=cA(c,o),g=Math.exp(-f);return vI-h/p*g},s=c=>{const f=c*o*t,h=f*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-f),v=cA(Math.pow(c,2),o);return(-i(c)+vI>0?-1:1)*((h-p)*g)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-.001+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=lae(i,s,a);if(t=Kc(t),isNaN(l))return{stiffness:Jr.stiffness,damping:Jr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const aae=12;function lae(t,e,n){let r=n;for(let i=1;i<aae;i++)r=r-t(r)/e(r);return r}function cA(t,e){return t*Math.sqrt(1-e*e)}const cae=["duration","bounce"],uae=["stiffness","damping","mass"];function yI(t,e){return e.some(n=>t[n]!==void 0)}function dae(t){let e={velocity:Jr.velocity,stiffness:Jr.stiffness,damping:Jr.damping,mass:Jr.mass,isResolvedFromDuration:!1,...t};if(!yI(t,uae)&&yI(t,cae))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ud(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Jr.mass,stiffness:i,damping:s}}else{const n=oae(t);e={...e,...n,mass:Jr.mass},e.isResolvedFromDuration=!0}return e}function Vb(t=Jr.visualDuration,e=Jr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=dae({...n,velocity:-Yc(n.velocity||0)}),g=h||0,v=c/(2*Math.sqrt(l*u)),y=o-s,w=Yc(Math.sqrt(l/u)),E=Math.abs(y)<5;r||(r=E?Jr.restSpeed.granular:Jr.restSpeed.default),i||(i=E?Jr.restDelta.granular:Jr.restDelta.default);let T;if(v<1){const F=cA(w,v);T=B=>{const R=Math.exp(-v*w*B);return o-R*((g+v*w*y)/F*Math.sin(F*B)+y*Math.cos(F*B))}}else if(v===1)T=F=>o-Math.exp(-w*F)*(y+(g+w*y)*F);else{const F=w*Math.sqrt(v*v-1);T=B=>{const R=Math.exp(-v*w*B),S=Math.min(F*B,300);return o-R*((g+v*w*y)*Math.sinh(S)+F*y*Math.cosh(S))/F}}const I={calculatedDuration:p&&f||null,next:F=>{const B=T(F);if(p)a.done=F>=f;else{let R=0;v<1&&(R=F===0?Kc(g):$B(T,F,B));const S=Math.abs(R)<=r,k=Math.abs(o-B)<=i;a.done=S&&k}return a.value=a.done?o:B,a},toString:()=>{const F=Math.min(QT(I),Fb),B=U7(R=>I.next(F*R).value,F,30);return F+"ms "+B},toTransition:()=>{}};return I}Vb.applyToOptions=t=>{const e=cse(t,100,Vb);return t.ease=vv()?e.ease:"easeOut",t.duration=Kc(e.duration),t.type="keyframes",t};function xI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],h={done:!1,value:f},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,g=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const y=f+v,w=o===void 0?y:o(y);w!==y&&(v=w-f);const E=S=>-v*Math.exp(-S/r),T=S=>w+E(S),I=S=>{const k=E(S),P=T(S);h.done=Math.abs(k)<=c,h.value=h.done?w:P};let F,B;const R=S=>{p(h.value)&&(F=S,B=Vb({keyframes:[h.value,g(h.value)],velocity:$B(T,S,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:S=>{let k=!1;return!B&&F===void 0&&(k=!0,I(S),R(S)),F!==void 0&&S>=F?B.next(S-F):(!k&&I(S),h)}}}const fae=uy(.42,0,1,1),hae=uy(0,0,.58,1),zB=uy(.42,0,.58,1),pae=t=>Array.isArray(t)&&typeof t[0]!="number",mae={linear:fl,easeIn:fae,easeInOut:zB,easeOut:hae,circIn:mk,circInOut:EB,circOut:wB,backIn:pk,backInOut:xB,backOut:yB,anticipate:bB},bI=t=>{if(YT(t)){$7(t.length===4);const[e,n,r,i]=t;return uy(e,n,r,i)}else if(typeof t=="string")return mae[t];return t};function gae(t,e,n){const r=[],i=n||VB,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||fl:e;a=dy(l,a)}r.push(a)}return r}function vae(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if($7(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=gae(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const h=gv(t[f],t[f+1],u);return a[f](h)};return n?u=>c(ud(t[0],t[s-1],u)):c}function yae(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gv(0,e,r);t.push(zr(n,1,i))}}function xae(t){const e=[0];return yae(e,t.length-1),e}function bae(t,e){return t.map(n=>n*e)}function wae(t,e){return t.map(()=>e||zB).splice(0,t.length-1)}function $b({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=pae(r)?r.map(bI):bI(r),s={done:!1,value:e[0]},o=bae(n&&n.length===e.length?n:xae(e),t),a=vae(o,e,{ease:Array.isArray(i)?i:wae(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Eae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>br.update(e,!0),stop:()=>$f(e),now:()=>ws.isProcessing?ws.timestamp:Xc.now()}},Sae={decay:xI,inertia:xI,tween:$b,keyframes:$b,spring:Vb},Cae=t=>t/100;class bk extends jB{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||yk,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=XT(n)?n:Sae[n]||$b;let l,c;a!==$b&&typeof e[0]!="number"&&(l=dy(Cae,VB(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=QT(u));const{calculatedDuration:f}=u,h=f+i,p=h*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:p,repeatType:g,repeatDelay:v,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),E=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let T=this.currentTime,I=s;if(p){const S=Math.min(this.currentTime,u)/f;let k=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&k--,k=Math.min(k,p+1),!!(k%2)&&(g==="reverse"?(P=1-P,v&&(P-=v/f)):g==="mirror"&&(I=o)),T=ud(0,1,P)*f}const F=E?{done:!1,value:l[0]}:I.next(T);a&&(F.value=a(F.value));let{done:B}=F;!E&&c!==null&&(B=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return R&&i!==void 0&&(F.value=hw(l,this.options,i)),y&&y(F.value),R&&this.finish(),F}get duration(){const{resolved:e}=this;return e?Yc(e.calculatedDuration):0}get time(){return Yc(this.currentTime)}set time(e){e=Kc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Eae,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const Aae=new Set(["opacity","clipPath","filter","transform"]),_ae=GT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zb=10,Tae=2e4;function kae(t){return XT(t.type)||t.type==="spring"||!H7(t.ease)}function Pae(t,e){const n=new bk({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<Tae;)r=n.sample(s),i.push(r.value),s+=zb;return{times:void 0,keyframes:i,duration:s-zb,ease:"linear"}}const UB={anticipate:bB,backInOut:xB,circInOut:EB};function Nae(t){return t in UB}class wI extends jB{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new FB(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&vv()&&Nae(s)&&(s=UB[s]),kae(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:g,...v}=this.options,y=Pae(e,v);e=y.keyframes,e.length===1&&(e[1]=e[0]),r=y.duration,i=y.times,s=y.ease,o="keyframes"}const u=lse(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(YL(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;a.set(hw(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Yc(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Yc(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Kc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return fl;const{animation:r}=n;YL(r,e)}return fl}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...p}=this.options,g=new bk({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Kc(this.time);c.setWithVelocity(g.sample(v-zb).value,g.sample(v).value,zb)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return _ae()&&r&&Aae.has(r)&&(r!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Lae={type:"spring",stiffness:500,damping:25,restSpeed:10},Iae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dae={type:"keyframes",duration:.8},Rae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mae=(t,{keyframes:e})=>e.length>2?Dae:Ep.has(t)?t.startsWith("scale")?Iae(e[1]):Lae:Rae;function Oae({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const wk=(t,e,n,r={},i,s)=>o=>{const a=JT(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Kc(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Oae(a)||(u={...u,...Mae(t,u)}),u.duration&&(u.duration=Kc(u.duration)),u.repeatDelay&&(u.repeatDelay=Kc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const h=hw(u.keyframes,a);if(h!==void 0)return br.update(()=>{u.onUpdate(h),u.onComplete()}),new sse([])}return!s&&wI.supports(u)?new wI(u):new bk(u)};function Fae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function qB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const f=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&Fae(c,u))continue;const p={delay:n,...JT(s||{},u)};let g=!1;if(window.MotionHandoffAnimation){const y=pB(t);if(y){const w=window.MotionHandoffAnimation(y,u,br);w!==null&&(p.startTime=w,g=!0)}}eA(t,u),f.start(wk(u,f,h,t.shouldReduceMotion&&hB.has(u)?{type:!1}:p,t,g));const v=f.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{br.update(()=>{o&&foe(t,o)})}),l}function uA(t,e,n={}){var l;const r=Ev(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(qB(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return jae(t,e,u+c,f,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function jae(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Bae).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(uA(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Bae(t,e){return t.sortNodePosition(e)}function Vae(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>uA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=uA(t,e,n);else{const i=typeof e=="function"?Ev(t,e,n.custom):e;r=Promise.all(qB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function HB(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $ae=nk.length;function WB(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WB(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$ae;n++){const r=nk[n],i=t.props[r];(xv(i)||i===!1)&&(e[r]=i)}return e}const zae=[...tk].reverse(),Uae=tk.length;function qae(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Vae(t,n,r)))}function Hae(t){let e=qae(t),n=EI(),r=!0;const i=l=>(c,u)=>{var h;const f=Ev(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:g,...v}=f;c={...c,...v,...g}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=WB(t.parent)||{},f=[],h=new Set;let p={},g=1/0;for(let y=0;y<Uae;y++){const w=zae[y],E=n[w],T=c[w]!==void 0?c[w]:u[w],I=xv(T),F=w===l?E.isActive:null;F===!1&&(g=y);let B=T===u[w]&&T!==c[w]&&I;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),E.protectedKeys={...p},!E.isActive&&F===null||!T&&!E.prevProp||dw(T)||typeof T=="boolean")continue;const R=Wae(E.prevProp,T);let S=R||w===l&&E.isActive&&!B&&I||y>g&&I,k=!1;const P=Array.isArray(T)?T:[T];let N=P.reduce(i(w),{});F===!1&&(N={});const{prevResolvedValues:M={}}=E,O={...M,...N},q=ee=>{S=!0,h.has(ee)&&(k=!0,h.delete(ee)),E.needsAnimating[ee]=!0;const Y=t.getValue(ee);Y&&(Y.liveStyle=!1)};for(const ee in O){const Y=N[ee],oe=M[ee];if(p.hasOwnProperty(ee))continue;let se=!1;ZC(Y)&&ZC(oe)?se=!HB(Y,oe):se=Y!==oe,se?Y!=null?q(ee):h.add(ee):Y!==void 0&&h.has(ee)?q(ee):E.protectedKeys[ee]=!0}E.prevProp=T,E.prevResolvedValues=N,E.isActive&&(p={...p,...N}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(B&&R)||k)&&f.push(...P.map(ee=>({animation:ee,options:{type:w}})))}if(h.size){const y={};if(typeof c.initial!="boolean"){const w=Ev(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(y.transition=w.transition)}h.forEach(w=>{const E=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),y[w]=E??null}),f.push({animation:y})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=EI(),r=!0}}}function Wae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!HB(e,t):!1}function Ch(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EI(){return{animate:Ch(!0),whileInView:Ch(),whileHover:Ch(),whileTap:Ch(),whileDrag:Ch(),whileFocus:Ch(),exit:Ch()}}class Zf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gae extends Zf{constructor(e){super(e),e.animationState||(e.animationState=Hae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();dw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Kae=0;class Yae extends Zf{constructor(){super(...arguments),this.id=Kae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xae={animation:{Feature:Gae},exit:{Feature:Yae}};function Cv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fy(t){return{point:{x:t.pageX,y:t.pageY}}}const Jae=t=>e=>ek(e)&&t(e,fy(e));function B0(t,e,n,r){return Cv(t,e,Jae(n),r)}function GB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Qae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Zae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const KB=1e-4,ele=1-KB,tle=1+KB,YB=.01,nle=0-YB,rle=0+YB;function So(t){return t.max-t.min}function ile(t,e,n){return Math.abs(t-e)<=n}function SI(t,e,n,r=.5){t.origin=r,t.originPoint=zr(e.min,e.max,t.origin),t.scale=So(n)/So(e),t.translate=zr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ele&&t.scale<=tle||isNaN(t.scale))&&(t.scale=1),(t.translate>=nle&&t.translate<=rle||isNaN(t.translate))&&(t.translate=0)}function V0(t,e,n,r){SI(t.x,e.x,n.x,r?r.originX:void 0),SI(t.y,e.y,n.y,r?r.originY:void 0)}function CI(t,e,n){t.min=n.min+e.min,t.max=t.min+So(e)}function sle(t,e,n){CI(t.x,e.x,n.x),CI(t.y,e.y,n.y)}function AI(t,e,n){t.min=e.min-n.min,t.max=t.min+So(e)}function $0(t,e,n){AI(t.x,e.x,n.x),AI(t.y,e.y,n.y)}const _I=()=>({translate:0,scale:1,origin:0,originPoint:0}),vm=()=>({x:_I(),y:_I()}),TI=()=>({min:0,max:0}),ii=()=>({x:TI(),y:TI()});function rl(t){return[t("x"),t("y")]}function SE(t){return t===void 0||t===1}function dA({scale:t,scaleX:e,scaleY:n}){return!SE(t)||!SE(e)||!SE(n)}function Th(t){return dA(t)||XB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XB(t){return kI(t.x)||kI(t.y)}function kI(t){return t&&t!=="0%"}function Ub(t,e,n){const r=t-n,i=e*r;return n+i}function PI(t,e,n,r,i){return i!==void 0&&(t=Ub(t,i,r)),Ub(t,n,r)+e}function fA(t,e=0,n=1,r,i){t.min=PI(t.min,e,n,r,i),t.max=PI(t.max,e,n,r,i)}function JB(t,{x:e,y:n}){fA(t.x,e.translate,e.scale,e.originPoint),fA(t.y,n.translate,n.scale,n.originPoint)}const NI=.999999999999,LI=1.0000000000001;function ole(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xm(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,JB(t,o)),r&&Th(s.latestValues)&&xm(t,s.latestValues))}e.x<LI&&e.x>NI&&(e.x=1),e.y<LI&&e.y>NI&&(e.y=1)}function ym(t,e){t.min=t.min+e,t.max=t.max+e}function II(t,e,n,r,i=.5){const s=zr(t.min,t.max,i);fA(t,e,n,s,r)}function xm(t,e){II(t.x,e.x,e.scaleX,e.scale,e.originX),II(t.y,e.y,e.scaleY,e.scale,e.originY)}function QB(t,e){return GB(Zae(t.getBoundingClientRect(),e))}function ale(t,e,n){const r=QB(t,n),{scroll:i}=e;return i&&(ym(r.x,i.offset.x),ym(r.y,i.offset.y)),r}const ZB=({current:t})=>t?t.ownerDocument.defaultView:null,DI=(t,e)=>Math.abs(t-e);function lle(t,e){const n=DI(t.x,e.x),r=DI(t.y,e.y);return Math.sqrt(n**2+r**2)}class e9{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=AE(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=lle(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=f,{timestamp:v}=ws;this.history.push({...g,timestamp:v});const{onStart:y,onMove:w}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=CE(h,this.transformPagePoint),br.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=AE(f.type==="pointercancel"?this.lastMoveEventInfo:CE(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,y),g&&g(f,y)},!ek(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=fy(e),a=CE(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ws;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,AE(a,this.history)),this.removeListeners=dy(B0(this.contextWindow,"pointermove",this.handlePointerMove),B0(this.contextWindow,"pointerup",this.handlePointerUp),B0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$f(this.updatePoint)}}function CE(t,e){return e?{point:e(t.point)}:t}function RI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function AE({point:t},e){return{point:t,delta:RI(t,t9(e)),offset:RI(t,cle(e)),velocity:ule(e,.1)}}function cle(t){return t[0]}function t9(t){return t[t.length-1]}function ule(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=t9(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Kc(e)));)n--;if(!r)return{x:0,y:0};const s=Yc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function dle(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zr(n,t,r.max):Math.min(t,n)),t}function MI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fle(t,{top:e,left:n,bottom:r,right:i}){return{x:MI(t.x,n,i),y:MI(t.y,e,r)}}function OI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hle(t,e){return{x:OI(t.x,e.x),y:OI(t.y,e.y)}}function ple(t,e){let n=.5;const r=So(t),i=So(e);return i>r?n=gv(e.min,e.max-r,t.min):r>i&&(n=gv(t.min,t.max-i,e.min)),ud(0,1,n)}function mle(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hA=.35;function gle(t=hA){return t===!1?t=0:t===!0&&(t=hA),{x:FI(t,"left","right"),y:FI(t,"top","bottom")}}function FI(t,e,n){return{min:jI(t,e),max:jI(t,n)}}function jI(t,e){return typeof t=="number"?t:t[e]||0}const vle=new WeakMap;class yle{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ii(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fy(u).point)},s=(u,f)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rl(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Jc.test(w)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[y];T&&(w=So(T)*(parseFloat(w)/100))}}this.originPoint[y]=w}),g&&br.postRender(()=>g(u,f)),eA(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(p&&this.currentDirection===null){this.currentDirection=xle(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>rl(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new e9(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ZB(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&br.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!S1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=dle(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&mm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=fle(r.layoutBox,e):this.constraints=!1,this.elastic=gle(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=mle(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mm(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ale(r,i.root,this.visualElement.getTransformPagePoint());let o=hle(i.layout.layoutBox,s);if(n){const a=n(Qae(o));this.hasMutatedConstraints=!!a,a&&(o=GB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=rl(u=>{if(!S1(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return eA(this.visualElement,e),r.start(wk(e,r,0,n,this.visualElement,!1))}stopAnimation(){rl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){rl(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){rl(n=>{const{drag:r}=this.getProps();if(!S1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-zr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rl(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=ple({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rl(o=>{if(!S1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(zr(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;vle.set(this.visualElement,this);const e=this.visualElement.current,n=B0(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();mm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),br.read(r);const o=Cv(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rl(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=hA,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function S1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xle(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ble extends Zf{constructor(e){super(e),this.removeGroupControls=fl,this.removeListeners=fl,this.controls=new yle(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fl}unmount(){this.removeGroupControls(),this.removeListeners()}}const BI=t=>(e,n)=>{t&&br.postRender(()=>t(e,n))};class wle extends Zf{constructor(){super(...arguments),this.removePointerDownListener=fl}onPointerDown(e){this.session=new e9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:BI(e),onStart:BI(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&br.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=B0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const r0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xt.test(t))t=parseFloat(t);else return t;const n=VI(t,e.target.x),r=VI(t,e.target.y);return`${n}% ${r}%`}},Ele={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=zf.parse(t);if(i.length>5)return r;const s=zf.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=zr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class Sle extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Vse(Cle),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Kx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||br.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ZT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function n9(t){const[e,n]=V7(),r=b.useContext($T);return A.jsx(Sle,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(eB),isPresent:e,safeToRemove:n})}const Cle={borderRadius:{...r0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:r0,borderTopRightRadius:r0,borderBottomLeftRadius:r0,borderBottomRightRadius:r0,boxShadow:Ele};function Ale(t,e,n){const r=Qs(t)?t:yv(t);return r.start(wk("",r,e,n)),r.animation}function _le(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Tle=(t,e)=>t.depth-e.depth;class kle{constructor(){this.children=[],this.isDirty=!1}add(e){HT(this.children,e),this.isDirty=!0}remove(e){WT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tle),this.isDirty=!1,this.children.forEach(e)}}function Ple(t,e){const n=Xc.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&($f(r),t(s-e))};return br.read(r,!0),()=>$f(r)}const r9=["TopLeft","TopRight","BottomLeft","BottomRight"],Nle=r9.length,$I=t=>typeof t=="string"?parseFloat(t):t,zI=t=>typeof t=="number"||Xt.test(t);function Lle(t,e,n,r,i,s){i?(t.opacity=zr(0,n.opacity??1,Ile(r)),t.opacityExit=zr(e.opacity??1,0,Dle(r))):s&&(t.opacity=zr(e.opacity??1,n.opacity??1,r));for(let o=0;o<Nle;o++){const a=`border${r9[o]}Radius`;let l=UI(e,a),c=UI(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||zI(l)===zI(c)?(t[a]=Math.max(zr($I(l),$I(c),r),0),(Jc.test(c)||Jc.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=zr(e.rotate||0,n.rotate||0,r))}function UI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ile=i9(0,.5,wB),Dle=i9(.5,.95,fl);function i9(t,e,n){return r=>r<t?0:r>e?1:n(gv(t,e,r))}function qI(t,e){t.min=e.min,t.max=e.max}function tl(t,e){qI(t.x,e.x),qI(t.y,e.y)}function HI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WI(t,e,n,r,i){return t-=e,t=Ub(t,1/n,r),i!==void 0&&(t=Ub(t,1/i,r)),t}function Rle(t,e=0,n=1,r=.5,i,s=t,o=t){if(Jc.test(e)&&(e=parseFloat(e),e=zr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=zr(s.min,s.max,r);t===s&&(a-=e),t.min=WI(t.min,e,n,a,i),t.max=WI(t.max,e,n,a,i)}function GI(t,e,[n,r,i],s,o){Rle(t,e[n],e[r],e[i],e.scale,s,o)}const Mle=["x","scaleX","originX"],Ole=["y","scaleY","originY"];function KI(t,e,n,r){GI(t.x,e,Mle,n?n.x:void 0,r?r.x:void 0),GI(t.y,e,Ole,n?n.y:void 0,r?r.y:void 0)}function YI(t){return t.translate===0&&t.scale===1}function s9(t){return YI(t.x)&&YI(t.y)}function XI(t,e){return t.min===e.min&&t.max===e.max}function Fle(t,e){return XI(t.x,e.x)&&XI(t.y,e.y)}function JI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function o9(t,e){return JI(t.x,e.x)&&JI(t.y,e.y)}function QI(t){return So(t.x)/So(t.y)}function ZI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jle{constructor(){this.members=[]}add(e){HT(this.members,e),e.scheduleRender()}remove(e){if(WT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ble(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const _E=["","X","Y","Z"],Vle={visibility:"hidden"},eD=1e3;let $le=0;function TE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function a9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",br,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&a9(r)}function l9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=$le++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qle),this.nodes.forEach(Yle),this.nodes.forEach(Xle),this.nodes.forEach(Hle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new kle)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new KT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_le(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Ple(h,250),Kx.hasAnimatedSinceResize&&(Kx.hasAnimatedSinceResize=!1,this.nodes.forEach(nD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||tce,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),E=!this.targetLayout||!o9(this.targetLayout,g),T=!h&&p;if(this.options.layoutRoot||this.resumeFrom||T||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const I={...JT(v,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else h||nD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$f(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jle),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&a9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tD);return}this.isUpdating||this.nodes.forEach(Gle),this.isUpdating=!1,this.nodes.forEach(Kle),this.nodes.forEach(zle),this.nodes.forEach(Ule),this.clearAllSnapshots();const a=Xc.now();ws.delta=ud(0,1e3/60,a-ws.timestamp),ws.timestamp=a,ws.isProcessing=!0,yE.update.process(ws),yE.preRender.process(ws),yE.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ZT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wle),this.sharedNodes.forEach(Qle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!So(this.snapshot.measuredBox.x)&&!So(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!s9(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Th(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nce(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ii();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(rce))){const{scroll:u}=this.root;u&&(ym(a.x,u.offset.x),ym(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=ii();if(tl(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&tl(a,o),ym(a.x,f.offset.x),ym(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=ii();tl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xm(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Th(u.latestValues)&&xm(l,u.latestValues)}return Th(this.latestValues)&&xm(l,this.latestValues),l}removeTransform(o){const a=ii();tl(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Th(c.latestValues))continue;dA(c.latestValues)&&c.updateSnapshot();const u=ii(),f=c.measurePageBox();tl(u,f),KI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Th(this.latestValues)&&KI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),$0(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),tl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ii(),this.targetWithTransforms=ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tl(this.target,this.layout.layoutBox),JB(this.target,this.targetDelta)):tl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),$0(this.relativeTargetOrigin,this.target,p.target),tl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dA(this.parent.latestValues)||XB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;tl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;ole(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ii());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HI(this.prevProjectionDelta.x,this.projectionDelta.x),HI(this.prevProjectionDelta.y,this.projectionDelta.y)),V0(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ZI(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vm(),this.projectionDelta=vm(),this.projectionDeltaWithTransform=vm()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=vm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ii(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,y=this.getStack(),w=!y||y.members.length<=1,E=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(ece));this.animationProgress=0;let T;this.mixTargetDelta=I=>{const F=I/1e3;rD(f.x,o.x,F),rD(f.y,o.y,F),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($0(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zle(this.relativeTarget,this.relativeTargetOrigin,h,F),T&&Fle(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ii()),tl(T,this.relativeTarget)),v&&(this.animationValues=u,Lle(u,c,this.latestValues,F,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($f(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=br.update(()=>{Kx.hasAnimatedSinceResize=!0,this.currentAnimation=Ale(0,eD,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&c9(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ii();const f=So(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const h=So(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}tl(a,l),xm(a,u),V0(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jle),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&TE("z",o,c,this.animationValues);for(let u=0;u<_E.length;u++)TE(`rotate${_E[u]}`,o,c,this.animationValues),TE(`skew${_E[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vle;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Gx(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Gx(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Th(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=Ble(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in bv){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:y}=bv[p],w=a.transform==="none"?u[p]:g(u[p],c);if(v){const E=v.length;for(let T=0;T<E;T++)a[v[T]]=w}else y?this.options.visualElement.renderState.vars[p]=w:a[p]=w}return this.options.layoutId&&(a.pointerEvents=c===this?Gx(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(tD),this.root.sharedNodes.clear()}}}function zle(t){t.updateLayout()}function Ule(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?rl(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],p=So(h);h.min=r[f].min,h.max=h.min+p}):c9(s,e.layoutBox,r)&&rl(f=>{const h=o?e.measuredBox[f]:e.layoutBox[f],p=So(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=vm();V0(a,r,e.layoutBox);const l=vm();o?V0(l,t.applyTransform(i,!0),e.measuredBox):V0(l,r,e.layoutBox);const c=!s9(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const g=ii();$0(g,e.layoutBox,h.layoutBox);const v=ii();$0(v,r,p.layoutBox),o9(g,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function qle(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hle(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wle(t){t.clearSnapshot()}function tD(t){t.clearMeasurements()}function Gle(t){t.isLayoutDirty=!1}function Kle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yle(t){t.resolveTargetDelta()}function Xle(t){t.calcProjection()}function Jle(t){t.resetSkewAndRotation()}function Qle(t){t.removeLeadSnapshot()}function rD(t,e,n){t.translate=zr(e.translate,0,n),t.scale=zr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iD(t,e,n,r){t.min=zr(e.min,n.min,r),t.max=zr(e.max,n.max,r)}function Zle(t,e,n,r){iD(t.x,e.x,n.x,r),iD(t.y,e.y,n.y,r)}function ece(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tce={duration:.45,ease:[.4,0,.1,1]},sD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oD=sD("applewebkit/")&&!sD("chrome/")?Math.round:fl;function aD(t){t.min=oD(t.min),t.max=oD(t.max)}function nce(t){aD(t.x),aD(t.y)}function c9(t,e,n){return t==="position"||t==="preserve-aspect"&&!ile(QI(e),QI(n),.2)}function rce(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ice=l9({attachResizeListener:(t,e)=>Cv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kE={current:void 0},u9=l9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kE.current){const t=new ice({});t.mount(window),t.setOptions({layoutScroll:!0}),kE.current=t}return kE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sce={pan:{Feature:wle},drag:{Feature:ble,ProjectionNode:u9,MeasureLayout:n9}};function lD(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&br.postRender(()=>s(e,fy(e)))}class oce extends Zf{mount(){const{current:e}=this.node;e&&(this.unmount=mse(e,(n,r)=>(lD(this.node,r,"Start"),i=>lD(this.node,i,"End"))))}unmount(){}}class ace extends Zf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dy(Cv(this.node.current,"focus",()=>this.onFocus()),Cv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cD(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&br.postRender(()=>s(e,fy(e)))}class lce extends Zf{mount(){const{current:e}=this.node;e&&(this.unmount=xse(e,(n,r)=>(cD(this.node,r,"Start"),(i,{success:s})=>cD(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pA=new WeakMap,PE=new WeakMap,cce=t=>{const e=pA.get(t.target);e&&e(t)},uce=t=>{t.forEach(cce)};function dce({root:t,...e}){const n=t||document;PE.has(n)||PE.set(n,{});const r=PE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(uce,{root:t,...e})),r[i]}function fce(t,e,n){const r=dce(e);return pA.set(t,n),r.observe(t),()=>{pA.delete(t),r.unobserve(t)}}const hce={some:0,all:1};class pce extends Zf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hce[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return fce(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mce(e,n))&&this.startObserver()}unmount(){}}function mce({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gce={inView:{Feature:pce},tap:{Feature:lce},focus:{Feature:ace},hover:{Feature:oce}},vce={layout:{ProjectionNode:u9,MeasureLayout:n9}},mA={current:null},d9={current:!1};function yce(){if(d9.current=!0,!!UT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mA.current=t.matches;t.addListener(e),e()}else mA.current=!1}const xce=[...OB,Ws,zf],bce=t=>xce.find(MB(t)),wce=new WeakMap;function Ece(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Qs(i))t.addValue(r,i);else if(Qs(s))t.addValue(r,yv(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,yv(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sce{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yk,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Xc.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,br.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=fw(n),this.isVariantNode=Q7(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const g=h[p];l[p]!==void 0&&Qs(g)&&g.set(l[p],!1)}}mount(e){this.current=e,wce.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),d9.current||yce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),$f(this.notifyUpdate),$f(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ep.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&br.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qm){const n=Qm[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ii()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uD.length;r++){const i=uD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ece(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DB(r)||SB(r))?r=parseFloat(r):!bce(r)&&zf.test(n)&&(r=NB(e,n)),this.setBaseTarget(e,Qs(r)?r.get():r)),Qs(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=fk(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qs(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new KT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class f9 extends Sce{constructor(){super(...arguments),this.KeyframeResolver=FB}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cce(t){return window.getComputedStyle(t)}class Ace extends f9{constructor(){super(...arguments),this.type="html",this.renderInstance=cB}readValueFromInstance(e,n){if(Ep.has(n))return Foe(e,n);{const r=Cce(e),i=(ik(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QB(e,n)}build(e,n,r){ak(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hk(e,n,r)}}class _ce extends f9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ii,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&lB(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ep.has(n)){const r=PB(n);return r&&r.default||0}return n=uB.has(n)?n:rk(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fB(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&br.postRender(this.updateDimensions)}build(e,n,r){uk(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){dB(e,n,r,i)}mount(e){this.isSVGTag=dk(e.tagName),super.mount(e)}}const Tce=(t,e)=>ck(t)?new _ce(e):new Ace(e,{allowProjection:t!==b.Fragment}),kce=uoe({...Xae,...gce,...sce,...vce},Tce),Qo=_se(kce);function dD(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ek(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:dD(e[r])&&dD(t[r])&&Object.keys(e[r]).length>0&&Ek(t[r],e[r])})}const h9={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qc(){const t=typeof document<"u"?document:{};return Ek(t,h9),t}const Pce={document:h9,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ro(){const t=typeof window<"u"?window:{};return Ek(t,Pce),t}function Nce(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Lce(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Av(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Wu(){return Date.now()}function Ice(t){const e=ro();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Dce(t,e){e===void 0&&(e="x");const n=ro();let r,i,s;const o=Ice(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function C1(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Rce(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Sa(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!Rce(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(C1(t[a])&&C1(r[a])?r[a].__swiper__?t[a]=r[a]:Sa(t[a],r[a]):!C1(t[a])&&C1(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Sa(t[a],r[a])):t[a]=r[a])}}}return t}function A1(t,e,n){t.style.setProperty(e,n)}function p9(t){let{swiper:e,targetPosition:n,side:r}=t;const i=ro(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>s?"next":"prev",u=(h,p)=>c==="next"&&h>=p||c==="prev"&&h<=p,f=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(h*Math.PI)/2;let g=s+p*(n-s);if(u(g,n)&&(g=n),e.wrapperEl.scrollTo({[r]:g}),u(g,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function Bc(t,e){e===void 0&&(e="");const n=ro(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function Mce(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function Oce(t,e){const n=ro();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=Mce(t,e))),r}function qb(t){try{console.warn(t);return}catch{}}function Hb(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Nce(e)),n}function Fce(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function jce(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function yf(t,e){return ro().getComputedStyle(t,null).getPropertyValue(e)}function Wb(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function m9(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function gA(t,e,n){const r=ro();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Xi(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let NE;function Bce(){const t=ro(),e=Qc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function g9(){return NE||(NE=Bce()),NE}let LE;function Vce(t){let{userAgent:e}=t===void 0?{}:t;const n=g9(),r=ro(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let g=i==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&n.touch&&v.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(o.os="android",o.android=!0),(u||h||f)&&(o.os="ios",o.ios=!0),o}function v9(t){return t===void 0&&(t={}),LE||(LE=Vce(t)),LE}let IE;function $ce(){const t=ro(),e=v9();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function y9(){return IE||(IE=$ce()),IE}function zce(t){let{swiper:e,on:n,emit:r}=t;const i=ro();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:h,height:p}=e;let g=h,v=p;f.forEach(y=>{let{contentBoxSize:w,contentRect:E,target:T}=y;T&&T!==e.el||(g=E?E.width:(w[0]||w).inlineSize,v=E?E.height:(w[0]||w).blockSize)}),(g!==h||v!==p)&&a()})}),s.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function Uce(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=ro(),a=function(u,f){f===void 0&&(f={});const h=o.MutationObserver||o.WebkitMutationObserver,p=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const v=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});p.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=m9(e.hostEl);for(let f=0;f<u.length;f+=1)a(u[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var qce={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...n])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(c=>{c.apply(r,n)})}),t}};function Hce(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(yf(r,"padding-left")||0,10)-parseInt(yf(r,"padding-right")||0,10),n=n-parseInt(yf(r,"padding-top")||0,10)-parseInt(yf(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Wce(){const t=this;function e(P,N){return parseFloat(P.getPropertyValue(t.getDirectionLabel(N))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=Bc(i,`.${t.params.slideClass}, swiper-slide`),f=l?t.virtual.slides.length:u.length;let h=[];const p=[],g=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const w=t.snapGrid.length,E=t.slidesGrid.length;let T=n.spaceBetween,I=-v,F=0,B=0;if(typeof s>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*s:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T,u.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(A1(r,"--swiper-centered-offset-before",""),A1(r,"--swiper-centered-offset-after",""));const R=n.grid&&n.grid.rows>1&&t.grid;R?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let S;const k=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<f;P+=1){S=0;let N;if(u[P]&&(N=u[P]),R&&t.grid.updateSlide(P,N,u),!(u[P]&&yf(N,"display")==="none")){if(n.slidesPerView==="auto"){k&&(u[P].style[t.getDirectionLabel("width")]="");const M=getComputedStyle(N),O=N.style.transform,q=N.style.webkitTransform;if(O&&(N.style.transform="none"),q&&(N.style.webkitTransform="none"),n.roundLengths)S=t.isHorizontal()?gA(N,"width"):gA(N,"height");else{const Z=e(M,"width"),ne=e(M,"padding-left"),ee=e(M,"padding-right"),Y=e(M,"margin-left"),oe=e(M,"margin-right"),se=M.getPropertyValue("box-sizing");if(se&&se==="border-box")S=Z+Y+oe;else{const{clientWidth:K,offsetWidth:V}=N;S=Z+ne+ee+Y+oe+(V-K)}}O&&(N.style.transform=O),q&&(N.style.webkitTransform=q),n.roundLengths&&(S=Math.floor(S))}else S=(s-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),u[P]&&(u[P].style[t.getDirectionLabel("width")]=`${S}px`);u[P]&&(u[P].swiperSlideSize=S),g.push(S),n.centeredSlides?(I=I+S/2+F/2+T,F===0&&P!==0&&(I=I-s/2-T),P===0&&(I=I-s/2-T),Math.abs(I)<1/1e3&&(I=0),n.roundLengths&&(I=Math.floor(I)),B%n.slidesPerGroup===0&&h.push(I),p.push(I)):(n.roundLengths&&(I=Math.floor(I)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&h.push(I),p.push(I),I=I+S+T),t.virtualSize+=S+T,F=S,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+y,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),R&&t.grid.updateWrapperSize(S,h),!n.centeredSlides){const P=[];for(let N=0;N<h.length;N+=1){let M=h[N];n.roundLengths&&(M=Math.floor(M)),h[N]<=t.virtualSize-s&&P.push(M)}h=P,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(l&&n.loop){const P=g[0]+T;if(n.slidesPerGroup>1){const N=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),M=P*n.slidesPerGroup;for(let O=0;O<N;O+=1)h.push(h[h.length-1]+M)}for(let N=0;N<t.virtual.slidesBefore+t.virtual.slidesAfter;N+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+P),p.push(p[p.length-1]+P),t.virtualSize+=P}if(h.length===0&&(h=[0]),T!==0){const P=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((N,M)=>!n.cssMode||n.loop?!0:M!==u.length-1).forEach(N=>{N.style[P]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;g.forEach(M=>{P+=M+(T||0)}),P-=T;const N=P>s?P-s:0;h=h.map(M=>M<=0?-v:M>N?N+y:M)}if(n.centerInsufficientSlides){let P=0;g.forEach(M=>{P+=M+(T||0)}),P-=T;const N=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(P+N<s){const M=(s-P-N)/2;h.forEach((O,q)=>{h[q]=O-M}),p.forEach((O,q)=>{p[q]=O+M})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:p,slidesSizesGrid:g}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){A1(r,"--swiper-centered-offset-before",`${-h[0]}px`),A1(r,"--swiper-centered-offset-after",`${t.size/2-g[g.length-1]/2}px`);const P=-t.snapGrid[0],N=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+P),t.slidesGrid=t.slidesGrid.map(M=>M+N)}if(f!==c&&t.emit("slidesLengthChange"),h.length!==w&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==E&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,N=t.el.classList.contains(P);f<=n.maxBackfaceHiddenSlides?N||t.el.classList.add(P):N&&t.el.classList.remove(P)}}function Gce(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function Kce(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const fD=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Yce(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(o-u),g=p+e.slidesSizesGrid[l],v=p>=0&&p<=e.size-e.slidesSizesGrid[l],y=p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size;y&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),fD(c,y,n.slideVisibleClass),fD(c,v,n.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-h:h}}function Xce(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;s=u||i<=0,o=f||i>=1,u&&(i=0),f&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],p=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=h?a=(v-h)/g:a=(v+g-p)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const DE=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function Jce(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=f=>Bc(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let l,c,u;if(s)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),u=e.find(f=>f.column===i+1),c=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(u=jce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=Fce(l,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{DE(f,f===l,n.slideActiveClass),DE(f,f===u,n.slideNextClass),DE(f,f===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Yx=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},RE=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},vA=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+r+c)),t.slides.forEach((l,c)=>{a.includes(l.column)&&RE(t,c)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&RE(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&RE(t,o)};function Qce(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Zce(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,c;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=Qce(e)),r.indexOf(n)>=0)c=r.indexOf(n);else{const p=Math.min(i.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let h;if(e.virtual&&i.virtual.enabled&&i.loop)h=u(l);else if(f){const p=e.slides.find(v=>v.column===l);let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),h=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?h=parseInt(p,10):h=l}else h=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:l}),e.initialized&&vA(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function eue(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var tue={updateSize:Hce,updateSlides:Wce,updateAutoHeight:Gce,updateSlidesOffset:Kce,updateSlidesProgress:Yce,updateProgress:Xce,updateSlidesClasses:Jce,updateActiveIndex:Zce,updateClickedSlide:eue};function nue(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=Dce(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function rue(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,l=0;const c=0;n.isHorizontal()?a=r?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:l,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-l:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():l-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const f=n.maxTranslate()-n.minTranslate();f===0?u=0:u=(t-n.minTranslate())/f,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iue(){return-this.snapGrid[0]}function sue(){return-this.snapGrid[this.snapGrid.length-1]}function oue(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,s.updateProgress(u),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return p9({swiper:s,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var aue={getTranslate:nue,setTranslate:rue,minTranslate:iue,maxTranslate:sue,translateTo:oue};function lue(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function x9(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function cue(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),x9({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function uue(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),x9({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var due={setTransition:lue,transitionStart:cue,transitionEnd:uue};function fue(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:h,wrapperEl:p,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const v=Math.min(s.params.slidesPerGroupSkip,o);let y=v+Math.floor((o-v)/s.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const w=-l[y];if(a.normalizeSlideIndex)for(let R=0;R<c.length;R+=1){const S=-Math.floor(w*100),k=Math.floor(c[R]*100),P=Math.floor(c[R+1]*100);typeof c[R+1]<"u"?S>=k&&S<P-(P-k)/2?o=R:S>=k&&S<P&&(o=R+1):S>=k&&(o=R)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(h?w>s.translate&&w>s.minTranslate():w<s.translate&&w<s.minTranslate())||!s.allowSlidePrev&&w>s.translate&&w>s.maxTranslate()&&(f||0)!==o))return!1;o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(w);let E;o>f?E="next":o<f?E="prev":E="reset";const T=s.virtual&&s.params.virtual.enabled;if(!(T&&i)&&(h&&-w===s.translate||!h&&w===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(w),E!=="reset"&&(s.transitionStart(n,E),s.transitionEnd(n,E)),!1;if(a.cssMode){const R=s.isHorizontal(),S=h?w:-w;if(e===0)T&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),T&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[R?"scrollLeft":"scrollTop"]=S})):p[R?"scrollLeft":"scrollTop"]=S,T&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return p9({swiper:s,targetPosition:S,side:R?"left":"top"}),!0;p.scrollTo({[R?"left":"top"]:S,behavior:"smooth"})}return!0}const B=y9().isSafari;return T&&!i&&B&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(w),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,E),e===0?s.transitionEnd(n,E):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(S){!s||s.destroyed||S.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,E))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function hue(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const h=o*i.params.grid.rows;a=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===h).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let f=l-a<u;if(c&&(f=f||a<Math.ceil(u/2)),r&&c&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const h=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-l+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(s){const h=o*i.params.grid.rows;o=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===h).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function pue(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function mue(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const p=h(f),g=s.map(E=>h(E)),v=i.freeMode&&i.freeMode.enabled;let y=s[g.indexOf(p)-1];if(typeof y>"u"&&(i.cssMode||v)){let E;s.forEach((T,I)=>{p>=T&&(E=I)}),typeof E<"u"&&(y=v?s[E]:s[E>0?E-1:E])}let w=0;if(typeof y<"u"&&(w=o.indexOf(y),w<0&&(w=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-r.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(w,t,e,n)}),!0;return r.slideTo(w,t,e,n)}function gue(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function vue(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*r&&(s+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function yue(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(Bc(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Av(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(Bc(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),Av(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var xue={slideTo:fue,slideToLoop:hue,slideNext:pue,slidePrev:mue,slideReset:gue,slideToClosest:vue,slideToClickedSlide:yue};function bue(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{Bc(i,`.${r.slideClass}, swiper-slide`).forEach((h,p)=>{h.setAttribute("data-swiper-slide-index",p)})},o=n.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(o?r.grid.rows:1),l=n.slides.length%a!==0,c=o&&n.slides.length%r.grid.rows!==0,u=f=>{for(let h=0;h<f;h+=1){const p=n.isElement?Hb("swiper-slide",[r.slideBlankClass]):Hb("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(p)}};if(l){if(r.loopAddBlankSlides){const f=a-n.slides.length%a;u(f),n.recalcSlides(),n.updateSlides()}else qb("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(r.loopAddBlankSlides){const f=r.grid.rows-n.slides.length%r.grid.rows;u(f),n.recalcSlides(),n.updateSlides()}else qb("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function wue(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=t===void 0?{}:t;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:h,slidesEl:p,params:g}=c,{centeredSlides:v,initialSlide:y}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){n&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=h,c.emit("loopFix");return}let w=g.slidesPerView;w==="auto"?w=c.slidesPerViewDynamic():(w=Math.ceil(parseFloat(g.slidesPerView,10)),v&&w%2===0&&(w=w+1));const E=g.slidesPerGroupAuto?w:g.slidesPerGroup;let T=E;T%E!==0&&(T+=E-T%E),T+=g.loopAdditionalSlides,c.loopedSlides=T;const I=c.grid&&g.grid&&g.grid.rows>1;u.length<w+T||c.params.effect==="cards"&&u.length<w+T*2?qb("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):I&&g.grid.fill==="row"&&qb("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const F=[],B=[],R=I?Math.ceil(u.length/g.grid.rows):u.length,S=o&&R-y<w&&!v;let k=S?y:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(ne=>ne.classList.contains(g.slideActiveClass))):k=s;const P=r==="next"||!r,N=r==="prev"||!r;let M=0,O=0;const Z=(I?u[s].column:s)+(v&&typeof i>"u"?-w/2+.5:0);if(Z<T){M=Math.max(T-Z,E);for(let ne=0;ne<T-Z;ne+=1){const ee=ne-Math.floor(ne/R)*R;if(I){const Y=R-ee-1;for(let oe=u.length-1;oe>=0;oe-=1)u[oe].column===Y&&F.push(oe)}else F.push(R-ee-1)}}else if(Z+w>R-T){O=Math.max(Z-(R-T*2),E),S&&(O=Math.max(O,w-R+y+1));for(let ne=0;ne<O;ne+=1){const ee=ne-Math.floor(ne/R)*R;I?u.forEach((Y,oe)=>{Y.column===ee&&B.push(oe)}):B.push(ee)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<w+T*2&&(B.includes(s)&&B.splice(B.indexOf(s),1),F.includes(s)&&F.splice(F.indexOf(s),1)),N&&F.forEach(ne=>{u[ne].swiperLoopMoveDOM=!0,p.prepend(u[ne]),u[ne].swiperLoopMoveDOM=!1}),P&&B.forEach(ne=>{u[ne].swiperLoopMoveDOM=!0,p.append(u[ne]),u[ne].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():I&&(F.length>0&&N||B.length>0&&P)&&c.slides.forEach((ne,ee)=>{c.grid.updateSlide(ee,ne,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),n){if(F.length>0&&N){if(typeof e>"u"){const ne=c.slidesGrid[k],Y=c.slidesGrid[k+M]-ne;l?c.setTranslate(c.translate-Y):(c.slideTo(k+Math.ceil(M),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Y,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Y))}else if(i){const ne=I?F.length/g.grid.rows:F.length;c.slideTo(c.activeIndex+ne,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(B.length>0&&P)if(typeof e>"u"){const ne=c.slidesGrid[k],Y=c.slidesGrid[k-O]-ne;l?c.setTranslate(c.translate-Y):(c.slideTo(k-O,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-Y,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-Y))}else{const ne=I?B.length/g.grid.rows:B.length;c.slideTo(c.activeIndex-ne,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=h,c.controller&&c.controller.control&&!a){const ne={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(ee=>{!ee.destroyed&&ee.params.loop&&ee.loopFix({...ne,slideTo:ee.params.slidesPerView===g.slidesPerView?n:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...ne,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?n:!1})}c.emit("loopFix")}function Eue(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var Sue={loopCreate:bue,loopFix:wue,loopDestroy:Eue};function Cue(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Aue(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var _ue={setGrabCursor:Cue,unsetGrabCursor:Aue};function Tue(t,e){e===void 0&&(e=this);function n(r){if(!r||r===Qc()||r===ro())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function hD(t,e,n){const r=ro(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function kue(t){const e=this,n=Qc();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){hD(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!Oce(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(h?Tue(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!hD(e,r,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,i.touchStartTime=Wu(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&n.activeElement.blur();const y=v&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||y)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Pue(t){const e=Qc(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(F=>F.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}const u=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=f;return}if(!n.allowTouchMove){l.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f}),r.touchStartTime=Wu());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(u>s.startX&&-n.translate<=n.maxTranslate()||u<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=f;const h=s.currentX-s.startX,p=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let F;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+p*p>=25&&(F=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?F>i.touchAngle:90-F>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=n.isHorizontal()?h:p,v=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,v=-v);const y=n.touchesDirection;n.swipeDirection=g>0?"prev":"next",n.touchesDirection=v>0?"prev":"next";const w=n.params.loop&&!i.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(w&&E&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const F=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(F)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&y!==n.touchesDirection&&w&&E&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let T=!0,I=i.resistanceRatio;if(i.touchReleaseOnEdges&&(I=0),g>0?(w&&E&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(T=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**I))):g<0&&(w&&E&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(T=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**I))),T&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Nue(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(F=>F.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Wu(),h=f-n.touchStartTime;if(e.allowClick){const F=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(F&&F[0]||r.target,F),e.emit("tap click",r),h<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=Wu(),Av(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let v=0,y=e.slidesSizesGrid[0];for(let F=0;F<c.length;F+=F<o.slidesPerGroupSkip?1:o.slidesPerGroup){const B=F<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[F+B]<"u"?(g||p>=c[F]&&p<c[F+B])&&(v=F,y=c[F+B]-c[F]):(g||p>=c[F])&&(v=F,y=c[c.length-1]-c[c.length-2])}let w=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(w=0));const T=(p-c[v])/y,I=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?w:v+I):e.slideTo(v)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(v+I):E!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(E):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+I):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(w!==null?w:v+I),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:v))}}function pD(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Lue(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Iue(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Due(t){const e=this;Yx(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Rue(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const b9=(t,e)=>{const n=Qc(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[l]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",t.onTouchStart,{passive:!1}),i[l]("pointerdown",t.onTouchStart,{passive:!1}),n[l]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[l]("touchend",t.onTouchEnd,{passive:!0}),n[l]("pointerup",t.onTouchEnd,{passive:!0}),n[l]("pointercancel",t.onTouchEnd,{passive:!0}),n[l]("touchcancel",t.onTouchEnd,{passive:!0}),n[l]("pointerout",t.onTouchEnd,{passive:!0}),n[l]("pointerleave",t.onTouchEnd,{passive:!0}),n[l]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",t.onClick,!0),r.cssMode&&s[l]("scroll",t.onScroll),r.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",pD,!0):t[c]("observerUpdate",pD,!0),i[l]("load",t.onLoad,{capture:!0}))};function Mue(){const t=this,{params:e}=t;t.onTouchStart=kue.bind(t),t.onTouchMove=Pue.bind(t),t.onTouchEnd=Nue.bind(t),t.onDocumentTouchStart=Rue.bind(t),e.cssMode&&(t.onScroll=Iue.bind(t)),t.onClick=Lue.bind(t),t.onLoad=Due.bind(t),b9(t,"on")}function Oue(){b9(this,"off")}var Fue={attachEvents:Mue,detachEvents:Oue};const mD=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function jue(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Qc(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),c=t.getBreakpoint(s,a,l);if(!c||t.currentBreakpoint===c)return;const f=(c in s?s[c]:void 0)||t.originalParams,h=mD(t,r),p=mD(t,f),g=t.params.grabCursor,v=f.grabCursor,y=r.enabled;h&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),g&&!v?t.unsetGrabCursor():!g&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(B=>{if(typeof f[B]>"u")return;const R=r[B]&&r[B].enabled,S=f[B]&&f[B].enabled;R&&!S&&t[B].disable(),!R&&S&&t[B].enable()});const w=f.direction&&f.direction!==r.direction,E=r.loop&&(f.slidesPerView!==r.slidesPerView||w),T=r.loop;w&&n&&t.changeDirection(),Sa(t.params,f);const I=t.params.enabled,F=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),y&&!I?t.disable():!y&&I&&t.enable(),t.currentBreakpoint=c,t.emit("_beforeBreakpoint",f),n&&(E?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!T&&F?(t.loopCreate(e),t.updateSlides()):T&&!F&&t.loopDestroy()),t.emit("breakpoint",f)}function Bue(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=ro(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}var Vue={setBreakpoint:jue,getBreakpoint:Bue};function $ue(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function zue(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=$ue(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Uue(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var que={addClasses:zue,removeClasses:Uue};function Hue(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Wue={checkOverflow:Hue},yA={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Gue(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Sa(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Sa(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Sa(e,r)}}const ME={eventsEmitter:qce,update:tue,translate:aue,transition:due,slide:xue,loop:Sue,grabCursor:_ue,events:Fue,breakpoints:Vue,checkOverflow:Wue,classes:que},OE={};let Sk=class qu{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Sa({},n),e&&!n.el&&(n.el=e);const o=Qc();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(f=>{const h=Sa({},n,{el:f});u.push(new qu(h))}),u}const a=this;a.__swiper__=!0,a.support=g9(),a.device=v9({userAgent:n.userAgent}),a.browser=y9(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const l={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:Gue(n,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Sa({},yA,l);return a.params=Sa({},c,OE,n),a.originalParams=Sa({},a.params),a.passedParams=Sa({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Bc(n,`.${r.slideClass}, swiper-slide`),s=Wb(i[0]);return Wb(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Bc(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,h;for(let p=c+1;p<s.length;p+=1)s[p]&&!h&&(f+=Math.ceil(s[p].swiperSlideSize),u+=1,f>l&&(h=!0));for(let p=c-1;p>=0;p-=1)s[p]&&!h&&(f+=s[p].swiperSlideSize,u+=1,f>l&&(h=!0))}else if(e==="current")for(let f=c+1;f<s.length;f+=1)(n?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Yx(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Bc(r,i())[0];return!o&&n.params.createElements&&(o=Hb("div",n.params.wrapperClass),r.append(o),Bc(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||yf(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||yf(r,"direction")==="rtl"),wrongRTL:yf(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Yx(n,s):s.addEventListener("load",o=>{Yx(n,o.target)})}),vA(n),n.initialized=!0,vA(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Lce(r)),r.destroyed=!0),null}static extendDefaults(e){Sa(OE,e)}static get extendedDefaults(){return OE}static get defaults(){return yA}static installModule(e){qu.prototype.__modules__||(qu.prototype.__modules__=[]);const n=qu.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>qu.installModule(n)),qu):(qu.installModule(e),qu)}};Object.keys(ME).forEach(t=>{Object.keys(ME[t]).forEach(e=>{Sk.prototype[e]=ME[t][e]})});Sk.use([zce,Uce]);const w9=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function op(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Lm(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:op(e[r])&&op(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Lm(t[r],e[r]):t[r]=e[r]})}function E9(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function S9(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function C9(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function A9(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function Kue(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function Yue(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const c=i.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:u,pagination:f,navigation:h,scrollbar:p,virtual:g,thumbs:v}=e;let y,w,E,T,I,F,B,R;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(y=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(w=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(E=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(T=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(I=!0);const S=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),u[k].prevEl=void 0,u[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),u[k].el=void 0,e[k].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?F=!0:!u.loop&&r.loop?B=!0:R=!0),c.forEach(k=>{if(op(u[k])&&op(r[k]))Object.assign(u[k],r[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in r[k]&&!r[k].enabled&&S(k);else{const P=r[k];(P===!0||P===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?P===!1&&S(k):u[k]=r[k]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&g&&u.virtual.enabled?(g.slides=n,g.update(!0)):i.includes("virtual")&&g&&u.virtual.enabled&&(n&&(g.slides=n),g.update(!0)),i.includes("children")&&n&&u.loop&&(R=!0),y&&v.init()&&v.update(!0),w&&(e.controller.control=u.controller.control),E&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),T&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),I&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(F||R)&&e.loopDestroy(),(B||R)&&e.loopCreate(),e.update()}function Xue(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Lm(n,yA),n._emitClasses=!0,n.init=!1;const s={},o=w9.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?op(t[l])?(n[l]={},i[l]={},Lm(n[l],t[l]),Lm(i[l],t[l])):(n[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:i,rest:s,events:r}}function Jue(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;E9(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),S9(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),C9(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function Que(t,e,n,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(n&&r){const l=r.map(i),c=n.map(i);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return w9.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(op(t[l])&&op(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}),u.forEach(f=>{t[l][f]!==e[l][f]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const Zue=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function _9(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function T9(t){const e=[];return Me.Children.toArray(t).forEach(n=>{_9(n)?e.push(n):n.props&&n.props.children&&T9(n.props.children).forEach(r=>e.push(r))}),e}function ede(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Me.Children.toArray(t).forEach(r=>{if(_9(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=T9(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function tde(t,e,n){if(!n)return null;const r=u=>{let f=u;return u<0?f=e.length+u:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[r(u)]);return c.map((u,f)=>Me.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function z0(t,e){return typeof window>"u"?b.useEffect(t,e):b.useLayoutEffect(t,e)}const gD=b.createContext(null),nde=b.createContext(null),Ck=b.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=b.useState("swiper"),[f,h]=b.useState(null),[p,g]=b.useState(!1),v=b.useRef(!1),y=b.useRef(null),w=b.useRef(null),E=b.useRef(null),T=b.useRef(null),I=b.useRef(null),F=b.useRef(null),B=b.useRef(null),R=b.useRef(null),{params:S,passedParams:k,rest:P,events:N}=Xue(a),{slides:M,slots:O}=ede(s),q=()=>{g(!p)};Object.assign(S.on,{_containerClasses(oe,se){u(se)}});const Z=()=>{Object.assign(S.on,N),l=!0;const oe={...S};if(delete oe.wrapperClass,w.current=new Sk(oe),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=M;const se={cache:!1,slides:M,renderExternal:h,renderExternalUpdate:!1};Lm(w.current.params.virtual,se),Lm(w.current.originalParams.virtual,se)}};y.current||Z(),w.current&&w.current.on("_beforeBreakpoint",q);const ne=()=>{l||!N||!w.current||Object.keys(N).forEach(oe=>{w.current.on(oe,N[oe])})},ee=()=>{!N||!w.current||Object.keys(N).forEach(oe=>{w.current.off(oe,N[oe])})};b.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",q)}),b.useEffect(()=>{!v.current&&w.current&&(w.current.emitSlidesClasses(),v.current=!0)}),z0(()=>{if(e&&(e.current=y.current),!!y.current)return w.current.destroyed&&Z(),Jue({el:y.current,nextEl:I.current,prevEl:F.current,paginationEl:B.current,scrollbarEl:R.current,swiper:w.current},S),o&&!w.current.destroyed&&o(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),z0(()=>{ne();const oe=Que(k,E.current,M,T.current,se=>se.key);return E.current=k,T.current=M,oe.length&&w.current&&!w.current.destroyed&&Yue({swiper:w.current,slides:M,passedParams:k,changedParams:oe,nextEl:I.current,prevEl:F.current,scrollbarEl:R.current,paginationEl:B.current}),()=>{ee()}}),z0(()=>{Zue(w.current)},[f]);function Y(){return S.virtual?tde(w.current,M,f):M.map((oe,se)=>Me.cloneElement(oe,{swiper:w.current,swiperSlideIndex:se}))}return Me.createElement(r,Gb({ref:y,className:A9(`${c}${n?` ${n}`:""}`)},P),Me.createElement(nde.Provider,{value:w.current},O["container-start"],Me.createElement(i,{className:Kue(S.wrapperClass)},O["wrapper-start"],Y(),O["wrapper-end"]),E9(S)&&Me.createElement(Me.Fragment,null,Me.createElement("div",{ref:F,className:"swiper-button-prev"}),Me.createElement("div",{ref:I,className:"swiper-button-next"})),C9(S)&&Me.createElement("div",{ref:R,className:"swiper-scrollbar"}),S9(S)&&Me.createElement("div",{ref:B,className:"swiper-pagination"}),O["container-end"]))});Ck.displayName="Swiper";const Ak=b.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=t===void 0?{}:t;const f=b.useRef(null),[h,p]=b.useState("swiper-slide"),[g,v]=b.useState(!1);function y(I,F,B){F===f.current&&p(B)}z0(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){h!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",y),()=>{s&&s.off("_slideClass",y)}}}),z0(()=>{s&&f.current&&!s.destroyed&&p(s.getSlideClasses(f.current))},[s]);const w={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(w):r,T=()=>{v(!0)};return Me.createElement(n,Gb({ref:f,className:A9(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:T},u),o&&Me.createElement(gD.Provider,{value:w},Me.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},E(),a&&!g&&Me.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Me.createElement(gD.Provider,{value:w},E(),a&&!g&&Me.createElement("div",{className:"swiper-lazy-preloader"})))});Ak.displayName="SwiperSlide";function k9(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=ro();n({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Wu(),l;const c=[];function u(T){let R=0,S=0,k=0,P=0;return"detail"in T&&(S=T.detail),"wheelDelta"in T&&(S=-T.wheelDelta/120),"wheelDeltaY"in T&&(S=-T.wheelDeltaY/120),"wheelDeltaX"in T&&(R=-T.wheelDeltaX/120),"axis"in T&&T.axis===T.HORIZONTAL_AXIS&&(R=S,S=0),k=R*10,P=S*10,"deltaY"in T&&(P=T.deltaY),"deltaX"in T&&(k=T.deltaX),T.shiftKey&&!k&&(k=P,P=0),(k||P)&&T.deltaMode&&(T.deltaMode===1?(k*=40,P*=40):(k*=800,P*=800)),k&&!R&&(R=k<1?-1:1),P&&!S&&(S=P<1?-1:1),{spinX:R,spinY:S,pixelX:k,pixelY:P}}function f(){e.enabled&&(e.mouseEntered=!0)}function h(){e.enabled&&(e.mouseEntered=!1)}function p(T){return e.params.mousewheel.thresholdDelta&&T.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Wu()-a<e.params.mousewheel.thresholdTime?!1:T.delta>=6&&Wu()-a<60?!0:(T.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",T.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",T.raw)),a=new s.Date().getTime(),!1)}function g(T){const I=e.params.mousewheel;if(T.direction<0){if(e.isEnd&&!e.params.loop&&I.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&I.releaseOnEdges)return!0;return!1}function v(T){let I=T,F=!0;if(!e.enabled||T.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const B=e.params.mousewheel;e.params.cssMode&&I.preventDefault();let R=e.el;e.params.mousewheel.eventsTarget!=="container"&&(R=document.querySelector(e.params.mousewheel.eventsTarget));const S=R&&R.contains(I.target);if(!e.mouseEntered&&!S&&!B.releaseOnEdges)return!0;I.originalEvent&&(I=I.originalEvent);let k=0;const P=e.rtlTranslate?-1:1,N=u(I);if(B.forceToAxis)if(e.isHorizontal())if(Math.abs(N.pixelX)>Math.abs(N.pixelY))k=-N.pixelX*P;else return!0;else if(Math.abs(N.pixelY)>Math.abs(N.pixelX))k=-N.pixelY;else return!0;else k=Math.abs(N.pixelX)>Math.abs(N.pixelY)?-N.pixelX*P:-N.pixelY;if(k===0)return!0;B.invert&&(k=-k);let M=e.getTranslate()+k*B.sensitivity;if(M>=e.minTranslate()&&(M=e.minTranslate()),M<=e.maxTranslate()&&(M=e.maxTranslate()),F=e.params.loop?!0:!(M===e.minTranslate()||M===e.maxTranslate()),F&&e.params.nested&&I.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const O={time:Wu(),delta:Math.abs(k),direction:Math.sign(k),raw:T};c.length>=2&&c.shift();const q=c.length?c[c.length-1]:void 0;if(c.push(O),q?(O.direction!==q.direction||O.delta>q.delta||O.time>q.time+150)&&p(O):p(O),g(O))return!0}else{const O={time:Wu(),delta:Math.abs(k),direction:Math.sign(k)},q=l&&O.time<l.time+500&&O.delta<=l.delta&&O.direction===l.direction;if(!q){l=void 0;let Z=e.getTranslate()+k*B.sensitivity;const ne=e.isBeginning,ee=e.isEnd;if(Z>=e.minTranslate()&&(Z=e.minTranslate()),Z<=e.maxTranslate()&&(Z=e.maxTranslate()),e.setTransition(0),e.setTranslate(Z),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!ne&&e.isBeginning||!ee&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:O.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const Y=c.length?c[c.length-1]:void 0,oe=c[0];if(c.push(O),Y&&(O.delta>Y.delta||O.direction!==Y.direction))c.splice(0);else if(c.length>=15&&O.time-oe.time<500&&oe.delta-O.delta>=1&&O.delta<=6){const se=k>0?.8:.2;l=O,c.splice(0),o=Av(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,se)},0)}o||(o=Av(()=>{if(e.destroyed||!e.params)return;const se=.5;l=O,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,se)},500))}if(q||i("scroll",I),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),B.releaseOnEdges&&(Z===e.minTranslate()||Z===e.maxTranslate()))return!0}}return I.preventDefault?I.preventDefault():I.returnValue=!1,!1}function y(T){let I=e.el;e.params.mousewheel.eventsTarget!=="container"&&(I=document.querySelector(e.params.mousewheel.eventsTarget)),I[T]("mouseenter",f),I[T]("mouseleave",h),I[T]("wheel",v)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(y("addEventListener"),e.mousewheel.enabled=!0,!0)}function E(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(y("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}r("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&E(),e.params.mousewheel.enabled&&w()}),r("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&E()}),Object.assign(e.mousewheel,{enable:w,disable:E})}function P9(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=Bc(t.el,`.${r[i]}`)[0];s||(s=Hb("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function N9(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let v;return g&&typeof g=="string"&&e.isElement&&(v=e.el.querySelector(g)||e.hostEl.querySelector(g),v)?v:(g&&(typeof g=="string"&&(v=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&v&&v.length>1&&e.el.querySelectorAll(g).length===1?v=e.el.querySelector(g):v&&v.length===1&&(v=v[0])),g&&!v?g:v)}function o(g,v){const y=e.params.navigation;g=Xi(g),g.forEach(w=>{w&&(w.classList[v?"add":"remove"](...y.disabledClass.split(" ")),w.tagName==="BUTTON"&&(w.disabled=v),e.params.watchOverflow&&e.enabled&&w.classList[e.isLocked?"add":"remove"](y.lockClass))})}function a(){const{nextEl:g,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(g,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=P9(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let v=s(g.nextEl),y=s(g.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:y}),v=Xi(v),y=Xi(y);const w=(E,T)=>{E&&E.addEventListener("click",T==="next"?c:l),!e.enabled&&E&&E.classList.add(...g.lockClass.split(" "))};v.forEach(E=>w(E,"next")),y.forEach(E=>w(E,"prev"))}function f(){let{nextEl:g,prevEl:v}=e.navigation;g=Xi(g),v=Xi(v);const y=(w,E)=>{w.removeEventListener("click",E==="next"?c:l),w.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(w=>y(w,"next")),v.forEach(w=>y(w,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:v}=e.navigation;if(g=Xi(g),v=Xi(v),e.enabled){a();return}[...g,...v].filter(y=>!!y).forEach(y=>y.classList.add(e.params.navigation.lockClass))}),r("click",(g,v)=>{let{nextEl:y,prevEl:w}=e.navigation;y=Xi(y),w=Xi(w);const E=v.target;let T=w.includes(E)||y.includes(E);if(e.isElement&&!T){const I=v.path||v.composedPath&&v.composedPath();I&&(T=I.find(F=>y.includes(F)||w.includes(F)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let I;y.length?I=y[0].classList.contains(e.params.navigation.hiddenClass):w.length&&(I=w[0].classList.contains(e.params.navigation.hiddenClass)),i(I===!0?"navigationShow":"navigationHide"),[...y,...w].filter(F=>!!F).forEach(F=>F.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:p,update:a,init:u,destroy:f})}function i0(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function L9(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(E,T){const{bulletActiveClass:I}=e.params.pagination;E&&(E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${I}-${T}`),E=E[`${T==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${I}-${T}-${T}`)))}function u(E,T,I){if(E=E%I,T=T%I,T===E+1)return"next";if(T===E-1)return"previous"}function f(E){const T=E.target.closest(i0(e.params.pagination.bulletClass));if(!T)return;E.preventDefault();const I=Wb(T)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===I)return;const F=u(e.realIndex,I,e.slides.length);F==="next"?e.slideNext():F==="previous"?e.slidePrev():e.slideToLoop(I)}else e.slideTo(I)}function h(){const E=e.rtl,T=e.params.pagination;if(l())return;let I=e.pagination.el;I=Xi(I);let F,B;const R=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,S=e.params.loop?Math.ceil(R/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,F=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(F=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,F=e.activeIndex||0),T.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let P,N,M;if(T.dynamicBullets&&(o=gA(k[0],e.isHorizontal()?"width":"height"),I.forEach(O=>{O.style[e.isHorizontal()?"width":"height"]=`${o*(T.dynamicMainBullets+4)}px`}),T.dynamicMainBullets>1&&B!==void 0&&(a+=F-(B||0),a>T.dynamicMainBullets-1?a=T.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(F-a,0),N=P+(Math.min(k.length,T.dynamicMainBullets)-1),M=(N+P)/2),k.forEach(O=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(Z=>`${T.bulletActiveClass}${Z}`)].map(Z=>typeof Z=="string"&&Z.includes(" ")?Z.split(" "):Z).flat();O.classList.remove(...q)}),I.length>1)k.forEach(O=>{const q=Wb(O);q===F?O.classList.add(...T.bulletActiveClass.split(" ")):e.isElement&&O.setAttribute("part","bullet"),T.dynamicBullets&&(q>=P&&q<=N&&O.classList.add(...`${T.bulletActiveClass}-main`.split(" ")),q===P&&c(O,"prev"),q===N&&c(O,"next"))});else{const O=k[F];if(O&&O.classList.add(...T.bulletActiveClass.split(" ")),e.isElement&&k.forEach((q,Z)=>{q.setAttribute("part",Z===F?"bullet-active":"bullet")}),T.dynamicBullets){const q=k[P],Z=k[N];for(let ne=P;ne<=N;ne+=1)k[ne]&&k[ne].classList.add(...`${T.bulletActiveClass}-main`.split(" "));c(q,"prev"),c(Z,"next")}}if(T.dynamicBullets){const O=Math.min(k.length,T.dynamicMainBullets+4),q=(o*O-o)/2-M*o,Z=E?"right":"left";k.forEach(ne=>{ne.style[e.isHorizontal()?Z:"top"]=`${q}px`})}}I.forEach((k,P)=>{if(T.type==="fraction"&&(k.querySelectorAll(i0(T.currentClass)).forEach(N=>{N.textContent=T.formatFractionCurrent(F+1)}),k.querySelectorAll(i0(T.totalClass)).forEach(N=>{N.textContent=T.formatFractionTotal(S)})),T.type==="progressbar"){let N;T.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const M=(F+1)/S;let O=1,q=1;N==="horizontal"?O=M:q=M,k.querySelectorAll(i0(T.progressbarFillClass)).forEach(Z=>{Z.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${q})`,Z.style.transitionDuration=`${e.params.speed}ms`})}T.type==="custom"&&T.renderCustom?(k.innerHTML=T.renderCustom(e,F+1,S),P===0&&i("paginationRender",k)):(P===0&&i("paginationRender",k),i("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](T.lockClass)})}function p(){const E=e.params.pagination;if(l())return;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let I=e.pagination.el;I=Xi(I);let F="";if(E.type==="bullets"){let B=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>T&&(B=T);for(let R=0;R<B;R+=1)E.renderBullet?F+=E.renderBullet.call(e,R,E.bulletClass):F+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?F=E.renderFraction.call(e,E.currentClass,E.totalClass):F=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?F=E.renderProgressbar.call(e,E.progressbarFillClass):F=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],I.forEach(B=>{E.type!=="custom"&&(B.innerHTML=F||""),E.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(i0(E.bulletClass)))}),E.type!=="custom"&&i("paginationRender",I[0])}function g(){e.params.pagination=P9(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let T;typeof E.el=="string"&&e.isElement&&(T=e.el.querySelector(E.el)),!T&&typeof E.el=="string"&&(T=[...document.querySelectorAll(E.el)]),T||(T=E.el),!(!T||T.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(T)&&T.length>1&&(T=[...e.el.querySelectorAll(E.el)],T.length>1&&(T=T.find(I=>m9(I,".swiper")[0]===e.el))),Array.isArray(T)&&T.length===1&&(T=T[0]),Object.assign(e.pagination,{el:T}),T=Xi(T),T.forEach(I=>{E.type==="bullets"&&E.clickable&&I.classList.add(...(E.clickableClass||"").split(" ")),I.classList.add(E.modifierClass+E.type),I.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(I.classList.add(`${E.modifierClass}${E.type}-dynamic`),a=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&I.classList.add(E.progressbarOppositeClass),E.clickable&&I.addEventListener("click",f),e.enabled||I.classList.add(E.lockClass)}))}function v(){const E=e.params.pagination;if(l())return;let T=e.pagination.el;T&&(T=Xi(T),T.forEach(I=>{I.classList.remove(E.hiddenClass),I.classList.remove(E.modifierClass+E.type),I.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(I.classList.remove(...(E.clickableClass||"").split(" ")),I.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(I=>I.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:T}=e.pagination;T=Xi(T),T.forEach(I=>{I.classList.remove(E.horizontalClass,E.verticalClass),I.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?w():(g(),p(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{p(),h()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=Xi(E),E.forEach(T=>T.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(E,T)=>{const I=T.target,F=Xi(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&F&&F.length>0&&!I.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&I===e.navigation.nextEl||e.navigation.prevEl&&I===e.navigation.prevEl))return;const B=F[0].classList.contains(e.params.pagination.hiddenClass);i(B===!0?"paginationShow":"paginationHide"),F.forEach(R=>R.classList.toggle(e.params.pagination.hiddenClass))}});const y=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Xi(E),E.forEach(T=>T.classList.remove(e.params.pagination.paginationDisabledClass))),g(),p(),h()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Xi(E),E.forEach(T=>T.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:y,disable:w,render:p,update:h,init:g,destroy:v})}function I9(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,f=new Date().getTime(),h,p,g,v,y,w,E;function T(Y){!e||e.destroyed||!e.wrapperEl||Y.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",T),!(E||Y.detail&&Y.detail.bySwiperTouchMove)&&P())}const I=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(c=u,h=!1);const Y=e.autoplay.paused?u:f+c-new Date().getTime();e.autoplay.timeLeft=Y,i("autoplayTimeLeft",Y,Y/l),a=requestAnimationFrame(()=>{I()})},F=()=>{let Y;return e.virtual&&e.params.virtual.enabled?Y=e.slides.find(se=>se.classList.contains("swiper-slide-active")):Y=e.slides[e.activeIndex],Y?parseInt(Y.getAttribute("data-swiper-autoplay"),10):void 0},B=Y=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),I();let oe=typeof Y>"u"?e.params.autoplay.delay:Y;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const se=F();!Number.isNaN(se)&&se>0&&typeof Y>"u"&&(oe=se,l=se,c=se),u=oe;const K=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(K,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,K,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(K,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,K,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{B()})))};return oe>0?(clearTimeout(o),o=setTimeout(()=>{V()},oe)):requestAnimationFrame(()=>{V()}),oe},R=()=>{f=new Date().getTime(),e.autoplay.running=!0,B(),i("autoplayStart")},S=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},k=(Y,oe)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),Y||(w=!0);const se=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",T):P()};if(e.autoplay.paused=!0,oe){y&&(u=e.params.autoplay.delay),y=!1,se();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),se())},P=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),w?(w=!1,B(u)):B(),e.autoplay.paused=!1,i("autoplayResume"))},N=()=>{if(e.destroyed||!e.autoplay.running)return;const Y=Qc();Y.visibilityState==="hidden"&&(w=!0,k(!0)),Y.visibilityState==="visible"&&P()},M=Y=>{Y.pointerType==="mouse"&&(w=!0,E=!0,!(e.animating||e.autoplay.paused)&&k(!0))},O=Y=>{Y.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&P())},q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",M),e.el.addEventListener("pointerleave",O))},Z=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",M),e.el.removeEventListener("pointerleave",O))},ne=()=>{Qc().addEventListener("visibilitychange",N)},ee=()=>{Qc().removeEventListener("visibilitychange",N)};r("init",()=>{e.params.autoplay.enabled&&(q(),ne(),R())}),r("destroy",()=>{Z(),ee(),e.autoplay.running&&S()}),r("_freeModeStaticRelease",()=>{(g||w)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?S():k(!0,!0)}),r("beforeTransitionStart",(Y,oe,se)=>{e.destroyed||!e.autoplay.running||(se||!e.params.autoplay.disableOnInteraction?k(!0,!0):S())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){S();return}p=!0,g=!1,w=!1,v=setTimeout(()=>{w=!0,g=!0,k(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&P(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(y=!0)}),Object.assign(e.autoplay,{start:R,stop:S,pause:k,resume:P})}function rde(){const{t}=Zr(),e=b.useRef(null),[n,r]=b.useState(0),i=["https://ik.imagekit.io/devrodri/logo-fuxion_irts0s.png","https://ik.imagekit.io/devrodri/logo-pure_tr4git.png","https://ik.imagekit.io/devrodri/Double_Wood-logo_hkja36.png"];return A.jsxs("section",{className:"relative min-h-[100vh] flex flex-col items-center justify-center overflow-hidden pt-[96px] sm:pt-0 md:pt-0 xl:pt-0",children:[A.jsx("div",{className:"absolute inset-0 z-0 bg-neutral-50"}),A.jsx(Ck,{modules:[L9,I9,N9,k9],pagination:{clickable:!0},autoplay:{delay:7e3,disableOnInteraction:!1},loop:!0,touchRatio:1.5,resistanceRatio:0,speed:500,threshold:5,followFinger:!0,grabCursor:!0,shortSwipes:!0,longSwipesRatio:.2,mousewheel:{forceToAxis:!0,sensitivity:1.5,releaseOnEdges:!0},className:"relative z-10 w-full max-w-[1920px] mx-auto px-0 text-center",onSwiper:s=>e.current=s,onSlideChange:s=>{setTimeout(()=>{r(s.realIndex)},50)},children:[{key:"fuxion",logo:i[0],tagline:t("hero.tagline"),headline1:t("hero.headline1"),headline2:t("hero.headline2"),description:t("hero.description"),button:t("hero.button"),textColor:"text-[#0088D5]",buttonColor:"bg-[#0088D5] hover:bg-blue-600"},{key:"pure",logo:i[1],tagline:t("pure.tagline"),headline1:t("pure.headline1"),headline2:t("pure.headline2"),description:t("pure.description"),button:t("pure.button"),textColor:"text-[#1A3DA7]",buttonColor:"bg-[#1A3DA7] hover:bg-blue-800"},{key:"dw",logo:i[2],tagline:t("dw.tagline"),headline1:t("dw.headline1"),headline2:t("dw.headline2"),description:t("dw.description"),button:t("dw.button"),textColor:"text-[#4B3621]",buttonColor:"bg-[#3C7A3F] hover:bg-green-700"}].map((s,o)=>A.jsx(Ak,{children:A.jsxs(Qo.div,{className:"flex flex-col sm:flex-row items-center justify-start sm:justify-between gap-4 w-full px-4 pt-0 sm:pt-0 sm:items-center mt-[-60px] sm:mt-0",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1},children:[A.jsx("div",{className:"w-full sm:w-[60%] flex justify-center items-center h-[300px] sm:h-[520px] md:h-[600px] pl-0",children:A.jsx("img",{src:s.logo,alt:`Logo ${s.key}`,className:"max-h-full w-auto object-contain scale-[1.0]"})}),A.jsxs("div",{className:`flex flex-col justify-center items-center text-center sm:items-start sm:text-left ${s.textColor} gap-4 sm:w-[40%] pt-0 md:pt-6 -mt-4`,children:[A.jsx("span",{className:"uppercase text-base sm:text-lg tracking-widest font-semibold mt-2 mb-4",children:s.tagline}),A.jsxs("h1",{className:`text-4xl sm:text-5xl md:text-[2.5rem] lg:text-6xl font-extrabold tracking-tight mb-2 leading-tight ${s.key==="pure"?"md:text-[2rem] md:leading-snug":""}`,children:[A.jsx("span",{children:s.headline1}),A.jsx("br",{}),A.jsx("span",{children:s.headline2})]}),A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-medium mb-6 max-w-full",children:s.description}),A.jsx("div",{className:"w-full flex justify-center sm:justify-start mt-0 mb-2",children:A.jsx("div",{onClick:()=>window.location.href="/shop",className:`inline-block ${s.buttonColor} text-white font-semibold px-6 py-3 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-200 focus:outline-none appearance-none cursor-pointer`,children:s.button})})]})]})},s.key))}),A.jsx("style",{children:`
          .swiper-pagination-bullet {
            background: #0C2E63;
            opacity: 0.4;
          }
          .swiper-pagination-bullet-active {
            background: #0C2E63;
            opacity: 1;
          }
          .swiper-pagination {
            position: relative;
            z-index: 999 !important;
            pointer-events: auto;
          }
        `}),A.jsx("div",{className:"absolute bottom-[20px] left-1/2 -translate-x-1/2 z-[999]"})]})}function D9(){const t=cc(),{t:e}=Zr();return A.jsxs("section",{id:"catalogo",className:"py-10 sm:py-24 text-center scroll-mt-16 bg-white",children:[A.jsxs($_,{children:[A.jsx("title",{children:"Categoras | Looma"}),A.jsx("meta",{name:"keywords",content:"ropa para mascotas, hogar, fitness, gadgets, electrnicos, productos dropshipping USA, Looma"}),A.jsx("meta",{name:"description",content:"Explor productos de hogar, fitness, electrnica y ms. Eleg tu categora favorita y descubr lo ltimo en estilo y funcionalidad."})]}),A.jsx(Qo.p,{className:"text-sm uppercase text-[#003366] tracking-widest mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:e("categories.eyebrow")}),A.jsx("h2",{className:"block sm:hidden text-3xl font-bold text-center mb-10 tracking-tight text-[#365486] drop-shadow-[0_1px_2px_rgba(0,0,0,0.35)] leading-tight",children:e("categories.shortTitle")}),A.jsx("h2",{className:"hidden sm:block text-6xl font-extrabold text-center mb-10 tracking-tight text-[#365486] drop-shadow-[0_1px_2px_rgba(0,0,0,0.35)] leading-tight transition-all duration-700",children:e("categories.title")}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 max-w-6xl mx-auto px-6",children:[A.jsx(Qo.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>t("/shop?brand=FUXION"),role:"button",tabIndex:0,onKeyDown:n=>n.key==="Enter"&&t("/shop?brand=FUXION"),className:"group relative rounded-2xl overflow-hidden shadow-md hover:shadow-lg ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 active:scale-95 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(Qo.img,{src:"/images/logo-fuxion.png",alt:"Fuxion",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[90%] max-h-[90%] h-[150px] mx-auto object-contain transition-transform duration-500 group-hover:scale-110"})})})}),A.jsx(Qo.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>t("/shop?brand=PURE"),role:"button",tabIndex:0,onKeyDown:n=>n.key==="Enter"&&t("/shop?brand=PURE"),className:"group relative rounded-2xl overflow-hidden shadow-md hover:shadow-lg ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 active:scale-95 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(Qo.img,{src:"/images/logo-pure.png",alt:"Pure",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[90%] max-h-[90%] h-[150px] mx-auto object-contain transition-transform duration-500 group-hover:scale-110"})})})}),A.jsx(Qo.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>t("/shop?brand=DOUBLEWOOD"),role:"button",tabIndex:0,onKeyDown:n=>n.key==="Enter"&&t("/shop?brand=DOUBLEWOOD"),className:"group relative rounded-2xl overflow-hidden shadow-md hover:shadow-lg ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 active:scale-95 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(Qo.img,{src:"/images/Double Wood-logo.png",alt:"Double Wood",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[90%] max-h-[90%] h-[150px] mx-auto object-contain transition-transform duration-500 group-hover:scale-110"})})})})]})]})}function ide(){const{t}=Zr(),e=[{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-56_hqtx6c.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-59_xlqftg.png",title:()=>t("promoSlider.slide1.title"),subtitle:()=>t("promoSlider.slide1.subtitle"),link:"/fuxion"},{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-58_qr44kj.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-60_qy2tkk.png",title:()=>t("promoSlider.slide2.title"),subtitle:()=>t("promoSlider.slide2.subtitle"),link:"/fuxion"},{mediaUrl:"https://ik.imagekit.io/devrodri/FUXION1_yg6uvv.mp4",title:()=>t("promoSlider.slide3.title"),subtitle:()=>t("promoSlider.slide3.subtitle"),link:"/fuxion"},{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-57_dziuig.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-63_ohq7zt.png",title:()=>t("promoSlider.slide4.title"),subtitle:()=>t("promoSlider.slide4.subtitle"),link:"/fuxion"},{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-65_ftkc26.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-66_lyqs50.png",title:()=>t("promoSlider.slide5.title"),subtitle:()=>t("promoSlider.slide5.subtitle"),link:"/pure"},{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-55_qz5p07.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-67_njrzl9.png",title:()=>t("promoSlider.slide6.title"),subtitle:()=>t("promoSlider.slide6.subtitle"),link:"/pure"},{mediaUrl:"https://ik.imagekit.io/devrodri/PURE1_xqyxp7.mp4",title:()=>t("promoSlider.slide7.title"),subtitle:()=>t("promoSlider.slide7.subtitle"),link:"/pure"},{mediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-70_za6sv3.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-68_tuhlur.png",title:()=>t("promoSlider.slide8.title"),subtitle:()=>t("promoSlider.slide8.subtitle"),link:"/pure"},{mediaUrl:"https://ik.imagekit.io/devrodri/DW1_pggieo.mp4",title:()=>t("promoSlider.slide9.title"),subtitle:()=>t("promoSlider.slide9.subtitle"),link:"/shop"},{mediaUrl:"https://ik.imagekit.io/devrodri/DW2_tmu2z6.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-64_dztsni.png",title:()=>t("promoSlider.slide10.title"),subtitle:()=>t("promoSlider.slide10.subtitle"),link:"/shop"},{mediaUrl:"https://ik.imagekit.io/devrodri/DW5_flishp.mp4",title:()=>t("promoSlider.slide11.title"),subtitle:()=>t("promoSlider.slide11.subtitle"),link:"/shop"},{mediaUrl:"https://ik.imagekit.io/devrodri/DW4_j7smok.png",mobileMediaUrl:"https://ik.imagekit.io/devrodri/Disen%CC%83o_sin_ti%CC%81tulo-62_rykr8h.png",title:()=>t("promoSlider.slide12.title"),subtitle:()=>t("promoSlider.slide12.subtitle"),link:"/shop"}],n=b.useRef(null),[r,i]=b.useState(!1);b.useEffect(()=>{const a=()=>i(window.innerWidth<768);return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const s=()=>{n.current&&n.current.slidePrev()},o=()=>{n.current&&n.current.slideNext()};return A.jsx("section",{className:"relative w-full bg-black",children:A.jsxs(Ck,{modules:[L9,I9,N9,k9],pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:!1,loop:!0,touchRatio:1.5,resistanceRatio:0,speed:450,threshold:5,followFinger:!0,grabCursor:!0,shortSwipes:!0,longSwipesRatio:.2,mousewheel:{forceToAxis:!0,sensitivity:1.5,releaseOnEdges:!0},onSwiper:a=>n.current=a,className:"h-[80vh] promo-slider",children:[e.map((a,l)=>A.jsx(Ak,{children:A.jsxs("div",{className:"relative w-full h-full",children:[a.mediaUrl.endsWith(".mp4")?A.jsx("video",{src:a.mediaUrl,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):A.jsx("img",{src:r&&a.mobileMediaUrl?a.mobileMediaUrl:a.mediaUrl,alt:a.title(),className:"absolute inset-0 w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/40"}),A.jsxs(Qo.div,{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[A.jsx("h2",{className:"text-3xl sm:text-5xl font-extrabold mb-4 text-white drop-shadow-[0_3px_6px_rgba(0,0,0,0.8)] tracking-tight",children:a.title()}),A.jsx("p",{className:"text-lg sm:text-xl font-light text-white/90 drop-shadow-[0_2px_4px_rgba(0,0,0,0.6)] mb-6",children:a.subtitle()}),A.jsx(Zt,{to:a.link,className:"px-6 py-3 bg-white text-black font-semibold rounded-full hover:scale-105 transition-all",children:t("promoSlider.cta")})]})]})},l)),A.jsx("button",{onClick:s,className:"custom-nav-btn custom-prev hidden sm:flex absolute top-1/2 left-4 z-20 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-black/40 backdrop-blur-md hover:bg-black/60 transition-all duration-300 shadow-lg","aria-label":"Anterior",children:A.jsx(GC,{className:"text-white",size:28})}),A.jsx("button",{onClick:o,className:"custom-nav-btn custom-next hidden sm:flex absolute top-1/2 right-4 z-20 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-black/40 backdrop-blur-md hover:bg-black/60 transition-all duration-300 shadow-lg","aria-label":"Siguiente",children:A.jsx(lre,{className:"text-white",size:28})})]})})}function sde(){const{t}=Zr();return A.jsx("section",{className:"bg-gray-50 py-20 px-6 text-center",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsx("p",{className:"text-xs md:text-sm text-gray-600 uppercase tracking-widest mb-5",children:t("about.subtitle")}),A.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:t("about.headline")}),A.jsx("p",{className:"text-base md:text-lg text-gray-600 leading-relaxed",children:t("about.preview")}),A.jsx("div",{className:"mt-8",children:A.jsx("a",{href:"/about",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-md transition",children:t("about.cta")})})]})})}function ode(){const{items:t}=pl(),e=t.reduce((a,l)=>a+l.quantity,0),{t:n}=Zr(),[r,i]=b.useState(!1),[s,o]=b.useState(!1);return A.jsxs("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-50 shadow-sm py-0.5",children:[A.jsxs("div",{className:"flex sm:hidden items-center justify-between px-4 py-0.5",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>o(!s),children:A.jsx(I7,{className:"text-[#004AAD] w-5 h-5"})}),A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"max-h-[2.25rem] w-auto object-contain"})})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4 drop-shadow-sm hover:drop-shadow-md transition-all duration-200"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-xs px-1 py-0.5 drop-shadow-sm hover:drop-shadow-md transition-all duration-200 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-xs px-1 py-0.5 drop-shadow-sm hover:drop-shadow-md transition-all duration-200 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD] drop-shadow-sm hover:drop-shadow-md transition-all duration-200",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]}),A.jsx("button",{className:"text-[#004AAD] drop-shadow-sm hover:drop-shadow-md transition-all duration-200",onClick:()=>i(!r),children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&A.jsx("div",{className:"sm:hidden px-4 pb-1",children:A.jsx("input",{type:"text",placeholder:n("search.placeholder","Buscar productos..."),className:"w-full border border-[#004AAD] rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#004AAD]",autoFocus:!0})}),r&&A.jsx("div",{className:"sm:hidden px-4 pb-2",children:A.jsxs("nav",{className:"flex flex-col gap-2 text-sm items-center text-center",children:[A.jsx(Zt,{to:"/",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.home","Inicio")}),A.jsx(Zt,{to:"/shop",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.shop","Tienda")}),A.jsx(Zt,{to:"/about",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.about","Nosotros")}),A.jsx(Zt,{to:"/contact",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.contact","Contacto")})]})}),A.jsxs("div",{className:"hidden sm:flex max-w-7xl mx-auto px-4 py-1 items-center justify-between",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"h-12 w-auto object-contain"})}),A.jsxs("nav",{className:"flex items-center gap-6 text-base",children:[A.jsx(Zt,{to:"/",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.home","Inicio")}),A.jsx(Zt,{to:"/shop",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.shop","Tienda")}),A.jsx(Zt,{to:"/about",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.about","Nosotros")}),A.jsx(Zt,{to:"/contact",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.contact","Contacto")})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4 drop-shadow-sm hover:drop-shadow-md transition-all duration-200"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-sm px-2 py-0.5 drop-shadow-sm hover:drop-shadow-md transition-all duration-200 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-sm px-2 py-0.5 drop-shadow-sm hover:drop-shadow-md transition-all duration-200 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD] drop-shadow-sm hover:drop-shadow-md transition-all duration-200",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]})]})]})]})}const ade=async()=>(await nu(ta(hr,"products"))).docs.map(e=>({id:e.id,...e.data()})),lde=async t=>(await nu(ta(hr,"products"))).docs.map(r=>({id:r.id,...r.data()})).find(r=>r.slug===t)||null;function cde(t){return aw({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function ude(t){return aw({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}var _1={},vD;function dde(){if(vD)return _1;vD=1,Object.defineProperty(_1,"__esModule",{value:!0});var t=Wv();function e(S){return Array.prototype.slice.call(S)}function n(S,k){var P=Math.floor(S);return P===k||P+1===k?S:k}function r(){return Date.now()}function i(S,k,P){if(k="data-keen-slider-"+k,P===null)return S.removeAttribute(k);S.setAttribute(k,P||"")}function s(S,k){return k=k||document,typeof S=="function"&&(S=S(k)),Array.isArray(S)?S:typeof S=="string"?e(k.querySelectorAll(S)):S instanceof HTMLElement?[S]:S instanceof NodeList?e(S):[]}function o(S){S.raw&&(S=S.raw),S.cancelable&&!S.defaultPrevented&&S.preventDefault()}function a(S){S.raw&&(S=S.raw),S.stopPropagation&&S.stopPropagation()}function l(){var S=[];return{add:function(k,P,N,M){k.addListener?k.addListener(N):k.addEventListener(P,N,M),S.push([k,P,N,M])},input:function(k,P,N,M){this.add(k,P,function(O){return function(q){q.nativeEvent&&(q=q.nativeEvent);var Z=q.changedTouches||[],ne=q.targetTouches||[],ee=q.detail&&q.detail.x?q.detail:null;return O({id:ee?ee.identifier?ee.identifier:"i":ne[0]?ne[0]?ne[0].identifier:"e":"d",idChanged:ee?ee.identifier?ee.identifier:"i":Z[0]?Z[0]?Z[0].identifier:"e":"d",raw:q,x:ee&&ee.x?ee.x:ne[0]?ne[0].screenX:ee?ee.x:q.pageX,y:ee&&ee.y?ee.y:ne[0]?ne[0].screenY:ee?ee.y:q.pageY})}}(N),M)},purge:function(){S.forEach(function(k){k[0].removeListener?k[0].removeListener(k[2]):k[0].removeEventListener(k[1],k[2],k[3])}),S=[]}}}function c(S,k,P){return Math.min(Math.max(S,k),P)}function u(S){return(S>0?1:0)-(S<0?1:0)||+S}function f(S){var k=S.getBoundingClientRect();return{height:n(k.height,S.offsetHeight),width:n(k.width,S.offsetWidth)}}function h(S,k,P,N){var M=S&&S[k];return M==null?P:N&&typeof M=="function"?M():M}function p(S){return Math.round(1e6*S)/1e6}function g(S,k){if(S===k)return!0;var P=typeof S;if(P!==typeof k)return!1;if(P!=="object"||S===null||k===null)return P==="function"&&S.toString()===k.toString();if(S.length!==k.length||Object.getOwnPropertyNames(S).length!==Object.getOwnPropertyNames(k).length)return!1;for(var N in S)if(!g(S[N],k[N]))return!1;return!0}var v=function(){return v=Object.assign||function(S){for(var k,P=1,N=arguments.length;P<N;P++)for(var M in k=arguments[P])Object.prototype.hasOwnProperty.call(k,M)&&(S[M]=k[M]);return S},v.apply(this,arguments)};function y(S,k,P){for(var N,M=0,O=k.length;M<O;M++)!N&&M in k||(N||(N=Array.prototype.slice.call(k,0,M)),N[M]=k[M]);return S.concat(N||Array.prototype.slice.call(k))}function w(S){var k,P,N,M,O,q;function Z(se){q||(q=se),ne(!0);var K=se-q;K>N&&(K=N);var V=M[P];if(V[3]<K)return P++,Z(se);var W=V[2],J=V[4],Q=V[0],re=V[1]*(0,V[5])(J===0?1:(K-W)/J);if(re&&S.track.to(Q+re),K<N)return Y();q=null,ne(!1),ee(null),S.emit("animationEnded")}function ne(se){k.active=se}function ee(se){k.targetIdx=se}function Y(){var se;se=Z,O=window.requestAnimationFrame(se)}function oe(){var se;se=O,window.cancelAnimationFrame(se),ne(!1),ee(null),q&&S.emit("animationStopped"),q=null}return k={active:!1,start:function(se){if(oe(),S.track.details){var K=0,V=S.track.details.position;P=0,N=0,M=se.map(function(W){var J,Q=Number(V),re=(J=W.earlyExit)!==null&&J!==void 0?J:W.duration,ce=W.easing,fe=W.distance*ce(re/W.duration)||0;V+=fe;var be=N;return N+=re,K+=fe,[Q,W.distance,be,N,W.duration,ce]}),ee(S.track.distToIdx(K)),Y(),S.emit("animationStarted")}},stop:oe,targetIdx:null}}function E(S){var k,P,N,M,O,q,Z,ne,ee,Y,oe,se,K,V,W=1/0,J=[],Q=null,re=0;function ce(qe){he(re+qe)}function fe(qe){var je=be(re+qe).abs;return Be(je)?je:null}function be(qe){var je=Math.floor(Math.abs(p(qe/P))),De=p((qe%P+P)%P);De===P&&(De=0);var We=u(qe),de=Z.indexOf(y([],Z).reduce(function(ke,Ye){return Math.abs(Ye-De)<Math.abs(ke-De)?Ye:ke})),we=de;return We<0&&je++,de===q&&(we=0,je+=We>0?1:-1),{abs:we+je*q*We,origin:de,rel:we}}function ge(qe,je,De){var We;if(je||!Ae())return Se(qe,De);if(!Be(qe))return null;var de=be(De??re),we=de.abs,ke=qe-de.rel,Ye=we+ke;We=Se(Ye);var $e=Se(Ye-q*u(ke));return($e!==null&&Math.abs($e)<Math.abs(We)||We===null)&&(We=$e),p(We)}function Se(qe,je){if(je==null&&(je=p(re)),!Be(qe)||qe===null)return null;qe=Math.round(qe);var De=be(je),We=De.abs,de=De.rel,we=De.origin,ke=ye(qe),Ye=(je%P+P)%P,$e=Z[we],He=Math.floor((qe-(We-de))/q)*P;return p($e-Ye-$e+Z[ke]+He+(we===q?P:0))}function Be(qe){return _e(qe)===qe}function _e(qe){return c(qe,ee,Y)}function Ae(){return M.loop}function ye(qe){return(qe%q+q)%q}function he(qe){var je;je=qe-re,J.push({distance:je,timestamp:r()}),J.length>6&&(J=J.slice(-6)),re=p(qe);var De=Je().abs;if(De!==Q){var We=Q!==null;Q=De,We&&S.emit("slideChanged")}}function Je(qe){var je=qe?null:function(){if(q){var De=Ae(),We=De?(re%P+P)%P:re,de=(De?re%P:re)-O[0][2],we=0-(de<0&&De?P-Math.abs(de):de),ke=0,Ye=be(re),$e=Ye.abs,He=Ye.rel,ot=O[He][2],dt=O.map(function(xt,st){var jt=we+ke;(jt<0-xt[0]||jt>1)&&(jt+=(Math.abs(jt)>P-1&&De?P:0)*u(-jt));var Vt=st-He,Hn=u(Vt),Ut=Vt+$e;De&&(Hn===-1&&jt>ot&&(Ut+=q),Hn===1&&jt<ot&&(Ut-=q),oe!==null&&Ut<oe&&(jt+=P),se!==null&&Ut>se&&(jt-=P));var fn=jt+xt[0]+xt[1],lr=Math.max(jt>=0&&fn<=1?1:fn<0||jt>1?0:jt<0?Math.min(1,(xt[0]+jt)/xt[0]):(1-jt)/xt[0],0);return ke+=xt[0]+xt[1],{abs:Ut,distance:M.rtl?-1*jt+1-xt[0]:jt,portion:lr,size:xt[0]}});return $e=_e($e),He=ye($e),{abs:_e($e),length:N,max:V,maxIdx:Y,min:K,minIdx:ee,position:re,progress:De?We/P:re/N,rel:He,slides:dt,slidesLength:P}}}();return k.details=je,S.emit("detailsChanged"),je}return k={absToRel:ye,add:ce,details:null,distToIdx:fe,idxToDist:ge,init:function(qe){if(function(){if(M=S.options,O=(M.trackConfig||[]).map(function(de){return[h(de,"size",1),h(de,"spacing",0),h(de,"origin",0)]}),q=O.length){P=p(O.reduce(function(de,we){return de+we[0]+we[1]},0));var De,We=q-1;N=p(P+O[0][2]-O[We][0]-O[We][2]-O[We][1]),Z=O.reduce(function(de,we){if(!de)return[0];var ke=O[de.length-1],Ye=de[de.length-1]+(ke[0]+ke[2])+ke[1];return Ye-=we[2],de[de.length-1]>Ye&&(Ye=de[de.length-1]),Ye=p(Ye),de.push(Ye),(!De||De<Ye)&&(ne=de.length-1),De=Ye,de},null),N===0&&(ne=0),Z.push(p(P))}}(),!q)return Je(!0);var je;(function(){var De=S.options.range,We=S.options.loop;oe=ee=We?h(We,"min",-1/0):0,se=Y=We?h(We,"max",W):ne;var de=h(De,"min",null),we=h(De,"max",null);de!==null&&(ee=de),we!==null&&(Y=we),K=ee===-1/0?ee:S.track.idxToDist(ee||0,!0,0),V=Y===W?Y:ge(Y,!0,0),we===null&&(se=Y),h(De,"align",!1)&&Y!==W&&O[ye(Y)][2]===0&&(V-=1-O[ye(Y)][0],Y=fe(V-re)),K=p(K),V=p(V)})(),je=qe,Number(je)===je?ce(Se(_e(qe))):Je()},to:he,velocity:function(){var qe=r(),je=J.reduce(function(De,We){var de=We.distance,we=We.timestamp;return qe-we>200||(u(de)!==u(De.distance)&&De.distance&&(De={distance:0,lastTimestamp:0,time:0}),De.time&&(De.distance+=de),De.lastTimestamp&&(De.time+=we-De.lastTimestamp),De.lastTimestamp=we),De},{distance:0,lastTimestamp:0,time:0});return je.distance/je.time||0}}}function T(S){var k,P,N,M,O,q,Z,ne;function ee(Q){return 2*Q}function Y(Q){return c(Q,Z,ne)}function oe(Q){return 1-Math.pow(1-Q,3)}function se(){return N?S.track.velocity():0}function K(){J();var Q=S.options.mode==="free-snap",re=S.track,ce=se();M=u(ce);var fe=S.track.details,be=[];if(ce||!Q){var ge=V(ce),Se=ge.dist,Be=ge.dur;if(Be=ee(Be),Se*=M,Q){var _e=re.idxToDist(re.distToIdx(Se),!0);_e&&(Se=_e)}be.push({distance:Se,duration:Be,easing:oe});var Ae=fe.position,ye=Ae+Se;if(ye<O||ye>q){var he=ye<O?O-Ae:q-Ae,Je=0,qe=ce;if(u(he)===M){var je=Math.min(Math.abs(he)/Math.abs(Se),1),De=function(we){return 1-Math.pow(1-we,1/3)}(je)*Be;be[0].earlyExit=De,qe=ce*(1-je)}else be[0].earlyExit=0,Je+=he;var We=V(qe,100),de=We.dist*M;S.options.rubberband&&(be.push({distance:de,duration:ee(We.dur),easing:oe}),be.push({distance:-de+Je,duration:500,easing:oe}))}S.animator.start(be)}else S.moveToIdx(Y(fe.abs),!0,{duration:500,easing:function(we){return 1+--we*we*we*we*we}})}function V(Q,re){re===void 0&&(re=1e3);var ce=147e-9+(Q=Math.abs(Q))/re;return{dist:Math.pow(Q,2)/ce,dur:Q/ce}}function W(){var Q=S.track.details;Q&&(O=Q.min,q=Q.max,Z=Q.minIdx,ne=Q.maxIdx)}function J(){S.animator.stop()}S.on("updated",W),S.on("optionsChanged",W),S.on("created",W),S.on("dragStarted",function(){N=!1,J(),k=P=S.track.details.abs}),S.on("dragChecked",function(){N=!0}),S.on("dragEnded",function(){var Q=S.options.mode;Q==="snap"&&function(){var re=S.track,ce=S.track.details,fe=ce.position,be=u(se());(fe>q||fe<O)&&(be=0);var ge=k+be;ce.slides[re.absToRel(ge)].portion===0&&(ge-=be),k!==P&&(ge=P),u(re.idxToDist(ge,!0))!==be&&(ge+=be),ge=Y(ge);var Se=re.idxToDist(ge,!0);S.animator.start([{distance:Se,duration:500,easing:function(Be){return 1+--Be*Be*Be*Be*Be}}])}(),Q!=="free"&&Q!=="free-snap"||K()}),S.on("dragged",function(){P=S.track.details.abs})}function I(S){var k,P,N,M,O,q,Z,ne,ee,Y,oe,se,K,V,W,J,Q,re,ce=l();function fe(Je){if(q&&ne===Je.id){var qe=Be(Je);if(ee){if(!Se(Je))return ge(Je);Y=qe,ee=!1,S.emit("dragChecked")}if(J)return Y=qe;o(Je);var je=function(We){if(Q===-1/0&&re===1/0)return We;var de=S.track.details,we=de.length,ke=de.position,Ye=c(We,Q-ke,re-ke);if(we===0)return 0;if(!S.options.rubberband)return Ye;if(ke<=re&&ke>=Q||ke<Q&&P>0||ke>re&&P<0)return We;var $e=(ke<Q?ke-Q:ke-re)/we,He=M*we,ot=Math.abs($e*He),dt=Math.max(0,1-ot/O*2);return dt*dt*We}(Z(Y-qe)/M*N);P=u(je);var De=S.track.details.position;(De>Q&&De<re||De===Q&&P>0||De===re&&P<0)&&a(Je),oe+=je,!se&&Math.abs(oe*M)>5&&(se=!0),S.track.add(je),Y=qe,S.emit("dragged")}}function be(Je){!q&&S.track.details&&S.track.details.length&&(oe=0,q=!0,se=!1,ee=!0,ne=Je.id,Se(Je),Y=Be(Je),S.emit("dragStarted"))}function ge(Je){q&&ne===Je.idChanged&&(q=!1,S.emit("dragEnded"))}function Se(Je){var qe=_e(),je=qe?Je.y:Je.x,De=qe?Je.x:Je.y,We=K!==void 0&&V!==void 0&&Math.abs(V-De)<=Math.abs(K-je);return K=je,V=De,We}function Be(Je){return _e()?Je.y:Je.x}function _e(){return S.options.vertical}function Ae(){M=S.size,O=_e()?window.innerHeight:window.innerWidth;var Je=S.track.details;Je&&(Q=Je.min,re=Je.max)}function ye(Je){se&&(a(Je),o(Je))}function he(){if(ce.purge(),S.options.drag&&!S.options.disabled){var Je;Je=S.options.dragSpeed||1,Z=typeof Je=="function"?Je:function(je){return je*Je},N=S.options.rtl?-1:1,Ae(),k=S.container,function(){var je="data-keen-slider-clickable";s("[".concat(je,"]:not([").concat(je,"=false])"),k).map(function(De){ce.add(De,"dragstart",a),ce.add(De,"mousedown",a),ce.add(De,"touchstart",a)})}(),ce.add(k,"dragstart",function(je){o(je)}),ce.add(k,"click",ye,{capture:!0}),ce.input(k,"ksDragStart",be),ce.input(k,"ksDrag",fe),ce.input(k,"ksDragEnd",ge),ce.input(k,"mousedown",be),ce.input(k,"mousemove",fe),ce.input(k,"mouseleave",ge),ce.input(k,"mouseup",ge),ce.input(k,"touchstart",be,{passive:!0}),ce.input(k,"touchmove",fe,{passive:!1}),ce.input(k,"touchend",ge),ce.input(k,"touchcancel",ge),ce.add(window,"wheel",function(je){q&&o(je)});var qe="data-keen-slider-scrollable";s("[".concat(qe,"]:not([").concat(qe,"=false])"),S.container).map(function(je){return function(De){var We;ce.input(De,"touchstart",function(de){We=Be(de),J=!0,W=!0},{passive:!0}),ce.input(De,"touchmove",function(de){var we=_e(),ke=we?De.scrollHeight-De.clientHeight:De.scrollWidth-De.clientWidth,Ye=We-Be(de),$e=we?De.scrollTop:De.scrollLeft,He=we&&De.style.overflowY==="scroll"||!we&&De.style.overflowX==="scroll";if(We=Be(de),(Ye<0&&$e>0||Ye>0&&$e<ke)&&W&&He)return J=!0;W=!1,o(de),J=!1}),ce.input(De,"touchend",function(){J=!1})}(je)})}}S.on("updated",Ae),S.on("optionsChanged",he),S.on("created",he),S.on("destroyed",ce.purge)}function F(S){var k,P,N=null;function M(K,V,W){S.animator.active?q(K,V,W):requestAnimationFrame(function(){return q(K,V,W)})}function O(){M(!1,!1,P)}function q(K,V,W){var J=0,Q=S.size,re=S.track.details;if(re&&k){var ce=re.slides;k.forEach(function(fe,be){if(K)!N&&V&&ne(fe,null,W),ee(fe,null,W);else{if(!ce[be])return;var ge=ce[be].size*Q;!N&&V&&ne(fe,ge,W),ee(fe,ce[be].distance*Q-J,W),J+=ge}})}}function Z(K){return S.options.renderMode==="performance"?Math.round(K):K}function ne(K,V,W){var J=W?"height":"width";V!==null&&(V=Z(V)+"px"),K.style["min-"+J]=V,K.style["max-"+J]=V}function ee(K,V,W){if(V!==null){V=Z(V);var J=W?V:0;V="translate3d(".concat(W?0:V,"px, ").concat(J,"px, 0)")}K.style.transform=V,K.style["-webkit-transform"]=V}function Y(){k&&(q(!0,!0,P),k=null),S.on("detailsChanged",O,!0)}function oe(){M(!1,!0,P)}function se(){Y(),P=S.options.vertical,S.options.disabled||S.options.renderMode==="custom"||(N=h(S.options.slides,"perView",null)==="auto",S.on("detailsChanged",O),(k=S.slides).length&&oe())}S.on("created",se),S.on("optionsChanged",se),S.on("beforeOptionsChanged",function(){Y()}),S.on("updated",oe),S.on("destroyed",Y)}function B(S,k){return function(P){var N,M,O,q,Z,ne=l();function ee(Se){var Be;i(P.container,"reverse",(Be=P.container,window.getComputedStyle(Be,null).getPropertyValue("direction")!=="rtl"||Se?null:"")),i(P.container,"v",P.options.vertical&&!Se?"":null),i(P.container,"disabled",P.options.disabled&&!Se?"":null)}function Y(){oe()&&J()}function oe(){var Se=null;if(q.forEach(function(_e){_e.matches&&(Se=_e.__media)}),Se===N)return!1;N||P.emit("beforeOptionsChanged"),N=Se;var Be=Se?O.breakpoints[Se]:O;return P.options=v(v({},O),Be),ee(),be(),ge(),re(),!0}function se(Se){var Be=f(Se);return(P.options.vertical?Be.height:Be.width)/P.size||1}function K(){return P.options.trackConfig.length}function V(Se){for(var Be in N=!1,O=v(v({},k),Se),ne.purge(),M=P.size,q=[],O.breakpoints||[]){var _e=window.matchMedia(Be);_e.__media=Be,q.push(_e),ne.add(_e,"change",Y)}ne.add(window,"orientationchange",fe),ne.add(window,"resize",ce),oe()}function W(Se){P.animator.stop();var Be=P.track.details;P.track.init(Se??(Be?Be.abs:0))}function J(Se){W(Se),P.emit("optionsChanged")}function Q(Se,Be){if(Se)return V(Se),void J(Be);be(),ge();var _e=K();re(),K()!==_e?J(Be):W(Be),P.emit("updated")}function re(){var Se=P.options.slides;if(typeof Se=="function")return P.options.trackConfig=Se(P.size,P.slides);for(var Be=P.slides,_e=Be.length,Ae=typeof Se=="number"?Se:h(Se,"number",_e,!0),ye=[],he=h(Se,"perView",1,!0),Je=h(Se,"spacing",0,!0)/P.size||0,qe=he==="auto"?Je:Je/he,je=h(Se,"origin","auto"),De=0,We=0;We<Ae;We++){var de=he==="auto"?se(Be[We]):1/he-Je+qe,we=je==="center"?.5-de/2:je==="auto"?0:je;ye.push({origin:we,size:de,spacing:Je}),De+=de}if(De+=Je*(Ae-1),je==="auto"&&!P.options.loop&&he!==1){var ke=0;ye.map(function(Ye){var $e=De-ke;return ke+=Ye.size+Je,$e>=1||(Ye.origin=1-$e-(De>1?0:1-De)),Ye})}P.options.trackConfig=ye}function ce(){be();var Se=P.size;P.options.disabled||Se===M||(M=Se,Q())}function fe(){ce(),setTimeout(ce,500),setTimeout(ce,2e3)}function be(){var Se=f(P.container);P.size=(P.options.vertical?Se.height:Se.width)||1}function ge(){P.slides=s(P.options.selector,P.container)}P.container=(Z=s(S,document)).length?Z[0]:null,P.destroy=function(){ne.purge(),P.emit("destroyed"),ee(!0)},P.prev=function(){P.moveToIdx(P.track.details.abs-1,!0)},P.next=function(){P.moveToIdx(P.track.details.abs+1,!0)},P.update=Q,V(P.options)}}var R=function(S,k,P){try{return function(N,M){var O,q={};return O={emit:function(Z){q[Z]&&q[Z].forEach(function(ee){ee(O)});var ne=O.options&&O.options[Z];ne&&ne(O)},moveToIdx:function(Z,ne,ee){var Y=O.track.idxToDist(Z,ne);if(Y){var oe=O.options.defaultAnimation;O.animator.start([{distance:Y,duration:h(ee||oe,"duration",500),easing:h(ee||oe,"easing",function(se){return 1+--se*se*se*se*se})}])}},on:function(Z,ne,ee){ee===void 0&&(ee=!1),q[Z]||(q[Z]=[]);var Y=q[Z].indexOf(ne);Y>-1?ee&&delete q[Z][Y]:ee||q[Z].push(ne)},options:N},function(){if(O.track=E(O),O.animator=w(O),M)for(var Z=0,ne=M;Z<ne.length;Z++)(0,ne[Z])(O);O.track.init(O.options.initial||0),O.emit("created")}(),O}(k,y([B(S,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),F,I,T],P||[],!0))}catch(N){console.error(N)}};return _1.useKeenSlider=function(S,k){var P=t.useRef(null),N=t.useRef(!1),M=t.useRef(S),O=t.useCallback(function(q){q?(M.current=S,P.current=new R(q,S,k),N.current=!1):(P.current&&P.current.destroy&&P.current.destroy(),P.current=null)},[]);return t.useEffect(function(){g(M.current,S)||(M.current=S,P.current&&P.current.update(M.current))},[S]),[O,P]},_1}var fde=dde();async function hde(t){try{const e=ko(hr,"products",t),n=await iy(e);if(!n.exists())return null;const r=n.data();return mde(n.id,r)}catch(e){return console.error("Error fetching product by ID:",e),null}}async function pde(){const t=ta(hr,"categories");return(await nu(t)).docs.map(n=>{var r;return{id:n.id,name:((r=n.data().name)==null?void 0:r.es)||""}})}async function bm(){const t=ta(hr,"products"),n=(await nu(t)).docs.map(r=>{const i=r.data(),s=i.title,o={es:typeof s=="object"&&typeof(s==null?void 0:s.es)=="string"?s.es:typeof s=="string"?s:typeof i.titleEs=="string"?i.titleEs:"Producto",en:typeof s=="object"&&typeof(s==null?void 0:s.en)=="string"?s.en:typeof i.titleEn=="string"?i.titleEn:""};return{id:r.id,slug:i.slug||`${r.id}-${o.es.toLowerCase().replace(/\s+/g,"-")}`,name:o.es||i.name||"Producto sin nombre",title:o,images:i.images||[],priceUSD:i.priceUSD||0,league:i.league||"Ftbol",category:i.category||{id:"",name:""},subcategory:i.subCategory||{id:"",name:""},team:i.team||{id:"",name:""},subtitle:i.subtitle||"",description:i.description||"",defaultDescriptionType:i.defaultDescriptionType||"none",extraDescriptionTop:i.extraDescriptionTop||"",extraDescriptionBottom:i.extraDescriptionBottom||"",descriptionPosition:i.descriptionPosition||"bottom",active:i.active??!0,stock:i.stock||{S:0,M:0,L:0,XL:0},sizes:i.sizes||["S","M","L","XL"],customName:i.customName||"",customNumber:i.customNumber||"",allowCustomization:i.allowCustomization??!1,stockTotal:i.stockTotal??0,variants:Array.isArray(i.variants)?i.variants:[]}});return console.log(" DEBUG desde firebaseUtils  productos cargados:",n),n}function mde(t,e){var n,r,i,s;return{id:t,slug:e.slug||`${t}-${(typeof e.title=="string"?e.title:((n=e.title)==null?void 0:n.es)||"producto").toLowerCase().replace(/\s+/g,"-")}`,name:e.name||(typeof e.title=="string"?e.title:(r=e.title)==null?void 0:r.es)||"Producto sin nombre",title:{es:typeof e.title=="object"&&typeof((i=e.title)==null?void 0:i.es)=="string"?e.title.es:typeof e.title=="string"?e.title:typeof e.titleEs=="string"?e.titleEs:"Producto",en:typeof e.title=="object"&&typeof((s=e.title)==null?void 0:s.en)=="string"?e.title.en:typeof e.titleEn=="string"?e.titleEn:""},images:e.images||[],priceUSD:e.priceUSD||0,league:e.league||"Ftbol",category:e.category||{id:"",name:""},subcategory:e.subCategory||{id:"",name:""},team:e.team||{id:"",name:""},subtitle:e.subtitle||"",description:e.description||"",defaultDescriptionType:e.defaultDescriptionType||"none",extraDescriptionTop:e.extraDescriptionTop||"",extraDescriptionBottom:e.extraDescriptionBottom||"",descriptionPosition:e.descriptionPosition||"bottom",active:e.active??!0,stock:e.stock||{S:0,M:0,L:0,XL:0},sizes:e.sizes||["S","M","L","XL"],customName:e.customName||"",customNumber:e.customNumber||"",allowCustomization:e.allowCustomization??!1,stockTotal:e.stockTotal??0,variants:Array.isArray(e.variants)?e.variants:[]}}async function gde(t){try{const e=ta(hr,"products"),n=await tw(e,t);return console.log("Producto creado con ID:",n.id),n.id}catch(e){throw console.error("Error creando producto:",e),e}}async function xA(t,e){try{const n=ko(hr,"products",t);e.variants&&Array.isArray(e.variants)&&(e.variants=e.variants.map(r=>({...r,options:r.options.map(i=>({...i,priceUSD:parseFloat(String(i.priceUSD||0))}))}))),await Mj(n,e),console.log("Producto actualizado:",t)}catch(n){throw console.error("Error actualizando producto:",n),n}}async function vde(t){try{const e=ko(hr,"products",t);await sy(e),console.log("Producto eliminado:",t)}catch(e){throw console.error("Error eliminando producto:",e),e}}async function yde(t){try{const e=ta(hr,"categories");await tw(e,{name:t})}catch(e){throw console.error("Error creando categora:",e),e}}async function xde(t){try{const e=ko(hr,"categories",t);await sy(e)}catch(e){throw console.error("Error eliminando categora:",e),e}}async function bde(t,e){try{const n=ta(hr,`categories/${t}/subcategories`);await tw(n,{name:e})}catch(n){throw console.error("Error creando subcategora:",n),n}}async function wde(t,e){try{const n=ko(hr,`categories/${t}/subcategories/${e}`);await sy(n)}catch(n){throw console.error("Error eliminando subcategora:",n),n}}async function Ede(){const t=ta(hr,"clients");return(await nu(t)).docs.map(n=>{const r=n.data();return{id:n.id,name:r.name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",zip:r.zip||"",country:r.country||""}})}async function Sde(t){try{const e=ko(hr,"clients",t);await sy(e),console.log("Cliente eliminado:",t)}catch(e){throw console.error("Error eliminando cliente:",e),e}}async function _v(t){const e=ta(hr,`categories/${t}/subcategories`);return(await nu(e)).docs.map(r=>{const i=r.data().name,s=typeof i=="string"?i:typeof(i==null?void 0:i.es)=="string"?i.es:typeof(i==null?void 0:i.en)=="string"?i.en:"";return{id:r.id,name:s,categoryId:t}})}async function pw(){const t=ta(hr,"categories"),e=await nu(t);return await Promise.all(e.docs.map(async r=>{const i=r.data().name,s=typeof i=="string"?i:typeof(i==null?void 0:i.es)=="string"?i.es:typeof(i==null?void 0:i.en)=="string"?i.en:"",o=ta(hr,`categories/${r.id}/subcategories`),l=(await nu(o)).docs.map(c=>{const u=c.data().name;return{id:c.id,name:u,categoryId:r.id}});return{id:r.id,name:s,categoryId:r.id,subcategories:l}}))}async function Cde(t){try{const e=ta(hr,"orders");await tw(e,t),console.log(" Pedido guardado en Firebase:",t)}catch(e){throw console.error(" Error al guardar el pedido:",e),e}}function R9({product:t,className:e,imgClassName:n}){var p,g,v;const r=t.slug?encodeURIComponent(t.slug):`product-${t.id}`,i=`/producto/${r}`,s=t.images&&t.images.length>0?t.images[0]:"",{i18n:o}=Zr(),a=o.language,l=((p=t.title)==null?void 0:p[a])||"Sin ttulo",c=typeof t.subtitle=="string"?t.subtitle:typeof t.subtitle=="object"&&t.subtitle!==null&&t.subtitle[a]||"",u=t.priceUSD||0;console.log(" DEBUG CARD ",t.slug,t.title);const h={PURE:"ring-[#1D4ED8]",FUXION:"ring-[#0ea5e9]","DOUBLE WOODS":"ring-[#15803d]"}[((v=(g=t.category)==null?void 0:g.name)==null?void 0:v.toUpperCase())||""]||"ring-transparent";return A.jsx(Qo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`h-[320px] relative ring-2 ring-offset-2 ${h} rounded-2xl shadow-sm transition-transform duration-300 hover:scale-[1.015] ${e||""}`,children:A.jsxs(Zt,{to:i,className:"h-full flex flex-col justify-between group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition relative",children:[A.jsx("div",{className:"aspect-square overflow-hidden",children:A.jsx("img",{src:s,alt:l,className:`${n||"w-full h-full object-cover transition-transform duration-300 ease-out group-hover:scale-105"}`,loading:"lazy",onError:y=>{y.currentTarget.src="/images/placeholder.jpg"}})}),A.jsxs("div",{className:"p-4",children:[c&&A.jsx("div",{className:"text-sm text-gray-600 mb-1",children:c}),A.jsx("div",{className:"h-[48px] overflow-hidden",children:A.jsx("h3",{className:"text-lg font-bold text-black leading-tight group-hover:text-black/80 transition line-clamp-2",children:l})}),A.jsxs("div",{className:"mt-1.5 text-base font-semibold",children:["US$ ",u.toFixed(2)]})]})]})},`product-card-${t.id}-${r}`)}function M9({excludeSlugs:t=[],categoryName:e,title:n}){const r=b.useRef(null),{i18n:i}=Zr(),s=i.language,[o,a]=b.useState([]);b.useEffect(()=>{bm().then(a).catch(u=>console.error("Error loading products in RelatedProducts:",u))},[]),console.log(" RelatedProducts: slugs excluidos",t),console.log("[ RelatedProducts] Productos cargados:",o),console.log(" Slugs excluidos:",t),console.log(" Todos los productos disponibles:",o.map(u=>u.slug));const l=o;console.log(" Productos despus del filtro",l);const c=u=>{r.current&&r.current.scrollBy({left:u==="left"?-340:340,behavior:"smooth"})};return A.jsxs("div",{className:"relative",children:[n&&A.jsxs("div",{className:"container px-4 mx-auto flex justify-between items-center mt-12 md:mt-32 border-t pt-12",children:[A.jsx("h2",{className:"text-2xl sm:text-5xl font-semibold leading-tight text-left text-neutral-900 tracking-tight whitespace-normal mt-12 md:mt-20 mb-6 sm:mb-10",children:n}),A.jsxs("div",{className:"hidden sm:flex gap-2",children:[A.jsx("button",{onClick:()=>c("left"),className:"p-3 bg-white rounded-full shadow-md hover:bg-black hover:text-white transition border border-gray-300","aria-label":"Anterior",children:A.jsx(ere,{className:"w-6 h-6"})}),A.jsx("button",{onClick:()=>c("right"),className:"p-3 bg-white rounded-full shadow-md hover:bg-black hover:text-white transition border border-gray-300","aria-label":"Siguiente",children:A.jsx(nre,{className:"w-6 h-6"})})]})]}),A.jsx("div",{ref:r,className:"flex gap-5 overflow-x-auto pb-2 scroll-smooth hide-scrollbar snap-x snap-mandatory",children:l.map(u=>{var p,g;typeof u.title=="object"&&u.title!==null?u.title[s]||u.title.en:typeof u.title=="string"&&u.title;const f=u.priceUSD||0,h=u.slug;return A.jsx("div",{className:"flex-shrink-0 snap-start scroll-ml-4 w-[270px]",children:A.jsx(R9,{product:{...u,title:{en:((p=u.title)==null?void 0:p.en)||"",es:((g=u.title)==null?void 0:g.es)||""},priceUSD:f,slug:h}})},u.id)})})]})}function Ade(){var N,M,O,q,Z,ne;const{slug:t}=M_(),e=decodeURIComponent(t||"").toLowerCase();console.log(" DEBUG PARAMS  slug:",t);const[n,r]=b.useState(null),[i,s]=b.useState(!0),[o,a]=b.useState(null),[l,c]=b.useState(0),[u,f]=b.useState(1),[h,p]=b.useState(!1),[g,v]=b.useState([]),{addToCart:y,items:w}=pl(),[E,T]=fde.useKeenSlider({initial:0,slideChanged(ee){c(ee.track.details.rel)}}),{i18n:I,t:F}=Zr(),B=I.language.startsWith("en")?"en":"es";b.useEffect(()=>{async function ee(){if(!t){r(null),s(!1);return}try{const Y=await lde(e);if(!Y){console.warn(" No se encontr el producto con slug:",e),r(null),s(!1);return}console.log(" Producto encontrado:",Y),r({...Y,title:Y.title||"",description:Y.description||""})}catch(Y){console.error("[ProductPage] Error cargando producto:",Y),r(null)}finally{s(!1)}}ee()},[t]),b.useEffect(()=>{async function ee(){var Y;if(!(!n||!((Y=n.category)!=null&&Y.name)))try{const se=(await ade()).filter(K=>{var V;return((V=K.category)==null?void 0:V.name)===n.category.name&&K.slug!==n.slug}).slice(0,4);v(se)}catch(oe){console.error("Error cargando relacionados",oe)}}ee()},[n]),b.useEffect(()=>{const ee=()=>p(window.scrollY>500);return window.addEventListener("scroll",ee),()=>window.removeEventListener("scroll",ee)},[]);const R=()=>window.scrollTo({top:0,behavior:"smooth"});if(i)return A.jsx("div",{className:"p-10",children:"Cargando producto..."});if(!n)return A.jsxs("div",{className:"p-10 text-center",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Producto no encontrado"}),A.jsx(Zt,{to:"/futbol",className:"text-blue-500 underline",children:"Volver a la tienda"})]});w.reduce((ee,Y)=>ee+Y.quantity,0);let S=typeof n.description=="object"?((N=n.description)==null?void 0:N[B])||"":n.description||"";const P=(typeof n.stockTotal=="number"?n.stockTotal:0)<=0;return A.jsxs("div",{className:"bg-[#f7f7f7] min-h-[100dvh] flex flex-col",children:[A.jsxs("div",{className:"w-full overflow-x-hidden text-black relative z-10 flex-grow",children:[A.jsx($_,{children:A.jsx("title",{children:`${((M=n.title)==null?void 0:M[B])||n.title} | Looma`})}),A.jsx(ode,{}),A.jsxs("div",{className:"container mx-auto p-4 mt-20",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[A.jsx("div",{className:"flex flex-col gap-4",children:(O=n.images)!=null&&O.length?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative",children:[((q=n.images)==null?void 0:q.length)>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>{var ee;return(ee=T.current)==null?void 0:ee.prev()},className:"absolute top-1/2 left-2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-md md:block hidden",children:A.jsx(GC,{size:20})}),A.jsx("button",{onClick:()=>{var ee;return(ee=T.current)==null?void 0:ee.next()},className:"absolute top-1/2 right-2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-md md:block hidden",children:A.jsx(GC,{size:20,className:"rotate-180"})})]}),A.jsx("div",{ref:E,className:"keen-slider rounded-lg overflow-hidden",children:n.images.map((ee,Y)=>A.jsx("div",{className:"keen-slider__slide",children:A.jsx("img",{src:ee,alt:`Imagen ${Y}`,className:"object-contain max-h-[400px] w-full select-none",draggable:"false"})},Y))})]}),n.images.length>1&&A.jsx("div",{className:"flex gap-2 overflow-x-auto pt-4",children:n.images.map((ee,Y)=>A.jsx("button",{onClick:()=>{var oe;return(oe=T.current)==null?void 0:oe.moveToIdx(Y)},className:`w-20 h-20 rounded-md border ${l===Y?"border-black border-2":"border-gray-300"} hover:shadow-md`,children:A.jsx("img",{src:ee,alt:`Miniatura ${Y}`,className:"object-cover w-full h-full"})},Y))})]}):A.jsxs("div",{className:"bg-gray-100 h-[450px] w-full rounded-lg flex flex-col items-center justify-center text-gray-400",children:[A.jsx("div",{className:"text-4xl",children:""}),A.jsx("p",{children:"No hay imagen"})]})}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"uppercase text-xs tracking-widest text-gray-500 mb-2",children:F("productPage.featuredProduct")}),A.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight leading-tight mb-6",children:(Z=n.title)==null?void 0:Z[B]}),A.jsx("div",{className:"mt-2 sm:mt-4 mb-6",children:A.jsxs("div",{className:"text-4xl font-extrabold text-black",children:["US$ ",((o==null?void 0:o.priceUSD)??n.priceUSD).toFixed(2)]})}),n.subtitle&&A.jsx("p",{className:"text-gray-600 mb-4",children:n.subtitle}),A.jsx("div",{className:"flex flex-col space-y-2 mt-6",children:Array.isArray(n.variants)&&n.variants.length>0&&A.jsx("div",{className:"mb-6",children:n.variants.map((ee,Y)=>{var oe;return A.jsxs("div",{className:"mb-4",children:[A.jsx("h3",{className:"uppercase text-sm font-semibold text-gray-800 mb-1",children:((oe=ee.label)==null?void 0:oe[B])||"Opcin"}),A.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ee.options.map((se,K)=>A.jsx("button",{onClick:()=>{var V,W;a({...se,variantLabel:((V=ee.label)==null?void 0:V[B])||"Opcin",variantId:se.variantId||`${((W=ee.label)==null?void 0:W[B])||"Opcin"}-${se.value}`})},className:`px-4 py-2 rounded-md border ${(o==null?void 0:o.value)===se.value?"bg-black text-white border-black":"bg-white text-black border-gray-300"} hover:shadow-md transition`,children:se.value},K))})]},Y)})})}),A.jsxs("div",{className:"flex flex-col space-y-2 mt-6",children:[A.jsx("label",{className:"uppercase text-sm font-semibold text-gray-800",children:F("productPage.quantity")}),A.jsxs("div",{className:"flex w-fit border rounded-md overflow-hidden",children:[A.jsx("button",{onClick:()=>u>1&&f(u-1),className:"px-3 bg-gray-100 hover:bg-gray-200",children:A.jsx(cde,{})}),A.jsx("div",{className:"px-4 py-2",children:u}),A.jsx("button",{onClick:()=>f(u+1),className:"px-3 bg-gray-100 hover:bg-gray-200",children:A.jsx(ude,{})})]})]}),A.jsx("hr",{className:"my-6 border-gray-200"}),S&&A.jsx("div",{className:"prose prose-blue prose-lg max-w-none mb-8 text-gray-800 [&>p]:mb-4 [&>h2]:mt-8 [&>ul]:mb-4 [&>ul>li]:mb-2",dangerouslySetInnerHTML:{__html:S}}),A.jsx("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:A.jsx("button",{disabled:P,onClick:()=>{var K,V,W,J,Q;if(P)return;if((o==null?void 0:o.priceUSD)??n.priceUSD,Array.isArray(n.variants)&&n.variants.length>0&&!o){alert(B==="en"?"Please select an option.":"Por favor selecciona una opcin.");return}const ee=(o==null?void 0:o.stock)??n.stockTotal??0,Y=w.find(re=>re.id===String(n.id)&&re.size===((o==null?void 0:o.value)||"")&&re.variantId===((o==null?void 0:o.variantId)||""));if(((Y==null?void 0:Y.quantity)||0)+u>ee){alert(`Solo hay ${ee} unidades disponibles`);return}o!=null&&o.variantLabel,y({id:String(n.id),slug:n.slug,name:n.title,title:{en:((K=n.title)==null?void 0:K.en)||"",es:((V=n.title)==null?void 0:V.es)||""},subtitle:n.subtitle||"",description:{en:((W=n.description)==null?void 0:W.en)||"",es:((J=n.description)==null?void 0:J.es)||""},image:((Q=n.images)==null?void 0:Q[0])||"",price:(o==null?void 0:o.priceUSD)??n.priceUSD,priceUSD:n.priceUSD,quantity:u,size:(o==null?void 0:o.value)||"",options:(o==null?void 0:o.value)||"",variantId:(o==null?void 0:o.variantId)||""}),R()},className:`py-3 rounded-xl shadow-md hover:shadow-lg transition flex items-center justify-center gap-2 border font-semibold ${P?"bg-gray-300 text-white cursor-not-allowed":"bg-black text-white border-black hover:bg-white hover:text-black"}`,children:P?B==="en"?"OUT OF STOCK":"SIN STOCK":A.jsxs(A.Fragment,{children:[A.jsx(sre,{size:18})," ",B==="en"?"Add to cart":"Agregar al carrito"]})})})]})]}),n&&A.jsx(M9,{excludeSlugs:[n.slug],categoryName:(ne=n.category)==null?void 0:ne.name,title:F("productPage.relatedProducts")}),h&&A.jsx("button",{onClick:R,className:"fixed bottom-20 right-6 p-3 bg-black text-white rounded-full shadow-lg z-50",children:A.jsx(b7,{size:24})})]})," "]}),A.jsx(jT,{})]})}function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function _de(t,e){if(Tv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tde(t){var e=_de(t,"string");return Tv(e)=="symbol"?e:e+""}function it(t,e,n){return(e=Tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var FE,yD;function kde(){if(yD)return FE;yD=1;var t=function(n,r,i,s,o,a,l,c){if(!n){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[i,s,o,a,l,c],h=0;u=new Error(r.replace(/%s/g,function(){return f[h++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return FE=t,FE}var Pde=kde(),Mi=O9(Pde),bn=b.createContext(null);function Nde(){Mi(!!b.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=b.useContext(bn);return Mi(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function Lde(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function Ide(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function Dde(t,e,n,r){var i={},s=(o,a)=>{var l=n[a];l!==e[a]&&(i[a]=l,o(r,l))};return Ide(t,s),i}function Rde(t,e,n){var r=Lde(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[]);return r}function Mde(t){google.maps.event.removeListener(t)}function Mn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(Mde)}function In(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,o=Rde(i,s,n);return Dde(e,r,i,s),o}function Ode(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:a,onDblClick:l,onDrag:c,onDragEnd:u,onDragStart:f,onMouseMove:h,onMouseOut:p,onMouseOver:g,onMouseDown:v,onMouseUp:y,onRightClick:w,onCenterChanged:E,onLoad:T,onUnmount:I}=t,[F,B]=b.useState(null),R=b.useRef(null),[S,k]=b.useState(null),[P,N]=b.useState(null),[M,O]=b.useState(null),[q,Z]=b.useState(null),[ne,ee]=b.useState(null),[Y,oe]=b.useState(null),[se,K]=b.useState(null),[V,W]=b.useState(null),[J,Q]=b.useState(null),[re,ce]=b.useState(null),[fe,be]=b.useState(null),[ge,Se]=b.useState(null);return b.useEffect(()=>{n&&F!==null&&F.setOptions(n)},[F,n]),b.useEffect(()=>{F!==null&&typeof o<"u"&&F.setCenter(o)},[F,o]),b.useEffect(()=>{F&&l&&(P!==null&&google.maps.event.removeListener(P),N(google.maps.event.addListener(F,"dblclick",l)))},[l]),b.useEffect(()=>{F&&u&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(F,"dragend",u)))},[u]),b.useEffect(()=>{F&&f&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(F,"dragstart",f)))},[f]),b.useEffect(()=>{F&&v&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(F,"mousedown",v)))},[v]),b.useEffect(()=>{F&&h&&(Y!==null&&google.maps.event.removeListener(Y),oe(google.maps.event.addListener(F,"mousemove",h)))},[h]),b.useEffect(()=>{F&&p&&(se!==null&&google.maps.event.removeListener(se),K(google.maps.event.addListener(F,"mouseout",p)))},[p]),b.useEffect(()=>{F&&g&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(F,"mouseover",g)))},[g]),b.useEffect(()=>{F&&y&&(J!==null&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(F,"mouseup",y)))},[y]),b.useEffect(()=>{F&&w&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(F,"rightclick",w)))},[w]),b.useEffect(()=>{F&&a&&(fe!==null&&google.maps.event.removeListener(fe),be(google.maps.event.addListener(F,"click",a)))},[a]),b.useEffect(()=>{F&&c&&(ge!==null&&google.maps.event.removeListener(ge),Se(google.maps.event.addListener(F,"drag",c)))},[c]),b.useEffect(()=>{F&&E&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(F,"center_changed",E)))},[a]),b.useEffect(()=>{var Be=R.current===null?null:new google.maps.Map(R.current,n);return B(Be),Be!==null&&T&&T(Be),()=>{Be!==null&&I&&I(Be)}},[]),A.jsx("div",{id:r,ref:R,style:i,className:s,children:A.jsx(bn.Provider,{value:F,children:F!==null?e:null})})}b.memo(Ode);function xD(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function F9(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){xD(s,r,i,o,a,"next",l)}function a(l){xD(s,r,i,o,a,"throw",l)}o(void 0)})}}function j9(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:o,channel:a,mapIds:l,authReferrerPolicy:c,apiUrl:u="https://maps.googleapis.com"}=t,f=[];return Mi(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?f.push("key=".concat(e)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),i&&f.push("language=".concat(i)),s&&f.push("region=".concat(s)),o&&o.length&&f.push("libraries=".concat(o.sort().join(","))),a&&f.push("channel=".concat(a)),l&&l.length&&f.push("map_ids=".concat(l.join(","))),c&&f.push("auth_referrer_policy=".concat(c)),f.push("loading=async"),f.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(f.join("&"))}var jh=typeof document<"u";function B9(t){var{url:e,id:n,nonce:r}=t;return jh?new Promise(function(s,o){var a=document.getElementById(n),l=window;if(a){var c=a.getAttribute("data-state");if(a.src===e&&c!=="error"){if(c==="ready")return s(n);var u=l.initMap,f=a.onerror;l.initMap=function(){u&&u(),s(n)},a.onerror=function(p){f&&f(p),o(p)};return}else a.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=e,h.id=n,h.async=!0,h.nonce=r||"",h.onerror=function(g){h.setAttribute("data-state","error"),o(g)},l.initMap=function(){h.setAttribute("data-state","ready"),s(n)},document.head.appendChild(h)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function bD(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function V9(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return bD(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return bD(i)||Reflect.apply(n,t,[i]),i}}}var s0=!1;function $9(){return A.jsx("div",{children:"Loading..."})}var bA={id:"script-loader",version:"weekly"};class Fde extends b.PureComponent{constructor(){super(...arguments),it(this,"check",null),it(this,"state",{loaded:!1}),it(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),it(this,"isCleaningUp",F9(function*(){function e(n){if(!s0)n();else if(jh)var r=window.setInterval(function(){s0||(window.clearInterval(r),n())},1)}return new Promise(e)})),it(this,"cleanup",()=>{s0=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),it(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&V9(),Mi(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:j9(this.props)};B9(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),it(this,"getRef",e=>{this.check=e})}componentDidMount(){if(jh){if(window.google&&window.google.maps&&!s0){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),jh&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(jh){this.cleanup();var e=()=>{this.check||(delete window.google,s0=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return A.jsxs(A.Fragment,{children:[A.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||A.jsx($9,{})]})}}it(Fde,"defaultProps",bA);function jde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _k(t,e){if(t==null)return{};var n,r,i=jde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var wD;function z9(t){var{id:e=bA.id,version:n=bA.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,preventGoogleFontsLoading:c,channel:u,mapIds:f,authReferrerPolicy:h,apiUrl:p="https://maps.googleapis.com"}=t,g=b.useRef(!1),[v,y]=b.useState(!1),[w,E]=b.useState(void 0);b.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),b.useEffect(function(){jh&&c&&V9()},[c]),b.useEffect(function(){v&&Mi(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var T=j9({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,channel:u,mapIds:f,authReferrerPolicy:h,apiUrl:p});b.useEffect(function(){if(!jh)return;function B(){g.current&&(y(!0),wD=T)}if(window.google&&window.google.maps&&wD===T){B();return}B9({id:e,url:T,nonce:r}).then(B).catch(function(S){g.current&&E(S),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(S)})},[e,T,r]);var I=b.useRef(void 0);return b.useEffect(function(){I.current&&l!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=l},[l]),{isLoaded:v,loadError:w,url:T}}var Bde=["loadingElement","onLoad","onError","onUnmount","children"],Vde=A.jsx($9,{});function $de(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,o=_k(t,Bde),{isLoaded:a,loadError:l}=z9(o);return b.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),b.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),b.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||Vde}b.memo($de);var ED;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(ED||(ED={}));function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var CD={},AD={options(t,e){t.setOptions(e)}};function zde(t){var{options:e,onLoad:n,onUnmount:r}=t,i=b.useContext(bn),[s,o]=b.useState(null);return b.useEffect(()=>{s!==null&&s.setMap(i)},[i]),b.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),b.useEffect(()=>{var a=new google.maps.TrafficLayer(Kb(Kb({},e),{},{map:i}));return o(a),n&&n(a),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}b.memo(zde);class Ude extends b.PureComponent{constructor(){super(...arguments),it(this,"state",{trafficLayer:null}),it(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),it(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Kb(Kb({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:AD,eventMap:CD,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:AD,eventMap:CD,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Mn(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}it(Ude,"contextType",bn);function qde(t){var{onLoad:e,onUnmount:n}=t,r=b.useContext(bn),[i,s]=b.useState(null);return b.useEffect(()=>{i!==null&&i.setMap(r)},[r]),b.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}b.memo(qde);class Hde extends b.PureComponent{constructor(){super(...arguments),it(this,"state",{bicyclingLayer:null}),it(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}it(Hde,"contextType",bn);function Wde(t){var{onLoad:e,onUnmount:n}=t,r=b.useContext(bn),[i,s]=b.useState(null);return b.useEffect(()=>{i!==null&&i.setMap(r)},[r]),b.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(r),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}b.memo(Wde);class Gde extends b.PureComponent{constructor(){super(...arguments),it(this,"state",{transitLayer:null}),it(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}it(Gde,"contextType",bn);function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var TD={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},kD={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function Kde(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:c,onUnmount:u}=t,f=b.useContext(bn),[h,p]=b.useState(null),[g,v]=b.useState(null),[y,w]=b.useState(null),[E,T]=b.useState(null),[I,F]=b.useState(null),[B,R]=b.useState(null),[S,k]=b.useState(null);return b.useEffect(()=>{h!==null&&h.setMap(f)},[f]),b.useEffect(()=>{e&&h!==null&&h.setOptions(e)},[h,e]),b.useEffect(()=>{h!==null&&h.setDrawingMode(n??null)},[h,n]),b.useEffect(()=>{h&&r&&(g!==null&&google.maps.event.removeListener(g),v(google.maps.event.addListener(h,"circlecomplete",r)))},[h,r]),b.useEffect(()=>{h&&i&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(h,"markercomplete",i)))},[h,i]),b.useEffect(()=>{h&&s&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(h,"overlaycomplete",s)))},[h,s]),b.useEffect(()=>{h&&o&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(h,"polygoncomplete",o)))},[h,o]),b.useEffect(()=>{h&&a&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(h,"polylinecomplete",a)))},[h,a]),b.useEffect(()=>{h&&l&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(h,"rectanglecomplete",l)))},[h,l]),b.useEffect(()=>{Mi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var P=new google.maps.drawing.DrawingManager(Yb(Yb({},e),{},{map:f}));return n&&P.setDrawingMode(n),r&&v(google.maps.event.addListener(P,"circlecomplete",r)),i&&w(google.maps.event.addListener(P,"markercomplete",i)),s&&T(google.maps.event.addListener(P,"overlaycomplete",s)),o&&F(google.maps.event.addListener(P,"polygoncomplete",o)),a&&R(google.maps.event.addListener(P,"polylinecomplete",a)),l&&k(google.maps.event.addListener(P,"rectanglecomplete",l)),p(P),c&&c(P),()=>{h!==null&&(g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),E&&google.maps.event.removeListener(E),I&&google.maps.event.removeListener(I),B&&google.maps.event.removeListener(B),S&&google.maps.event.removeListener(S),u&&u(h),h.setMap(null))}},[]),null}b.memo(Kde);class Yde extends b.PureComponent{constructor(e){super(e),it(this,"registeredEvents",[]),it(this,"state",{drawingManager:null}),it(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Mi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Yb(Yb({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:kD,eventMap:TD,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:kD,eventMap:TD,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Mn(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}it(Yde,"contextType",bn);function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ND={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},LD={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Xb={};function Xde(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:o,visible:a,animation:l,clickable:c,cursor:u,icon:f,label:h,opacity:p,shape:g,title:v,zIndex:y,onClick:w,onDblClick:E,onDrag:T,onDragEnd:I,onDragStart:F,onMouseOut:B,onMouseOver:R,onMouseUp:S,onMouseDown:k,onRightClick:P,onClickableChanged:N,onCursorChanged:M,onAnimationChanged:O,onDraggableChanged:q,onFlatChanged:Z,onIconChanged:ne,onPositionChanged:ee,onShapeChanged:Y,onTitleChanged:oe,onVisibleChanged:se,onZindexChanged:K,onLoad:V,onUnmount:W}=t,J=b.useContext(bn),[Q,re]=b.useState(null),[ce,fe]=b.useState(null),[be,ge]=b.useState(null),[Se,Be]=b.useState(null),[_e,Ae]=b.useState(null),[ye,he]=b.useState(null),[Je,qe]=b.useState(null),[je,De]=b.useState(null),[We,de]=b.useState(null),[we,ke]=b.useState(null),[Ye,$e]=b.useState(null),[He,ot]=b.useState(null),[dt,xt]=b.useState(null),[st,jt]=b.useState(null),[Vt,Hn]=b.useState(null),[Ut,fn]=b.useState(null),[lr,Kt]=b.useState(null),[Fr,_n]=b.useState(null),[Qn,gn]=b.useState(null),[Yt,St]=b.useState(null),[Ht,Fn]=b.useState(null),[hn,Tn]=b.useState(null);b.useEffect(()=>{Q!==null&&Q.setMap(J)},[J]),b.useEffect(()=>{typeof n<"u"&&Q!==null&&Q.setOptions(n)},[Q,n]),b.useEffect(()=>{typeof o<"u"&&Q!==null&&Q.setDraggable(o)},[Q,o]),b.useEffect(()=>{e&&Q!==null&&Q.setPosition(e)},[Q,e]),b.useEffect(()=>{typeof a<"u"&&Q!==null&&Q.setVisible(a)},[Q,a]),b.useEffect(()=>{Q==null||Q.setAnimation(l)},[Q,l]),b.useEffect(()=>{Q&&c!==void 0&&Q.setClickable(c)},[Q,c]),b.useEffect(()=>{Q&&u!==void 0&&Q.setCursor(u)},[Q,u]),b.useEffect(()=>{Q&&f!==void 0&&Q.setIcon(f)},[Q,f]),b.useEffect(()=>{Q&&h!==void 0&&Q.setLabel(h)},[Q,h]),b.useEffect(()=>{Q&&p!==void 0&&Q.setOpacity(p)},[Q,p]),b.useEffect(()=>{Q&&g!==void 0&&Q.setShape(g)},[Q,g]),b.useEffect(()=>{Q&&v!==void 0&&Q.setTitle(v)},[Q,v]),b.useEffect(()=>{Q&&y!==void 0&&Q.setZIndex(y)},[Q,y]),b.useEffect(()=>{Q&&E&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(Q,"dblclick",E)))},[E]),b.useEffect(()=>{Q&&I&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(Q,"dragend",I)))},[I]),b.useEffect(()=>{Q&&F&&(Se!==null&&google.maps.event.removeListener(Se),Be(google.maps.event.addListener(Q,"dragstart",F)))},[F]),b.useEffect(()=>{Q&&k&&(_e!==null&&google.maps.event.removeListener(_e),Ae(google.maps.event.addListener(Q,"mousedown",k)))},[k]),b.useEffect(()=>{Q&&B&&(ye!==null&&google.maps.event.removeListener(ye),he(google.maps.event.addListener(Q,"mouseout",B)))},[B]),b.useEffect(()=>{Q&&R&&(Je!==null&&google.maps.event.removeListener(Je),qe(google.maps.event.addListener(Q,"mouseover",R)))},[R]),b.useEffect(()=>{Q&&S&&(je!==null&&google.maps.event.removeListener(je),De(google.maps.event.addListener(Q,"mouseup",S)))},[S]),b.useEffect(()=>{Q&&P&&(We!==null&&google.maps.event.removeListener(We),de(google.maps.event.addListener(Q,"rightclick",P)))},[P]),b.useEffect(()=>{Q&&w&&(we!==null&&google.maps.event.removeListener(we),ke(google.maps.event.addListener(Q,"click",w)))},[w]),b.useEffect(()=>{Q&&T&&(Ye!==null&&google.maps.event.removeListener(Ye),$e(google.maps.event.addListener(Q,"drag",T)))},[T]),b.useEffect(()=>{Q&&N&&(He!==null&&google.maps.event.removeListener(He),ot(google.maps.event.addListener(Q,"clickable_changed",N)))},[N]),b.useEffect(()=>{Q&&M&&(dt!==null&&google.maps.event.removeListener(dt),xt(google.maps.event.addListener(Q,"cursor_changed",M)))},[M]),b.useEffect(()=>{Q&&O&&(st!==null&&google.maps.event.removeListener(st),jt(google.maps.event.addListener(Q,"animation_changed",O)))},[O]),b.useEffect(()=>{Q&&q&&(Vt!==null&&google.maps.event.removeListener(Vt),Hn(google.maps.event.addListener(Q,"draggable_changed",q)))},[q]),b.useEffect(()=>{Q&&Z&&(Ut!==null&&google.maps.event.removeListener(Ut),fn(google.maps.event.addListener(Q,"flat_changed",Z)))},[Z]),b.useEffect(()=>{Q&&ne&&(lr!==null&&google.maps.event.removeListener(lr),Kt(google.maps.event.addListener(Q,"icon_changed",ne)))},[ne]),b.useEffect(()=>{Q&&ee&&(Fr!==null&&google.maps.event.removeListener(Fr),_n(google.maps.event.addListener(Q,"position_changed",ee)))},[ee]),b.useEffect(()=>{Q&&Y&&(Qn!==null&&google.maps.event.removeListener(Qn),gn(google.maps.event.addListener(Q,"shape_changed",Y)))},[Y]),b.useEffect(()=>{Q&&oe&&(Yt!==null&&google.maps.event.removeListener(Yt),St(google.maps.event.addListener(Q,"title_changed",oe)))},[oe]),b.useEffect(()=>{Q&&se&&(Ht!==null&&google.maps.event.removeListener(Ht),Fn(google.maps.event.addListener(Q,"visible_changed",se)))},[se]),b.useEffect(()=>{Q&&K&&(hn!==null&&google.maps.event.removeListener(hn),Tn(google.maps.event.addListener(Q,"zindex_changed",K)))},[K]),b.useEffect(()=>{var gt=Im(Im(Im({},n||Xb),r?Xb:{map:J}),{},{position:e}),Ct=new google.maps.Marker(gt);return r?r.addMarker(Ct,!!i):Ct.setMap(J),e&&Ct.setPosition(e),typeof a<"u"&&Ct.setVisible(a),typeof o<"u"&&Ct.setDraggable(o),typeof c<"u"&&Ct.setClickable(c),typeof u=="string"&&Ct.setCursor(u),f&&Ct.setIcon(f),typeof h<"u"&&Ct.setLabel(h),typeof p<"u"&&Ct.setOpacity(p),g&&Ct.setShape(g),typeof v=="string"&&Ct.setTitle(v),typeof y=="number"&&Ct.setZIndex(y),E&&fe(google.maps.event.addListener(Ct,"dblclick",E)),I&&ge(google.maps.event.addListener(Ct,"dragend",I)),F&&Be(google.maps.event.addListener(Ct,"dragstart",F)),k&&Ae(google.maps.event.addListener(Ct,"mousedown",k)),B&&he(google.maps.event.addListener(Ct,"mouseout",B)),R&&qe(google.maps.event.addListener(Ct,"mouseover",R)),S&&De(google.maps.event.addListener(Ct,"mouseup",S)),P&&de(google.maps.event.addListener(Ct,"rightclick",P)),w&&ke(google.maps.event.addListener(Ct,"click",w)),T&&$e(google.maps.event.addListener(Ct,"drag",T)),N&&ot(google.maps.event.addListener(Ct,"clickable_changed",N)),M&&xt(google.maps.event.addListener(Ct,"cursor_changed",M)),O&&jt(google.maps.event.addListener(Ct,"animation_changed",O)),q&&Hn(google.maps.event.addListener(Ct,"draggable_changed",q)),Z&&fn(google.maps.event.addListener(Ct,"flat_changed",Z)),ne&&Kt(google.maps.event.addListener(Ct,"icon_changed",ne)),ee&&_n(google.maps.event.addListener(Ct,"position_changed",ee)),Y&&gn(google.maps.event.addListener(Ct,"shape_changed",Y)),oe&&St(google.maps.event.addListener(Ct,"title_changed",oe)),se&&Fn(google.maps.event.addListener(Ct,"visible_changed",se)),K&&Tn(google.maps.event.addListener(Ct,"zindex_changed",K)),re(Ct),V&&V(Ct),()=>{ce!==null&&google.maps.event.removeListener(ce),be!==null&&google.maps.event.removeListener(be),Se!==null&&google.maps.event.removeListener(Se),_e!==null&&google.maps.event.removeListener(_e),ye!==null&&google.maps.event.removeListener(ye),Je!==null&&google.maps.event.removeListener(Je),je!==null&&google.maps.event.removeListener(je),We!==null&&google.maps.event.removeListener(We),we!==null&&google.maps.event.removeListener(we),He!==null&&google.maps.event.removeListener(He),dt!==null&&google.maps.event.removeListener(dt),st!==null&&google.maps.event.removeListener(st),Vt!==null&&google.maps.event.removeListener(Vt),Ut!==null&&google.maps.event.removeListener(Ut),lr!==null&&google.maps.event.removeListener(lr),Fr!==null&&google.maps.event.removeListener(Fr),Yt!==null&&google.maps.event.removeListener(Yt),Ht!==null&&google.maps.event.removeListener(Ht),hn!==null&&google.maps.event.removeListener(hn),W&&W(Ct),r?r.removeMarker(Ct,!!i):Ct&&Ct.setMap(null)}},[]);var fr=b.useMemo(()=>s?b.Children.map(s,gt=>{if(!b.isValidElement(gt))return gt;var Ct=gt;return b.cloneElement(Ct,{anchor:Q})}):null,[s,Q]);return A.jsx(A.Fragment,{children:fr})||null}b.memo(Xde);class Jde extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[])}componentDidMount(){var e=this;return F9(function*(){var n=Im(Im(Im({},e.props.options||Xb),e.props.clusterer?Xb:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=In({updaterMap:LD,eventMap:ND,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:LD,eventMap:ND,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Mn(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?b.Children.map(this.props.children,n=>{if(!b.isValidElement(n))return n;var r=n;return b.cloneElement(r,{anchor:this.marker})}):null;return e||null}}it(Jde,"contextType",bn);var Qde=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),c=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=a,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(c,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(u,"px, -").concat(c+this.width,"px, -").concat(u+this.height,", -").concat(c,")"));var p=document.createElement("div");p.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(p.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(p.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(p),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),Zde=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Qde(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,c=this.markers;l<c.length;l++){var u=c[l];u.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function efe(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var tfe=2e3,nfe=500,rfe="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",ife="png",sfe=[53,56,66,78,90],ofe="cluster",U9=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||rfe,this.imageExtension=r.imageExtension||ife,this.imageSizes=r.imageSizes||sfe,this.calculator=r.calculator||efe,this.batchSize=r.batchSize||tfe,this.batchSizeIE=r.batchSizeIE||nfe,this.clusterClass=r.clusterClass||ofe,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var c=l[a];google.maps.event.removeListener(c)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];n=a;var l=n.getCenter(),c=e.getPosition();if(l&&c){var u=this.distanceBetweenPoints(l,c);u<r&&(r=u,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new Zde(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),c=e;c<l;c++){var u=this.markers[c];u&&!u.isAdded&&this.isMarkerInBounds(u,a)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,h=this.clusters;f<h.length;f++){var p=h[f];p.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function afe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var il={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Jn={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},lfe={};function cfe(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:c,imageExtension:u,imagePath:f,imageSizes:h,maxZoom:p,minimumClusterSize:g,styles:v,title:y,zoomOnClick:w,onClick:E,onClusteringBegin:T,onClusteringEnd:I,onMouseOver:F,onMouseOut:B,onLoad:R,onUnmount:S}=t,[k,P]=b.useState(null),N=b.useContext(bn),[M,O]=b.useState(null),[q,Z]=b.useState(null),[ne,ee]=b.useState(null),[Y,oe]=b.useState(null),[se,K]=b.useState(null);return b.useEffect(()=>{k&&B&&(Y!==null&&google.maps.event.removeListener(Y),oe(google.maps.event.addListener(k,il.onMouseOut,B)))},[B]),b.useEffect(()=>{k&&F&&(se!==null&&google.maps.event.removeListener(se),K(google.maps.event.addListener(k,il.onMouseOver,F)))},[F]),b.useEffect(()=>{k&&E&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(k,il.onClick,E)))},[E]),b.useEffect(()=>{k&&T&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(k,il.onClusteringBegin,T)))},[T]),b.useEffect(()=>{k&&I&&(ne!==null&&google.maps.event.removeListener(ne),Z(google.maps.event.addListener(k,il.onClusteringEnd,I)))},[I]),b.useEffect(()=>{typeof r<"u"&&k!==null&&Jn.averageCenter(k,r)},[k,r]),b.useEffect(()=>{typeof i<"u"&&k!==null&&Jn.batchSizeIE(k,i)},[k,i]),b.useEffect(()=>{typeof s<"u"&&k!==null&&Jn.calculator(k,s)},[k,s]),b.useEffect(()=>{typeof o<"u"&&k!==null&&Jn.clusterClass(k,o)},[k,o]),b.useEffect(()=>{typeof a<"u"&&k!==null&&Jn.enableRetinaIcons(k,a)},[k,a]),b.useEffect(()=>{typeof l<"u"&&k!==null&&Jn.gridSize(k,l)},[k,l]),b.useEffect(()=>{typeof c<"u"&&k!==null&&Jn.ignoreHidden(k,c)},[k,c]),b.useEffect(()=>{typeof u<"u"&&k!==null&&Jn.imageExtension(k,u)},[k,u]),b.useEffect(()=>{typeof f<"u"&&k!==null&&Jn.imagePath(k,f)},[k,f]),b.useEffect(()=>{typeof h<"u"&&k!==null&&Jn.imageSizes(k,h)},[k,h]),b.useEffect(()=>{typeof p<"u"&&k!==null&&Jn.maxZoom(k,p)},[k,p]),b.useEffect(()=>{typeof g<"u"&&k!==null&&Jn.minimumClusterSize(k,g)},[k,g]),b.useEffect(()=>{typeof v<"u"&&k!==null&&Jn.styles(k,v)},[k,v]),b.useEffect(()=>{typeof y<"u"&&k!==null&&Jn.title(k,y)},[k,y]),b.useEffect(()=>{typeof w<"u"&&k!==null&&Jn.zoomOnClick(k,w)},[k,w]),b.useEffect(()=>{if(N){var V=afe({},n||lfe),W=new U9(N,[],V);return r&&Jn.averageCenter(W,r),i&&Jn.batchSizeIE(W,i),s&&Jn.calculator(W,s),o&&Jn.clusterClass(W,o),a&&Jn.enableRetinaIcons(W,a),l&&Jn.gridSize(W,l),c&&Jn.ignoreHidden(W,c),u&&Jn.imageExtension(W,u),f&&Jn.imagePath(W,f),h&&Jn.imageSizes(W,h),p&&Jn.maxZoom(W,p),g&&Jn.minimumClusterSize(W,g),v&&Jn.styles(W,v),y&&Jn.title(W,y),w&&Jn.zoomOnClick(W,w),B&&oe(google.maps.event.addListener(W,il.onMouseOut,B)),F&&K(google.maps.event.addListener(W,il.onMouseOver,F)),E&&O(google.maps.event.addListener(W,il.onClick,E)),T&&Z(google.maps.event.addListener(W,il.onClusteringBegin,T)),I&&ee(google.maps.event.addListener(W,il.onClusteringEnd,I)),P(W),R&&R(W),()=>{Y!==null&&google.maps.event.removeListener(Y),se!==null&&google.maps.event.removeListener(se),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),ne!==null&&google.maps.event.removeListener(ne),S&&S(W)}}},[]),k!==null&&e(k)||null}b.memo(cfe);class ufe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{markerClusterer:null}),it(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new U9(this.context,[],this.props.options);this.registeredEvents=In({updaterMap:Jn,eventMap:il,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:Jn,eventMap:il,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Mn(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}it(ufe,"contextType",bn);function DD(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var q9=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),e.enableEventPropagation||DD(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,DD))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,c=this.pixelOffset.width,u=this.pixelOffset.height,f=this.div.offsetWidth,h=this.div.offsetHeight,p=this.infoBoxClearance.width,g=this.infoBoxClearance.height,v=this.getProjection(),y=v.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-c+p?r=y.x+c-p:y.x+f+c+p>a&&(r=y.x+f+c+p-a),this.alignBottom?y.y<-u+g+h?i=y.y+u-g-h:y.y+u+g>l&&(i=y.y+u+g-l):y.y<-u+g?i=y.y+u-g:y.y+h+u+g>l&&(i=y.y+h+u+g-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),dfe=["position"],ffe=["position"];function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var MD={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},OD={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},hfe={};function pfe(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:u,onLoad:f,onUnmount:h}=t,p=b.useContext(bn),[g,v]=b.useState(null),[y,w]=b.useState(null),[E,T]=b.useState(null),[I,F]=b.useState(null),[B,R]=b.useState(null),[S,k]=b.useState(null),P=b.useRef(null);return b.useEffect(()=>{p&&g!==null&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))},[p,g,n]),b.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),b.useEffect(()=>{if(i&&g!==null){var N=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);g.setPosition(N)}},[i]),b.useEffect(()=>{typeof s=="number"&&g!==null&&g.setZIndex(s)},[s]),b.useEffect(()=>{g&&o&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"closeclick",o)))},[o]),b.useEffect(()=>{g&&a&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(g,"domready",a)))},[a]),b.useEffect(()=>{g&&l&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(g,"content_changed",l)))},[l]),b.useEffect(()=>{g&&c&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(g,"position_changed",c)))},[c]),b.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),b.useEffect(()=>{if(p){var N=r||hfe,{position:M}=N,O=_k(N,dfe),q;M&&!(M instanceof google.maps.LatLng)&&(q=new google.maps.LatLng(M.lat,M.lng));var Z=new q9(Jb(Jb({},O),q?{position:q}:{}));P.current=document.createElement("div"),v(Z),o&&w(google.maps.event.addListener(Z,"closeclick",o)),a&&T(google.maps.event.addListener(Z,"domready",a)),l&&F(google.maps.event.addListener(Z,"content_changed",l)),c&&R(google.maps.event.addListener(Z,"position_changed",c)),u&&k(google.maps.event.addListener(Z,"zindex_changed",u)),Z.setContent(P.current),n?Z.open(p,n):Z.getPosition()?Z.open(p):Mi(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(Z)}return()=>{g!==null&&(y&&google.maps.event.removeListener(y),I&&google.maps.event.removeListener(I),E&&google.maps.event.removeListener(E),B&&google.maps.event.removeListener(B),S&&google.maps.event.removeListener(S),h&&h(g),g.close())}},[]),P.current?Ur.createPortal(b.Children.only(e),P.current):null}b.memo(pfe);class mfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"containerElement",null),it(this,"state",{infoBox:null}),it(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):Mi(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),it(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=_k(e,ffe),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new q9(Jb(Jb({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=In({updaterMap:OD,eventMap:MD,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:OD,eventMap:MD,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),Mn(this.registeredEvents),n.close())}render(){return this.containerElement?Ur.createPortal(b.Children.only(this.props.children),this.containerElement):null}}it(mfe,"contextType",bn);var jE,FD;function gfe(){return FD||(FD=1,jE=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),jE}var vfe=gfe(),jD=O9(vfe),BD=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],BE=1,o0=8;class Tk{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==BE)throw new Error("Got v".concat(i," data when expected v").concat(BE,"."));var s=BD[r&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Tk(a,o,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=BD.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,o0,e),this.coords=new this.ArrayType(this.data,o0+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(o0+o+a+l),this.ids=new this.IndexArrayType(this.data,o0,e),this.coords=new this.ArrayType(this.data,o0+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(BE<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return wA(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:a}=this,l=[0,s.length-1,0],c=[];l.length;){var u=l.pop()||0,f=l.pop()||0,h=l.pop()||0;if(f-h<=a){for(var p=h;p<=f;p++){var g=o[2*p],v=o[2*p+1];g>=e&&g<=r&&v>=n&&v<=i&&c.push(s[p])}continue}var y=h+f>>1,w=o[2*y],E=o[2*y+1];w>=e&&w<=r&&E>=n&&E<=i&&c.push(s[y]),(u===0?e<=w:n<=E)&&(l.push(h),l.push(y-1),l.push(1-u)),(u===0?r>=w:i>=E)&&(l.push(y+1),l.push(f),l.push(1-u))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[],c=r*r;a.length;){var u=a.pop()||0,f=a.pop()||0,h=a.pop()||0;if(f-h<=o){for(var p=h;p<=f;p++)VD(s[2*p],s[2*p+1],e,n)<=c&&l.push(i[p]);continue}var g=h+f>>1,v=s[2*g],y=s[2*g+1];VD(v,y,e,n)<=c&&l.push(i[g]),(u===0?e-r<=v:n-r<=y)&&(a.push(h),a.push(g-1),a.push(1-u)),(u===0?e+r>=v:n+r>=y)&&(a.push(g+1),a.push(f),a.push(1-u))}return l}}function wA(t,e,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;H9(t,e,o,r,i,s),wA(t,e,n,r,o-1,1-s),wA(t,e,n,o+1,i,1-s)}}function H9(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1),f=Math.max(r,Math.floor(n-a*c/o+u)),h=Math.min(i,Math.floor(n+(o-a)*c/o+u));H9(t,e,n,f,h,s)}var p=e[2*n+s],g=r,v=i;for(a0(t,e,r,n),e[2*i+s]>p&&a0(t,e,r,i);g<v;){for(a0(t,e,g,v),g++,v--;e[2*g+s]<p;)g++;for(;e[2*v+s]>p;)v--}e[2*r+s]===p?a0(t,e,r,v):(v++,a0(t,e,v,i)),v<=n&&(r=v+1),n<=v&&(i=v-1)}}function a0(t,e,n,r){VE(t,n,r),VE(e,2*n,2*r),VE(e,2*n+1,2*r+1)}function VE(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function VD(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var yfe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},$D=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Ah=2,rf=3,$E=4,tf=5,W9=6;class xfe{constructor(e){this.options=Object.assign(Object.create(yfe),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[c,u]=l.geometry.coordinates,f=$D(T1(c)),h=$D(k1(u));o.push(f,h,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var p=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(var g=i;g>=r;g--){var v=+Date.now();p=this.trees[g]=this._createTree(this._cluster(p,g)),n&&console.log("z%d: %d clusters in %dms",g,p.numItems,+Date.now()-v)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var a=this.getClusters([r,i,180,o],n),l=this.getClusters([-180,i,s,o],n);return a.concat(l)}var c=this.trees[this._limitZoom(n)],u=c.range(T1(r),k1(o),T1(s),k1(i)),f=c.data,h=[];for(var p of u){var g=this.stride*p;h.push(f[g+tf]>1?zD(f,g,this.clusterProps):this.points[f[g+rf]])}return h}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var o=s.data;if(n*this.stride>=o.length)throw new Error(i);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],c=o[n*this.stride+1],u=s.within(l,c,a),f=[];for(var h of u){var p=h*this.stride;o[p+$E]===e&&f.push(o[p+tf]>1?zD(o,p,this.clusterProps):this.points[o[p+rf]])}if(f.length===0)throw new Error(i);return f}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,c=(r-l)/s,u=(r+1+l)/s,f={features:[]};return this._addTileFeatures(i.range((n-l)/s,c,(n+1+l)/s,u),i.data,n,r,s,f),n===0&&this._addTileFeatures(i.range(1-l/s,c,1,u),i.data,s,r,s,f),n===s-1&&this._addTileFeatures(i.range(0,c,l/s,u),i.data,-1,r,s,f),f.features.length?f:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){for(var n=new Tk(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(var a of e){var l=a*this.stride,c=n[l+tf]>1,u=void 0,f=void 0,h=void 0;if(c)u=G9(n,l,this.clusterProps),f=n[l],h=n[l+1];else{var p=this.points[n[l+rf]];u=p.properties;var[g,v]=p.geometry.coordinates;f=T1(g),h=k1(v)}var y={type:1,geometry:[[Math.round(this.options.extent*(f*s-r)),Math.round(this.options.extent*(h*s-i))]],tags:u},w=void 0;c||this.options.generateId?w=n[l+rf]:w=this.points[n[l+rf]].id,w!==void 0&&(y.id=w),o.features.push(y)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,n)),l=e.data,c=[],u=this.stride,f=0;f<l.length;f+=u)if(!(l[f+Ah]<=n)){l[f+Ah]=n;var h=l[f],p=l[f+1],g=e.within(l[f],l[f+1],a),v=l[f+tf],y=v;for(var w of g){var E=w*u;l[E+Ah]>n&&(y+=l[E+tf])}if(y>v&&y>=o){var T=h*v,I=p*v,F=void 0,B=-1,R=((f/u|0)<<5)+(n+1)+this.points.length;for(var S of g){var k=S*u;if(!(l[k+Ah]<=n)){l[k+Ah]=n;var P=l[k+tf];T+=l[k]*P,I+=l[k+1]*P,l[k+$E]=R,s&&(F||(F=this._map(l,f,!0),B=this.clusterProps.length,this.clusterProps.push(F)),s(F,this._map(l,k)))}}l[f+$E]=R,c.push(T/y,I/y,1/0,R,-1,y),s&&c.push(B)}else{for(var N=0;N<u;N++)c.push(l[f+N]);if(y>1)for(var M of g){var O=M*u;if(!(l[O+Ah]<=n)){l[O+Ah]=n;for(var q=0;q<u;q++)c.push(l[O+q])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+tf]>1){var i=this.clusterProps[e[n+W9]];return r?Object.assign({},i):i}var s=this.points[e[n+rf]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function zD(t,e,n){return{type:"Feature",id:t[e+rf],properties:G9(t,e,n),geometry:{type:"Point",coordinates:[bfe(t[e]),wfe(t[e+1])]}}}function G9(t,e,n){var r=t[e+tf],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+W9],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+rf],point_count:r,point_count_abbreviated:i})}function T1(t){return t/360+.5}function k1(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function bfe(t){return(t-.5)*360}function wfe(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Efe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class Ca{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class EA{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend(Ca.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Ca.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Ca.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Sfe{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return Cfe(n)}}var Cfe=t=>{var e=t.map(n=>new EA({position:Ca.getPosition(n),markers:[n]}));return e};class Afe extends Sfe{constructor(e){var{maxZoom:n,radius:r=60}=e,i=Efe(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new xfe(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!jD(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=Ca.getPosition(s),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!jD(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new EA({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new EA({markers:[s],position:Ca.getPosition(s)})}}class _fe{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class Tfe{render(e,n,r){var{count:i,position:s}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),c=Number(google.maps.Marker.MAX_ZINDEX)+i;if(Ca.isAdvancedMarkerAvailable(r)){var u=new DOMParser,f=u.parseFromString(a,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var h={map:r,position:s,zIndex:c,title:l,content:f};return new google.maps.marker.AdvancedMarkerElement(h)}var p={position:s,zIndex:c,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(p)}}function kfe(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class kk{constructor(){kfe(kk,google.maps.OverlayView)}}var U0;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(U0||(U0={}));var Pfe=(t,e,n)=>{n.fitBounds(e.bounds)};class Nfe extends kk{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new Afe(i),renderer:o=new Tfe,onClusterClick:a=Pfe}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:(Ca.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,U0.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||Ca.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>Ca.setMap(l,null)))}google.maps.event.trigger(this,U0.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Ca.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new _fe(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>Ca.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,U0.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),Ca.setMap(r.marker,n)})}}function UD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lfe(t){var e=Nde(),[n,r]=b.useState(null);return b.useEffect(()=>{if(e&&n===null){var i=new Nfe(qD(qD({},t),{},{map:e}));r(i)}},[e]),n}function Ife(t){var{children:e,options:n}=t,r=Lfe(n);return r!==null?e(r):null}b.memo(Ife);var HD={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},WD={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function Dfe(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:c,onZindexChanged:u,onLoad:f,onUnmount:h}=t,p=b.useContext(bn),[g,v]=b.useState(null),[y,w]=b.useState(null),[E,T]=b.useState(null),[I,F]=b.useState(null),[B,R]=b.useState(null),[S,k]=b.useState(null),P=b.useRef(null);return b.useEffect(()=>{g!==null&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))},[p,g,n]),b.useEffect(()=>{r&&g!==null&&g.setOptions(r)},[g,r]),b.useEffect(()=>{i&&g!==null&&g.setPosition(i)},[i]),b.useEffect(()=>{typeof s=="number"&&g!==null&&g.setZIndex(s)},[s]),b.useEffect(()=>{g&&o&&(y!==null&&google.maps.event.removeListener(y),w(google.maps.event.addListener(g,"closeclick",o)))},[o]),b.useEffect(()=>{g&&a&&(E!==null&&google.maps.event.removeListener(E),T(google.maps.event.addListener(g,"domready",a)))},[a]),b.useEffect(()=>{g&&l&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(g,"content_changed",l)))},[l]),b.useEffect(()=>{g&&c&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(g,"position_changed",c)))},[c]),b.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(g,"zindex_changed",u)))},[u]),b.useEffect(()=>{var N=new google.maps.InfoWindow(r);return v(N),P.current=document.createElement("div"),o&&w(google.maps.event.addListener(N,"closeclick",o)),a&&T(google.maps.event.addListener(N,"domready",a)),l&&F(google.maps.event.addListener(N,"content_changed",l)),c&&R(google.maps.event.addListener(N,"position_changed",c)),u&&k(google.maps.event.addListener(N,"zindex_changed",u)),N.setContent(P.current),i&&N.setPosition(i),s&&N.setZIndex(s),n?N.open(p,n):N.getPosition()?N.open(p):Mi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(N),()=>{y&&google.maps.event.removeListener(y),I&&google.maps.event.removeListener(I),E&&google.maps.event.removeListener(E),B&&google.maps.event.removeListener(B),S&&google.maps.event.removeListener(S),h&&h(N),N.close()}},[]),P.current?Ur.createPortal(b.Children.only(e),P.current):null}b.memo(Dfe);class Rfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"containerElement",null),it(this,"state",{infoWindow:null}),it(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):Mi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),it(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=In({updaterMap:WD,eventMap:HD,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:WD,eventMap:HD,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Mn(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ur.createPortal(b.Children.only(this.props.children),this.containerElement):null}}it(Rfe,"contextType",bn);function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var KD={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},YD={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},Mfe={};function Ofe(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:u,onMouseOut:f,onMouseOver:h,onMouseUp:p,onRightClick:g,onClick:v,onDrag:y,onLoad:w,onUnmount:E}=t,T=b.useContext(bn),[I,F]=b.useState(null),[B,R]=b.useState(null),[S,k]=b.useState(null),[P,N]=b.useState(null),[M,O]=b.useState(null),[q,Z]=b.useState(null),[ne,ee]=b.useState(null),[Y,oe]=b.useState(null),[se,K]=b.useState(null),[V,W]=b.useState(null),[J,Q]=b.useState(null),[re,ce]=b.useState(null);return b.useEffect(()=>{I!==null&&I.setMap(T)},[T]),b.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),b.useEffect(()=>{typeof n<"u"&&I!==null&&I.setDraggable(n)},[I,n]),b.useEffect(()=>{typeof r<"u"&&I!==null&&I.setEditable(r)},[I,r]),b.useEffect(()=>{typeof i<"u"&&I!==null&&I.setVisible(i)},[I,i]),b.useEffect(()=>{typeof s<"u"&&I!==null&&I.setPath(s)},[I,s]),b.useEffect(()=>{I&&o&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(I,"dblclick",o)))},[o]),b.useEffect(()=>{I&&a&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(I,"dragend",a)))},[a]),b.useEffect(()=>{I&&l&&(P!==null&&google.maps.event.removeListener(P),N(google.maps.event.addListener(I,"dragstart",l)))},[l]),b.useEffect(()=>{I&&c&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(I,"mousedown",c)))},[c]),b.useEffect(()=>{I&&u&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(I,"mousemove",u)))},[u]),b.useEffect(()=>{I&&f&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(I,"mouseout",f)))},[f]),b.useEffect(()=>{I&&h&&(Y!==null&&google.maps.event.removeListener(Y),oe(google.maps.event.addListener(I,"mouseover",h)))},[h]),b.useEffect(()=>{I&&p&&(se!==null&&google.maps.event.removeListener(se),K(google.maps.event.addListener(I,"mouseup",p)))},[p]),b.useEffect(()=>{I&&g&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(I,"rightclick",g)))},[g]),b.useEffect(()=>{I&&v&&(J!==null&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(I,"click",v)))},[v]),b.useEffect(()=>{I&&y&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(I,"drag",y)))},[y]),b.useEffect(()=>{var fe=new google.maps.Polyline(Qb(Qb({},e||Mfe),{},{map:T}));return s&&fe.setPath(s),typeof i<"u"&&fe.setVisible(i),typeof r<"u"&&fe.setEditable(r),typeof n<"u"&&fe.setDraggable(n),o&&R(google.maps.event.addListener(fe,"dblclick",o)),a&&k(google.maps.event.addListener(fe,"dragend",a)),l&&N(google.maps.event.addListener(fe,"dragstart",l)),c&&O(google.maps.event.addListener(fe,"mousedown",c)),u&&Z(google.maps.event.addListener(fe,"mousemove",u)),f&&ee(google.maps.event.addListener(fe,"mouseout",f)),h&&oe(google.maps.event.addListener(fe,"mouseover",h)),p&&K(google.maps.event.addListener(fe,"mouseup",p)),g&&W(google.maps.event.addListener(fe,"rightclick",g)),v&&Q(google.maps.event.addListener(fe,"click",v)),y&&ce(google.maps.event.addListener(fe,"drag",y)),F(fe),w&&w(fe),()=>{B!==null&&google.maps.event.removeListener(B),S!==null&&google.maps.event.removeListener(S),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),ne!==null&&google.maps.event.removeListener(ne),Y!==null&&google.maps.event.removeListener(Y),se!==null&&google.maps.event.removeListener(se),V!==null&&google.maps.event.removeListener(V),J!==null&&google.maps.event.removeListener(J),E&&E(fe),fe.setMap(null)}},[]),null}b.memo(Ofe);class Ffe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{polyline:null}),it(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Qb(Qb({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:YD,eventMap:KD,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:YD,eventMap:KD,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Mn(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}it(Ffe,"contextType",bn);function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var QD={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ZD={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function jfe(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:v,onClick:y,onDrag:w,onLoad:E,onUnmount:T,onEdit:I}=t,F=b.useContext(bn),[B,R]=b.useState(null),[S,k]=b.useState(null),[P,N]=b.useState(null),[M,O]=b.useState(null),[q,Z]=b.useState(null),[ne,ee]=b.useState(null),[Y,oe]=b.useState(null),[se,K]=b.useState(null),[V,W]=b.useState(null),[J,Q]=b.useState(null),[re,ce]=b.useState(null),[fe,be]=b.useState(null);return b.useEffect(()=>{B!==null&&B.setMap(F)},[F]),b.useEffect(()=>{typeof e<"u"&&B!==null&&B.setOptions(e)},[B,e]),b.useEffect(()=>{typeof n<"u"&&B!==null&&B.setDraggable(n)},[B,n]),b.useEffect(()=>{typeof r<"u"&&B!==null&&B.setEditable(r)},[B,r]),b.useEffect(()=>{typeof i<"u"&&B!==null&&B.setVisible(i)},[B,i]),b.useEffect(()=>{typeof s<"u"&&B!==null&&B.setPath(s)},[B,s]),b.useEffect(()=>{typeof o<"u"&&B!==null&&B.setPaths(o)},[B,o]),b.useEffect(()=>{B&&typeof a=="function"&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(B,"dblclick",a)))},[a]),b.useEffect(()=>{B&&(google.maps.event.addListener(B.getPath(),"insert_at",()=>{I==null||I(B)}),google.maps.event.addListener(B.getPath(),"set_at",()=>{I==null||I(B)}),google.maps.event.addListener(B.getPath(),"remove_at",()=>{I==null||I(B)}))},[B,I]),b.useEffect(()=>{B&&typeof l=="function"&&(P!==null&&google.maps.event.removeListener(P),N(google.maps.event.addListener(B,"dragend",l)))},[l]),b.useEffect(()=>{B&&typeof c=="function"&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(B,"dragstart",c)))},[c]),b.useEffect(()=>{B&&typeof u=="function"&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(B,"mousedown",u)))},[u]),b.useEffect(()=>{B&&typeof f=="function"&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(B,"mousemove",f)))},[f]),b.useEffect(()=>{B&&typeof h=="function"&&(Y!==null&&google.maps.event.removeListener(Y),oe(google.maps.event.addListener(B,"mouseout",h)))},[h]),b.useEffect(()=>{B&&typeof p=="function"&&(se!==null&&google.maps.event.removeListener(se),K(google.maps.event.addListener(B,"mouseover",p)))},[p]),b.useEffect(()=>{B&&typeof g=="function"&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(B,"mouseup",g)))},[g]),b.useEffect(()=>{B&&typeof v=="function"&&(J!==null&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(B,"rightclick",v)))},[v]),b.useEffect(()=>{B&&typeof y=="function"&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(B,"click",y)))},[y]),b.useEffect(()=>{B&&typeof w=="function"&&(fe!==null&&google.maps.event.removeListener(fe),be(google.maps.event.addListener(B,"drag",w)))},[w]),b.useEffect(()=>{var ge=new google.maps.Polygon(JD(JD({},e),{},{map:F}));return s&&ge.setPath(s),o&&ge.setPaths(o),typeof i<"u"&&ge.setVisible(i),typeof r<"u"&&ge.setEditable(r),typeof n<"u"&&ge.setDraggable(n),a&&k(google.maps.event.addListener(ge,"dblclick",a)),l&&N(google.maps.event.addListener(ge,"dragend",l)),c&&O(google.maps.event.addListener(ge,"dragstart",c)),u&&Z(google.maps.event.addListener(ge,"mousedown",u)),f&&ee(google.maps.event.addListener(ge,"mousemove",f)),h&&oe(google.maps.event.addListener(ge,"mouseout",h)),p&&K(google.maps.event.addListener(ge,"mouseover",p)),g&&W(google.maps.event.addListener(ge,"mouseup",g)),v&&Q(google.maps.event.addListener(ge,"rightclick",v)),y&&ce(google.maps.event.addListener(ge,"click",y)),w&&be(google.maps.event.addListener(ge,"drag",w)),R(ge),E&&E(ge),()=>{S!==null&&google.maps.event.removeListener(S),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),ne!==null&&google.maps.event.removeListener(ne),Y!==null&&google.maps.event.removeListener(Y),se!==null&&google.maps.event.removeListener(se),V!==null&&google.maps.event.removeListener(V),J!==null&&google.maps.event.removeListener(J),re!==null&&google.maps.event.removeListener(re),T&&T(ge),ge.setMap(null)}},[]),null}b.memo(jfe);class Bfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=In({updaterMap:ZD,eventMap:QD,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:ZD,eventMap:QD,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Mn(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}it(Bfe,"contextType",bn);function e6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var t6={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},n6={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function Vfe(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:c,onMouseMove:u,onMouseOut:f,onMouseOver:h,onMouseUp:p,onRightClick:g,onClick:v,onDrag:y,onBoundsChanged:w,onLoad:E,onUnmount:T}=t,I=b.useContext(bn),[F,B]=b.useState(null),[R,S]=b.useState(null),[k,P]=b.useState(null),[N,M]=b.useState(null),[O,q]=b.useState(null),[Z,ne]=b.useState(null),[ee,Y]=b.useState(null),[oe,se]=b.useState(null),[K,V]=b.useState(null),[W,J]=b.useState(null),[Q,re]=b.useState(null),[ce,fe]=b.useState(null),[be,ge]=b.useState(null);return b.useEffect(()=>{F!==null&&F.setMap(I)},[I]),b.useEffect(()=>{typeof e<"u"&&F!==null&&F.setOptions(e)},[F,e]),b.useEffect(()=>{typeof r<"u"&&F!==null&&F.setDraggable(r)},[F,r]),b.useEffect(()=>{typeof i<"u"&&F!==null&&F.setEditable(i)},[F,i]),b.useEffect(()=>{typeof s<"u"&&F!==null&&F.setVisible(s)},[F,s]),b.useEffect(()=>{typeof n<"u"&&F!==null&&F.setBounds(n)},[F,n]),b.useEffect(()=>{F&&o&&(R!==null&&google.maps.event.removeListener(R),S(google.maps.event.addListener(F,"dblclick",o)))},[o]),b.useEffect(()=>{F&&a&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(F,"dragend",a)))},[a]),b.useEffect(()=>{F&&l&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(F,"dragstart",l)))},[l]),b.useEffect(()=>{F&&c&&(O!==null&&google.maps.event.removeListener(O),q(google.maps.event.addListener(F,"mousedown",c)))},[c]),b.useEffect(()=>{F&&u&&(Z!==null&&google.maps.event.removeListener(Z),ne(google.maps.event.addListener(F,"mousemove",u)))},[u]),b.useEffect(()=>{F&&f&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(F,"mouseout",f)))},[f]),b.useEffect(()=>{F&&h&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(F,"mouseover",h)))},[h]),b.useEffect(()=>{F&&p&&(K!==null&&google.maps.event.removeListener(K),V(google.maps.event.addListener(F,"mouseup",p)))},[p]),b.useEffect(()=>{F&&g&&(W!==null&&google.maps.event.removeListener(W),J(google.maps.event.addListener(F,"rightclick",g)))},[g]),b.useEffect(()=>{F&&v&&(Q!==null&&google.maps.event.removeListener(Q),re(google.maps.event.addListener(F,"click",v)))},[v]),b.useEffect(()=>{F&&y&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(F,"drag",y)))},[y]),b.useEffect(()=>{F&&w&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(F,"bounds_changed",w)))},[w]),b.useEffect(()=>{var Se=new google.maps.Rectangle(Zb(Zb({},e),{},{map:I}));return typeof s<"u"&&Se.setVisible(s),typeof i<"u"&&Se.setEditable(i),typeof r<"u"&&Se.setDraggable(r),typeof n<"u"&&Se.setBounds(n),o&&S(google.maps.event.addListener(Se,"dblclick",o)),a&&P(google.maps.event.addListener(Se,"dragend",a)),l&&M(google.maps.event.addListener(Se,"dragstart",l)),c&&q(google.maps.event.addListener(Se,"mousedown",c)),u&&ne(google.maps.event.addListener(Se,"mousemove",u)),f&&Y(google.maps.event.addListener(Se,"mouseout",f)),h&&se(google.maps.event.addListener(Se,"mouseover",h)),p&&V(google.maps.event.addListener(Se,"mouseup",p)),g&&J(google.maps.event.addListener(Se,"rightclick",g)),v&&re(google.maps.event.addListener(Se,"click",v)),y&&fe(google.maps.event.addListener(Se,"drag",y)),w&&ge(google.maps.event.addListener(Se,"bounds_changed",w)),B(Se),E&&E(Se),()=>{R!==null&&google.maps.event.removeListener(R),k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),K!==null&&google.maps.event.removeListener(K),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),ce!==null&&google.maps.event.removeListener(ce),be!==null&&google.maps.event.removeListener(be),T&&T(Se),Se.setMap(null)}},[]),null}b.memo(Vfe);class $fe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{rectangle:null}),it(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Zb(Zb({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:n6,eventMap:t6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:n6,eventMap:t6,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Mn(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}it($fe,"contextType",bn);function r6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var i6={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},s6={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},zfe={};function Ufe(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:o,onDblClick:a,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:v,onClick:y,onDrag:w,onCenterChanged:E,onRadiusChanged:T,onLoad:I,onUnmount:F}=t,B=b.useContext(bn),[R,S]=b.useState(null),[k,P]=b.useState(null),[N,M]=b.useState(null),[O,q]=b.useState(null),[Z,ne]=b.useState(null),[ee,Y]=b.useState(null),[oe,se]=b.useState(null),[K,V]=b.useState(null),[W,J]=b.useState(null),[Q,re]=b.useState(null),[ce,fe]=b.useState(null),[be,ge]=b.useState(null),[Se,Be]=b.useState(null),[_e,Ae]=b.useState(null);return b.useEffect(()=>{R!==null&&R.setMap(B)},[B]),b.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),b.useEffect(()=>{typeof i<"u"&&R!==null&&R.setDraggable(i)},[R,i]),b.useEffect(()=>{typeof s<"u"&&R!==null&&R.setEditable(s)},[R,s]),b.useEffect(()=>{typeof o<"u"&&R!==null&&R.setVisible(o)},[R,o]),b.useEffect(()=>{typeof r=="number"&&R!==null&&R.setRadius(r)},[R,r]),b.useEffect(()=>{typeof n<"u"&&R!==null&&R.setCenter(n)},[R,n]),b.useEffect(()=>{R&&a&&(k!==null&&google.maps.event.removeListener(k),P(google.maps.event.addListener(R,"dblclick",a)))},[a]),b.useEffect(()=>{R&&l&&(N!==null&&google.maps.event.removeListener(N),M(google.maps.event.addListener(R,"dragend",l)))},[l]),b.useEffect(()=>{R&&c&&(O!==null&&google.maps.event.removeListener(O),q(google.maps.event.addListener(R,"dragstart",c)))},[c]),b.useEffect(()=>{R&&u&&(Z!==null&&google.maps.event.removeListener(Z),ne(google.maps.event.addListener(R,"mousedown",u)))},[u]),b.useEffect(()=>{R&&f&&(ee!==null&&google.maps.event.removeListener(ee),Y(google.maps.event.addListener(R,"mousemove",f)))},[f]),b.useEffect(()=>{R&&h&&(oe!==null&&google.maps.event.removeListener(oe),se(google.maps.event.addListener(R,"mouseout",h)))},[h]),b.useEffect(()=>{R&&p&&(K!==null&&google.maps.event.removeListener(K),V(google.maps.event.addListener(R,"mouseover",p)))},[p]),b.useEffect(()=>{R&&g&&(W!==null&&google.maps.event.removeListener(W),J(google.maps.event.addListener(R,"mouseup",g)))},[g]),b.useEffect(()=>{R&&v&&(Q!==null&&google.maps.event.removeListener(Q),re(google.maps.event.addListener(R,"rightclick",v)))},[v]),b.useEffect(()=>{R&&y&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(R,"click",y)))},[y]),b.useEffect(()=>{R&&w&&(be!==null&&google.maps.event.removeListener(be),ge(google.maps.event.addListener(R,"drag",w)))},[w]),b.useEffect(()=>{R&&E&&(Se!==null&&google.maps.event.removeListener(Se),Be(google.maps.event.addListener(R,"center_changed",E)))},[y]),b.useEffect(()=>{R&&T&&(_e!==null&&google.maps.event.removeListener(_e),Ae(google.maps.event.addListener(R,"radius_changed",T)))},[T]),b.useEffect(()=>{var ye=new google.maps.Circle(e2(e2({},e||zfe),{},{map:B}));return typeof r=="number"&&ye.setRadius(r),typeof n<"u"&&ye.setCenter(n),typeof r=="number"&&ye.setRadius(r),typeof o<"u"&&ye.setVisible(o),typeof s<"u"&&ye.setEditable(s),typeof i<"u"&&ye.setDraggable(i),a&&P(google.maps.event.addListener(ye,"dblclick",a)),l&&M(google.maps.event.addListener(ye,"dragend",l)),c&&q(google.maps.event.addListener(ye,"dragstart",c)),u&&ne(google.maps.event.addListener(ye,"mousedown",u)),f&&Y(google.maps.event.addListener(ye,"mousemove",f)),h&&se(google.maps.event.addListener(ye,"mouseout",h)),p&&V(google.maps.event.addListener(ye,"mouseover",p)),g&&J(google.maps.event.addListener(ye,"mouseup",g)),v&&re(google.maps.event.addListener(ye,"rightclick",v)),y&&fe(google.maps.event.addListener(ye,"click",y)),w&&ge(google.maps.event.addListener(ye,"drag",w)),E&&Be(google.maps.event.addListener(ye,"center_changed",E)),T&&Ae(google.maps.event.addListener(ye,"radius_changed",T)),S(ye),I&&I(ye),()=>{k!==null&&google.maps.event.removeListener(k),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),Z!==null&&google.maps.event.removeListener(Z),ee!==null&&google.maps.event.removeListener(ee),oe!==null&&google.maps.event.removeListener(oe),K!==null&&google.maps.event.removeListener(K),W!==null&&google.maps.event.removeListener(W),Q!==null&&google.maps.event.removeListener(Q),ce!==null&&google.maps.event.removeListener(ce),Se!==null&&google.maps.event.removeListener(Se),_e!==null&&google.maps.event.removeListener(_e),F&&F(ye),ye.setMap(null)}},[]),null}b.memo(Ufe);class qfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{circle:null}),it(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(e2(e2({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:s6,eventMap:i6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:s6,eventMap:i6,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Mn(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}it(qfe,"contextType",bn);function o6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var a6={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},l6={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function Hfe(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:c,onAddFeature:u,onRemoveFeature:f,onRemoveProperty:h,onSetGeometry:p,onSetProperty:g,onLoad:v,onUnmount:y}=t,w=b.useContext(bn),[E,T]=b.useState(null),[I,F]=b.useState(null),[B,R]=b.useState(null),[S,k]=b.useState(null),[P,N]=b.useState(null),[M,O]=b.useState(null),[q,Z]=b.useState(null),[ne,ee]=b.useState(null),[Y,oe]=b.useState(null),[se,K]=b.useState(null),[V,W]=b.useState(null),[J,Q]=b.useState(null),[re,ce]=b.useState(null),[fe,be]=b.useState(null);return b.useEffect(()=>{E!==null&&E.setMap(w)},[w]),b.useEffect(()=>{E&&r&&(I!==null&&google.maps.event.removeListener(I),F(google.maps.event.addListener(E,"dblclick",r)))},[r]),b.useEffect(()=>{E&&i&&(B!==null&&google.maps.event.removeListener(B),R(google.maps.event.addListener(E,"mousedown",i)))},[i]),b.useEffect(()=>{E&&s&&(S!==null&&google.maps.event.removeListener(S),k(google.maps.event.addListener(E,"mousemove",s)))},[s]),b.useEffect(()=>{E&&o&&(P!==null&&google.maps.event.removeListener(P),N(google.maps.event.addListener(E,"mouseout",o)))},[o]),b.useEffect(()=>{E&&a&&(M!==null&&google.maps.event.removeListener(M),O(google.maps.event.addListener(E,"mouseover",a)))},[a]),b.useEffect(()=>{E&&l&&(q!==null&&google.maps.event.removeListener(q),Z(google.maps.event.addListener(E,"mouseup",l)))},[l]),b.useEffect(()=>{E&&c&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(E,"rightclick",c)))},[c]),b.useEffect(()=>{E&&n&&(Y!==null&&google.maps.event.removeListener(Y),oe(google.maps.event.addListener(E,"click",n)))},[n]),b.useEffect(()=>{E&&u&&(se!==null&&google.maps.event.removeListener(se),K(google.maps.event.addListener(E,"addfeature",u)))},[u]),b.useEffect(()=>{E&&f&&(V!==null&&google.maps.event.removeListener(V),W(google.maps.event.addListener(E,"removefeature",f)))},[f]),b.useEffect(()=>{E&&h&&(J!==null&&google.maps.event.removeListener(J),Q(google.maps.event.addListener(E,"removeproperty",h)))},[h]),b.useEffect(()=>{E&&p&&(re!==null&&google.maps.event.removeListener(re),ce(google.maps.event.addListener(E,"setgeometry",p)))},[p]),b.useEffect(()=>{E&&g&&(fe!==null&&google.maps.event.removeListener(fe),be(google.maps.event.addListener(E,"setproperty",g)))},[g]),b.useEffect(()=>{if(w!==null){var ge=new google.maps.Data(t2(t2({},e),{},{map:w}));r&&F(google.maps.event.addListener(ge,"dblclick",r)),i&&R(google.maps.event.addListener(ge,"mousedown",i)),s&&k(google.maps.event.addListener(ge,"mousemove",s)),o&&N(google.maps.event.addListener(ge,"mouseout",o)),a&&O(google.maps.event.addListener(ge,"mouseover",a)),l&&Z(google.maps.event.addListener(ge,"mouseup",l)),c&&ee(google.maps.event.addListener(ge,"rightclick",c)),n&&oe(google.maps.event.addListener(ge,"click",n)),u&&K(google.maps.event.addListener(ge,"addfeature",u)),f&&W(google.maps.event.addListener(ge,"removefeature",f)),h&&Q(google.maps.event.addListener(ge,"removeproperty",h)),p&&ce(google.maps.event.addListener(ge,"setgeometry",p)),g&&be(google.maps.event.addListener(ge,"setproperty",g)),T(ge),v&&v(ge)}return()=>{E&&(I!==null&&google.maps.event.removeListener(I),B!==null&&google.maps.event.removeListener(B),S!==null&&google.maps.event.removeListener(S),P!==null&&google.maps.event.removeListener(P),M!==null&&google.maps.event.removeListener(M),q!==null&&google.maps.event.removeListener(q),ne!==null&&google.maps.event.removeListener(ne),Y!==null&&google.maps.event.removeListener(Y),se!==null&&google.maps.event.removeListener(se),V!==null&&google.maps.event.removeListener(V),J!==null&&google.maps.event.removeListener(J),re!==null&&google.maps.event.removeListener(re),fe!==null&&google.maps.event.removeListener(fe),y&&y(E),E.setMap(null))}},[]),null}b.memo(Hfe);class Wfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{data:null}),it(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(t2(t2({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:l6,eventMap:a6,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:l6,eventMap:a6,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Mn(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}it(Wfe,"contextType",bn);function c6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var d6={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},f6={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class Gfe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{kmlLayer:null}),it(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(u6(u6({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:f6,eventMap:d6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:f6,eventMap:d6,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Mn(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}it(Gfe,"contextType",bn);function K9(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function Kfe(t,e){return new e(t.lat,t.lng)}function Yfe(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function Xfe(t,e,n){return t instanceof e?t:n(t,e)}function Jfe(t,e,n){return t instanceof e?t:n(t,e)}function Qfe(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function Zfe(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Y9(t,e,n,r){return n!==void 0?Qfe(t,e,Jfe(n,google.maps.LatLngBounds,Yfe)):Zfe(t,e,Xfe(r,google.maps.LatLng,Kfe))}function ehe(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function h6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function the(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(a,l,c,u){super(),this.container=a,this.pane=l,this.position=c,this.bounds=u}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=the({},this.container?K9(this.container,i):{x:0,y:0}),c=Y9(a,l,this.bounds,this.position);for(var[u,f]of Object.entries(c))this.container.style[u]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m6(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function g6(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function ihe(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:a,children:l}=t,c=b.useContext(bn),u=b.useMemo(()=>{var h=document.createElement("div");return h.style.position="absolute",h},[]),f=b.useMemo(()=>nhe(u,r,e,n,a),[u,r,e,n]);return b.useEffect(()=>(s==null||s(f),f==null||f.setMap(c),()=>{o==null||o(f),f==null||f.setMap(null)}),[c,f]),b.useEffect(()=>{u.style.zIndex="".concat(i)},[i,u]),Ur.createPortal(l,u)}b.memo(ihe);class Ag extends b.PureComponent{constructor(e){super(e),it(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),it(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();Mi(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),it(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),it(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=rhe({x:0,y:0},this.containerRef.current?K9(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=Y9(r,i,this.props.bounds,this.props.position);if(!ehe(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,c;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(a=s.left)!==null&&a!==void 0?a:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(c=s.height)!==null&&c!==void 0?c:0,position:"absolute"}})}}),it(this,"draw",()=>{this.onPositionElement()}),it(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=b.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=m6(e.position),r=m6(this.props.position),i=g6(e.bounds),s=g6(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Ur.createPortal(A.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:b.Children.only(this.props.children)}),e):null}}it(Ag,"FLOAT_PANE","floatPane");it(Ag,"MAP_PANE","mapPane");it(Ag,"MARKER_LAYER","markerLayer");it(Ag,"OVERLAY_LAYER","overlayLayer");it(Ag,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");it(Ag,"contextType",bn);function she(){}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function y6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var x6={onDblClick:"dblclick",onClick:"click"},b6={opacity(t,e){t.setOpacity(e)}};function ohe(t){var{url:e,bounds:n,options:r,visible:i}=t,s=b.useContext(bn),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=b.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return b.useEffect(()=>{a!==null&&a.setMap(s)},[s]),b.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),b.useEffect(()=>{typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),b.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(s))},[a,n]),null}b.memo(ohe);class X9 extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{groundOverlay:null}),it(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Mi(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,y6(y6({},this.props.options),{},{map:this.context}));this.registeredEvents=In({updaterMap:b6,eventMap:x6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:b6,eventMap:x6,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}it(X9,"defaultProps",{onLoad:she});it(X9,"contextType",bn);function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){it(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var E6={},S6={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function ahe(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=b.useContext(bn),[o,a]=b.useState(null);return b.useEffect(()=>{google.maps.visualization||Mi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),b.useEffect(()=>{Mi(!!e,"data property is required in HeatmapLayer %s",e)},[e]),b.useEffect(()=>{o!==null&&o.setMap(s)},[s]),b.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),b.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(n2(n2({},i),{},{data:e,map:s}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}b.memo(ahe);class lhe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{heatmapLayer:null}),it(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Mi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Mi(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(n2(n2({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=In({updaterMap:S6,eventMap:E6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:S6,eventMap:E6,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Mn(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}it(lhe,"contextType",bn);var C6={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},A6={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class che extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{streetViewPanorama:null}),it(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=In({updaterMap:A6,eventMap:C6,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:A6,eventMap:C6,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Mn(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}it(che,"contextType",bn);class uhe extends b.PureComponent{constructor(){super(...arguments),it(this,"state",{streetViewService:null}),it(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}it(uhe,"contextType",bn);var _6={onDirectionsChanged:"directions_changed"},T6={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class dhe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"state",{directionsRenderer:null}),it(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=In({updaterMap:T6,eventMap:_6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:T6,eventMap:_6,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Mn(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}it(dhe,"contextType",bn);var k6={onPlacesChanged:"places_changed"},P6={bounds(t,e){t.setBounds(e)}};class fhe extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"containerElement",b.createRef()),it(this,"state",{searchBox:null}),it(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Mi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=In({updaterMap:P6,eventMap:k6,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:P6,eventMap:k6,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Mn(this.registeredEvents))}render(){return A.jsx("div",{ref:this.containerElement,children:b.Children.only(this.props.children)})}}it(fhe,"contextType",bn);var N6={onPlaceChanged:"place_changed"},L6={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Pk extends b.PureComponent{constructor(){super(...arguments),it(this,"registeredEvents",[]),it(this,"containerElement",b.createRef()),it(this,"state",{autocomplete:null}),it(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Mi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=In({updaterMap:L6,eventMap:N6,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Mn(this.registeredEvents),this.registeredEvents=In({updaterMap:L6,eventMap:N6,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Mn(this.registeredEvents)}render(){return A.jsx("div",{ref:this.containerElement,className:this.props.className,children:b.Children.only(this.props.children)})}}it(Pk,"defaultProps",{className:""});it(Pk,"contextType",bn);const hhe=()=>{const t=b.useContext(R8);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t};function phe(){const{t}=Zr(),[e,n]=b.useState(!1);return A.jsxs("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-50 shadow-sm py-0.5",children:[A.jsxs("div",{className:"flex sm:hidden items-center justify-between px-4 py-0.5",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"max-h-[2.25rem] w-auto object-contain"})}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-xs px-1 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-xs px-1 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsx("button",{className:"text-[#004AAD]",onClick:()=>n(!e),children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e&&A.jsx("div",{className:"sm:hidden px-4 pb-2",children:A.jsx("nav",{className:"flex flex-col gap-2 text-sm items-center text-center",children:A.jsx(Zt,{to:"/",onClick:()=>n(!1),className:"text-[#004AAD] font-semibold",children:t("nav.shop","Tienda")})})}),A.jsxs("div",{className:"hidden sm:flex max-w-7xl mx-auto px-4 py-1 items-center justify-between",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"h-12 w-auto object-contain"})}),A.jsx("nav",{className:"flex items-center gap-6 text-base",children:A.jsx(Zt,{to:"/",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:t("nav.shop","Tienda")})}),A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-sm px-2 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-sm px-2 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]})})]})]})}function J9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=J9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gh(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=J9(t))&&(r&&(r+=" "),r+=e);return r}function mhe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mhe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var hy=t=>typeof t=="number"&&!isNaN(t),ap=t=>typeof t=="string",dd=t=>typeof t=="function",ghe=t=>ap(t)||hy(t),SA=t=>ap(t)||dd(t)?t:null,vhe=(t,e)=>t===!1||hy(t)&&t>0?t:e,CA=t=>b.isValidElement(t)||ap(t)||dd(t)||hy(t);function yhe(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function xhe({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:f}){let h=n?`${t}--${o}`:t,p=n?`${e}--${o}`:e,g=b.useRef(0);return b.useLayoutEffect(()=>{let v=c.current,y=h.split(" "),w=E=>{E.target===c.current&&(f(),v.removeEventListener("animationend",w),v.removeEventListener("animationcancel",w),g.current===0&&E.type!=="animationcancel"&&v.classList.remove(...y))};v.classList.add(...y),v.addEventListener("animationend",w),v.addEventListener("animationcancel",w)},[]),b.useEffect(()=>{let v=c.current,y=()=>{v.removeEventListener("animationend",y),r?yhe(v,l,i):l()};u||(a?y():(g.current=1,v.className+=` ${p}`,v.addEventListener("animationend",y)))},[u]),Me.createElement(Me.Fragment,null,s)}}function I6(t,e){return{content:Q9(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function Q9(t,e,n=!1){return b.isValidElement(t)&&!ap(t.type)?b.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):dd(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function bhe({closeToast:t,theme:e,ariaLabel:n="close"}){return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function whe({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let f=i||o&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let p=Gh("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),g=dd(s)?s({rtl:l,type:r,defaultClassName:p}):Gh(p,s),v={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),Me.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:h,...v}))}var Ehe=1,Z9=()=>`${Ehe++}`;function She(t,e,n){let r=1,i=0,s=[],o=[],a=e,l=new Map,c=new Set,u=E=>(c.add(E),()=>c.delete(E)),f=()=>{o=Array.from(l.values()),c.forEach(E=>E())},h=({containerId:E,toastId:T,updateId:I})=>{let F=E?E!==t:t!==1,B=l.has(T)&&I==null;return F||B},p=(E,T)=>{l.forEach(I=>{var F;(T==null||T===I.props.toastId)&&((F=I.toggle)==null||F.call(I,E))})},g=E=>{var T,I;(I=(T=E.props)==null?void 0:T.onClose)==null||I.call(T,E.removalReason),E.isActive=!1},v=E=>{if(E==null)l.forEach(g);else{let T=l.get(E);T&&g(T)}f()},y=()=>{i-=s.length,s=[]},w=E=>{var T,I;let{toastId:F,updateId:B}=E.props,R=B==null;E.staleId&&l.delete(E.staleId),E.isActive=!0,l.set(F,E),f(),n(I6(E,R?"added":"updated")),R&&((I=(T=E.props).onOpen)==null||I.call(T))};return{id:t,props:a,observe:u,toggle:p,removeToast:v,toasts:l,clearQueue:y,buildToast:(E,T)=>{if(h(T))return;let{toastId:I,updateId:F,data:B,staleId:R,delay:S}=T,k=F==null;k&&i++;let P={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(T).filter(([M,O])=>O!=null)),toastId:I,updateId:F,data:B,isIn:!1,className:SA(T.className||a.toastClassName),progressClassName:SA(T.progressClassName||a.progressClassName),autoClose:T.isLoading?!1:vhe(T.autoClose,a.autoClose),closeToast(M){l.get(I).removalReason=M,v(I)},deleteToast(){let M=l.get(I);if(M!=null){if(n(I6(M,"removed")),l.delete(I),i--,i<0&&(i=0),s.length>0){w(s.shift());return}f()}}};P.closeButton=a.closeButton,T.closeButton===!1||CA(T.closeButton)?P.closeButton=T.closeButton:T.closeButton===!0&&(P.closeButton=CA(a.closeButton)?a.closeButton:!0);let N={content:E,props:P,staleId:R};a.limit&&a.limit>0&&i>a.limit&&k?s.push(N):hy(S)?setTimeout(()=>{w(N)},S):w(N)},setProps(E){a=E},setToggle:(E,T)=>{let I=l.get(E);I&&(I.toggle=T)},isToastActive:E=>{var T;return(T=l.get(E))==null?void 0:T.isActive},getSnapshot:()=>o}}var Co=new Map,kv=[],AA=new Set,Che=t=>AA.forEach(e=>e(t)),eV=()=>Co.size>0;function Ahe(){kv.forEach(t=>nV(t.content,t.options)),kv=[]}var _he=(t,{containerId:e})=>{var n;return(n=Co.get(e||1))==null?void 0:n.toasts.get(t)};function tV(t,e){var n;if(e)return!!((n=Co.get(e))!=null&&n.isToastActive(t));let r=!1;return Co.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function The(t){if(!eV()){kv=kv.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||ghe(t))Co.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Co.get(t.containerId);e?e.removeToast(t.id):Co.forEach(n=>{n.removeToast(t.id)})}}var khe=(t={})=>{Co.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function nV(t,e){CA(t)&&(eV()||kv.push({content:t,options:e}),Co.forEach(n=>{n.buildToast(t,e)}))}function Phe(t){var e;(e=Co.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function rV(t,e){Co.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function Nhe(t){let e=t.containerId||1;return{subscribe(n){let r=She(e,t,Che);Co.set(e,r);let i=r.observe(n);return Ahe(),()=>{i(),Co.delete(e)}},setProps(n){var r;(r=Co.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Co.get(e))==null?void 0:n.getSnapshot()}}}function Lhe(t){return AA.add(t),()=>{AA.delete(t)}}function Ihe(t){return t&&(ap(t.toastId)||hy(t.toastId))?t.toastId:Z9()}function py(t,e){return nV(t,e),e.toastId}function mw(t,e){return{...e,type:e&&e.type||t,toastId:Ihe(e)}}function gw(t){return(e,n)=>py(e,mw(t,n))}function vr(t,e){return py(t,mw("default",e))}vr.loading=(t,e)=>py(t,mw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Dhe(t,{pending:e,error:n,success:r},i){let s;e&&(s=ap(e)?vr.loading(e,i):vr.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,f)=>{if(u==null){vr.dismiss(s);return}let h={type:c,...o,...i,data:f},p=ap(u)?{render:u}:u;return s?vr.update(s,{...h,...p}):vr(p.render,{...h,...p}),f},l=dd(t)?t():t;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}vr.promise=Dhe;vr.success=gw("success");vr.info=gw("info");vr.error=gw("error");vr.warning=gw("warning");vr.warn=vr.warning;vr.dark=(t,e)=>py(t,mw("default",{theme:"dark",...e}));function Rhe(t){The(t)}vr.dismiss=Rhe;vr.clearWaitingQueue=khe;vr.isActive=tV;vr.update=(t,e={})=>{let n=_he(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Z9()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,py(o,s)}};vr.done=t=>{vr.update(t,{progress:1})};vr.onChange=Lhe;vr.play=t=>rV(!0,t);vr.pause=t=>rV(!1,t);function Mhe(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=b.useRef(Nhe(t)).current;i(t);let s=(e=b.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:tV,count:s==null?void 0:s.length}}function Ohe(t){let[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=b.useRef(null),o=b.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:f}=t;Phe({id:t.toastId,containerId:t.containerId,fn:n}),b.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{p()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||w(),window.addEventListener("focus",y),window.addEventListener("blur",w)}function p(){window.removeEventListener("focus",y),window.removeEventListener("blur",w)}function g(R){if(t.draggable===!0||t.draggable===R.pointerType){E();let S=s.current;o.canCloseOnClick=!0,o.canDrag=!0,S.style.transition="none",t.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=S.offsetWidth*(t.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=S.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function v(R){let{top:S,bottom:k,left:P,right:N}=s.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&t.pauseOnHover&&R.clientX>=P&&R.clientX<=N&&R.clientY>=S&&R.clientY<=k?w():y()}function y(){n(!0)}function w(){n(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",F)}function T(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",F)}function I(R){let S=s.current;if(o.canDrag&&S){o.didMove=!0,e&&w(),t.draggableDirection==="x"?o.delta=R.clientX-o.start:o.delta=R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1);let k=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;S.style.transform=`translate3d(${k},0)`,S.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function F(){T();let R=s.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let B={onPointerDown:g,onPointerUp:v};return a&&l&&(B.onMouseEnter=w,t.stacked||(B.onMouseLeave=y)),f&&(B.onClick=R=>{u&&u(R),o.canCloseOnClick&&c(!0)}),{playToast:y,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:B}}var Fhe=typeof window<"u"?b.useLayoutEffect:b.useEffect,vw=({theme:t,type:e,isLoading:n,...r})=>Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function jhe(t){return Me.createElement(vw,{...t},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Bhe(t){return Me.createElement(vw,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Vhe(t){return Me.createElement(vw,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function $he(t){return Me.createElement(vw,{...t},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zhe(){return Me.createElement("div",{className:"Toastify__spinner"})}var _A={info:Bhe,warning:jhe,success:Vhe,error:$he,spinner:zhe},Uhe=t=>t in _A;function qhe({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(dd(r)?i=r({...s,isLoading:n}):b.isValidElement(r)?i=b.cloneElement(r,s):n?i=_A.spinner():Uhe(e)&&(i=_A[e](s))),i}var Hhe=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=Ohe(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:f,closeToast:h,transition:p,position:g,className:v,style:y,progressClassName:w,updateId:E,role:T,progress:I,rtl:F,toastId:B,deleteToast:R,isIn:S,isLoading:k,closeOnClick:P,theme:N,ariaLabel:M}=t,O=Gh("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":P}),q=dd(v)?v({rtl:F,position:g,type:u,defaultClassName:O}):Gh(O,v),Z=qhe(t),ne=!!I||!l,ee={closeToast:h,type:u,theme:N},Y=null;return o===!1||(dd(o)?Y=o(ee):b.isValidElement(o)?Y=b.cloneElement(o,ee):Y=bhe(ee)),Me.createElement(p,{isIn:S,done:R,position:g,preventExitTransition:n,nodeRef:r,playToast:s},Me.createElement("div",{id:B,tabIndex:0,onClick:c,"data-in":S,className:q,...i,style:y,ref:r,...S&&{role:T,"aria-label":M}},Z!=null&&Me.createElement("div",{className:Gh("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},Z),Q9(a,t,!e),Y,!t.customProgressBar&&Me.createElement(whe,{...E&&!ne?{key:`p-${E}`}:{},rtl:F,theme:N,delay:l,isRunning:e,isIn:S,closeToast:h,hide:f,type:u,className:w,controlledProgress:ne,progress:I||0})))},Whe=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Ghe=xhe(Whe("bounce",!0)),Khe={position:"top-right",transition:Ghe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Yhe(t){let e={...Khe,...t},n=t.stacked,[r,i]=b.useState(!0),s=b.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Mhe(e),{className:c,style:u,rtl:f,containerId:h,hotKeys:p}=e;function g(y){let w=Gh("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":f});return dd(c)?c({position:y,rtl:f,defaultClassName:w}):Gh(w,SA(c))}function v(){n&&(i(!0),vr.play())}return Fhe(()=>{var y;if(n){let w=s.current.querySelectorAll('[data-in="true"]'),E=12,T=(y=e.position)==null?void 0:y.includes("top"),I=0,F=0;Array.from(w).reverse().forEach((B,R)=>{let S=B;S.classList.add("Toastify__toast--stacked"),R>0&&(S.dataset.collapsed=`${r}`),S.dataset.pos||(S.dataset.pos=T?"top":"bot");let k=I*(r?.2:1)+(r?0:E*R);S.style.setProperty("--y",`${T?k:k*-1}px`),S.style.setProperty("--g",`${E}`),S.style.setProperty("--s",`${1-(r?F:0)}`),I+=S.offsetHeight,F+=.025})}},[r,l,n]),b.useEffect(()=>{function y(w){var E;let T=s.current;p(w)&&((E=T.querySelector('[tabIndex="0"]'))==null||E.focus(),i(!1),vr.pause()),w.key==="Escape"&&(document.activeElement===T||T!=null&&T.contains(document.activeElement))&&(i(!0),vr.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[p]),Me.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),vr.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((y,w)=>{let E=w.length?{...u}:{...u,pointerEvents:"none"};return Me.createElement("div",{tabIndex:-1,className:g(y),"data-stacked":n,style:E,key:`c-${y}`},w.map(({content:T,props:I})=>Me.createElement(Hhe,{...I,stacked:n,collapseAll:v,isIn:a(I.toastId,I.containerId),key:`t-${I.key}`},T)))}))}function Xhe(t){var n,r,i,s,o,a,l;const e={};return(n=t.name)!=null&&n.trim()||(e.name="El nombre es obligatorio"),(r=t.address)!=null&&r.trim()||(e.address="La direccin es obligatoria"),(i=t.city)!=null&&i.trim()||(e.city="La ciudad es obligatoria"),(s=t.state)!=null&&s.trim()||(e.state="El estado es obligatorio"),(!((o=t.zip)!=null&&o.trim())||!/^\d{5}$/.test(t.zip))&&(e.zip="El cdigo postal debe tener 5 dgitos"),(!((a=t.email)!=null&&a.trim())||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))&&(e.email="El email no tiene un formato vlido"),(!((l=t.phone)!=null&&l.trim())||!/^\d{8,15}$/.test(t.phone))&&(e.phone="Debe contener solo nmeros y tener entre 8 y 15 dgitos."),{valid:Object.keys(e).length===0,errors:e}}function Jhe(){const{isLoaded:t}=z9({googleMapsApiKey:void 0,libraries:["places"]}),{items:e,updateItem:n,clearCart:r,removeItem:i,setShippingData:s,shippingData:o,validateShippingData:a}=pl(),{t:l,i18n:c}=Zr(),{language:u}=hhe(),[f,h]=b.useState(!1),[p,g]=b.useState(!1),[v,y]=b.useState(!1),w=cc(),[E,T]=b.useState(!1),[I,F]=b.useState(""),[B,R]=b.useState(""),[S,k]=b.useState(""),[P,N]=b.useState(""),[M,O]=b.useState({}),[q,Z]=b.useState(!1),ne=b.useRef(null);b.useRef(null);const ee=b.useRef(null);b.useRef(null);const Y=b.useRef(null),oe=b.useRef(null),se=b.useRef(null),{shippingInfo:K,setShippingInfo:V}=pl();b.useEffect(()=>{o!=null&&o.name&&V(ge=>({...ge,name:o.name||""})),o!=null&&o.address&&V(ge=>({...ge,address:o.address})),o!=null&&o.city&&V(ge=>({...ge,city:o.city})),o!=null&&o.state&&V(ge=>({...ge,state:o.state})),o!=null&&o.postalCode&&V(ge=>({...ge,postalCode:o.postalCode||""})),o!=null&&o.phone&&V(ge=>({...ge,phone:o.phone})),o!=null&&o.email&&V(ge=>({...ge,email:o.email}))},[]);const W=()=>{var _e,Ae;const ge={...K,zip:K.postalCode||""};console.log("Shipping Info al validar:",ge),console.log("Coordinates presentes:",ge.coordinates);const{valid:Se,errors:Be}=Xhe(ge);if((_e=K==null?void 0:K.coordinates)!=null&&_e.lat&&((Ae=K==null?void 0:K.coordinates)!=null&&Ae.lng),!Se){O(Be),oi.error("Por favor complet todos los campos obligatorios.");return}w("/checkout")},[J,Q]=b.useState(null),re=(ge,Se)=>{var Be;return((Be=ge.find(_e=>_e.types.includes(Se)))==null?void 0:Be.long_name)||""},ce=()=>{if(J!==null){const ge=J.getPlace();if(!ge.address_components)return;const Se=ge.address_components,Be=`${re(Se,"street_number")} ${re(Se,"route")}`.trim(),_e=re(Se,"locality"),Ae=re(Se,"administrative_area_level_1"),ye=re(Se,"postal_code"),he=re(Se,"country");V(Je=>({...Je,address:Be,city:_e,state:Ae,postalCode:ye,country:he}))}};console.log(" items en CartPage:",e);const fe=(()=>{const ge=e.reduce((Se,Be)=>{const _e=Be.priceUSD;return Se+_e*Be.quantity},0);return parseFloat(ge.toFixed(2))})(),be=ge=>{i&&i(ge.id,ge.size)};return t?A.jsxs(A.Fragment,{children:[A.jsx(phe,{}),A.jsx("div",{className:"pt-28",children:A.jsxs("section",{className:"bg-white text-black min-h-screen flex flex-col",children:[A.jsx("main",{className:"flex-grow",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[A.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tu carrito"}),e.length===0&&A.jsxs("p",{className:"text-sm text-center text-gray-600 mb-8",children:["Ya tens cuenta?"," ",A.jsx("span",{onClick:()=>g(!0),className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:"Iniciar sesin"})," ","o"," ",A.jsx("span",{onClick:()=>y(!0),className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:"registrarte"})," ","para guardar tus datos y acceder a beneficios."]}),e.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[A.jsx("div",{className:"bg-white rounded-full shadow-md p-6 mb-6",children:A.jsx("img",{src:"/images/empty-cart-illustration.jpg",alt:"Carrito vaco",className:"w-24 h-24 object-contain opacity-80"})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tu carrito est vaco"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Pero no te vayas con las manos vacas!"}),A.jsx(Zt,{to:"/",className:"inline-block px-6 py-3 bg-black text-white rounded-full font-semibold hover:scale-[1.03] hover:bg-gray-900 transition-all",children:"Ver catlogo"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"space-y-4 mb-10",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[A.jsx("label",{className:"text-sm font-medium",children:"Nombre completo"}),A.jsx("input",{id:"name",ref:ne,type:"text",placeholder:"Nombre completo",value:K.name,onChange:ge=>{V({...K,name:ge.target.value}),M.name&&O(Se=>({...Se,name:""}))},required:!0,className:`w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${M.name?"border-red-600":""}`})]}),A.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[A.jsx("label",{className:"text-sm font-medium",children:"Direccin"}),A.jsx("div",{className:"relative",children:A.jsx(Pk,{onLoad:Q,onPlaceChanged:ce,children:A.jsx("input",{type:"text",name:"address",placeholder:"Direccin",value:K.address,onChange:ge=>V(Se=>({...Se,address:ge.target.value})),className:`w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${M.address?"border-red-600":""}`})})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Apto, unidad, edificio, piso (opcional)",value:K.address2,onChange:ge=>V({...K,address2:ge.target.value}),className:`w-full border border-gray-300 px-4 py-2 rounded-md col-span-2 ${M.address2?"border-red-600":""}`}),A.jsx("input",{id:"email",ref:se,type:"email",placeholder:"Correo electrnico",value:K.email,onChange:ge=>{V({...K,email:ge.target.value}),M.email&&O(Se=>({...Se,email:""}))},pattern:"^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$",required:!0,className:`w-full border px-4 py-2 rounded-md border-gray-300 ${M.email?"border-red-500":""}`}),A.jsx("input",{id:"phone",ref:oe,type:"tel",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Telfono",value:K.phone,onChange:ge=>{const Se=ge.target.value.replace(/[^0-9]/g,"");V({...K,phone:Se}),M.phone&&O(Be=>({...Be,phone:""}))},required:!0,className:`w-full border px-4 py-2 rounded-md border-gray-300 ${M.phone?"border-red-500":""}`})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{id:"city",ref:ee,type:"text",placeholder:"Ciudad",value:K.city,onChange:ge=>{V({...K,city:ge.target.value}),M.city&&O(Se=>({...Se,city:""}))},className:`w-full border px-4 py-2 rounded-md border-gray-300 ${M.city?"border-red-500":""}`}),A.jsx("input",{type:"text",value:K.state,placeholder:"Estado",disabled:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md bg-gray-100 text-gray-500"}),A.jsx("input",{id:"postalCode",ref:Y,type:"text",placeholder:"ZIP Code",value:K.postalCode,onChange:ge=>{V({...K,postalCode:ge.target.value}),M.postalCode&&O(Se=>({...Se,postalCode:""}))},maxLength:5,className:`w-full border px-4 py-2 rounded-md border-gray-300 ${M.postalCode?"border-red-500":""}`}),K.postalCode.length>0&&K.postalCode.length<5&&A.jsx("p",{className:"text-red-600 text-sm mt-1",children:"El cdigo ZIP debe tener 5 dgitos."}),A.jsx("select",{value:"USA",disabled:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md bg-gray-100 text-gray-500",children:A.jsx("option",{value:"USA",children:"USA"})})]}),A.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[A.jsx("input",{type:"checkbox",id:"wantsToRegister",checked:K.wantsToRegister,onChange:ge=>V({...K,wantsToRegister:ge.target.checked})}),A.jsx("label",{htmlFor:"wantsToRegister",className:"text-sm text-gray-700",children:"Registrarme"})]}),K.wantsToRegister&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx("input",{type:"password",placeholder:"Contrasea",value:K.password,onChange:ge=>V({...K,password:ge.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md",required:!0}),A.jsx("input",{type:"password",placeholder:"Confirmar contrasea",value:K.confirmPassword,onChange:ge=>V({...K,confirmPassword:ge.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md",required:!0})]})]}),A.jsx("div",{className:"flex justify-between items-center mb-4",children:A.jsx("h2",{className:"text-xl font-semibold",children:"Resumen de tu compra"})}),A.jsx("ul",{className:"divide-y divide-gray-200 mb-6",children:e.map((ge,Se)=>{var Ae,ye,he;const _e=ge.priceUSD*ge.quantity;return A.jsxs("li",{className:"py-4 flex gap-4 items-center",children:[A.jsx(Zt,{to:`/producto/${ge.slug}`,children:A.jsx("img",{src:ge.image,alt:typeof ge.name=="object"&&ge.name!==null?(Ae=ge.name)==null?void 0:Ae[u]:ge.name||"Sin nombre",className:"w-20 h-20 object-cover rounded-md border"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx(Zt,{to:`/producto/${ge.slug}`,children:A.jsx("p",{className:"font-semibold text-sm mb-1 hover:underline",children:typeof ge.name=="object"&&ge.name!==null?(ye=ge.name)==null?void 0:ye[u]:ge.name||"Sin nombre"})}),A.jsx("p",{className:"text-sm text-gray-500 mb-1",children:`US$${ge.priceUSD.toFixed(2)} c/u`}),A.jsxs("div",{className:"text-sm text-gray-500 flex flex-wrap items-center gap-3",children:[A.jsxs("span",{children:["Talle: ",A.jsx("span",{className:"inline-block border border-gray-300 px-2 py-0.5 rounded-md bg-gray-50 text-gray-800",children:ge.size})]}),A.jsxs("span",{children:["Cantidad:"," ",A.jsx("span",{className:"inline-block border border-gray-300 px-2 py-0.5 rounded-md bg-gray-50 text-gray-800",children:ge.quantity})]}),A.jsx("button",{onClick:()=>be(ge),className:"ml-2 text-red-500 hover:text-red-700 transition",title:"Eliminar",children:A.jsx(hre,{className:"w-4 h-4"})})]}),ge.customName&&ge.customNumber&&A.jsxs("p",{className:"text-sm text-gray-500",children:["Personalizado: ",typeof ge.customName=="object"?((he=ge.customName)==null?void 0:he[u])||"Sin nombre":ge.customName," #",ge.customNumber]})]}),A.jsx("div",{className:"text-right text-sm whitespace-nowrap font-semibold",children:A.jsx("span",{children:`US$${_e.toFixed(2)}`})})]},`${ge.id}-${ge.size}`)})}),A.jsxs("div",{className:"bg-gray-100 p-6 rounded-2xl shadow-inner mt-10",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Total"}),A.jsx("span",{className:"text-2xl font-bold text-gray-900",children:A.jsx("span",{children:`US$${fe.toFixed(2)}`})})]}),A.jsx("button",{className:"bg-black text-white px-6 py-2 rounded hover:bg-gray-900 transition disabled:opacity-50",onClick:W,disabled:f,children:f?"Procesando...":"Proceder al Pago"})]}),e.length>0&&A.jsx("div",{className:"mt-10 bg-white",children:A.jsx("div",{className:"pb-20",children:A.jsx(M9,{title:"Tambin te podra gustar",excludeSlugs:e.map(ge=>ge.slug),categoryName:"Ftbol"})})})]}),p&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[A.jsx("button",{onClick:()=>g(!1),className:"absolute top-2 right-3 text-gray-400 hover:text-black text-xl",children:""}),A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Iniciar sesin"}),E?A.jsxs("form",{onSubmit:ge=>{ge.preventDefault();const Se=JSON.parse(localStorage.getItem("usuarios")||"[]"),Be=Se.findIndex(_e=>_e.email===I);if(Be===-1){oi.error("Correo no registrado ");return}if(S!==P){oi.error("Las contraseas no coinciden ");return}Se[Be].password=S,localStorage.setItem("usuarios",JSON.stringify(Se)),oi.success("Contrasea actualizada "),T(!1),g(!1)},className:"space-y-4",children:[A.jsx("h3",{className:"font-semibold text-center",children:"Recuperar contrasea"}),A.jsx("input",{type:"email",placeholder:"Correo electrnico",required:!0,value:I,onChange:ge=>F(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Nueva contrasea",required:!0,value:S,onChange:ge=>k(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Confirmar nueva contrasea",required:!0,value:P,onChange:ge=>N(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Actualizar contrasea"}),A.jsx("button",{type:"button",onClick:()=>T(!1),className:"text-sm text-gray-500 hover:underline w-full text-center mt-2",children:"Cancelar"})]}):A.jsxs("form",{onSubmit:ge=>{ge.preventDefault(),JSON.parse(localStorage.getItem("usuarios")||"[]").find(_e=>_e.email===I&&_e.password===B)?(oi.success("Inicio de sesin exitoso "),g(!1)):oi.error("Correo o contrasea incorrectos ")},className:"space-y-4",children:[A.jsx("input",{type:"email",placeholder:"Correo electrnico",required:!0,value:I,onChange:ge=>F(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Contrasea",required:!0,value:B,onChange:ge=>R(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Iniciar sesin"}),A.jsx("p",{className:"text-sm text-center mt-2",children:A.jsx("button",{onClick:()=>{T(!0),F("")},className:"text-blue-600 hover:underline",type:"button",children:"Olvidaste tu contrasea?"})})]})]})}),v&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl p-6 relative",children:[A.jsx("button",{onClick:()=>y(!1),className:"absolute top-2 right-3 text-gray-400 hover:text-black text-xl",children:""}),A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Crear cuenta"}),A.jsxs("form",{onSubmit:ge=>{ge.preventDefault(),oi.success("Registro completo simulado "),y(!1)},className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",name:"fullName",placeholder:"Nombre completo",required:!0,value:I,onChange:ge=>F(ge.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",name:"address",placeholder:"Direccin de entrega",required:!0,value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"tel",name:"phone",placeholder:"Telfono",required:!0,value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",name:"city",placeholder:"Ciudad",value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",name:"state",placeholder:"Estado",disabled:!0,value:"",className:"w-full border border-gray-300 px-4 py-2 rounded-md bg-gray-100 text-gray-500"}),A.jsx("input",{type:"text",name:"zipCode",placeholder:"Cdigo Postal",value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsx("input",{type:"email",name:"email",placeholder:"Correo electrnico",required:!0,value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",name:"password",placeholder:"Contrasea",required:!0,value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirmar contrasea",required:!0,value:"",onChange:()=>{},className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Registrarme"})]})]})})]})}),A.jsx(jT,{}),A.jsx(Yhe,{position:"top-center",autoClose:3e3,hideProgressBar:!0})]})})]}):A.jsx("p",{children:"Cargando mapa..."})}var iV="basil",Qhe=function(e){return e===3?"v3":e},sV="https://js.stripe.com",Zhe="".concat(sV,"/").concat(iV,"/stripe.js"),epe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tpe=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var npe=function(e){return epe.test(e)||tpe.test(e)},rpe=function(){for(var e=document.querySelectorAll('script[src^="'.concat(sV,'"]')),n=0;n<e.length;n++){var r=e[n];if(npe(r.src))return r}return null},D6=function(e){var n="",r=document.createElement("script");r.src="".concat(Zhe).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},ipe=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:n})},l0=null,P1=null,N1=null,spe=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},ope=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},ape=function(e){return l0!==null?l0:(l0=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=rpe();if(!(i&&e)){if(!i)i=D6(e);else if(i&&N1!==null&&P1!==null){var s;i.removeEventListener("load",N1),i.removeEventListener("error",P1),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=D6(e)}}N1=ope(n,r),P1=spe(r),i.addEventListener("load",N1),i.addEventListener("error",P1)}catch(o){r(o);return}}),l0.catch(function(n){return l0=null,Promise.reject(n)}))},lpe=function(e,n,r){if(e===null)return null;var i=n[0],s=i.match(/^pk_test/),o=Qhe(e.version),a=iV;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return ipe(l,r),l},c0,oV=!1,aV=function(){return c0||(c0=ape(null).catch(function(e){return c0=null,Promise.reject(e)}),c0)};Promise.resolve().then(function(){return aV()}).catch(function(t){oV||console.warn(t)});var TA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];oV=!0;var i=Date.now();return aV().then(function(s){return lpe(s,n,i)})},zE={exports:{}},UE,R6;function cpe(){if(R6)return UE;R6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return UE=t,UE}var qE,M6;function upe(){if(M6)return qE;M6=1;var t=cpe();function e(){}function n(){}return n.resetWarningCache=e,qE=function(){function r(o,a,l,c,u,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},qE}var O6;function dpe(){return O6||(O6=1,zE.exports=upe()()),zE.exports}var fpe=dpe();const $r=uu(fpe);function F6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F6(Object(n),!0).forEach(function(r){lV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xx(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xx=function(e){return typeof e}:Xx=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}function lV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ppe(t,e){if(t==null)return{};var n=hpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cV(t,e){return mpe(t)||gpe(t,e)||vpe(t,e)||ype()}function mpe(t){if(Array.isArray(t))return t}function gpe(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function vpe(t,e){if(t){if(typeof t=="string")return B6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B6(t,e)}}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ea=function(e,n,r){var i=!!r,s=Me.useRef(r);Me.useEffect(function(){s.current=r},[r]),Me.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},kA=function(e){var n=Me.useRef(e);return Me.useEffect(function(){n.current=e},[e]),n.current},eg=function(e){return e!==null&&Xx(e)==="object"},xpe=function(e){return eg(e)&&typeof e.then=="function"},bpe=function(e){return eg(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},V6="[object Object]",wpe=function t(e,n){if(!eg(e)||!eg(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===V6,o=Object.prototype.toString.call(n)===V6;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var c={},u=0;u<a.length;u+=1)c[a[u]]=!0;for(var f=0;f<l.length;f+=1)c[l[f]]=!0;var h=Object.keys(c);if(h.length!==a.length)return!1;var p=e,g=n,v=function(w){return t(p[w],g[w])};return h.every(v)},uV=function(e,n,r){return eg(e)?Object.keys(e).reduce(function(i,s){var o=!eg(n)||!wpe(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?j6(j6({},i||{}),{},lV({},s,e[s])):i},null):null},dV="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$6=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dV;if(e===null||bpe(e))return e;throw new Error(n)},Epe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dV;if(xpe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return $6(i,n)})};var r=$6(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Spe=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},yw=Me.createContext(null);yw.displayName="ElementsContext";var fV=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},Nk=function(e){var n=e.stripe,r=e.options,i=e.children,s=Me.useMemo(function(){return Epe(n)},[n]),o=Me.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=cV(o,2),l=a[0],c=a[1];Me.useEffect(function(){var h=!0,p=function(v){c(function(y){return y.stripe?y:{stripe:v,elements:v.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(g){g&&h&&p(g)}):s.tag==="sync"&&!l.stripe&&p(s.stripe),function(){h=!1}},[s,l,r]);var u=kA(n);Me.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var f=kA(r);return Me.useEffect(function(){if(l.elements){var h=uV(r,f,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,f,l.elements]),Me.useEffect(function(){Spe(l.stripe)},[l.stripe]),Me.createElement(yw.Provider,{value:l},i)};Nk.propTypes={stripe:$r.any,options:$r.object};var Cpe=function(e){var n=Me.useContext(yw);return fV(n,e)},Ape=function(){var e=Cpe("calls useElements()"),n=e.elements;return n};$r.func.isRequired;var hV=Me.createContext(null);hV.displayName="CheckoutSdkContext";var _pe=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},Tpe=Me.createContext(null);Tpe.displayName="CheckoutContext";$r.any,$r.shape({fetchClientSecret:$r.func.isRequired,elementsOptions:$r.object}).isRequired;var PA=function(e){var n=Me.useContext(hV),r=Me.useContext(yw);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?_pe(n,e):fV(r,e)},kpe=["mode"],Ppe=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},gi=function(e,n){var r="".concat(Ppe(e),"Element"),i=function(l){var c=l.id,u=l.className,f=l.options,h=f===void 0?{}:f,p=l.onBlur,g=l.onFocus,v=l.onReady,y=l.onChange,w=l.onEscape,E=l.onClick,T=l.onLoadError,I=l.onLoaderStart,F=l.onNetworksChange,B=l.onConfirm,R=l.onCancel,S=l.onShippingAddressChange,k=l.onShippingRateChange,P=PA("mounts <".concat(r,">")),N="elements"in P?P.elements:null,M="checkoutSdk"in P?P.checkoutSdk:null,O=Me.useState(null),q=cV(O,2),Z=q[0],ne=q[1],ee=Me.useRef(null),Y=Me.useRef(null);Ea(Z,"blur",p),Ea(Z,"focus",g),Ea(Z,"escape",w),Ea(Z,"click",E),Ea(Z,"loaderror",T),Ea(Z,"loaderstart",I),Ea(Z,"networkschange",F),Ea(Z,"confirm",B),Ea(Z,"cancel",R),Ea(Z,"shippingaddresschange",S),Ea(Z,"shippingratechange",k),Ea(Z,"change",y);var oe;v&&(e==="expressCheckout"?oe=v:oe=function(){v(Z)}),Ea(Z,"ready",oe),Me.useLayoutEffect(function(){if(ee.current===null&&Y.current!==null&&(N||M)){var K=null;if(M)switch(e){case"payment":K=M.createPaymentElement(h);break;case"address":if("mode"in h){var V=h.mode,W=ppe(h,kpe);if(V==="shipping")K=M.createShippingAddressElement(W);else if(V==="billing")K=M.createBillingAddressElement(W);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":K=M.createExpressCheckoutElement(h);break;case"currencySelector":K=M.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else N&&(K=N.create(e,h));ee.current=K,ne(K),K&&K.mount(Y.current)}},[N,M,h]);var se=kA(h);return Me.useEffect(function(){if(ee.current){var K=uV(h,se,["paymentRequest"]);K&&"update"in ee.current&&ee.current.update(K)}},[h,se]),Me.useLayoutEffect(function(){return function(){if(ee.current&&typeof ee.current.destroy=="function")try{ee.current.destroy(),ee.current=null}catch{}}},[]),Me.createElement("div",{id:c,className:u,ref:Y})},s=function(l){PA("mounts <".concat(r,">"));var c=l.id,u=l.className;return Me.createElement("div",{id:c,className:u})},o=n?s:i;return o.propTypes={id:$r.string,className:$r.string,onChange:$r.func,onBlur:$r.func,onFocus:$r.func,onReady:$r.func,onEscape:$r.func,onClick:$r.func,onLoadError:$r.func,onLoaderStart:$r.func,onNetworksChange:$r.func,onConfirm:$r.func,onCancel:$r.func,onShippingAddressChange:$r.func,onShippingRateChange:$r.func,options:$r.object},o.displayName=r,o.__elementType=e,o},vi=typeof window>"u",Npe=Me.createContext(null);Npe.displayName="EmbeddedCheckoutProviderContext";var Lpe=function(){var e=PA("calls useStripe()"),n=e.stripe;return n};gi("auBankAccount",vi);var z6=gi("card",vi);gi("cardNumber",vi);gi("cardExpiry",vi);gi("cardCvc",vi);gi("fpxBank",vi);gi("iban",vi);gi("idealBank",vi);gi("p24Bank",vi);gi("epsBank",vi);gi("payment",vi);gi("expressCheckout",vi);gi("currencySelector",vi);gi("paymentRequestButton",vi);gi("linkAuthentication",vi);gi("address",vi);gi("shippingAddress",vi);gi("paymentMethodMessaging",vi);gi("affirmMessage",vi);gi("afterpayClearpayMessage",vi);function Ipe(){const{items:t}=pl(),e=t.reduce((o,a)=>o+a.quantity,0),{t:n}=Zr(),[r,i]=b.useState(!1),s=b.useRef(null);return b.useEffect(()=>{function o(a){s.current&&!s.current.contains(a.target)&&i(!1)}return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]),A.jsxs("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-[60] shadow-sm py-0.5",children:[A.jsxs("div",{className:"flex sm:hidden items-center justify-between px-4 py-0.5 relative",children:[A.jsx("div",{className:"flex items-center gap-2",children:A.jsx(Zt,{to:"/shop",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"max-h-[2.25rem] w-auto object-contain"})})}),A.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center",ref:s,children:[A.jsxs("button",{onClick:()=>i(!r),className:"text-sm text-[#004AAD] font-semibold",children:["Pago Seguro",A.jsx("span",{className:"ml-1 text-xs",children:r?"":""})]}),r&&A.jsx("div",{className:"absolute top-full mt-1 w-64 sm:w-96 left-1/2 transform -translate-x-1/2 bg-white border border-gray-300 rounded p-3 text-sm text-gray-700 shadow-lg z-50",children:"En Bionova protegemos tu informacin y garantizamos transacciones 100% seguras. Usamos Stripe y PayPal para procesar los pagos, y nunca compartimos tus datos con terceros. Tu privacidad es nuestra prioridad."})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-xs px-1 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-xs px-1 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]})]})]}),A.jsxs("div",{className:"hidden sm:flex max-w-7xl mx-auto px-4 py-1 items-center justify-between relative",children:[A.jsx(Zt,{to:"/shop",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"h-12 w-auto object-contain"})}),A.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 text-center",ref:s,children:[A.jsxs("button",{onClick:()=>i(!r),className:"text-base text-[#004AAD] font-semibold",children:["Pago Seguro",A.jsx("span",{className:"ml-1 text-xs",children:r?"":""})]}),r&&A.jsx("div",{className:"absolute top-full mt-1 w-64 sm:w-96 left-1/2 transform -translate-x-1/2 bg-white border border-gray-300 rounded p-3 text-sm text-gray-700 shadow-lg z-50",children:"En Bionova protegemos tu informacin y garantizamos transacciones 100% seguras. Usamos Stripe y PayPal para procesar los pagos, y nunca compartimos tus datos con terceros. Tu privacidad es nuestra prioridad."})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-sm px-2 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-sm px-2 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]})]})]})]})}const Dpe=async t=>{try{const e=ko(hr,"products",t),n=await iy(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching product:",e),null}},Rpe=async(t,e)=>{const n=ko(hr,"products",t),r=await iy(n);if(r.exists()){const i=r.data(),s=i==null?void 0:i.name;return typeof s=="object"?s[e]:s}return""};function Mpe(){const{cartItems:t}=pl(),{t:e,i18n:n}=Zr(),[r,i]=b.useState({});b.useEffect(()=>{const o=async()=>{var l,c,u;const a={};for(const f of t){const h=await Dpe(f.id),p=(l=h==null?void 0:h.variants)==null?void 0:l.find(g=>g.size===f.size);p&&(a[`${f.id}-${f.size}`]=n.language==="es"?(c=p.label)==null?void 0:c.es:(u=p.label)==null?void 0:u.en)}i(a)};t.length>0&&(o(),(async()=>{const l={};for(const c of t)if(!c.name||typeof c.name=="object"&&!c.name[n.language]){const u=await Rpe(c.id,n.language);l[`name-${c.id}`]=u}i(c=>({...c,...l}))})())},[t,n.language]);const s=t.reduce((o,a)=>o+a.priceUSD*a.quantity,0);return t.length===0?A.jsx("div",{className:"border rounded-md p-4 bg-white shadow-sm",children:A.jsx("p",{className:"text-center text-gray-500",children:e("cart.emptyMessage","Tu carrito est vaco")})}):A.jsxs("div",{className:"border rounded-md p-4 bg-white shadow-sm",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:e("checkout.orderSummary","Resumen del Pedido")}),A.jsx("ul",{className:"space-y-4",children:t.map(o=>{const a=`${o.id}-${o.size}`;return A.jsxs("li",{className:"flex items-start gap-4 border-b pb-4",children:[o.image&&A.jsx("img",{src:o.image,alt:typeof o.name=="object"?o.name[n.language]:o.name,className:"w-16 h-16 object-cover rounded"}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"font-medium",children:typeof o.name=="object"?o.name[n.language]:o.name||r[`name-${o.id}`]}),A.jsxs("p",{className:"text-sm text-gray-600",children:[r[a]||o.size,"  ",e("checkout.quantity","Cantidad"),": ",o.quantity]})]}),A.jsxs("div",{className:"text-right",children:[A.jsxs("p",{className:"text-sm text-gray-600",children:["US$",o.priceUSD.toFixed(2)]}),A.jsxs("p",{className:"font-medium",children:["US$",(o.priceUSD*o.quantity).toFixed(2)]})]})]},a)})}),A.jsx("div",{className:"text-right mt-4 border-t pt-4",children:A.jsxs("p",{className:"text-lg font-semibold",children:[e("checkout.total","Total"),": US$",s.toFixed(2)]})})]})}const Ope=()=>{const{shippingData:t}=pl(),{name:e,address:n,address2:r,city:i,state:s,postalCode:o,phone:a,email:l,country:c}=t,u=cc();return A.jsxs("div",{className:"mt-8",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Datos de Envo"}),A.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 space-y-6 text-sm text-gray-800",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Direccin"}),A.jsxs("p",{className:"text-gray-900",children:[e||"No especificado",A.jsx("br",{}),n||"No especificado",r&&`, ${r}`,A.jsx("br",{}),i||"No especificado",", ",s||"No especificado"," ",o||"",A.jsx("br",{}),c!=null&&c.trim()&&c!=="No especificado"?c:"Estados Unidos"]})]}),A.jsxs("div",{children:[A.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Contacto"}),A.jsxs("p",{className:"text-gray-900",children:[a||"No especificado",A.jsx("br",{}),l||"No especificado"]})]}),A.jsx("div",{className:"text-right pt-2",children:A.jsx("button",{onClick:()=>u("/carrito"),className:"border border-gray-400 text-sm text-gray-700 px-4 py-1.5 rounded-full hover:border-black hover:text-black transition",children:"Editar"})})]})]})};function Fpe(t,e){return{id:"",cartItems:t.map(n=>({id:n.id,slug:"",title:{en:n.name,es:n.name},image:"",priceUSD:n.price,name:n.name,price:n.price,quantity:n.quantity,size:n.size,customName:n.customName||"",customNumber:n.customNumber||"",variantLabel:n.variantLabel||""})),client:{name:e.name,email:e.email,phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",country:e.country||""},clientEmail:e.email,totalAmount:t.reduce((n,r)=>n+r.price*r.quantity,0),paymentIntentId:"",paymentStatus:"pending",paymentMethod:"Por definir",date:new Date().toISOString(),estado:"En proceso"}}const jpe=TA(void 0);console.error(" ERROR: No se encontr VITE_STRIPE_PUBLIC_KEY. Verifica tu archivo .env y reinici con 'npm run dev'."),alert("Error crtico: falta la clave pblica de Stripe. Contact soporte.");const Bpe=()=>{const t=Lpe(),e=Ape(),{total:n,cartItems:r}=pl(),{user:i}=O2(),[s,o]=b.useState("");b.useEffect(()=>{n<=0||(console.log(" Total enviado al backend:",n),fetch("http://localhost:4000/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Math.round(n*100)})}).then(async l=>{if(!l.ok)throw new Error("Error al crear el pago");return l.json()}).then(l=>{l.clientSecret?o(l.clientSecret):console.error("No se recibi clientSecret:",l)}).catch(l=>{console.error(" Error creando el intent:",l.message)}))},[n]);const a=async l=>{var h,p,g;if(l.preventDefault(),!t||!e)return;const c=JSON.parse(localStorage.getItem("shippingData")||"{}"),u=(i==null?void 0:i.email)||localStorage.getItem("email")||(c==null?void 0:c.email)||"";if(!u||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){alert("Por favor, ingresa un correo electrnico vlido para poder enviarte la confirmacin del pedido.");return}const f=await t.confirmCardPayment(s,{payment_method:{card:e.getElement(z6)}});if(f.error)alert(f.error.message);else if(((h=f.paymentIntent)==null?void 0:h.status)==="succeeded"){const v=JSON.parse(localStorage.getItem("shippingData")||"{}"),y={...Fpe(r,v),clientEmail:(i==null?void 0:i.email)||localStorage.getItem("email")||(v==null?void 0:v.email)||"",createdAt:new Date().toISOString(),paymentIntentId:(p=f.paymentIntent)==null?void 0:p.id,paymentIntentStatus:(g=f.paymentIntent)==null?void 0:g.status,paymentMethod:"Stripe",status:"Pagado",clientInfo:{fullName:v.fullName||"",phone:v.phone||"",address:v.address||"",address2:v.address2||"",city:v.city||"",state:v.state||"",zip:v.zip||"",country:v.country||"Estados Unidos"}};if(console.log(" cartItems:",r),console.log(" shippingData:",v),console.log(" total:",n),console.log(" Order que se enviar al backend:",y),!y.clientEmail){alert(" No se encontr el email del cliente. No se puede guardar la orden.");return}try{const w=await fetch("http://localhost:4000/api/save-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...y,totalAmount:n,items:r,shippingInfo:v})});if(!w.ok)throw new Error("Error al guardar el pedido");const E=await w.text();try{const T=JSON.parse(E)}catch{console.warn("Respuesta vaca o no JSON. Redirigiendo igual.")}localStorage.removeItem("cart"),window.location.href="/success"}catch(w){console.error("Error al guardar el pedido:",w)}}};return A.jsxs("form",{onSubmit:a,className:"space-y-4",children:[A.jsx(z6,{className:"p-4 border rounded"}),A.jsx("button",{type:"submit",disabled:!t,className:"w-full bg-black text-white py-2 rounded hover:bg-gray-900",children:"Pagar"})]})},Vpe=()=>A.jsxs("div",{className:"mt-6 bg-white shadow-md rounded p-4 border border-gray-200",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pago Seguro"}),A.jsx(Nk,{stripe:jpe,children:A.jsx(Bpe,{})})]});function $pe(){const{cartItems:t,shippingInfo:e}=pl();console.log(" Datos recibidos en CheckoutPage:",e);const n=TA(void 0);return A.jsxs(A.Fragment,{children:[A.jsx(Ipe,{}),A.jsx("div",{className:"w-full border-b border-gray-200 bg-white py-4 mt-24 z-10 relative",children:A.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-sm text-gray-500 flex justify-between items-center",children:[A.jsx("span",{className:"font-semibold text-black",children:"Carrito"}),A.jsx("span",{children:""}),A.jsx("span",{className:"font-semibold text-black",children:"Envo"}),A.jsx("span",{children:""}),A.jsx("span",{className:"text-gray-400",children:"Pago"})]})}),A.jsxs("main",{className:"max-w-4xl mx-auto px-4 pt-32 pb-8",children:[A.jsx("section",{className:"mb-8",children:A.jsx("div",{className:"bg-gray-100 p-4 rounded",children:A.jsx(Mpe,{})})}),A.jsx("section",{className:"mb-8",children:A.jsx("div",{className:"md:bg-white md:shadow-md md:rounded-md md:p-6 md:border md:border-gray-200 md:text-sm md:text-base md:space-y-1",children:A.jsx(Ope,{})})}),A.jsx("hr",{className:"my-4 border-t border-gray-300"}),A.jsxs("section",{className:"mb-8",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Mtodo de Pago"}),A.jsx(Nk,{stripe:n,children:A.jsx(Vpe,{})})]}),A.jsx("div",{className:"text-right",children:A.jsx("button",{className:"w-full sm:w-auto bg-black text-white px-6 py-3 rounded shadow-md font-semibold text-sm hover:bg-gray-900 transition-transform duration-200 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black",onClick:async()=>{if(!await TA(void 0)){console.error("Stripe no se pudo inicializar");return}const i=t.map(s=>({name:s.title||"Producto",quantity:s.quantity||1,price:typeof s.price=="string"?parseFloat(s.price):s.price||0}));try{const o=await(await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:i})})).json();if(!o.url)throw new Error("No se recibi la URL de redireccin desde Stripe");window.location.href=o.url}catch(s){console.error(" Error al iniciar Stripe Checkout:",s)}},children:"Finalizar Compra"})})]})]})}function zpe(){gl();const{clearCart:t}=pl(),[e,n]=b.useState(null),[r,i]=b.useState(null),[s,o]=b.useState([]),[a,l]=b.useState(null);return b.useEffect(()=>{(async()=>{const u=new URLSearchParams(window.location.search),f=u.get("payment_intent"),h=u.get("redirect_status"),p=localStorage.getItem("cart"),g=localStorage.getItem("clientEmail"),v=localStorage.getItem("clientData"),y=p?JSON.parse(p):[],w=v?JSON.parse(v):null;if(!w||!g||!Array.isArray(y)||y.length===0||!w.name||!w.phone||!w.address||!w.city||!w.state||!w.zip){console.warn(" Faltan datos del cliente o del carrito.");return}const E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,T=/^\d{5}$/;if(!E.test(g)||!T.test(w.zip)){console.warn(" Email o ZIP invlidos.");return}const I=y.reduce((B,R)=>B+(R.price||0)*(R.quantity||1),0),F={cartItems:y,client:{name:w.name,email:g,phone:w.phone,address:`${w.address}, ${w.city}, ${w.state}, ${w.zip}`,country:w.country||"Estados Unidos"},totalAmount:parseFloat(I.toFixed(2)),paymentIntentId:f||"",paymentStatus:h||"unknown",paymentMethod:"Stripe",date:new Date().toISOString(),estado:h==="succeeded"?"Confirmado":"En proceso"};if(h==="succeeded")try{await Cde(F),localStorage.removeItem("cart"),localStorage.removeItem("clientEmail"),localStorage.removeItem("clientData"),t(),console.log(" Pedido guardado y carrito limpiado.")}catch(B){console.error(" Error al guardar el pedido:",B)}})()},[]),A.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center px-4 text-center",children:[A.jsx("h1",{className:"text-3xl font-bold mb-4 text-green-600",children:"Pago exitoso!"}),A.jsx("p",{className:"text-gray-700 mb-2",children:"Gracias por tu compra. Te enviaremos un WhatsApp para coordinar el envo."}),s.length>0&&A.jsxs("div",{className:"mt-6 text-left max-w-md w-full bg-white border rounded-lg shadow p-4",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Resumen del pedido"}),A.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:s.map((c,u)=>A.jsxs("li",{className:"flex justify-between border-b py-1",children:[A.jsxs("span",{children:[c.title||c.name," x",c.quantity||1]}),A.jsxs("span",{children:["$",(c.price*(c.quantity||1)).toFixed(2)]})]},u))})]}),a&&A.jsxs("div",{className:"mt-6 text-left max-w-md w-full bg-white border rounded-lg shadow p-4",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Datos del cliente"}),A.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Nombre:"})," ",a.name]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Email:"})," ",a.email]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Telfono:"})," ",a.phone]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Direccin:"})," ",a.address]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Ciudad:"})," ",a.city]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Estado:"})," ",a.state]}),A.jsxs("li",{children:[A.jsx("strong",{children:"ZIP:"})," ",a.zip]})]})]}),e&&A.jsxs("div",{className:"bg-gray-100 text-gray-800 px-4 py-2 rounded-lg mt-4 text-sm",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"ID de pago:"})," ",e]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Estado:"})," ",r]})]}),A.jsx("button",{onClick:()=>{t(),window.location.href="/"},className:"mt-6 bg-black text-white px-6 py-3 rounded-full hover:bg-black/90 transition",children:"Volver al inicio"})]})}function Upe({activeView:t,onChangeView:e}){const n=[{label:"Clientes",view:"clients"},{label:"Ver Publicaciones",view:"productList"},{label:"Crear Publicaciones",view:"productForm"},{label:"Historial de Pedidos",view:"orders"},{label:"Categoras",view:"categories"},{label:"Usuarios",view:"users"}];return A.jsxs("aside",{className:"w-64 bg-white shadow-lg border-r border-gray-200 h-screen px-4 py-6 flex flex-col items-center",children:[A.jsx("img",{src:"/logo1.png",alt:"Logo Looma",className:"h-20 w-auto mb-4"}),A.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Panel de Administracin"}),A.jsx("nav",{className:"space-y-2 w-full",children:n.map(r=>A.jsx("button",{onClick:()=>e(r.view),className:`w-full text-left px-4 py-2 rounded font-medium transition ${t===r.view?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:r.label},r.view))})]})}function qpe({onSelectClient:t}){const[e,n]=b.useState(""),[r,i]=b.useState([]),[s,o]=b.useState(null),a=cc();b.useEffect(()=>{async function c(){try{const u=await Ede();i(u)}catch(u){console.error("Error fetching clients from Firebase:",u)}}c()},[]);const l=r.filter(c=>(c.name||"").toLowerCase().includes(e.toLowerCase()));return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Lista de Clientes"}),A.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:e,onChange:c=>n(c.target.value),className:"border px-3 py-1 rounded text-sm"})]}),A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2",children:"Nombre"}),A.jsx("th",{className:"py-2",children:"Email"}),A.jsx("th",{className:"py-2",children:"Telfono"}),A.jsx("th",{className:"py-2",children:"Direccin"}),A.jsx("th",{className:"py-2",children:"Pas"}),A.jsx("th",{className:"py-2",children:"Acciones"})]})}),A.jsx("tbody",{children:l.map(c=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:c.name}),A.jsx("td",{className:"py-2",children:c.email}),A.jsx("td",{className:"py-2",children:c.phone}),A.jsx("td",{className:"py-2",children:c.address}),A.jsx("td",{className:"py-2",children:c.country}),A.jsxs("td",{className:"py-2 flex gap-2",children:[A.jsx("button",{onClick:()=>t?t(c.id):a(`/admin/clientes/${c.id}`),className:"text-blue-600 hover:underline text-sm",children:"Ver perfil"}),A.jsx("button",{onClick:()=>o(c),className:"text-red-600 hover:text-red-800",title:"Eliminar cliente",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3m5 0H6"})})})]})]},c.id))})]}),s&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded shadow-md max-w-sm w-full text-center",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Eliminar cliente?"}),A.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Ests seguro de que deseas eliminar a ",A.jsx("span",{className:"font-bold",children:s.name}),"? Esta accin no se puede deshacer."]}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:async()=>{await Sde(s.id),i(c=>c.filter(u=>u.id!==s.id)),o(null)},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition",children:"S, eliminar"}),A.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:"Cancelar"})]})]})})]})}function bs(t){this.content=t}bs.prototype={constructor:bs,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new bs(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new bs(n)},addToStart:function(t,e){return new bs([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new bs(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new bs(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=bs.from(t),t.size?new bs(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=bs.from(t),t.size?new bs(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=bs.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};bs.from=function(t){if(t instanceof bs)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new bs(e)};function pV(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=pV(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function mV(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=mV(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class mt{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new mt(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new mt(r,i)}cutByIndex(e,n){return e==n?mt.empty:e==0&&n==this.content.length?this:new mt(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new mt(i,s)}addToStart(e){return new mt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new mt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return pV(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return mV(this,e,n,r)}findIndex(e,n=-1){if(e==0)return L1(0,e);if(e==this.size)return L1(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?L1(r+1,o):L1(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return mt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new mt(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return mt.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new mt(n||e,r)}static from(e){if(!e)return mt.empty;if(e instanceof mt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new mt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}mt.empty=new mt([],0);const HE={index:0,offset:0};function L1(t,e){return HE.index=t,HE.offset=e,HE}function r2(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!r2(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!r2(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let yr=class NA{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&r2(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return NA.none;if(e instanceof NA)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};yr.none=[];class i2 extends Error{}class _t{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=vV(this.content,e+this.openStart,n);return r&&new _t(r,this.openStart,this.openEnd)}removeBetween(e,n){return new _t(gV(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return _t.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new _t(mt.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new _t(e,r,i)}}_t.empty=new _t(mt.empty,0,0);function gV(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(gV(s.content,e-i-1,n-i-1)))}function vV(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=vV(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function Hpe(t,e,n){if(n.openStart>t.depth)throw new i2("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new i2("Inconsistent open depths");return yV(t,e,n,0)}function yV(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=yV(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Yh(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Wpe(n,t);return Yh(s,bV(t,o,a,e,r))}else return Yh(s,s2(t,e,r))}function xV(t,e){if(!e.type.compatibleContent(t.type))throw new i2("Cannot join "+e.type.name+" onto "+t.type.name)}function LA(t,e,n){let r=t.node(n);return xV(r,e.node(n)),r}function Kh(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function q0(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Kh(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Kh(i.child(a),r);e&&e.depth==n&&e.textOffset&&Kh(e.nodeBefore,r)}function Yh(t,e){return t.type.checkContent(e),t.copy(e)}function bV(t,e,n,r,i){let s=t.depth>i&&LA(t,e,i+1),o=r.depth>i&&LA(n,r,i+1),a=[];return q0(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(xV(s,o),Kh(Yh(s,bV(t,e,n,r,i+1)),a)):(s&&Kh(Yh(s,s2(t,e,i+1)),a),q0(e,n,i,a),o&&Kh(Yh(o,s2(n,r,i+1)),a)),q0(r,null,i,a),new mt(a)}function s2(t,e,n){let r=[];if(q0(null,t,n,r),t.depth>n){let i=LA(t,e,n+1);Kh(Yh(i,s2(t,e,n+1)),r)}return q0(e,null,n,r),new mt(r)}function Wpe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(mt.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Pv{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return yr.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new o2(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Pv(n,r,s)}static resolveCached(e,n){let r=U6.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else U6.set(e,r=new Gpe);let i=r.elts[r.i]=Pv.resolve(e,n);return r.i=(r.i+1)%Kpe,i}}class Gpe{constructor(){this.elts=[],this.i=0}}const Kpe=12,U6=new WeakMap;class o2{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ype=Object.create(null);let Nf=class IA{constructor(e,n,r,i=yr.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||mt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&r2(this.attrs,n||e.defaultAttrs||Ype)&&yr.sameSet(this.marks,r||yr.none)}copy(e=null){return e==this.content?this:new IA(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new IA(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return _t.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new _t(c,i.depth-o,s.depth-o)}replace(e,n,r){return Hpe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Pv.resolveCached(this,e)}resolveNoCache(e){return Pv.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wV(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=mt.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=yr.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!yr.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=mt.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Nf.prototype.text=void 0;class a2 extends Nf{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new a2(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new a2(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wV(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class lp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Xpe(e,n);if(r.next==null)return lp.empty;let i=EV(r);r.next&&r.err("Unexpected trailing text");let s=rme(nme(i));return ime(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return mt.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let h=s(f,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}lp.empty=new lp(!0);class Xpe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function EV(t){let e=[];do e.push(Jpe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Jpe(t){let e=[];do e.push(Qpe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Qpe(t){let e=tme(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Zpe(t,e);else break;return e}function q6(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Zpe(t,e){let n=q6(t),r=n;return t.eat(",")&&(t.next!="}"?r=q6(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function eme(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function tme(t){if(t.eat("(")){let e=EV(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=eme(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function nme(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function SV(t,e){return e-t}function H6(t,e){let n=[];return r(e),n.sort(SV);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function rme(t){let e=Object.create(null);return n(H6(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);H6(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new lp(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(SV);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function ime(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function CV(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function AV(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function _V(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function TV(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ome(t,r,e[r]);return n}let W6=class kV{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=TV(e,r.attrs),this.defaultAttrs=CV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==lp.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:AV(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Nf(this,this.computeAttrs(e),mt.from(n),yr.setFrom(r))}createChecked(e=null,n,r){return n=mt.from(n),this.checkContent(n),new Nf(this,this.computeAttrs(e),n,yr.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=mt.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(mt.empty,!0);return s?new Nf(this,e,n.append(s),yr.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){_V(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:yr.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new kV(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function sme(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class ome{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?sme(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class xw{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=TV(e,i.attrs),this.excluded=null;let s=CV(this.attrs);this.instance=s?new yr(this,s):null}create(e=null){return!e&&this.instance?this.instance:new yr(this,AV(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new xw(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){_V(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class PV{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=bs.from(e.nodes),n.marks=bs.from(e.marks||{}),this.nodes=W6.compile(this.spec.nodes,this),this.marks=xw.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=lp.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?G6(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:G6(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof W6){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new a2(r,r.defaultAttrs,e,yr.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Nf.fromJSON(this,e)}markFromJSON(e){return yr.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function G6(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function ame(t){return t.tag!=null}function lme(t){return t.style!=null}let H0=class DA{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(ame(i))this.tags.push(i);else if(lme(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Y6(this,n,!1);return r.addAll(e,yr.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Y6(this,n,!0);return r.addAll(e,yr.none,n.from,n.to),_t.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(dme(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=X6(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=X6(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DA(e,DA.schemaRules(e)))}};const NV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},cme={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},LV={ol:!0,ul:!0},Nv=1,RA=2,Jx=4;function K6(t,e,n){return e!=null?(e?Nv:0)|(e==="full"?RA:0):t&&t.whitespace=="pre"?Nv|RA:n&-5}class I1{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=yr.none,this.match=s||(o&Jx?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(mt.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Nv)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=mt.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(mt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!NV.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Y6{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=K6(null,n.preserveWhitespace,0)|(r?Jx:0);i?s=new I1(i.type,i.attrs,yr.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new I1(null,null,yr.none,!0,null,o):s=new I1(e.schema.topNodeType,null,yr.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&RA?"full":this.localPreserveWS||(i.options&Nv)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;LV.hasOwnProperty(o)&&this.parser.normalizeLists&&ume(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:cme.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(NV.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let f=l&&l.skip?n:this.readStyles(e,n);f&&this.addAll(e,f),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)n=this.enterInner(i[o],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=yr.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):J6(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r,!1);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=K6(e,s,o.options);o.options&Jx&&o.content.length==0&&(a|=Jx);let l=yr.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):J6(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new I1(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Nv)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function ume(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&LV.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function dme(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function X6(t){let e={};for(let n in t)e[n]=t[n];return e}function J6(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class Sp{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=WE(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Qx(WE(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Qx(WE(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Qx(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Sp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Q6(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Q6(e.marks)}}function Q6(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function WE(t){return t.document||window.document}const Z6=new WeakMap;function fme(t){let e=Z6.get(t);return e===void 0&&Z6.set(t,e=hme(t)),e}function hme(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Qx(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=fme(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let h=f.indexOf(" ");h>0?l.setAttributeNS(f.slice(0,h),f.slice(h+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let h=e[f];if(h===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:g}=Qx(t,h,n,r);if(l.appendChild(p),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const IV=65535,DV=Math.pow(2,16);function pme(t,e){return t+e*DV}function eR(t){return t&IV}function mme(t){return(t-(t&IV))/DV}const RV=1,MV=2,Zx=4,OV=8;class MA{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&OV)>0}get deletedBefore(){return(this.delInfo&(RV|Zx))>0}get deletedAfter(){return(this.delInfo&(MV|Zx))>0}get deletedAcross(){return(this.delInfo&Zx)>0}}class Aa{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Aa.empty)return Aa.empty}recover(e){let n=0,r=eR(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+mme(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(e<=f){let h=c?e==l?-1:e==f?1:n:n,p=l+i+(h<0?0:u);if(r)return p;let g=e==(n<0?l:f)?null:pme(a/3,e-l),v=e==l?MV:e==f?RV:Zx;return(n<0?e!=l:e!=f)&&(v|=OV),new MA(p,v,g)}i+=u-c}return r?e+i:new MA(e+i,0,null)}touches(e,n){let r=0,i=eR(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new Aa(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Aa.empty:new Aa(e<0?[0,-e,0]:[0,0,e])}}Aa.empty=new Aa([]);class Lv{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Lv(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Lv;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new MA(e,i,null)}}const GE=Object.create(null);class io{getMap(){return Aa.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=GE[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in GE)throw new RangeError("Duplicate use of step JSON ID "+e);return GE[e]=n,n.prototype.jsonID=e,n}}class mi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new mi(e,null)}static fail(e){return new mi(null,e)}static fromReplace(e,n,r,i){try{return mi.ok(e.replace(n,r,i))}catch(s){if(s instanceof i2)return mi.fail(s.message);throw s}}}function Lk(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(Lk(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return mt.fromArray(r)}class xf extends io{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new _t(Lk(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return mi.fromReplace(e,this.from,this.to,s)}invert(){return new Vc(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xf(n.pos,r.pos,this.mark)}merge(e){return e instanceof xf&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xf(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new xf(n.from,n.to,e.markFromJSON(n.mark))}}io.jsonID("addMark",xf);class Vc extends io{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new _t(Lk(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return mi.fromReplace(e,this.from,this.to,r)}invert(){return new xf(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vc(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Vc(n.from,n.to,e.markFromJSON(n.mark))}}io.jsonID("removeMark",Vc);class bf extends io{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return mi.fromReplace(e,this.pos,this.pos+1,new _t(mt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new bf(this.pos,n.marks[i]);return new bf(this.pos,this.mark)}}return new cp(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bf(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bf(n.pos,e.markFromJSON(n.mark))}}io.jsonID("addNodeMark",bf);class cp extends io{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return mi.fromReplace(e,this.pos,this.pos+1,new _t(mt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bf(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new cp(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new cp(n.pos,e.markFromJSON(n.mark))}}io.jsonID("removeNodeMark",cp);class es extends io{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&OA(e,this.from,this.to)?mi.fail("Structure replace would overwrite content"):mi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Aa([this.from,this.to-this.from,this.slice.size])}invert(e){return new es(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new es(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof es)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?_t.empty:new _t(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new es(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?_t.empty:new _t(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new es(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new es(n.from,n.to,_t.fromJSON(e,n.slice),!!n.structure)}}io.jsonID("replace",es);class ts extends io{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(OA(e,this.from,this.gapFrom)||OA(e,this.gapTo,this.to)))return mi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return mi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?mi.fromReplace(e,this.from,this.to,r):mi.fail("Content does not fit in gap")}getMap(){return new Aa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ts(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ts(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ts(n.from,n.to,n.gapFrom,n.gapTo,_t.fromJSON(e,n.slice),n.insert,!!n.structure)}}io.jsonID("replaceAround",ts);function OA(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function gme(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),p=Math.min(c+l.nodeSize,n),g=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(g)||(o&&o.to==h&&o.mark.eq(f[v])?o.to=p:i.push(o=new Vc(h,p,f[v])));a&&a.to==h?a.to=p:s.push(a=new xf(h,p,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function vme(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof xw){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let f=l[u],h;for(let p=0;p<i.length;p++){let g=i[p];g.step==s-1&&f.eq(i[p].style)&&(h=g)}h?(h.to=c,h.step=s):i.push({style:f,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Vc(o.from,o.to,o.style)))}function Ik(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new es(a,u,_t.empty));else{r=f;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new Vc(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,g;for(;h=p.exec(c.text);)g||(g=new _t(mt.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new es(a+h.index,a+h.index+h[0].length,g))}}a=u}if(!r.validEnd){let l=r.fillBefore(mt.empty,!0);t.replace(a,a,new _t(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function yme(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _g(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!yme(i,s,o))break}return null}function xme(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=mt.empty,f=0;for(let g=s,v=!1;g>n;g--)v||r.index(g)>0?(v=!0,u=mt.from(r.node(g).copy(u)),f++):l--;let h=mt.empty,p=0;for(let g=s,v=!1;g>n;g--)v||i.after(g+1)<i.end(g)?(v=!0,h=mt.from(i.node(g).copy(h)),p++):c++;t.step(new ts(l,c,o,a,new _t(u.append(h),f,p),u.size-f,!0))}function Dk(t,e,n=null,r=t){let i=bme(t,e),s=i&&wme(r,e);return s?i.map(tR).concat({type:e,attrs:n}).concat(s.map(tR)):null}function tR(t){return{type:t,attrs:null}}function bme(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function wme(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function Eme(t,e,n){let r=mt.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=mt.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new ts(i,s,i,s,new _t(r,0,0),n.length,!0))}function Sme(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&Cme(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!g?c=!1:!p&&g&&(c=!0)}c===!1&&jV(t,o,a,s),Ik(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),f=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new ts(f,h,f+1,h-1,new _t(mt.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&FV(t,o,a,s),!1}})}function FV(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function jV(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Cme(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function Ame(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ts(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new _t(mt.from(o),0,0),1,!0))}function ed(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let f=i.node(c),h=i.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(h,f.childCount),g=r&&r[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[u]||f;if(!f.canReplace(h+1,f.childCount)||!v.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function _me(t,e,n=1,r){let i=t.doc.resolve(e),s=mt.empty,o=mt.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=mt.from(i.node(a).copy(s));let u=r&&r[c];o=mt.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new es(e,e,new _t(s.append(o),n,n),!0))}function eh(t,e){let n=t.resolve(e),r=n.index();return BV(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Tme(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function BV(t,e){return!!(t&&e&&!t.isLeaf&&Tme(t,e))}function bw(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&BV(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function kme(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);u&&!f?r=!1:!u&&f&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);jV(t,u.node(),u.before(),a)}o.inlineContent&&Ik(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new es(c,l.map(e+n,-1),_t.empty,!0)),r===!0){let u=t.doc.resolve(c);FV(t,u.node(),u.before(),t.steps.length)}return t}function Pme(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function VV(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function ww(t,e,n=e,r=_t.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return $V(i,s,r)?new es(e,n,r):new Nme(i,s,r).fit()}function $V(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Nme{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=mt.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=mt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new _t(s,o,a);return e>-1?new ts(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new es(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=KE(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(n==1&&(o?c.matchType(o.type)||(f=c.fillBefore(mt.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=KE(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new _t(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=KE(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new _t(C0(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new _t(C0(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:h}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));f=f.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let v=a.child(c),y=f.matchType(v.type);if(!y)break;c++,(c>1||l==0||v.content.size)&&(f=y,u.push(zV(v.mark(h.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?p:-1)))}let g=c==a.childCount;g||(p=-1),this.placed=A0(this.placed,n,mt.from(u)),this.frontier[n].match=f,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,y=a;v<p;v++){let w=y.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),y=w.content}this.unplaced=g?e==0?_t.empty:new _t(C0(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new _t(C0(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!YE(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=YE(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=YE(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=A0(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=A0(this.placed,this.depth,mt.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(mt.empty,!0);n.childCount&&(this.placed=A0(this.placed,this.frontier.length,n))}}function C0(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(C0(t.firstChild.content,e-1,n)))}function A0(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(A0(t.lastChild.content,e-1,n)))}function KE(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function zV(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,zV(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(mt.empty,!0)))),t.copy(r)}function YE(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Lme(n,s.content,o)?a:null}function Lme(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Ime(t){return t.spec.defining||t.spec.definingForContent}function Dme(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if($V(i,s,r))return t.step(new es(e,n,r));let o=qV(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,p=i.pos-1;h>0;h--,p--){let g=i.node(h).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==p&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,p=0;;p++){let g=h.firstChild;if(c.push(g),p==r.openStart)break;h=g.content}for(let h=u-1;h>=0;h--){let p=c[h],g=Ime(p.type);if(g&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(g||!p.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let p=(h+u+1)%(r.openStart+1),g=c[p];if(g)for(let v=0;v<o.length;v++){let y=o[(v+l)%o.length],w=!0;y<0&&(w=!1,y=-y);let E=i.node(y-1),T=i.index(y-1);if(E.canReplaceWith(T,T,g.type,g.marks))return t.replace(i.before(y),w?s.after(y):n,new _t(UV(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>f));h--){let p=o[h];p<0||(e=i.before(p),n=s.after(p))}}function UV(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(UV(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(mt.empty,!0))}return t}function Rme(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Pme(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new _t(mt.from(r),0,0))}function Mme(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=qV(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function qV(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class Dm extends io{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return mi.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return mi.fromReplace(e,this.pos,this.pos+1,new _t(mt.from(i),0,n.isLeaf?0:1))}getMap(){return Aa.empty}invert(e){return new Dm(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dm(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Dm(n.pos,n.attr,n.value)}}io.jsonID("attr",Dm);class Iv extends io{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return mi.ok(r)}getMap(){return Aa.empty}invert(e){return new Iv(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Iv(n.attr,n.value)}}io.jsonID("docAttr",Iv);let tg=class extends Error{};tg=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};tg.prototype=Object.create(Error.prototype);tg.prototype.constructor=tg;tg.prototype.name="TransformError";class Ome{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Lv}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new tg(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=_t.empty){let i=ww(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new _t(mt.from(r),0,0))}delete(e,n){return this.replace(e,n,_t.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Dme(this,e,n,r),this}replaceRangeWith(e,n,r){return Rme(this,e,n,r),this}deleteRange(e,n){return Mme(this,e,n),this}lift(e,n){return xme(this,e,n),this}join(e,n=1){return kme(this,e,n),this}wrap(e,n){return Eme(this,e,n),this}setBlockType(e,n=e,r,i=null){return Sme(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return Ame(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Dm(e,n,r)),this}setDocAttribute(e,n){return this.step(new Iv(e,n)),this}addNodeMark(e,n){return this.step(new bf(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof yr)n.isInSet(r.marks)&&this.step(new cp(e,n));else{let i=r.marks,s,o=[];for(;s=n.isInSet(i);)o.push(new cp(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,n=1,r){return _me(this,e,n,r),this}addMark(e,n,r){return gme(this,e,n,r),this}removeMark(e,n,r){return vme(this,e,n,r),this}clearIncompatible(e,n,r){return Ik(this,e,n,r),this}}const XE=Object.create(null);class xn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Fme(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=_t.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?_t.empty:n),a==0&&iR(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),iR(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new dn(e):cm(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?cm(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):cm(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Pa(e.node(0))}static atStart(e){return cm(e,e,0,0,1)||new Pa(e)}static atEnd(e){return cm(e,e,e.content.size,e.childCount,-1)||new Pa(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=XE[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in XE)throw new RangeError("Duplicate use of selection JSON ID "+e);return XE[e]=n,n.prototype.jsonID=e,n}getBookmark(){return dn.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class Fme{constructor(e,n){this.$from=e,this.$to=n}}let nR=!1;function rR(t){!nR&&!t.parent.inlineContent&&(nR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class dn extends xn{constructor(e,n=e){rR(e),rR(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return xn.near(r);let i=e.resolve(n.map(this.anchor));return new dn(i.parent.inlineContent?i:r,r)}replace(e,n=_t.empty){if(super.replace(e,n),n==_t.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof dn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ew(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new dn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=xn.findFrom(n,r,!0)||xn.findFrom(n,-r,!0);if(s)n=s.$head;else return xn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(xn.findFrom(e,-r,!0)||xn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new dn(e,n)}}xn.jsonID("text",dn);class Ew{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ew(e.map(this.anchor),e.map(this.head))}resolve(e){return dn.between(e.resolve(this.anchor),e.resolve(this.head))}}class qt extends xn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?xn.near(s):new qt(s)}content(){return new _t(mt.from(this.node),0,0)}eq(e){return e instanceof qt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Rk(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qt(e.resolve(n.anchor))}static create(e,n){return new qt(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}qt.prototype.visible=!1;xn.jsonID("node",qt);class Rk{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ew(r,r):new Rk(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&qt.isSelectable(r)?new qt(n):xn.near(n)}}class Pa extends xn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=_t.empty){if(n==_t.empty){e.delete(0,e.doc.content.size);let r=xn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Pa(e)}map(e){return new Pa(e)}eq(e){return e instanceof Pa}getBookmark(){return jme}}xn.jsonID("all",Pa);const jme={map(){return this},resolve(t){return new Pa(t)}};function cm(t,e,n,r,i,s=!1){if(e.inlineContent)return dn.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&qt.isSelectable(a))return qt.create(t,n-(i<0?a.nodeSize:0))}else{let l=cm(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function iR(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof es||i instanceof ts))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(xn.near(t.doc.resolve(o),n))}const sR=1,oR=2,aR=4;class Bme extends Ome{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|sR)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&sR)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=oR,this}ensureMarks(e){return yr.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&oR)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||yr.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=aR,this}get scrolledIntoView(){return(this.updated&aR)>0}}function lR(t,e){return!e||!t?t:t.bind(e)}class _0{constructor(e,n,r){this.name=e,this.init=lR(n.init,r),this.apply=lR(n.apply,r)}}const Vme=[new _0("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new _0("selection",{init(t,e){return t.selection||xn.atStart(e.doc)},apply(t){return t.selection}}),new _0("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new _0("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class JE{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Vme.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _0(r.key,r.spec.state,r))})}}class wm{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new wm(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Bme(this)}static create(e){let n=new JE(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new wm(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new JE(this.schema,e.plugins),r=n.fields,i=new wm(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new JE(e.schema,e.plugins),s=new wm(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Nf.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=xn.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function HV(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=HV(i,e,{})),n[r]=i}return n}class na{constructor(e){this.spec=e,this.props={},e.props&&HV(e.props,this,this.props),this.key=e.key?e.key.key:WV("plugin")}getState(e){return e[this.key]}}const QE=Object.create(null);function WV(t){return t in QE?t+"$"+ ++QE[t]:(QE[t]=0,t+"$")}class du{constructor(e="key"){this.key=WV(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ss=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ng=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let FA=null;const Hu=function(t,e,n){let r=FA||(FA=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},$me=function(){FA=null},up=function(t,e,n,r){return n&&(cR(t,e,n,r,-1)||cR(t,e,n,r,1))},zme=/^(img|br|input|textarea|hr)$/i;function cR(t,e,n,r,i){for(var s;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ll(t))){let o=t.parentNode;if(!o||o.nodeType!=1||my(t)||zme.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ss(t)+(i<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else t=o,e=i<0?ll(t):0}else return!1}}function ll(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ume(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ll(t)}else if(t.parentNode&&!my(t))e=Ss(t),t=t.parentNode;else return null}}function qme(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!my(t))e=Ss(t)+1,t=t.parentNode;else return null}}function Hme(t,e,n){for(let r=e==0,i=e==ll(t);r||i;){if(t==n)return!0;let s=Ss(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==ll(t)}}function my(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Sw=function(t){return t.focusNode&&up(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ph(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Wme(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Gme(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(ll(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(ll(r.startContainer),r.startOffset)}}}const su=typeof navigator<"u"?navigator:null,uR=typeof document<"u"?document:null,th=su&&su.userAgent||"",jA=/Edge\/(\d+)/.exec(th),GV=/MSIE \d/.exec(th),BA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(th),ea=!!(GV||BA||jA),Lf=GV?document.documentMode:BA?+BA[1]:jA?+jA[1]:0,sc=!ea&&/gecko\/(\d+)/i.test(th);sc&&+(/Firefox\/(\d+)/.exec(th)||[0,0])[1];const VA=!ea&&/Chrome\/(\d+)/.exec(th),Zs=!!VA,KV=VA?+VA[1]:0,Po=!ea&&!!su&&/Apple Computer/.test(su.vendor),rg=Po&&(/Mobile\/\w+/.test(th)||!!su&&su.maxTouchPoints>2),ol=rg||(su?/Mac/.test(su.platform):!1),Kme=su?/Win/.test(su.platform):!1,Yu=/Android \d/.test(th),gy=!!uR&&"webkitFontSmoothing"in uR.documentElement.style,Yme=gy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Xme(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Vu(t,e){return typeof t=="number"?t:t[e]}function Jme(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function dR(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;){if(o.nodeType!=1){o=ng(o);continue}let a=o,l=a==s.body,c=l?Xme(s):Jme(a),u=0,f=0;if(e.top<c.top+Vu(r,"top")?f=-(c.top-e.top+Vu(i,"top")):e.bottom>c.bottom-Vu(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+Vu(i,"top")-c.top:e.bottom-c.bottom+Vu(i,"bottom")),e.left<c.left+Vu(r,"left")?u=-(c.left-e.left+Vu(i,"left")):e.right>c.right-Vu(r,"right")&&(u=e.right-c.right+Vu(i,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{let p=a.scrollLeft,g=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let v=a.scrollLeft-p,y=a.scrollTop-g;e={left:e.left-v,top:e.top-y,right:e.right-v,bottom:e.bottom-y}}let h=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(h))break;o=h=="absolute"?o.offsetParent:ng(o)}}function Qme(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:YV(t.dom)}}function YV(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ng(r));return e}function Zme({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;XV(n,r==0?0:r-e)}function XV(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Zp=null;function ege(t){if(t.setActive)return t.setActive();if(Zp)return t.focus(Zp);let e=YV(t);t.focus(Zp==null?{get preventScroll(){return Zp={preventScroll:!0},!0}}:void 0),Zp||(Zp=!1,XV(e,0))}function JV(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,f=0;u;u=u.nextSibling,f++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=Hu(u).getClientRects();else continue;for(let p=0;p<h.length;p++){let g=h[p];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let v=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(v<r){n=u,r=v,i=v&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&v&&(s=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=f+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?tge(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:JV(n,i)}function tge(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=nf(r,1);if(s.top!=s.bottom&&Mk(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function Mk(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function nge(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function rge(t,e,n){let{node:r,offset:i}=JV(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function ige(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function QV(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Mk(e,c))return QV(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function sge(t,e){let n=t.dom.ownerDocument,r,i=0,s=Gme(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!Mk(e,c)||(o=QV(t.dom,e,c),!o))return null}if(Po)for(let c=o;r&&c;c=ng(c))c.draggable&&(r=void 0);if(o=nge(o,e),r){if(sc&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;gy&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=ige(t,r,i,e))}a==null&&(a=rge(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function fR(t){return t.top<t.bottom||t.left<t.right}function nf(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(fR(r))return r}return Array.prototype.find.call(n,fR)||t.getBoundingClientRect()}const oge=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ZV(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=gy||sc;if(r.nodeType==3)if(o&&(oge.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=nf(Hu(r,i,i),n);if(sc&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=nf(Hu(r,i-1,i-1),-1);if(c.top==l.top){let u=nf(Hu(r,i,i+1),-1);if(u.top!=l.top)return u0(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,u0(nf(Hu(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==ll(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return ZE(l.getBoundingClientRect(),!1)}if(s==null&&i<ll(r)){let l=r.childNodes[i];if(l.nodeType==1)return ZE(l.getBoundingClientRect(),!0)}return ZE(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==ll(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Hu(l,ll(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return u0(nf(c,1),!1)}if(s==null&&i<ll(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Hu(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return u0(nf(c,-1),!0)}return u0(nf(r.nodeType==3?Hu(r):r,-n),n>=0)}function u0(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ZE(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function e$(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function age(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return e$(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=ZV(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Hu(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const lge=/[\u0590-\u08ac]/;function cge(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!lge.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:e$(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:v}=t.domSelectionRange(),y=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),y}):r.pos==r.start()||r.pos==r.end()}let hR=null,pR=null,mR=!1;function uge(t,e,n){return hR==e&&pR==n?mR:(hR=e,pR=n,mR=n=="up"||n=="down"?age(t,e,n):cge(t,e,n))}const hl=0,gR=1,Bh=2,ou=3;class vy{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=hl,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ss(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof n$){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof t$&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Ss(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Ss(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let f=a;f>0;f--){let h=this.children[f-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Ss(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=Ss(f.dom);break}n+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let p=0,g=0;p<this.children.length;p++){let v=this.children[p],y=g+v.size;if(s>g&&o<y)return v.setSelection(e-g-v.border,n-g-v.border,r,i);g=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),f=!1;if((sc||Po)&&e==n){let{node:p,offset:g}=a;if(p.nodeType==3){if(f=!!(g&&p.nodeValue[g-1]==`
`),f&&g==p.nodeValue.length)for(let v=p,y;v;v=v.parentNode){if(y=v.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Ss(y)+1});break}let w=v.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let v=p.childNodes[g-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(sc&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&Po)&&up(a.node,a.offset,u.anchorNode,u.anchorOffset)&&up(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||e==n)&&!f){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(e>n){let g=a;a=l,l=g}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Bh:gR,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ou:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Bh:ou}r=o}this.dirty=Bh}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Bh:gR;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class t$ extends vy{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==hl&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class dge extends vy{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class dp extends vy{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=Sp.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new dp(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ou||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ou&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=hl){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=hl}}slice(e,n,r){let i=dp.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=zA(s,n,o,r)),e>0&&(s=zA(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class If extends vy{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=Sp.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=s$(u,r,n),c?l=new fge(e,n,r,i,u,f||null,h,c,s,o+1):n.isText?new Cw(e,n,r,i,u,h,s):new If(e,n,r,i,u,f||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>mt.empty)}return e}matchesNode(e,n,r){return this.dirty==hl&&e.eq(this.node)&&l2(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new pge(this,o&&o.node,e);vge(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?yr.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,f,h)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,f,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,f,p,e)||l.updateNextNode(c,u,f,e,h,i)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Bh)&&(o&&this.protectLocalComposition(e,o),r$(this.contentDOM,this.children,e),rg&&yge(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof dn)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=xge(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new dge(this,s,n,i);e.input.compositionNodes.push(o),this.children=zA(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==ou||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=hl}updateOuterDeco(e){if(l2(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=i$(this.dom,this.nodeDOM,$A(this.outerDeco,this.node,n),$A(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function vR(t,e,n,r,i){s$(r,e,t);let s=new If(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Cw extends If{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ou||this.dirty!=hl&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=hl||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=hl,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Cw(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ou)}get domAtom(){return!1}isText(e){return this.node.text==e}}class n$ extends vy{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==hl&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class fge extends If{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==ou)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function r$(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=yR(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof dp){let l=r?r.previousSibling:t.lastChild;r$(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=yR(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const W0=function(t){t&&(this.nodeName=t)};W0.prototype=Object.create(null);const Vh=[new W0];function $A(t,e,n){if(t.length==0)return Vh;let r=n?Vh[0]:new W0,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new W0(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new W0(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function i$(t,e,n,r){if(n==Vh&&r==Vh)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Vh[0]),i=l}hge(i,a||Vh[0],o)}return i}function hge(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function s$(t,e,n){return i$(t,t,Vh,$A(e,n,t.nodeType!=1))}function l2(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function yR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class pge{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=mge(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=hl,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=dp.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==ou&&o.dom==o.contentDOM&&(o.dirty=Bh),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof If){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,f,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=ou&&l2(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(f=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Bh,f.updateChildren(i,o+1),f.dirty=hl),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!l2(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=If.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=If.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new t$(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof dp;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Cw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Po||Zs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new n$(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function mge(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof dp)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function gge(t,e){return t.type.side-e.type.side}function vge(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<i.length&&i[o].to==s;){let y=i[o++];y.widget&&(u?(f||(f=[u])).push(y):u=y)}if(u)if(f){f.sort(gge);for(let y=0;y<f.length;y++)n(f[y],c,!!l)}else n(u,c,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(c<t.childCount)p=c,h=t.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=s&&a.splice(y--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let g=s+h.nodeSize;if(h.isText){let y=g;o<i.length&&i[o].from<y&&(y=i[o].from);for(let w=0;w<a.length;w++)a[w].to<y&&(y=a[w].to);y<g&&(l=h.cut(y-s),h=h.cut(0,y-s),g=y,p=-1)}else for(;o<i.length&&i[o].to<g;)o++;let v=h.isInline&&!h.isLeaf?a.filter(y=>!y.inline):a.slice();r(h,v,e.forChild(s,h),p),s=g}}function yge(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function xge(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function zA(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function Ok(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Sw(n)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&qt.isSelectable(f)&&i.parent&&!(f.isInline&&Hme(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new qt(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=o,h=o;for(let p=0;p<n.rangeCount;p++){let g=n.getRangeAt(p);f=Math.min(f,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(f<0)return null;[l,o]=h==t.state.selection.anchor?[h,f]:[f,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let f=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=Fk(t,u,a,f)}return c}function o$(t){return t.editable?t.hasFocus():l$(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function td(t,e=!1){let n=t.state.selection;if(a$(t,n),!!o$(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Zs){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&up(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)wge(t);else{let{anchor:r,head:i}=n,s,o;xR&&!(n instanceof dn)&&(n.$from.parent.inlineContent||(s=bR(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=bR(t,n.to))),t.docView.setSelection(r,i,t,e),xR&&(s&&wR(s),o&&wR(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&bge(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const xR=Po||Zs&&KV<63;function bR(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Po&&i&&i.contentEditable=="false")return eS(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return eS(i);if(s)return eS(s)}}function eS(t){return t.contentEditable="true",Po&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function wR(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function bge(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!o$(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function wge(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Ss(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ea&&Lf<=11&&(r.disabled=!0,r.disabled=!1)}function a$(t,e){if(e instanceof qt){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ER(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ER(t)}function ER(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Fk(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||dn.between(e,n,r)}function SR(t){return t.editable&&!t.hasFocus()?!1:l$(t)}function l$(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Ege(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return up(e.node,e.offset,n.anchorNode,n.anchorOffset)}function UA(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&xn.findFrom(s,e)}function sf(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function CR(t,e,n){let r=t.state.selection;if(r instanceof dn)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return sf(t,new dn(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=UA(t.state,e);return i&&i instanceof qt?sf(t,i):!1}else if(!(ol&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?qt.isSelectable(s)?sf(t,new qt(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):gy?sf(t,new dn(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof qt&&r.node.isInline)return sf(t,new dn(e>0?r.$to:r.$from));{let i=UA(t.state,e);return i?sf(t,i):!1}}}function c2(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function G0(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function em(t,e){return e<0?Sge(t):Cge(t)}function Sge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(sc&&n.nodeType==1&&r<c2(n)&&G0(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(G0(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(c$(n))break;{let a=n.previousSibling;for(;a&&G0(a,-1);)i=n.parentNode,s=Ss(a),a=a.previousSibling;if(a)n=a,r=c2(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?qA(t,n,r):i&&qA(t,i,s)}function Cge(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=c2(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(G0(a,1))s=n,o=++r;else break}else{if(c$(n))break;{let a=n.nextSibling;for(;a&&G0(a,1);)s=a.parentNode,o=Ss(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=c2(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&qA(t,s,o)}function c$(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Age(t,e){for(;t&&e==t.childNodes.length&&!my(t);)e=Ss(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function _ge(t,e){for(;t&&!e&&!my(t);)e=Ss(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function qA(t,e,n){if(e.nodeType!=3){let s,o;(o=Age(e,n))?(e=o,n=0):(s=_ge(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Sw(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&td(t)},50)}function AR(t,e){let n=t.state.doc.resolve(e);if(!(Zs||Kme)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function _R(t,e,n){let r=t.state.selection;if(r instanceof dn&&!r.empty||n.indexOf("s")>-1||ol&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=UA(t.state,e);if(o&&o instanceof qt)return sf(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof Pa?xn.near(o,e):xn.findFrom(o,e);return a?sf(t,a):!1}return!1}function TR(t,e){if(!(t.state.selection instanceof dn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function kR(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Tge(t){if(!Po||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;kR(t,r,"true"),setTimeout(()=>kR(t,r,"false"),20)}return!1}function kge(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Pge(t,e){let n=e.keyCode,r=kge(e);if(n==8||ol&&n==72&&r=="c")return TR(t,-1)||em(t,-1);if(n==46&&!e.shiftKey||ol&&n==68&&r=="c")return TR(t,1)||em(t,1);if(n==13||n==27)return!0;if(n==37||ol&&n==66&&r=="c"){let i=n==37?AR(t,t.state.selection.from)=="ltr"?-1:1:-1;return CR(t,i,r)||em(t,i)}else if(n==39||ol&&n==70&&r=="c"){let i=n==39?AR(t,t.state.selection.from)=="ltr"?1:-1:1;return CR(t,i,r)||em(t,i)}else{if(n==38||ol&&n==80&&r=="c")return _R(t,-1,r)||em(t,-1);if(n==40||ol&&n==78&&r=="c")return Tge(t)||_R(t,1,r)||em(t,1);if(r==(ol?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function jk(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=t.someProp("clipboardSerializer")||Sp.fromSchema(t.state.schema),a=m$(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=p$[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=a.createElement(u[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function u$(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new _t(mt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):_t.empty;let f=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(f)a=f;else{let h=i.marks(),{schema:p}=t.state,g=Sp.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let y=o.appendChild(document.createElement("p"));v&&y.appendChild(g.serializeNode(p.text(v,h)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),o=Dge(n),gy&&Rge(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||H0.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!Nge.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Mge(PR(a,+u[1],+u[2]),u[4]);else if(a=_t.maxOpen(Lge(a.content,i),!0),a.openStart||a.openEnd){let f=0,h=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=PR(a,f,h)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const Nge=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Lge(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&f$(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=h$(o[o.length-1],s.length));let u=d$(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return mt.from(o)}return t}function d$(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,mt.from(t));return t}function f$(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=f$(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(mt.from(d$(n,t,i+1))))}}function h$(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,h$(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(mt.empty,!0);return t.copy(n.append(r))}function HA(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=HA(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(mt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function PR(t,e,n){return e<t.openStart&&(t=new _t(HA(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new _t(HA(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const p$={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let NR=null;function m$(){return NR||(NR=document.implementation.createHTMLDocument("title"))}let tS=null;function Ige(t){let e=window.trustedTypes;return e?(tS||(tS=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),tS.createHTML(t)):t}function Dge(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=m$().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&p$[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Ige(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function Rge(t){let e=t.querySelectorAll(Zs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Mge(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=mt.from(l.create(r[a+1],i)),s++,o++}return new _t(i,s,o)}const No={},Lo={},Oge={touchstart:!0,touchmove:!0};class Fge{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jge(t){for(let e in No){let n=No[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Vge(t,r)&&!Bk(t,r)&&(t.editable||!(r.type in Lo))&&n(t,r)},Oge[e]?{passive:!0}:void 0)}Po&&t.dom.addEventListener("input",()=>null),WA(t)}function wf(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Bge(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function WA(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Bk(t,r))})}function Bk(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Vge(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function $ge(t,e){!Bk(t,e)&&No[e.type]&&(t.editable||!(e.type in Lo))&&No[e.type](t,e)}Lo.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!v$(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Yu&&Zs&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),rg&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ph(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||Pge(t,n)?n.preventDefault():wf(t,"key")};Lo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Lo.keypress=(t,e)=>{let n=e;if(v$(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ol&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof dn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),s=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i,s))&&t.dispatch(s()),n.preventDefault()}};function Aw(t){return{left:t.clientX,top:t.clientY}}function zge(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Vk(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function Rm(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Uge(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&qt.isSelectable(r)?(Rm(t,new qt(n)),!0):!1}function qge(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof qt&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(qt.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(Rm(t,qt.create(t.state.doc,i)),!0):!1}function Hge(t,e,n,r,i){return Vk(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?qge(t,n):Uge(t,n))}function Wge(t,e,n,r){return Vk(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Gge(t,e,n,r){return Vk(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Kge(t,n,r)}function Kge(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Rm(t,dn.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Rm(t,dn.create(r,a+1,a+1+o.content.size));else if(qt.isSelectable(o))Rm(t,qt.create(r,a));else continue;return!0}}function $k(t){return u2(t)}const g$=ol?"metaKey":"ctrlKey";No.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=$k(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&zge(n,t.input.lastClick)&&!n[g$]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s,button:n.button};let o=t.posAtCoords(Aw(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Yge(t,o,n,!!r)):(s=="doubleClick"?Wge:Gge)(t,o.pos,o.inside,n)?n.preventDefault():wf(t,"pointer"))};class Yge{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[g$],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof qt&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&sc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wf(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>td(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Aw(e))),this.updateAllowDefault(e),this.allowDefault||!n?wf(this.view,"pointer"):Hge(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Po&&this.mightDrag&&!this.mightDrag.node.isAtom||Zs&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Rm(this.view,xn.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):wf(this.view,"pointer")}move(e){this.updateAllowDefault(e),wf(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}No.touchstart=t=>{t.input.lastTouch=Date.now(),$k(t),wf(t,"pointer")};No.touchmove=t=>{t.input.lastTouch=Date.now(),wf(t,"pointer")};No.contextmenu=t=>$k(t);function v$(t,e){return t.composing?!0:Po&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Xge=Yu?5e3:-1;Lo.compositionstart=Lo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof dn&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),u2(t,!0),t.markCursor=null;else if(u2(t,!e.selection.empty),sc&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}y$(t,Xge)};Lo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,y$(t,20))};function y$(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>u2(t),e))}function x$(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Qge());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Jge(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Ume(e.focusNode,e.focusOffset),r=qme(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function Qge(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function u2(t,e=!1){if(!(Yu&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),x$(t),e||t.docView&&t.docView.dirty){let n=Ok(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Zge(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Dv=ea&&Lf<15||rg&&Yme<604;No.copy=Lo.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Dv?null:n.clipboardData,o=r.content(),{dom:a,text:l}=jk(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):Zge(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function e0e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function t0e(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Rv(t,r.value,null,i,e):Rv(t,r.textContent,r.innerHTML,i,e)},50)}function Rv(t,e,n,r,i){let s=u$(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||_t.empty)))return!0;if(!s)return!1;let o=e0e(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function b$(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Lo.paste=(t,e)=>{let n=e;if(t.composing&&!Yu)return;let r=Dv?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Rv(t,b$(r),r.getData("text/html"),i,n)?n.preventDefault():t0e(t,n)};class w${constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const n0e=ol?"altKey":"ctrlKey";function E$(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[n0e]}No.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Aw(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof qt?i.to-1:i.to))){if(r&&r.mightDrag)o=qt.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=t.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=t.docView&&(o=qt.create(t.state.doc,f.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=jk(t,a);(!n.dataTransfer.files.length||!Zs||KV>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Dv?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Dv||n.dataTransfer.setData("text/plain",c),t.dragging=new w$(u,E$(t,n),o)};No.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Lo.dragover=Lo.dragenter=(t,e)=>e.preventDefault();Lo.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Aw(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",g=>{o=g(o,t)}):o=u$(t,b$(n.dataTransfer),Dv?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&E$(t,n));if(t.someProp("handleDrop",g=>g(t,n,o||_t.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?VV(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let p=c.doc.resolve(u);if(f&&qt.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new qt(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,y,w,E)=>g=E),c.setSelection(Fk(t,p,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};No.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&td(t)},20))};No.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};No.beforeinput=(t,e)=>{if(Zs&&Yu&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ph(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Lo)No[t]=Lo[t];function Mv(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class d2{constructor(e,n){this.toDOM=e,this.spec=n||Xh,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new cl(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof d2&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Mv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Df{constructor(e,n){this.attrs=e,this.spec=n||Xh}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new cl(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Df&&Mv(this.attrs,e.attrs)&&Mv(this.spec,e.spec)}static is(e){return e.type instanceof Df}destroy(){}}class zk{constructor(e,n){this.attrs=e,this.spec=n||Xh}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new cl(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof zk&&Mv(this.attrs,e.attrs)&&Mv(this.spec,e.spec)}destroy(){}}class cl{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new cl(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new cl(e,e,new d2(n,r))}static inline(e,n,r,i){return new cl(e,n,new Df(r,i))}static node(e,n,r,i){return new cl(e,n,new zk(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Df}get widget(){return this.type instanceof d2}}const um=[],Xh={};class Li{constructor(e,n){this.local=e.length?e:um,this.children=n.length?n:um}static create(e,n){return n.length?f2(n,e,0,Xh):Gs}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==Gs||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Xh)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?r0e(this.children,o||[],e,n,r,i,s):o?new Li(o.sort(Jh),um):Gs}add(e,n){return n.length?this==Gs?Li.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=C$(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,f2(u,a,c+1,Xh)),s+=3}});let o=S$(s?A$(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Li(o.length?this.local.concat(o).sort(Jh):this.local,i||this.children)}remove(e){return e.length==0||this==Gs?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Gs?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Li(i,r):Gs}forChild(e,n){if(this==Gs)return this;if(n.isLeaf)return Li.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Df){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Li(i.sort(Jh),um);return r?new pf([a,r]):a}return r||Gs}eq(e){if(this==e)return!0;if(!(e instanceof Li)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Uk(this.localsInner(e))}localsInner(e){if(this==Gs)return um;if(e.inlineContent||!this.local.some(Df.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Df||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Li.empty=new Li([],[]);Li.removeOverlap=Uk;const Gs=Li.empty;class pf{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Xh));return pf.from(r)}forChild(e,n){if(n.isLeaf)return Li.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=Gs&&(s instanceof pf?r=r.concat(s.members):r.push(s))}return pf.from(r)}eq(e){if(!(e instanceof pf)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?Uk(r?n:n.sort(Jh)):um}static from(e){switch(e.length){case 0:return Gs;case 1:return e[0];default:return new pf(e.every(n=>n instanceof Li)?e:e.reduce((n,r)=>n.concat(r instanceof Li?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function r0e(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let f=0;n.maps[c].forEach((h,p,g,v)=>{let y=v-g-(p-h);for(let w=0;w<a.length;w+=3){let E=a[w+1];if(E<0||h>E+u-f)continue;let T=a[w]+u-f;p>=T?a[w+1]=h<=T?-2:-1:h>=u&&y&&(a[w]+=y,a[w+1]+=y)}f+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),p=h-i,{index:g,offset:v}=r.content.findIndex(f),y=r.maybeChild(g);if(y&&v==f&&v+y.nodeSize==p){let w=a[c+2].mapInner(n,y,u+1,t[c]+s+1,o);w!=Gs?(a[c]=f,a[c+1]=p,a[c+2]=w):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=i0e(a,t,e,n,i,s,o),u=f2(c,r,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,h=0;f<u.children.length;f+=3){let p=u.children[f];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,u.children[f],u.children[f+1],u.children[f+2])}}return new Li(e.sort(Jh),a)}function S$(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new cl(i.from+e,i.to+e,i.type))}return n}function i0e(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?n.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function C$(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function A$(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function f2(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=C$(t,a,l+n);if(c){s=!0;let u=f2(c,a,n+l+1,r);u!=Gs&&i.push(l,l+a.nodeSize,u)}});let o=S$(s?A$(t):t,-n).sort(Jh);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new Li(o,i):Gs}function Jh(t,e){return t.from-e.from||t.to-e.to}function Uk(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),LR(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),LR(e,i,r.copy(s.from,r.to)));break}}}return e}function LR(t,e,n){for(;e<t.length&&Jh(n,t[e])>0;)e++;t.splice(e,0,n)}function nS(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Gs&&e.push(r)}),t.cursorWrapper&&e.push(Li.create(t.state.doc,[t.cursorWrapper.deco])),pf.from(e)}const s0e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},o0e=ea&&Lf<=11;class a0e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class l0e{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new a0e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ea&&Lf<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),o0e&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,s0e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(SR(this.view)){if(this.suppressingSelectionUpdates)return td(this.view);if(ea&&Lf<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&up(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=ng(s))n.add(s);for(let s=e.anchorNode;s;s=ng(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&SR(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let f=this.registerMutation(n[u],l);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(sc&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,h]=u;f.parentNode&&f.parentNode.parentNode==h.parentNode?h.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let h of u){let p=h.parentNode;p&&p.nodeName=="LI"&&(!f||d0e(e,f)!=p)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Sw(r)&&(c=Ok(e))&&c.eq(xn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,td(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),c0e(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||td(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(ea&&Lf<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:h}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?Ss(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?Ss(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let IR=new WeakMap,DR=!1;function c0e(t){if(!IR.has(t)&&(IR.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=sc,DR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DR=!0}}function RR(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return up(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function u0e(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return RR(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?RR(t,n):null}function d0e(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function f0e(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Sw(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Zs&&t.input.lastKeyCode===8)for(let y=s;y>i;y--){let w=r.childNodes[y-1],E=w.pmViewDesc;if(w.nodeName=="BR"&&!E){s=y;break}if(!E||E.size)break}let f=t.state.doc,h=t.someProp("domParser")||H0.fromSchema(t.state.schema),p=f.resolve(o),g=null,v=h.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:h0e,context:p});if(c&&c[0].pos!=null){let y=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=y),g={anchor:y+o,head:w+o}}return{doc:v,sel:g,from:o,to:a}}function h0e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Po&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Po&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const p0e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function m0e(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,k=Ok(t,S);if(k&&!t.state.selection.eq(k)){if(Zs&&Yu&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,Ph(13,"Enter"))))return;let P=t.state.tr.setSelection(k);S=="pointer"?P.setMeta("pointer",!0):S=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),t.dispatch(P)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=f0e(t,e,n),u=t.state.doc,f=u.slice(c.from,c.to),h,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let g=y0e(f.content,c.doc.content,c.from,h,p);if(g&&t.input.domChangeCount++,(rg&&t.input.lastIOSEnter>Date.now()-225||Yu)&&i.some(S=>S.nodeType==1&&!p0e.test(S.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",S=>S(t,Ph(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof dn&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let S=MR(t,t.state.doc,c.sel);if(S&&!S.eq(t.state.selection)){let k=t.state.tr.setSelection(S);s&&k.setMeta("composition",s),t.dispatch(k)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof dn&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),ea&&Lf<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),y=c.doc.resolveNoCache(g.endB-c.from),w=u.resolve(g.start),E=v.sameParent(y)&&v.parent.inlineContent&&w.end()>=g.endA,T;if((rg&&t.input.lastIOSEnter>Date.now()-225&&(!E||i.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!E&&v.pos<c.doc.content.size&&(!v.sameParent(y)||!v.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(v.pos,y.pos,"",""))&&(T=xn.findFrom(c.doc.resolve(v.pos+1),1,!0))&&T.head>v.pos)&&t.someProp("handleKeyDown",S=>S(t,Ph(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&v0e(u,g.start,g.endA,v,y)&&t.someProp("handleKeyDown",S=>S(t,Ph(8,"Backspace")))){Yu&&Zs&&t.domObserver.suppressSelectionUpdates();return}Zs&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),Yu&&!E&&v.start()!=y.start()&&y.parentOffset==0&&v.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,y=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,Ph(13,"Enter"))})},20));let I=g.start,F=g.endA,B=S=>{let k=S||t.state.tr.replace(I,F,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let P=MR(t,k.doc,c.sel);P&&!(Zs&&t.composing&&P.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(P.head==I||P.head==k.mapping.map(F)-1)||ea&&P.empty&&P.head==I)&&k.setSelection(P)}return s&&k.setMeta("composition",s),k.scrollIntoView()},R;if(E){if(v.pos==y.pos){ea&&Lf<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>td(t),20));let S=B(t.state.tr.delete(I,F)),k=u.resolve(g.start).marksAcross(u.resolve(g.endA));k&&S.ensureMarks(k),t.dispatch(S)}else if(g.endA==g.endB&&(R=g0e(v.parent.content.cut(v.parentOffset,y.parentOffset),w.parent.content.cut(w.parentOffset,g.endA-w.start())))){let S=B(t.state.tr);R.type=="add"?S.addMark(I,F,R.mark):S.removeMark(I,F,R.mark),t.dispatch(S)}else if(v.parent.child(v.index()).isText&&v.index()==y.index()-(y.textOffset?0:1)){let S=v.parent.textBetween(v.parentOffset,y.parentOffset),k=()=>B(t.state.tr.insertText(S,I,F));t.someProp("handleTextInput",P=>P(t,I,F,S,k))||t.dispatch(k())}}else t.dispatch(B())}function MR(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Fk(t,e.resolve(n.anchor),e.resolve(n.head))}function g0e(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(mt.from(c).eq(t))return{mark:a,type:o}}function v0e(t,e,n,r,i){if(n-e<=i.pos-r.pos||rS(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(rS(s,!0,!0));return!o.parent.isTextblock||o.pos>n||rS(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function rS(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function y0e(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&OR(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&OR(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function OR(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class _${constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Fge,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach($R),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=BR(this),jR(this),this.nodeViews=VR(this),this.docView=vR(this.state.doc,FR(this),nS(this),this.dom,this),this.domObserver=new l0e(this,(r,i,s,o)=>m0e(this,r,i,s,o)),this.domObserver.start(),jge(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&WA(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach($R),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(x$(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=VR(this);b0e(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&WA(this),this.editable=BR(this),jR(this);let l=nS(this),c=FR(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Qme(this);if(o){this.domObserver.stop();let p=f&&(ea||Zs)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&x0e(i.selection,e.selection);if(f){let g=Zs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Jge(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=vR(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ege(this))?td(this,p):(a$(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Zme(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof qt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&dR(this,n.getBoundingClientRect(),e)}else dR(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new w$(e.slice,e.move,i<0?void 0:qt.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(ea){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ege(this.dom),td(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return sge(this,e)}coordsAtPos(e,n=1){return ZV(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return uge(this,n||this.state,e)}pasteHTML(e,n){return Rv(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Rv(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return jk(this,e)}destroy(){this.docView&&(Bge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nS(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$me())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return $ge(this,e)}domSelectionRange(){let e=this.domSelection();return e?Po&&this.root.nodeType===11&&Wme(this.dom.ownerDocument)==this.dom&&u0e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}_$.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function FR(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[cl.node(0,t.state.doc.content.size,e)]}function jR(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:cl.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function BR(t){return!t.someProp("editable",e=>e(t.state)===!1)}function x0e(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function VR(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function b0e(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function $R(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Uf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h2={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},w0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),E0e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Cs=0;Cs<10;Cs++)Uf[48+Cs]=Uf[96+Cs]=String(Cs);for(var Cs=1;Cs<=24;Cs++)Uf[Cs+111]="F"+Cs;for(var Cs=65;Cs<=90;Cs++)Uf[Cs]=String.fromCharCode(Cs+32),h2[Cs]=String.fromCharCode(Cs);for(var iS in Uf)h2.hasOwnProperty(iS)||(h2[iS]=Uf[iS]);function S0e(t){var e=w0e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||E0e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?h2:Uf)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const C0e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),A0e=typeof navigator<"u"&&/Win/.test(navigator.platform);function _0e(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))C0e?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function T0e(t){let e=Object.create(null);for(let n in t)e[_0e(n)]=t[n];return e}function sS(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function k0e(t){return new na({props:{handleKeyDown:T$(t)}})}function T$(t){let e=T0e(t);return function(n,r){let i=S0e(r),s,o=e[sS(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[sS(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(A0e&&r.ctrlKey&&r.altKey)&&(s=Uf[r.keyCode])&&s!=i){let a=e[sS(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const qk=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function k$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const P$=(t,e,n)=>{let r=k$(t,n);if(!r)return!1;let i=Hk(r);if(!i){let o=r.blockRange(),a=o&&_g(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(j$(t,i,e,-1))return!0;if(r.parent.content.size==0&&(ig(s,"end")||qt.isSelectable(s)))for(let o=r.depth;;o--){let a=ww(t.doc,r.before(o),r.after(o),_t.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(ig(s,"end")?xn.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):qt.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},P0e=(t,e,n)=>{let r=k$(t,n);if(!r)return!1;let i=Hk(r);return i?N$(t,i,e):!1},N0e=(t,e,n)=>{let r=I$(t,n);if(!r)return!1;let i=Wk(r);return i?N$(t,i,e):!1};function N$(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=ww(t.doc,s,l,_t.empty);if(!c||c.from!=s||c instanceof es&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(dn.create(u.doc,s)),n(u.scrollIntoView())}return!0}function ig(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const L$=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=Hk(r)}let o=s&&s.nodeBefore;return!o||!qt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(qt.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Hk(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function I$(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const D$=(t,e,n)=>{let r=I$(t,n);if(!r)return!1;let i=Wk(r);if(!i)return!1;let s=i.nodeAfter;if(j$(t,i,e,1))return!0;if(r.parent.content.size==0&&(ig(s,"start")||qt.isSelectable(s))){let o=ww(t.doc,r.before(),r.after(),_t.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(ig(s,"start")?xn.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):qt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},R$=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=Wk(r)}let o=s&&s.nodeAfter;return!o||!qt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(qt.create(t.doc,s.pos)).scrollIntoView()),!0)};function Wk(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const L0e=(t,e)=>{let n=t.selection,r=n instanceof qt,i;if(r){if(n.node.isTextblock||!eh(t.doc,n.from))return!1;i=n.from}else if(i=bw(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(qt.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},I0e=(t,e)=>{let n=t.selection,r;if(n instanceof qt){if(n.node.isTextblock||!eh(t.doc,n.to))return!1;r=n.to}else if(r=bw(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},D0e=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&_g(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},M$=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Gk(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const R0e=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=Gk(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(xn.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},O$=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Pa||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=Gk(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(dn.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},F$=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ed(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_g(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function M0e(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof qt&&e.selection.node.isBlock)return!r.parentOffset||!ed(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),a=Gk(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof dn||e.selection instanceof Pa)&&u.deleteSelection();let f=u.mapping.map(r.pos),h=ed(u.doc,f,s.length,s);if(h||(s[0]=a?{type:a}:null,h=ed(u.doc,f,s.length,s)),!h)return!1;if(u.split(f,s.length,s),!l&&c&&r.node(o).type!=a){let p=u.mapping.map(r.before(o)),g=u.doc.resolve(p);a&&r.node(o-1).canReplaceWith(g.index(),g.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return n&&n(u.scrollIntoView()),!0}}const O0e=M0e(),F0e=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(qt.create(t.doc,i))),!0)};function j0e(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||eh(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function j$(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&j0e(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let p=e.pos+s.nodeSize,g=mt.empty;for(let w=o.length-1;w>=0;w--)g=mt.from(o[w].create(null,g));g=mt.from(i.copy(g));let v=t.tr.step(new ts(e.pos-1,p,e.pos,p,new _t(g,1,0),o.length,!0)),y=v.doc.resolve(p+2*o.length);y.nodeAfter&&y.nodeAfter.type==i.type&&eh(v.doc,y.pos)&&v.join(y.pos),n(v.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:xn.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),h=f&&_g(f);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(f,h).scrollIntoView()),!0;if(c&&ig(s,"start",!0)&&ig(i,"end")){let p=i,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let v=s,y=1;for(;!v.isTextblock;v=v.firstChild)y++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(n){let w=mt.empty;for(let T=g.length-1;T>=0;T--)w=mt.from(g[T].copy(w));let E=t.tr.step(new ts(e.pos-g.length,e.pos+s.nodeSize,e.pos+y,e.pos+s.nodeSize-y,new _t(w,g.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function B$(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(dn.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const B0e=B$(-1),V0e=B$(1);function $0e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Dk(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function zR(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}function Kk(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Kk(qk,P$,L$);Kk(qk,D$,R$);Kk(M$,O$,F$,O0e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function z0e(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let a=r?n.tr:null;return U0e(a,o,t,e)?(r&&r(a.scrollIntoView()),!0):!1}}function U0e(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new o2(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new o2(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=Dk(s,n,r,e);return a?(t&&q0e(t,e,a,i,n),!0):!1}function q0e(t,e,n,r,i){let s=mt.empty;for(let u=n.length-1;u>=0;u--)s=mt.from(n[u].type.create(n[u].attrs,s));t.step(new ts(e.start-(r?2:0),e.end,e.start,e.end,new _t(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,h=!0;u<f;u++,h=!1)!h&&ed(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function H0e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?W0e(e,n,t,s):G0e(e,n,s):!0:!1}}function W0e(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new ts(s-1,o,s,o,new _t(mt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new o2(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=_g(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return eh(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function G0e(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,g=n.endIndex-1,v=n.startIndex;g>v;g--)p-=i.child(g).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?mt.empty:mt.from(i))))return!1;let f=s.pos,h=f+o.nodeSize;return r.step(new ts(f-(a?1:0),h+(l?1:0),f+1,h-1,new _t((a?mt.empty:mt.from(i.copy(mt.empty))).append(l?mt.empty:mt.from(i.copy(mt.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function K0e(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=mt.from(c?t.create():null),f=new _t(mt.from(t.create(null,mt.from(a.type.create(null,u)))),c?3:1,0),h=s.start,p=s.end;n(e.tr.step(new ts(h-(c?3:1),p,h,p,f,1,!0)).scrollIntoView())}return!0}}function _w(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Tw{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),f={...Object.fromEntries(Object.entries(r).map(([h,p])=>[h,(...v)=>{const y=this.buildProps(c,n),w=p(...v)(y);return a.push(w),f}])),run:u};return f}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:_w({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Y0e{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}once(e,n){const r=(...i)=>{this.off(e,r),n.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function Dt(t,e,n){return t.config[e]===void 0&&t.parent?Dt(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Dt(t.parent,e,n):null}):t.config[e]}function kw(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function V$(t){const e=[],{nodeExtensions:n,markExtensions:r}=kw(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=Dt(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([h,p])=>{e.push({type:f,name:h,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Dt(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const h={...s,...f};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function rs(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ts(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,h]=u.split(":").map(p=>p.trim());c.set(f,h)}),a.forEach(u=>{const[f,h]=u.split(":").map(p=>p.trim());c.set(f,h)}),r[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[i]=s}),r},{})}function GA(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ts(n,r),{})}function $$(t){return typeof t=="function"}function En(t,e=void 0,...n){return $$(t)?e?t.bind(e)(...n):t(...n):t}function X0e(t={}){return Object.keys(t).length===0&&t.constructor===Object}function J0e(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function UR(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):J0e(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function qR(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&X0e(n)?!1:n!=null))}function Q0e(t,e){var n;const r=V$(t),{nodeExtensions:i,markExtensions:s}=kw(t),o=(n=i.find(c=>Dt(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(w=>w.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((w,E)=>{const T=Dt(E,"extendNodeSchema",f);return{...w,...T?T(c):{}}},{}),p=qR({...h,content:En(Dt(c,"content",f)),marks:En(Dt(c,"marks",f)),group:En(Dt(c,"group",f)),inline:En(Dt(c,"inline",f)),atom:En(Dt(c,"atom",f)),selectable:En(Dt(c,"selectable",f)),draggable:En(Dt(c,"draggable",f)),code:En(Dt(c,"code",f)),whitespace:En(Dt(c,"whitespace",f)),linebreakReplacement:En(Dt(c,"linebreakReplacement",f)),defining:En(Dt(c,"defining",f)),isolating:En(Dt(c,"isolating",f)),attrs:Object.fromEntries(u.map(w=>{var E;return[w.name,{default:(E=w==null?void 0:w.attribute)===null||E===void 0?void 0:E.default}]}))}),g=En(Dt(c,"parseHTML",f));g&&(p.parseDOM=g.map(w=>UR(w,u)));const v=Dt(c,"renderHTML",f);v&&(p.toDOM=w=>v({node:w,HTMLAttributes:GA(w,u)}));const y=Dt(c,"renderText",f);return y&&(p.toText=y),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(y=>y.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,w)=>{const E=Dt(w,"extendMarkSchema",f);return{...y,...E?E(c):{}}},{}),p=qR({...h,inclusive:En(Dt(c,"inclusive",f)),excludes:En(Dt(c,"excludes",f)),group:En(Dt(c,"group",f)),spanning:En(Dt(c,"spanning",f)),code:En(Dt(c,"code",f)),attrs:Object.fromEntries(u.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),g=En(Dt(c,"parseHTML",f));g&&(p.parseDOM=g.map(y=>UR(y,u)));const v=Dt(c,"renderHTML",f);return v&&(p.toDOM=y=>v({mark:y,HTMLAttributes:GA(y,u)})),[c.name,p]}));return new PV({topNode:o,nodes:a,marks:l})}function oS(t,e){return e.nodes[t]||e.marks[t]||null}function HR(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Yk(t,e){const n=Sp.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const Z0e=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function Xk(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Pw{constructor(e){this.find=e.find,this.handler=e.handler}}const eve=(t,e)=>{if(Xk(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function D1(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const f=Z0e(c)+s;return o.forEach(h=>{if(u)return;const p=eve(f,h.find);if(!p)return;const g=l.state.tr,v=_w({state:l.state,transaction:g}),y={from:r-(p[0].length-s.length),to:i},{commands:w,chain:E,can:T}=new Tw({editor:n,state:v});h.handler({state:v,range:y,match:p,commands:w,chain:E,can:T})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:s}),l.dispatch(g),u=!0)}),u}function tve(t){const{editor:e,rules:n}=t,r=new na({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Yk(mt.from(u),o.schema);const{from:f}=l,h=f+u.length;D1({editor:e,from:f,to:h,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return D1({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&D1({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?D1({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function nve(t){return Object.prototype.toString.call(t).slice(8,-1)}function R1(t){return nve(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Nw(t,e){const n={...t};return R1(t)&&R1(e)&&Object.keys(e).forEach(r=>{R1(e[r])&&R1(t[r])?n[r]=Nw(t[r],e[r]):n[r]=e[r]}),n}class au{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=En(Dt(this,"addOptions",{name:this.name}))),this.storage=En(Dt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new au(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Nw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new au(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=En(Dt(n,"addOptions",{name:n.name})),n.storage=En(Dt(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function rve(t){return typeof t=="number"}class ive{constructor(e){this.find=e.find,this.handler=e.handler}}const sve=(t,e,n)=>{if(Xk(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function ove(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Tw({editor:e,state:n}),f=[];return n.doc.nodesBetween(r,i,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const v=Math.max(r,g),y=Math.min(i,g+p.content.size),w=p.textBetween(v-g,y-g,void 0,"");sve(w,s.find,o).forEach(T=>{if(T.index===void 0)return;const I=v+T.index+1,F=I+T[0].length,B={from:n.tr.mapping.map(I),to:n.tr.mapping.map(F)},R=s.handler({state:n,range:B,match:T,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});f.push(R)})}),f.every(p=>p!==null)}let M1=null;const ave=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function lve(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:f,to:h,rule:p,pasteEvt:g})=>{const v=u.tr,y=_w({state:u,transaction:v});if(!(!ove({editor:e,state:y,from:Math.max(f-1,0),to:h.b-1,rule:p,pasteEvent:g,dropEvent:a})||!v.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return n.map(u=>new na({view(f){const h=g=>{var v;r=!((v=f.dom.parentElement)===null||v===void 0)&&v.contains(g.target)?f.dom.parentElement:null,r&&(M1=e)},p=()=>{M1&&(M1=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,h)=>{if(s=r===f.dom.parentElement,a=h,!s){const p=M1;p&&setTimeout(()=>{const g=p.state.selection;g&&p.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(f,h)=>{var p;const g=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=h,i=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(f,h,p)=>{const g=f[0],v=g.getMeta("uiEvent")==="paste"&&!i,y=g.getMeta("uiEvent")==="drop"&&!s,w=g.getMeta("applyPasteRules"),E=!!w;if(!v&&!y&&!E)return;if(E){let{text:F}=w;typeof F=="string"?F=F:F=Yk(mt.from(F),p.schema);const{from:B}=w,R=B+F.length,S=ave(F);return l({rule:u,state:p,from:B,to:{b:R},pasteEvt:S})}const T=h.doc.content.findDiffStart(p.doc.content),I=h.doc.content.findDiffEnd(p.doc.content);if(!(!rve(T)||!I||T===I.b))return l({rule:u,state:p,from:T,to:I,pasteEvt:o})}}))}function cve(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Em{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Em.resolve(e),this.schema=Q0e(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Em.sort(Em.flatten(e)),r=cve(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Dt(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=Dt(r,"priority")||100,o=Dt(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:oS(n.name,this.schema)},i=Dt(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Em.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:oS(o.name,this.schema)},l=[],c=Dt(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&Dt(o,"exitable",a)&&(u.ArrowRight=()=>au.handleExit({editor:e,mark:o})),c){const v=Object.fromEntries(Object.entries(c()).map(([y,w])=>[y,()=>w({editor:e})]));u={...u,...v}}const f=k0e(u);l.push(f);const h=Dt(o,"addInputRules",a);HR(o,e.options.enableInputRules)&&h&&r.push(...h());const p=Dt(o,"addPasteRules",a);HR(o,e.options.enablePasteRules)&&p&&i.push(...p());const g=Dt(o,"addProseMirrorPlugins",a);if(g){const v=g();l.push(...v)}return l}).flat();return[tve({editor:e,rules:r}),...lve({editor:e,rules:i}),...s]}get attributes(){return V$(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=kw(this.extensions);return Object.fromEntries(n.filter(r=>!!Dt(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:rs(r.name,this.schema)},o=Dt(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,f,h)=>{const p=GA(l,i);return o()({node:l,view:c,getPos:u,decorations:f,innerDecorations:h,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:oS(e.name,this.schema)};e.type==="mark"&&(!((n=En(Dt(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=Dt(e,"onBeforeCreate",r),s=Dt(e,"onCreate",r),o=Dt(e,"onUpdate",r),a=Dt(e,"onSelectionUpdate",r),l=Dt(e,"onTransaction",r),c=Dt(e,"onFocus",r),u=Dt(e,"onBlur",r),f=Dt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class no{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=En(Dt(this,"addOptions",{name:this.name}))),this.storage=En(Dt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new no(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Nw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new no({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=En(Dt(n,"addOptions",{name:n.name})),n.storage=En(Dt(n,"addStorage",{name:n.name,options:n.options})),n}}function z$(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,f)=>{var h;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function U$(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const uve=no.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new na({key:new du("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=U$(n);return z$(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),dve=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),fve=(t=!1)=>({commands:e})=>e.setContent("",t),hve=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),p=f.blockRange(h);if(!p)return;const g=_g(p);if(a.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,v)}(g||g===0)&&e.lift(p,g)})}),!0},pve=t=>e=>t(e),mve=()=>({state:t,dispatch:e})=>O$(t,e),gve=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new dn(r.doc.resolve(o-1))),!0},vve=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},yve=t=>({tr:e,state:n,dispatch:r})=>{const i=rs(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},xve=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},bve=()=>({state:t,dispatch:e})=>qk(t,e),wve=()=>({commands:t})=>t.keyboardShortcut("Enter"),Eve=()=>({state:t,dispatch:e})=>R0e(t,e);function p2(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Xk(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function q$(t,e,n={}){return t.find(r=>r.type===e&&p2(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function WR(t,e,n={}){return!!q$(t,e,n)}function Jk(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!q$([...i.node.marks],e,n)))return;let o=i.index,a=t.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&WR([...t.parent.child(o-1).marks],e,n);)o-=1,a-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&WR([...t.parent.child(l).marks],e,n);)c+=t.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function nh(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const Sve=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=nh(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const f=Jk(l,s,e);if(f&&f.from<=c&&f.to>=u){const h=dn.create(o,f.from,f.to);n.setSelection(h)}}return!0},Cve=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function H$(t){return t instanceof dn}function $h(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function W$(t,e=null){if(!e)return null;const n=xn.atStart(t),r=xn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?dn.create(t,$h(0,i,s),$h(t.content.size,i,s)):dn.create(t,$h(e,i,s),$h(e,i,s))}function Ave(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Qk(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _ve=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Qk()||Ave())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!H$(n.state.selection))return o(),!0;const a=W$(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},Tve=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),kve=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),G$=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&G$(r)}return t};function O1(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return G$(n)}function Ov(t,e,n){if(t instanceof Nf||t instanceof mt)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return mt.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),Ov("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new PV({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?H0.fromSchema(l).parseSlice(O1(t),n.parseOptions):H0.fromSchema(l).parse(O1(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=H0.fromSchema(e);return n.slice?s.parseSlice(O1(t),n.parseOptions).content:s.parse(O1(t),n.parseOptions)}return Ov("",e,n)}function Pve(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof es||i instanceof ts))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(xn.near(t.doc.resolve(o),n))}const Nve=t=>!("type"in t),Lve=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{s.emit("contentError",{editor:s,error:y,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ov(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=Ov(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:f}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},h=!0,p=!0;if((Nve(a)?a:[a]).forEach(y=>{y.check(),h=h?y.isText&&y.marks.length===0:!1,p=p?y.isBlock:!1}),u===f&&p){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,f+=1)}let v;if(h){if(Array.isArray(e))v=e.map(y=>y.text||"").join("");else if(e instanceof mt){let y="";e.forEach(w=>{w.text&&(y+=w.text)}),v=y}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,u,f)}else v=a,r.replaceWith(u,f,v);n.updateSelection&&Pve(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:v}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:v})}return!0},Ive=()=>({state:t,dispatch:e})=>L0e(t,e),Dve=()=>({state:t,dispatch:e})=>I0e(t,e),Rve=()=>({state:t,dispatch:e})=>P$(t,e),Mve=()=>({state:t,dispatch:e})=>D$(t,e),Ove=()=>({state:t,dispatch:e,tr:n})=>{try{const r=bw(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Fve=()=>({state:t,dispatch:e,tr:n})=>{try{const r=bw(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},jve=()=>({state:t,dispatch:e})=>P0e(t,e),Bve=()=>({state:t,dispatch:e})=>N0e(t,e);function K$(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Vve(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Qk()||K$()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const $ve=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Vve(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Fv(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?rs(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(f,h)=>{if(f.isText)return;const p=Math.max(r,h),g=Math.min(i,h+f.nodeSize);a.push({node:f,from:p,to:g})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>p2(f.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((f,h)=>f+h.to-h.from,0)>=l}const zve=(t,e={})=>({state:n,dispatch:r})=>{const i=rs(t,n.schema);return Fv(n,i,e)?D0e(n,r):!1},Uve=()=>({state:t,dispatch:e})=>F$(t,e),qve=t=>({state:e,dispatch:n})=>{const r=rs(t,e.schema);return H0e(r)(e,n)},Hve=()=>({state:t,dispatch:e})=>M$(t,e);function Lw(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function GR(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const Wve=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Lw(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=rs(t,r.schema)),a==="mark"&&(o=nh(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,GR(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&n.addMark(u,u+c.nodeSize,o.create(GR(f.attrs,e)))})})}),!0):!1},Gve=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Kve=()=>({tr:t,dispatch:e})=>{if(e){const n=new Pa(t.doc);t.setSelection(n)}return!0},Yve=()=>({state:t,dispatch:e})=>L$(t,e),Xve=()=>({state:t,dispatch:e})=>R$(t,e),Jve=()=>({state:t,dispatch:e})=>F0e(t,e),Qve=()=>({state:t,dispatch:e})=>V0e(t,e),Zve=()=>({state:t,dispatch:e})=>B0e(t,e);function KA(t,e,n={},r={}){return Ov(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const eye=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const f=KA(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function Y$(t,e){const n=nh(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function tye(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function nye(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Zk(t){return e=>nye(e.$from,t)}function rye(t,e){const n={from:0,to:t.content.size};return z$(t,n,e)}function iye(t,e){const n=rs(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function sye(t,e){const n=Lw(typeof e=="string"?e:e.name,t.schema);return n==="node"?iye(t,e):n==="mark"?Y$(t,e):{}}function X$(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=Jk(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function eb(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function YA(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?nh(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>p2(f.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:h})=>{const p=f.pos,g=h.pos;t.doc.nodesBetween(p,g,(v,y)=>{if(!v.isText&&!v.marks.length)return;const w=Math.max(p,y),E=Math.min(g,y+v.nodeSize),T=E-w;o+=T,a.push(...v.marks.map(I=>({mark:I,from:w,to:E})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>p2(f.mark.attrs,n,{strict:!1})).reduce((f,h)=>f+h.to-h.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,h)=>f+h.to-h.from,0);return(l>0?l+c:l)>=o}function oye(t,e,n={}){if(!e)return Fv(t,null,n)||YA(t,null,n);const r=Lw(e,t.schema);return r==="node"?Fv(t,e,n):r==="mark"?YA(t,e,n):!1}function KR(t,e){const{nodeExtensions:n}=kw(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=En(Dt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function e4(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(e4(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function aye(t){return t instanceof qt}function lye(t,e,n){var r;const{selection:i}=e;let s=null;if(H$(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,f,h)=>{if(c)return!1;if(u.isInline){const p=!h||h.type.allowsMarkType(n),g=!!n.isInSet(u.marks)||!u.marks.some(v=>v.type.excludes(n));c=p&&g}return!c}),c})}const cye=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=nh(t,r.schema);if(i)if(o){const c=Y$(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(h,p)=>{const g=Math.max(p,u),v=Math.min(p+h.nodeSize,f);h.marks.find(w=>w.type===l)?h.marks.forEach(w=>{l===w.type&&n.addMark(g,v,l.create({...w.attrs,...e}))}):n.addMark(g,v,l.create(e))})});return lye(r,n,l)},uye=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),dye=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=rs(t,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>zR(s,{...o,...e})(n)?!0:a.clearNodes()).command(({state:a})=>zR(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=$h(t,0,r.content.size),s=qt.create(r,i);e.setSelection(s)}return!0},hye=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=dn.atStart(r).from,a=dn.atEnd(r).to,l=$h(i,o,a),c=$h(s,o,a),u=dn.create(r,l,c);e.setSelection(u)}return!0},pye=t=>({state:e,dispatch:n})=>{const r=rs(t,e.schema);return K0e(r)(e,n)};function YR(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const mye=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=eb(c,a.node().type.name,a.node().attrs);if(s instanceof qt&&s.node.isBlock)return!a.parentOffset||!ed(o,a.pos)?!1:(r&&(t&&YR(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:tye(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&h?[{type:h,attrs:u}]:void 0,g=ed(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!g&&ed(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(g=!0,p=h?[{type:h,attrs:u}]:void 0),r){if(g&&(s instanceof dn&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),h&&!f&&!a.parentOffset&&a.parent.type!==h)){const v=e.mapping.map(a.before()),y=e.doc.resolve(v);a.node(-1).canReplaceWith(y.index(),y.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&YR(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},gye=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=rs(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let w=mt.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let S=l.depth-E;S>=l.depth-3;S-=1)w=mt.from(l.node(S).copy(w));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,I={...eb(h,l.node().type.name,l.node().attrs),...e},F=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(I))||void 0;w=w.append(mt.from(a.createAndFill(null,F)||void 0));const B=l.before(l.depth-(E-1));n.replace(B,l.after(-T),new _t(w,4-E,0));let R=-1;n.doc.nodesBetween(B,n.doc.content.size,(S,k)=>{if(R>-1)return!1;S.isTextblock&&S.content.size===0&&(R=k+1)}),R>-1&&n.setSelection(dn.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,g={...eb(h,f.type.name,f.attrs),...e},v={...eb(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const y=p?[{type:a,attrs:g},{type:p,attrs:v}]:[{type:a,attrs:g}];if(!ed(n.doc,l.pos,2))return!1;if(i){const{selection:w,storedMarks:E}=r,{splittableMarks:T}=s.extensionManager,I=E||w.$to.parentOffset&&w.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!I||!i)return!0;const F=I.filter(B=>T.includes(B.type.name));n.ensureMarks(F)}return!0},aS=(t,e)=>{const n=Zk(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&eh(t.doc,n.pos)&&t.join(n.pos),!0},lS=(t,e)=>{const n=Zk(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&eh(t.doc,r)&&t.join(r),!0},vye=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:h}=i.extensionManager,p=rs(t,o.schema),g=rs(e,o.schema),{selection:v,storedMarks:y}=o,{$from:w,$to:E}=v,T=w.blockRange(E),I=y||v.$to.parentOffset&&v.$from.marks();if(!T)return!1;const F=Zk(B=>KR(B.type.name,f))(v);if(T.depth>=1&&F&&T.depth-F.depth<=1){if(F.node.type===p)return c.liftListItem(g);if(KR(F.node.type.name,f)&&p.validContent(F.node.content)&&a)return l().command(()=>(s.setNodeMarkup(F.pos,p),!0)).command(()=>aS(s,p)).command(()=>lS(s,p)).run()}return!n||!I||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>aS(s,p)).command(()=>lS(s,p)).run():l().command(()=>{const B=u().wrapInList(p,r),R=I.filter(S=>h.includes(S.type.name));return s.ensureMarks(R),B?!0:c.clearNodes()}).wrapInList(p,r).command(()=>aS(s,p)).command(()=>lS(s,p)).run()},yye=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=nh(t,r.schema);return YA(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},xye=(t,e,n={})=>({state:r,commands:i})=>{const s=rs(t,r.schema),o=rs(e,r.schema),a=Fv(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},bye=(t,e={})=>({state:n,commands:r})=>{const i=rs(t,n.schema);return Fv(n,i,e)?r.lift(i):r.wrapIn(i,e)},wye=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Eye=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},Sye=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=nh(t,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:h,to:p}=a;const g=(s=c.marks().find(y=>y.type===l))===null||s===void 0?void 0:s.attrs,v=Jk(c,l,g);v&&(h=v.from,p=v.to),n.removeMark(h,p,l)}else f.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},Cye=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Lw(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=rs(t,r.schema)),a==="mark"&&(o=nh(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,h,p,g;n.selection.empty?r.doc.nodesBetween(c,u,(v,y)=>{s&&s===v.type&&(p=Math.max(y,c),g=Math.min(y+v.nodeSize,u),f=y,h=v)}):r.doc.nodesBetween(c,u,(v,y)=>{y<c&&s&&s===v.type&&(p=Math.max(y,c),g=Math.min(y+v.nodeSize,u),f=y,h=v),y>=c&&y<=u&&(s&&s===v.type&&n.setNodeMarkup(y,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(w=>{if(o===w.type){const E=Math.max(y,c),T=Math.min(y+v.nodeSize,u);n.addMark(E,T,o.create({...w.attrs,...e}))}}))}),h&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(v=>{o===v.type&&n.addMark(p,g,o.create({...v.attrs,...e}))}))}),!0):!1},Aye=(t,e={})=>({state:n,dispatch:r})=>{const i=rs(t,n.schema);return $0e(i,e)(n,r)},_ye=(t,e={})=>({state:n,dispatch:r})=>{const i=rs(t,n.schema);return z0e(i,e)(n,r)};var Tye=Object.freeze({__proto__:null,blur:dve,clearContent:fve,clearNodes:hve,command:pve,createParagraphNear:mve,cut:gve,deleteCurrentNode:vve,deleteNode:yve,deleteRange:xve,deleteSelection:bve,enter:wve,exitCode:Eve,extendMarkRange:Sve,first:Cve,focus:_ve,forEach:Tve,insertContent:kve,insertContentAt:Lve,joinBackward:Rve,joinDown:Dve,joinForward:Mve,joinItemBackward:Ove,joinItemForward:Fve,joinTextblockBackward:jve,joinTextblockForward:Bve,joinUp:Ive,keyboardShortcut:$ve,lift:zve,liftEmptyBlock:Uve,liftListItem:qve,newlineInCode:Hve,resetAttributes:Wve,scrollIntoView:Gve,selectAll:Kve,selectNodeBackward:Yve,selectNodeForward:Xve,selectParentNode:Jve,selectTextblockEnd:Qve,selectTextblockStart:Zve,setContent:eye,setMark:cye,setMeta:uye,setNode:dye,setNodeSelection:fye,setTextSelection:hye,sinkListItem:pye,splitBlock:mye,splitListItem:gye,toggleList:vye,toggleMark:yye,toggleNode:xye,toggleWrap:bye,undoInputRule:wye,unsetAllMarks:Eye,unsetMark:Sye,updateAttributes:Cye,wrapIn:Aye,wrapInList:_ye});const kye=no.create({name:"commands",addCommands(){return{...Tye}}}),Pye=no.create({name:"drop",addProseMirrorPlugins(){return[new na({key:new du("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),Nye=no.create({name:"editable",addProseMirrorPlugins(){return[new na({key:new du("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Lye=new du("focusEvents"),Iye=no.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new na({key:Lye,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Dye=no.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:h,parent:p}=f,g=f.parent.isTextblock&&h>0?a.doc.resolve(h-1):f,v=g.parent.type.spec.isolating,y=f.pos-f.parentOffset,w=v&&g.parent.childCount===1?y===f.pos:xn.atStart(c).from===h;return!u||!p.type.isTextblock||p.textContent.length||!w||w&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Qk()||K$()?s:i},addProseMirrorPlugins(){return[new na({key:new du("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(v=>v.getMeta("composition")))return;const r=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),i=t.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=xn.atStart(e.doc).from,c=xn.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!e4(n.doc))return;const h=n.tr,p=_w({state:n,transaction:h}),{commands:g}=new Tw({editor:this.editor,state:p});if(g.clearNodes(),!!h.steps.length)return h}})]}}),Rye=no.create({name:"paste",addProseMirrorPlugins(){return[new na({key:new du("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Mye=no.create({name:"tabindex",addProseMirrorPlugins(){return[new na({key:new du("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Nh{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Nh(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Nh(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Nh(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Nh(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Nh(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const Oye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Fye(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class jye extends Y0e{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Fye(Oye,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=$$(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[Nye,uve.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),kye,Iye,Dye,Mye,Pye,Rye].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Em(i,this)}createCommandManager(){this.commandManager=new Tw({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let n;try{n=KA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=KA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=W$(n,this.options.autofocus);this.view=new _$(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:wm.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return sye(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return oye(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Yk(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return rye(this.state.doc,{blockSeparator:n,textSerializers:{...U$(this.schema),...r}})}get isEmpty(){return e4(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Nh(n,this)}get $doc(){return this.$pos(0)}}function sg(t){return new Pw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=En(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(X$(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function Bye(t){return new Pw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=En(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function XA(t){return new Pw({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=En(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function jv(t){return new Pw({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=En(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&Dk(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:f,storedMarks:h}=e,{splittableMarks:p}=t.editor.extensionManager,g=h||f.$to.parentOffset&&f.$from.marks();if(g){const v=g.filter(y=>p.includes(y.type.name));o.ensureMarks(v)}}if(t.keepAttributes){const f=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&eh(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}let uc=class JA{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=En(Dt(this,"addOptions",{name:this.name}))),this.storage=En(Dt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new JA(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Nw(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new JA(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=En(Dt(n,"addOptions",{name:n.name})),n.storage=En(Dt(n,"addStorage",{name:n.name,options:n.options})),n}};function og(t){return new ive({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=En(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),f=n.from+l.indexOf(a),h=f+a.length;if(X$(n.from,n.to,e.doc).filter(g=>g.mark.type.excluded.find(y=>y===t.type&&y!==g.mark.type)).filter(g=>g.to>f).length)return null;h<n.to&&o.delete(h,n.to),f>n.from&&o.delete(n.from+u,f),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}function Vye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J$={exports:{}},cS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function $ye(){if(XR)return cS;XR=1;var t=Me;function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,h){var p=h(),g=r({inst:{value:p,getSnapshot:h}}),v=g[0].inst,y=g[1];return s(function(){v.value=p,v.getSnapshot=h,l(v)&&y({inst:v})},[f,p,h]),i(function(){return l(v)&&y({inst:v}),f(function(){l(v)&&y({inst:v})})},[f]),o(p),p}function l(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!n(f,p)}catch{return!0}}function c(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return cS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,cS}J$.exports=$ye();var t4=J$.exports;const zye=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Uye=({contentComponent:t})=>{const e=t4.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Me.createElement(Me.Fragment,null,Object.values(e))};function qye(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:nG.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class Hye extends Me.Component{constructor(e){var n;super(e),this.editorContentRef=Me.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=qye(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Me.createElement(Me.Fragment,null,Me.createElement("div",{ref:zye(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Me.createElement(Uye,{contentComponent:e.contentComponent}))}}const Wye=b.forwardRef((t,e)=>{const n=Me.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Me.createElement(Hye,{key:n,innerRef:e,...t})}),Gye=Me.memo(Wye);var Kye=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},Yye=Vye(Kye),Q$={exports:{}},uS={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR;function Xye(){if(JR)return uS;JR=1;var t=Me,e=t4;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return uS.useSyncExternalStoreWithSelector=function(c,u,f,h,p){var g=s(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=a(function(){function w(B){if(!E){if(E=!0,T=B,B=h(B),p!==void 0&&v.hasValue){var R=v.value;if(p(R,B))return I=R}return I=B}if(R=I,r(T,B))return R;var S=h(B);return p!==void 0&&p(R,S)?R:(T=B,I=S)}var E=!1,T,I,F=f===void 0?null:f;return[function(){return w(u())},F===null?void 0:function(){return w(F())}]},[u,f,h,p]);var y=i(c,g[0],g[1]);return o(function(){v.hasValue=!0,v.value=y},[y]),l(y),y},uS}Q$.exports=Xye();var Jye=Q$.exports;const Qye=typeof window<"u"?b.useLayoutEffect:b.useEffect;class Zye{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function e1e(t){var e;const[n]=b.useState(()=>new Zye(t.editor)),r=Jye.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:Yye);return Qye(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}const t1e=!1,QA=typeof window>"u",n1e=QA||!!(typeof window<"u"&&window.next);class n4{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?QA||n1e?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new jye(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=n.extensions)===null||o===void 0?void 0:o[s])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?n4.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function r1e(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new n4(n)),i=t4.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(i),b.useEffect(r.onRender(e)),e1e({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const i1e=b.createContext({editor:null});i1e.Consumer;const s1e=b.createContext({onDragStart:void 0}),o1e=()=>b.useContext(s1e);Me.forwardRef((t,e)=>{const{onDragStart:n}=o1e(),r=t.as||"div";return Me.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const a1e=/^\s*>\s$/,l1e=uc.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[jv({find:a1e,type:this.type})]}}),c1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,u1e=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,d1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,f1e=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,h1e=au.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sg({find:c1e,type:this.type}),sg({find:d1e,type:this.type})]},addPasteRules(){return[og({find:u1e,type:this.type}),og({find:f1e,type:this.type})]}}),p1e="listItem",QR="textStyle",ZR=/^\s*([-+*])\s$/,m1e=uc.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(p1e,this.editor.getAttributes(QR)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=jv({find:ZR,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jv({find:ZR,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QR),editor:this.editor})),[t]}}),g1e=/(^|[^`])`([^`]+)`(?!`)/,v1e=/(^|[^`])`([^`]+)`(?!`)/g,y1e=au.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sg({find:g1e,type:this.type})]},addPasteRules(){return[og({find:v1e,type:this.type})]}}),x1e=/^```([a-z]+)?[\s\n]$/,b1e=/^~~~([a-z]+)?[\s\n]$/,w1e=uc.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ts(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(xn.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[XA({find:x1e,type:this.type,getAttributes:t=>({language:t[1]})}),XA({find:b1e,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new na({key:new du("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(dn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),E1e=uc.create({name:"doc",topNode:!0,content:"block+"});function S1e(t={}){return new na({view(e){return new C1e(e,t)}})}class C1e{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(n){let f=e.nodeBefore,h=e.nodeAfter;if(f||h){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let g=p.getBoundingClientRect(),v=f?g.bottom:g.top;f&&h&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:g.left,right:g.right,top:v-y,bottom:v+y}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*o;r={left:f.left-h,right:f.left+h,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),h=f.width/l.offsetWidth,p=f.height/l.offsetHeight;c=f.left-l.scrollLeft*h,u=f.top-l.scrollTop*p}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=VV(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const A1e=no.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S1e(this.options)]}});class Qr extends xn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Qr.valid(r)?new Qr(r):xn.near(r)}content(){return _t.empty}eq(e){return e instanceof Qr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qr(e.resolve(n.pos))}getBookmark(){return new r4(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!_1e(e)||!T1e(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Qr.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(Qr.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!qt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(Qr.valid(a))return a}return null}}}Qr.prototype.visible=!1;Qr.findFrom=Qr.findGapCursorFrom;xn.jsonID("gapcursor",Qr);class r4{constructor(e){this.pos=e}map(e){return new r4(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Qr.valid(n)?new Qr(n):xn.near(n)}}function _1e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function T1e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function k1e(){return new na({props:{decorations:I1e,createSelectionBetween(t,e,n){return e.pos==n.pos&&Qr.valid(n)?new Qr(n):null},handleClick:N1e,handleKeyDown:P1e,handleDOMEvents:{beforeinput:L1e}}})}const P1e=T$({ArrowLeft:F1("horiz",-1),ArrowRight:F1("horiz",1),ArrowUp:F1("vert",-1),ArrowDown:F1("vert",1)});function F1(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof dn){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Qr.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Qr(c))),!0):!1}}function N1e(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Qr.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&qt.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Qr(r))),!0)}function L1e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Qr))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=mt.empty;for(let o=r.length-1;o>=0;o--)i=mt.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new _t(i,0,0));return s.setSelection(dn.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function I1e(t){if(!(t.selection instanceof Qr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Li.create(t.doc,[cl.widget(t.selection.head,e,{key:"gapcursor"})])}const D1e=no.create({name:"gapCursor",addProseMirrorPlugins(){return[k1e()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=En(Dt(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),R1e=uc.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ts(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(h=>a.includes(h.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),M1e=uc.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ts(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>XA({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var m2=200,ns=function(){};ns.prototype.append=function(e){return e.length?(e=ns.from(e),!this.length&&e||e.length<m2&&this.leafAppend(e)||this.length<m2&&e.leafPrepend(this)||this.appendInner(e)):this};ns.prototype.prepend=function(e){return e.length?ns.from(e).append(this):this};ns.prototype.appendInner=function(e){return new O1e(this,e)};ns.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ns.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ns.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ns.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ns.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};ns.from=function(e){return e instanceof ns?e:e&&e.length?new Z$(e):ns.empty};var Z$=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=m2)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=m2)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ns);ns.empty=new Z$([]);var O1e=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ns);const F1e=500;class Yl{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,h)=>{if(!f.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(f);return}if(i){u.push(new Mc(f.map));let p=f.step.map(i.slice(s)),g;p&&o.maybeStep(p).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],c.push(new Mc(g,void 0,void 0,c.length+u.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(s)):f.selection,l=new Yl(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),h=new Mc(e.mapping.maps[u],f,n),p;(p=l&&l.merge(h))&&(h=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>B1e&&(a=j1e(a,c),o-=c),new Yl(a.append(s),o)}remapping(e,n){let r=new Lv;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Yl(this.items.append(e.map(n=>new Mc(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let g=s.maps[p];if(h.step){let v=e.steps[p].invert(e.docs[p]),y=h.selection&&h.selection.map(s.slice(l+1,p));y&&a++,r.push(new Mc(g,v,y))}else r.push(new Mc(g))},i);let c=[];for(let h=n;h<o;h++)c.push(new Mc(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),f=new Yl(u,a);return f.emptyItemCount()>F1e&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let f=new Mc(c.invert(),l,u),h,p=i.length-1;(h=i.length&&i[p].merge(f))?i[p]=h:i.push(f)}}else o.map&&r--},this.items.length,0),new Yl(ns.from(i.reverse()),s)}}Yl.empty=new Yl(ns.empty,0);function j1e(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Mc{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Mc(n.getMap().invert(),n,this.selection)}}}class of{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const B1e=20;function V1e(t,e,n,r){let i=n.getMeta(Qh),s;if(i)return i.historyState;n.getMeta(U1e)&&(t=new of(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Qh))return o.getMeta(Qh).redo?new of(t.done.addTransform(n,void 0,r,tb(e)),t.undone,eM(n.mapping.maps),t.prevTime,t.prevComposition):new of(t.done,t.undone.addTransform(n,void 0,r,tb(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!$1e(n,t.prevRanges)),c=o?dS(t.prevRanges,n.mapping):eM(n.mapping.maps);return new of(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,tb(e)),Yl.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new of(t.done.rebased(n,s),t.undone.rebased(n,s),dS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new of(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),dS(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function $1e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function eM(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function dS(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function z1e(t,e,n){let r=tb(e),i=Qh.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new of(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Qh,{redo:n,historyState:l})}let fS=!1,tM=null;function tb(t){let e=t.plugins;if(tM!=e){fS=!1,tM=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){fS=!0;break}}return fS}const Qh=new du("history"),U1e=new du("closeHistory");function q1e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new na({key:Qh,state:{init(){return new of(Yl.empty,Yl.empty,null,0,-1)},apply(e,n,r){return V1e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?tz:r=="historyRedo"?nz:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function ez(t,e){return(n,r)=>{let i=Qh.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=z1e(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const tz=ez(!1,!0),nz=ez(!0,!0),H1e=no.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>tz(t,e),redo:()=>({state:t,dispatch:e})=>nz(t,e)}},addProseMirrorPlugins(){return[q1e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),W1e=uc.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ts(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):aye(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(dn.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(qt.create(o.doc,c.pos)):o.setSelection(dn.create(o.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(o.insert(u,f),o.setSelection(dn.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Bye({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),G1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,K1e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Y1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,X1e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,J1e=au.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sg({find:G1e,type:this.type}),sg({find:Y1e,type:this.type})]},addPasteRules(){return[og({find:K1e,type:this.type}),og({find:X1e,type:this.type})]}}),Q1e=uc.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ts(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Z1e="listItem",nM="textStyle",rM=/^(\d+)\.\s$/,exe=uc.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ts(this.options.HTMLAttributes,n),0]:["ol",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Z1e,this.editor.getAttributes(nM)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=jv({find:rM,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=jv({find:rM,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(nM)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),txe=uc.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),nxe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,rxe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ixe=au.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sg({find:nxe,type:this.type})]},addPasteRules(){return[og({find:rxe,type:this.type})]}}),sxe=uc.create({name:"text",group:"inline"}),oxe=no.create({name:"starterKit",addExtensions(){const t=[];return this.options.bold!==!1&&t.push(h1e.configure(this.options.bold)),this.options.blockquote!==!1&&t.push(l1e.configure(this.options.blockquote)),this.options.bulletList!==!1&&t.push(m1e.configure(this.options.bulletList)),this.options.code!==!1&&t.push(y1e.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(w1e.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(E1e.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(A1e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(D1e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&t.push(R1e.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(M1e.configure(this.options.heading)),this.options.history!==!1&&t.push(H1e.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(W1e.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(J1e.configure(this.options.italic)),this.options.listItem!==!1&&t.push(Q1e.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(exe.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(txe.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(ixe.configure(this.options.strike)),this.options.text!==!1&&t.push(sxe.configure(this.options.text)),t}}),axe=au.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),lxe=t=>{if(!t.children.length)return;const e=t.querySelectorAll("span");e&&e.forEach(n=>{var r,i;const s=n.getAttribute("style"),o=(i=(r=n.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");n.setAttribute("style",`${o};${s}`)})},cxe=au.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&lxe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ts(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),uxe=no.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function g2({content:t,onChange:e,withDefaultStyles:n=!1}){const r=r1e({extensions:[oxe,axe,cxe,uxe],content:t,editorProps:{attributes:{class:n?"prose max-w-full min-h-[150px] border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500":""}},onUpdate({editor:i}){e(i.getHTML())}});return r?A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("bold")?"bg-black text-white":"bg-gray-200"}`,children:"Bold"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("italic")?"bg-black text-white":"bg-gray-200"}`,children:"Italic"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleUnderline().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("underline")?"bg-black text-white":"bg-gray-200"}`,children:"Underline"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),className:`px-2 py-1 text-sm rounded ${r.isActive("heading",{level:2})?"bg-black text-white":"bg-gray-200"}`,children:"H2"}),A.jsx("input",{type:"color",onInput:i=>r.chain().focus().setColor(i.target.value).run(),className:"w-8 h-8 p-0 border rounded cursor-pointer"})]}),A.jsx(Gye,{editor:r})]}):null}function dxe(t){return t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-")}async function fxe(t){try{const e=await fetch("/api/imagekit-signature");if(!e.ok)throw new Error(`Error al obtener autenticacin de ImageKit: ${e.status}`);const n=await e.json(),r=new FormData;r.append("file",t),r.append("fileName",t.name),r.append("publicKey","public_V7IJIzd4BjNYOQRVUw50wb/R9nk="),r.append("signature",n.signature),r.append("expire",n.expire.toString()),r.append("token",n.token),r.append("useUniqueFileName","true");const i=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",body:r});if(!i.ok){const o=await i.text();throw new Error(`Error al subir imagen a ImageKit: ${i.status} - ${o}`)}const s=await i.json();if(!s.url)throw new Error("La respuesta de ImageKit no contiene URL");return s.url}catch(e){return console.error("Error uploading to ImageKit",e),null}}function hxe(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tg(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function i4(t){return"nodeType"in t}function ra(t){var e,n;return t?Tg(t)?t:i4(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function s4(t){const{Document:e}=ra(t);return t instanceof e}function yy(t){return Tg(t)?!1:t instanceof ra(t).HTMLElement}function rz(t){return t instanceof ra(t).SVGElement}function kg(t){return t?Tg(t)?t.document:i4(t)?s4(t)?t:yy(t)||rz(t)?t.ownerDocument:document:document:document}const lu=Iw?b.useLayoutEffect:b.useEffect;function o4(t){const e=b.useRef(t);return lu(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function pxe(){const t=b.useRef(null),e=b.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Bv(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return lu(()=>{n.current!==t&&(n.current=t)},e),n}function xy(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function v2(t){const e=o4(t),n=b.useRef(null),r=b.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function ZA(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let hS={};function by(t,e){return b.useMemo(()=>{if(e)return e;const n=hS[t]==null?0:hS[t]+1;return hS[t]=n,t+"-"+n},[t,e])}function iz(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const Mm=iz(1),Vv=iz(-1);function mxe(t){return"clientX"in t&&"clientY"in t}function a4(t){if(!t)return!1;const{KeyboardEvent:e}=ra(t.target);return e&&t instanceof e}function gxe(t){if(!t)return!1;const{TouchEvent:e}=ra(t.target);return e&&t instanceof e}function e_(t){if(gxe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return mxe(t)?{x:t.clientX,y:t.clientY}:null}const ag=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ag.Translate.toString(t),ag.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),iM="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function vxe(t){return t.matches(iM)?t:t.querySelector(iM)}const yxe={display:"none"};function xxe(t){let{id:e,value:n}=t;return Me.createElement("div",{id:e,style:yxe},n)}function bxe(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Me.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function wxe(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const sz=b.createContext(null);function Exe(t){const e=b.useContext(sz);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Sxe(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const Cxe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Axe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function _xe(t){let{announcements:e=Axe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Cxe}=t;const{announce:s,announcement:o}=wxe(),a=by("DndLiveRegion"),[l,c]=b.useState(!1);if(b.useEffect(()=>{c(!0)},[]),Exe(b.useMemo(()=>({onDragStart(f){let{active:h}=f;s(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;s(e.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;s(e.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!l)return null;const u=Me.createElement(Me.Fragment,null,Me.createElement(xxe,{id:r,value:i.draggable}),Me.createElement(bxe,{id:a,announcement:o}));return n?Ur.createPortal(u,n):u}var Ii;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ii||(Ii={}));function y2(){}function x2(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function oz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const oc=Object.freeze({x:0,y:0});function az(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lz(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function Txe(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function sM(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function cz(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function oM(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const uz=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=oM(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=az(oM(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(lz)},kxe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=sM(e),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=sM(l),u=i.reduce((h,p,g)=>h+az(c[g],p),0),f=Number((u/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:f}})}}return s.sort(lz)};function Pxe(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const Nxe=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=Pxe(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(Txe)};function Lxe(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function dz(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:oc}function Ixe(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const Dxe=Ixe(1);function Rxe(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Mxe(t,e,n){const r=Rxe(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,f=s?t.height/s:t.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const Oxe={ignoreTransform:!1};function Pg(t,e){e===void 0&&(e=Oxe);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=ra(t).getComputedStyle(t);c&&(n=Mxe(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function aM(t){return Pg(t,{ignoreTransform:!0})}function Fxe(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function jxe(t,e){return e===void 0&&(e=ra(t).getComputedStyle(t)),e.position==="fixed"}function Bxe(t,e){e===void 0&&(e=ra(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function Dw(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(s4(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!yy(i)||rz(i)||n.includes(i))return n;const s=ra(t).getComputedStyle(i);return i!==t&&Bxe(i,s)&&n.push(i),jxe(i,s)?n:r(i.parentNode)}return t?r(t):n}function fz(t){const[e]=Dw(t,1);return e??null}function pS(t){return!Iw||!t?null:Tg(t)?t:i4(t)?s4(t)||t===kg(t).scrollingElement?window:yy(t)?t:null:null}function hz(t){return Tg(t)?t.scrollX:t.scrollLeft}function pz(t){return Tg(t)?t.scrollY:t.scrollTop}function t_(t){return{x:hz(t),y:pz(t)}}var Ji;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ji||(Ji={}));function mz(t){return!Iw||!t?!1:t===document.scrollingElement}function gz(t){const e={x:0,y:0},n=mz(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Vxe={x:.2,y:.2};function $xe(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=Vxe);const{isTop:c,isBottom:u,isLeft:f,isRight:h}=gz(t),p={x:0,y:0},g={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(p.y=Ji.Backward,g.y=r*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(p.y=Ji.Forward,g.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!h&&a>=e.right-v.width?(p.x=Ji.Forward,g.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&o<=e.left+v.width&&(p.x=Ji.Backward,g.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:p,speed:g}}function zxe(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function vz(t){return t.reduce((e,n)=>Mm(e,t_(n)),oc)}function Uxe(t){return t.reduce((e,n)=>e+hz(n),0)}function qxe(t){return t.reduce((e,n)=>e+pz(n),0)}function Hxe(t,e){if(e===void 0&&(e=Pg),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);fz(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Wxe=[["x",["left","right"],Uxe],["y",["top","bottom"],qxe]];class l4{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Dw(n),i=vz(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of Wxe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class K0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function Gxe(t){const{EventTarget:e}=ra(t);return t instanceof e?t:kg(t)}function mS(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var al;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(al||(al={}));function lM(t){t.preventDefault()}function Kxe(t){t.stopPropagation()}var Rn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Rn||(Rn={}));const yz={start:[Rn.Space,Rn.Enter],cancel:[Rn.Esc],end:[Rn.Space,Rn.Enter,Rn.Tab]},Yxe=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Rn.Right:return{...n,x:n.x+25};case Rn.Left:return{...n,x:n.x-25};case Rn.Down:return{...n,y:n.y+25};case Rn.Up:return{...n,y:n.y-25}}};class Rw{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new K0(kg(n)),this.windowListeners=new K0(ra(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(al.Resize,this.handleCancel),this.windowListeners.add(al.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(al.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&Hxe(r),n(oc)}handleKeyDown(e){if(a4(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=yz,coordinateGetter:o=Yxe,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:oc;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(e,{active:n,context:r.current,currentCoordinates:u});if(f){const h=Vv(f,u),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const y=e.code,{isTop:w,isRight:E,isLeft:T,isBottom:I,maxScroll:F,minScroll:B}=gz(v),R=zxe(v),S={x:Math.min(y===Rn.Right?R.right-R.width/2:R.right,Math.max(y===Rn.Right?R.left:R.left+R.width/2,f.x)),y:Math.min(y===Rn.Down?R.bottom-R.height/2:R.bottom,Math.max(y===Rn.Down?R.top:R.top+R.height/2,f.y))},k=y===Rn.Right&&!E||y===Rn.Left&&!T,P=y===Rn.Down&&!I||y===Rn.Up&&!w;if(k&&S.x!==f.x){const N=v.scrollLeft+h.x,M=y===Rn.Right&&N<=F.x||y===Rn.Left&&N>=B.x;if(M&&!h.y){v.scrollTo({left:N,behavior:a});return}M?p.x=v.scrollLeft-N:p.x=y===Rn.Right?v.scrollLeft-F.x:v.scrollLeft-B.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if(P&&S.y!==f.y){const N=v.scrollTop+h.y,M=y===Rn.Down&&N<=F.y||y===Rn.Up&&N>=B.y;if(M&&!h.x){v.scrollTo({top:N,behavior:a});return}M?p.y=v.scrollTop-N:p.y=y===Rn.Down?v.scrollTop-F.y:v.scrollTop-B.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,Mm(Vv(f,this.referenceCoordinates),p))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Rw.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=yz,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function cM(t){return!!(t&&"distance"in t)}function uM(t){return!!(t&&"delay"in t)}class c4{constructor(e,n,r){var i;r===void 0&&(r=Gxe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=kg(o),this.documentListeners=new K0(this.document),this.listeners=new K0(r),this.windowListeners=new K0(ra(o)),this.initialCoordinates=(i=e_(s))!=null?i:oc,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(al.Resize,this.handleCancel),this.windowListeners.add(al.DragStart,lM),this.windowListeners.add(al.VisibilityChange,this.handleCancel),this.windowListeners.add(al.ContextMenu,lM),this.documentListeners.add(al.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(uM(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(cM(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(al.Click,Kxe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(al.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=e_(e))!=null?n:oc,c=Vv(i,l);if(!r&&a){if(cM(a)){if(a.tolerance!=null&&mS(c,a.tolerance))return this.handleCancel();if(mS(c,a.distance))return this.handleStart()}if(uM(a)&&mS(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Rn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Xxe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Mw extends c4{constructor(e){const{event:n}=e,r=kg(n.target);super(e,Xxe,r)}}Mw.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Jxe={move:{name:"mousemove"},end:{name:"mouseup"}};var n_;(function(t){t[t.RightClick=2]="RightClick"})(n_||(n_={}));class Qxe extends c4{constructor(e){super(e,Jxe,kg(e.event.target))}}Qxe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===n_.RightClick?!1:(r==null||r({event:n}),!0)}}];const gS={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Zxe extends c4{constructor(e){super(e,gS)}static setup(){return window.addEventListener(gS.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(gS.move.name,e)};function e(){}}}Zxe.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Y0;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Y0||(Y0={}));var b2;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(b2||(b2={}));function ebe(t){let{acceleration:e,activator:n=Y0.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=b2.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:h}=t;const p=nbe({delta:f,disabled:!s}),[g,v]=pxe(),y=b.useRef({x:0,y:0}),w=b.useRef({x:0,y:0}),E=b.useMemo(()=>{switch(n){case Y0.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Y0.DraggableRect:return i}},[n,i,l]),T=b.useRef(null),I=b.useCallback(()=>{const B=T.current;if(!B)return;const R=y.current.x*w.current.x,S=y.current.y*w.current.y;B.scrollBy(R,S)},[]),F=b.useMemo(()=>a===b2.TreeOrder?[...c].reverse():c,[a,c]);b.useEffect(()=>{if(!s||!c.length||!E){v();return}for(const B of F){if((r==null?void 0:r(B))===!1)continue;const R=c.indexOf(B),S=u[R];if(!S)continue;const{direction:k,speed:P}=$xe(B,S,E,e,h);for(const N of["x","y"])p[N][k[N]]||(P[N]=0,k[N]=0);if(P.x>0||P.y>0){v(),T.current=B,g(I,o),y.current=P,w.current=k;return}}y.current={x:0,y:0},w.current={x:0,y:0},v()},[e,I,r,v,s,o,JSON.stringify(E),JSON.stringify(p),g,c,F,u,JSON.stringify(h)])}const tbe={x:{[Ji.Backward]:!1,[Ji.Forward]:!1},y:{[Ji.Backward]:!1,[Ji.Forward]:!1}};function nbe(t){let{delta:e,disabled:n}=t;const r=ZA(e);return xy(i=>{if(n||!r||!i)return tbe;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Ji.Backward]:i.x[Ji.Backward]||s.x===-1,[Ji.Forward]:i.x[Ji.Forward]||s.x===1},y:{[Ji.Backward]:i.y[Ji.Backward]||s.y===-1,[Ji.Forward]:i.y[Ji.Forward]||s.y===1}}},[n,e,r])}function rbe(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return xy(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function ibe(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var $v;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})($v||($v={}));var r_;(function(t){t.Optimized="optimized"})(r_||(r_={}));const dM=new Map;function sbe(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=b.useState(null),{frequency:a,measure:l,strategy:c}=i,u=b.useRef(t),f=y(),h=Bv(f),p=b.useCallback(function(w){w===void 0&&(w=[]),!h.current&&o(E=>E===null?w:E.concat(w.filter(T=>!E.includes(T))))},[h]),g=b.useRef(null),v=xy(w=>{if(f&&!n)return dM;if(!w||w===dM||u.current!==t||s!=null){const E=new Map;for(let T of t){if(!T)continue;if(s&&s.length>0&&!s.includes(T.id)&&T.rect.current){E.set(T.id,T.rect.current);continue}const I=T.node.current,F=I?new l4(l(I),I):null;T.rect.current=F,F&&E.set(T.id,F)}return E}return w},[t,s,n,f,l]);return b.useEffect(()=>{u.current=t},[t]),b.useEffect(()=>{f||p()},[n,f]),b.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),b.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},a))},[a,f,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function y(){switch(c){case $v.Always:return!1;case $v.BeforeDragging:return n;default:return!n}}}function xz(t,e){return xy(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function obe(t,e){return xz(t,e)}function abe(t){let{callback:e,disabled:n}=t;const r=o4(e),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ow(t){let{callback:e,disabled:n}=t;const r=o4(e),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function lbe(t){return new l4(Pg(t),t)}function fM(t,e,n){e===void 0&&(e=lbe);const[r,i]=b.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=abe({callback(l){if(t)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(t)){s();break}}}}),a=Ow({callback:s});return lu(()=>{s(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function cbe(t){const e=xz(t);return dz(t,e)}const hM=[];function ube(t){const e=b.useRef(t),n=xy(r=>t?r&&r!==hM&&t&&e.current&&t.parentNode===e.current.parentNode?r:Dw(t):hM,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function dbe(t){const[e,n]=b.useState(null),r=b.useRef(t),i=b.useCallback(s=>{const o=pS(s.target);o&&n(a=>a?(a.set(o,t_(o)),new Map(a)):null)},[]);return b.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=pS(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,t_(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=pS(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Mm(s,o),oc):vz(t):oc,[t,e])}function pM(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==oc;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?Vv(t,n.current):oc}function fbe(t){b.useEffect(()=>{if(!Iw)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function hbe(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function bz(t){return b.useMemo(()=>t?Fxe(t):null,[t])}const mM=[];function pbe(t,e){e===void 0&&(e=Pg);const[n]=t,r=bz(n?ra(n):null),[i,s]=b.useState(mM);function o(){s(()=>t.length?t.map(l=>mz(l)?r:new l4(e(l),l)):mM)}const a=Ow({callback:o});return lu(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),i}function mbe(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return yy(e)?e:t}function gbe(t){let{measure:e}=t;const[n,r]=b.useState(null),i=b.useCallback(c=>{for(const{target:u}of c)if(yy(u)){r(f=>{const h=e(u);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),s=Ow({callback:i}),o=b.useCallback(c=>{const u=mbe(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=v2(o);return b.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const vbe=[{sensor:Mw,options:{}},{sensor:Rw,options:{}}],ybe={current:{}},nb={draggable:{measure:aM},droppable:{measure:aM,strategy:$v.WhileDragging,frequency:r_.Optimized},dragOverlay:{measure:Pg}};class X0 extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const xbe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new X0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:y2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nb,measureDroppableContainers:y2,windowRect:null,measuringScheduled:!1},bbe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:y2,draggableNodes:new Map,over:null,measureDroppableContainers:y2},Fw=b.createContext(bbe),wz=b.createContext(xbe);function wbe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new X0}}}function Ebe(t,e){switch(e.type){case Ii.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ii.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ii.DragEnd:case Ii.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ii.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new X0(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ii.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new X0(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Ii.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new X0(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Sbe(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=b.useContext(Fw),s=ZA(r),o=ZA(n==null?void 0:n.id);return b.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!a4(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=vxe(u);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function Cbe(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function Abe(t){return b.useMemo(()=>({draggable:{...nb.draggable,...t==null?void 0:t.draggable},droppable:{...nb.droppable,...t==null?void 0:t.droppable},dragOverlay:{...nb.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function _be(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=b.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;lu(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),f=dz(u,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=fz(c);h&&h.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,n])}const Ez=b.createContext({...oc,scaleX:1,scaleY:1});var af;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(af||(af={}));const Sz=b.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=vbe,collisionDetection:f=Nxe,measuring:h,modifiers:p,...g}=e;const v=b.useReducer(Ebe,void 0,wbe),[y,w]=v,[E,T]=Sxe(),[I,F]=b.useState(af.Uninitialized),B=I===af.Initialized,{draggable:{active:R,nodes:S,translate:k},droppable:{containers:P}}=y,N=R!=null?S.get(R):null,M=b.useRef({initial:null,translated:null}),O=b.useMemo(()=>{var gn;return R!=null?{id:R,data:(gn=N==null?void 0:N.data)!=null?gn:ybe,rect:M}:null},[R,N]),q=b.useRef(null),[Z,ne]=b.useState(null),[ee,Y]=b.useState(null),oe=Bv(g,Object.values(g)),se=by("DndDescribedBy",o),K=b.useMemo(()=>P.getEnabled(),[P]),V=Abe(h),{droppableRects:W,measureDroppableContainers:J,measuringScheduled:Q}=sbe(K,{dragging:B,dependencies:[k.x,k.y],config:V.droppable}),re=rbe(S,R),ce=b.useMemo(()=>ee?e_(ee):null,[ee]),fe=Qn(),be=obe(re,V.draggable.measure);_be({activeNode:R!=null?S.get(R):null,config:fe.layoutShiftCompensation,initialRect:be,measure:V.draggable.measure});const ge=fM(re,V.draggable.measure,be),Se=fM(re?re.parentElement:null),Be=b.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=P.getNodeFor((n=Be.current.over)==null?void 0:n.id),Ae=gbe({measure:V.dragOverlay.measure}),ye=(r=Ae.nodeRef.current)!=null?r:re,he=B?(i=Ae.rect)!=null?i:ge:null,Je=!!(Ae.nodeRef.current&&Ae.rect),qe=cbe(Je?null:ge),je=bz(ye?ra(ye):null),De=ube(B?_e??re:null),We=pbe(De),de=Cbe(p,{transform:{x:k.x-qe.x,y:k.y-qe.y,scaleX:1,scaleY:1},activatorEvent:ee,active:O,activeNodeRect:ge,containerNodeRect:Se,draggingNodeRect:he,over:Be.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:De,scrollableAncestorRects:We,windowRect:je}),we=ce?Mm(ce,k):null,ke=dbe(De),Ye=pM(ke),$e=pM(ke,[ge]),He=Mm(de,Ye),ot=he?Dxe(he,de):null,dt=O&&ot?f({active:O,collisionRect:ot,droppableRects:W,droppableContainers:K,pointerCoordinates:we}):null,xt=cz(dt,"id"),[st,jt]=b.useState(null),Vt=Je?de:Mm(de,$e),Hn=Lxe(Vt,(s=st==null?void 0:st.rect)!=null?s:null,ge),Ut=b.useRef(null),fn=b.useCallback((gn,Yt)=>{let{sensor:St,options:Ht}=Yt;if(q.current==null)return;const Fn=S.get(q.current);if(!Fn)return;const hn=gn.nativeEvent,Tn=new St({active:q.current,activeNode:Fn,event:hn,options:Ht,context:Be,onAbort(gt){if(!S.get(gt))return;const{onDragAbort:rn}=oe.current,yn={id:gt};rn==null||rn(yn),E({type:"onDragAbort",event:yn})},onPending(gt,Ct,rn,yn){if(!S.get(gt))return;const{onDragPending:Dn}=oe.current,jn={id:gt,constraint:Ct,initialCoordinates:rn,offset:yn};Dn==null||Dn(jn),E({type:"onDragPending",event:jn})},onStart(gt){const Ct=q.current;if(Ct==null)return;const rn=S.get(Ct);if(!rn)return;const{onDragStart:yn}=oe.current,kn={activatorEvent:hn,active:{id:Ct,data:rn.data,rect:M}};Ur.unstable_batchedUpdates(()=>{yn==null||yn(kn),F(af.Initializing),w({type:Ii.DragStart,initialCoordinates:gt,active:Ct}),E({type:"onDragStart",event:kn}),ne(Ut.current),Y(hn)})},onMove(gt){w({type:Ii.DragMove,coordinates:gt})},onEnd:fr(Ii.DragEnd),onCancel:fr(Ii.DragCancel)});Ut.current=Tn;function fr(gt){return async function(){const{active:rn,collisions:yn,over:kn,scrollAdjustedTranslate:Dn}=Be.current;let jn=null;if(rn&&Dn){const{cancelDrop:Oi}=oe.current;jn={activatorEvent:hn,active:rn,collisions:yn,delta:Dn,over:kn},gt===Ii.DragEnd&&typeof Oi=="function"&&await Promise.resolve(Oi(jn))&&(gt=Ii.DragCancel)}q.current=null,Ur.unstable_batchedUpdates(()=>{w({type:gt}),F(af.Uninitialized),jt(null),ne(null),Y(null),Ut.current=null;const Oi=gt===Ii.DragEnd?"onDragEnd":"onDragCancel";if(jn){const as=oe.current[Oi];as==null||as(jn),E({type:Oi,event:jn})}})}}},[S]),lr=b.useCallback((gn,Yt)=>(St,Ht)=>{const Fn=St.nativeEvent,hn=S.get(Ht);if(q.current!==null||!hn||Fn.dndKit||Fn.defaultPrevented)return;const Tn={active:hn};gn(St,Yt.options,Tn)===!0&&(Fn.dndKit={capturedBy:Yt.sensor},q.current=Ht,fn(St,Yt))},[S,fn]),Kt=ibe(u,lr);fbe(u),lu(()=>{ge&&I===af.Initializing&&F(af.Initialized)},[ge,I]),b.useEffect(()=>{const{onDragMove:gn}=oe.current,{active:Yt,activatorEvent:St,collisions:Ht,over:Fn}=Be.current;if(!Yt||!St)return;const hn={active:Yt,activatorEvent:St,collisions:Ht,delta:{x:He.x,y:He.y},over:Fn};Ur.unstable_batchedUpdates(()=>{gn==null||gn(hn),E({type:"onDragMove",event:hn})})},[He.x,He.y]),b.useEffect(()=>{const{active:gn,activatorEvent:Yt,collisions:St,droppableContainers:Ht,scrollAdjustedTranslate:Fn}=Be.current;if(!gn||q.current==null||!Yt||!Fn)return;const{onDragOver:hn}=oe.current,Tn=Ht.get(xt),fr=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,gt={active:gn,activatorEvent:Yt,collisions:St,delta:{x:Fn.x,y:Fn.y},over:fr};Ur.unstable_batchedUpdates(()=>{jt(fr),hn==null||hn(gt),E({type:"onDragOver",event:gt})})},[xt]),lu(()=>{Be.current={activatorEvent:ee,active:O,activeNode:re,collisionRect:ot,collisions:dt,droppableRects:W,draggableNodes:S,draggingNode:ye,draggingNodeRect:he,droppableContainers:P,over:st,scrollableAncestors:De,scrollAdjustedTranslate:He},M.current={initial:he,translated:ot}},[O,re,dt,ot,S,ye,he,W,P,st,De,He]),ebe({...fe,delta:k,draggingRect:ot,pointerCoordinates:we,scrollableAncestors:De,scrollableAncestorRects:We});const Fr=b.useMemo(()=>({active:O,activeNode:re,activeNodeRect:ge,activatorEvent:ee,collisions:dt,containerNodeRect:Se,dragOverlay:Ae,draggableNodes:S,droppableContainers:P,droppableRects:W,over:st,measureDroppableContainers:J,scrollableAncestors:De,scrollableAncestorRects:We,measuringConfiguration:V,measuringScheduled:Q,windowRect:je}),[O,re,ge,ee,dt,Se,Ae,S,P,W,st,J,De,We,V,Q,je]),_n=b.useMemo(()=>({activatorEvent:ee,activators:Kt,active:O,activeNodeRect:ge,ariaDescribedById:{draggable:se},dispatch:w,draggableNodes:S,over:st,measureDroppableContainers:J}),[ee,Kt,O,ge,w,se,S,st,J]);return Me.createElement(sz.Provider,{value:T},Me.createElement(Fw.Provider,{value:_n},Me.createElement(wz.Provider,{value:Fr},Me.createElement(Ez.Provider,{value:Hn},c)),Me.createElement(Sbe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),Me.createElement(_xe,{...a,hiddenTextDescribedById:se}));function Qn(){const gn=(Z==null?void 0:Z.autoScrollEnabled)===!1,Yt=typeof l=="object"?l.enabled===!1:l===!1,St=B&&!gn&&!Yt;return typeof l=="object"?{...l,enabled:St}:{enabled:St}}}),Tbe=b.createContext(null),gM="button",kbe="Draggable";function Pbe(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=by(kbe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:h}=b.useContext(Fw),{role:p=gM,roleDescription:g="draggable",tabIndex:v=0}=i??{},y=(l==null?void 0:l.id)===e,w=b.useContext(y?Ez:Tbe),[E,T]=v2(),[I,F]=v2(),B=hbe(o,e),R=Bv(n);lu(()=>(f.set(e,{id:e,key:s,node:E,activatorNode:I,data:R}),()=>{const k=f.get(e);k&&k.key===s&&f.delete(e)}),[f,e]);const S=b.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&p===gM?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,p,v,y,g,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:S,isDragging:y,listeners:r?void 0:B,node:E,over:h,setNodeRef:T,setActivatorNodeRef:F,transform:w}}function Nbe(){return b.useContext(wz)}const Lbe="Droppable",Ibe={timeout:25};function Dbe(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=by(Lbe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=b.useContext(Fw),u=b.useRef({disabled:n}),f=b.useRef(!1),h=b.useRef(null),p=b.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:y}={...Ibe,...i},w=Bv(v??r),E=b.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(w.current)?w.current:[w.current]),p.current=null},y)},[y]),T=Ow({callback:E,disabled:g||!o}),I=b.useCallback((S,k)=>{T&&(k&&(T.unobserve(k),f.current=!1),S&&T.observe(S))},[T]),[F,B]=v2(I),R=Bv(e);return b.useEffect(()=>{!T||!F.current||(T.disconnect(),f.current=!1,T.observe(F.current))},[F,T]),b.useEffect(()=>(a({type:Ii.RegisterDroppable,element:{id:r,key:s,disabled:n,node:F,rect:h,data:R}}),()=>a({type:Ii.UnregisterDroppable,key:s,id:r})),[r]),b.useEffect(()=>{n!==u.current.disabled&&(a({type:Ii.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:F,over:l,setNodeRef:B}}function jw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function Rbe(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function j1(t){return t!==null&&t>=0}function Mbe(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Obe(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Cz=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=jw(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},B1={scaleX:1,scaleY:1},Az=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...B1}:null}const l=Fbe(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...B1}:i<n&&i>=o?{x:0,y:a.height+l,...B1}:{x:0,y:0,...B1}};function Fbe(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const _z="Sortable",Tz=Me.createContext({activeIndex:-1,containerId:_z,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Cz,disabled:{draggable:!1,droppable:!1}});function kz(t){let{children:e,id:n,items:r,strategy:i=Cz,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=Nbe(),f=by(_z,n),h=a.rect!==null,p=b.useMemo(()=>r.map(B=>typeof B=="object"&&"id"in B?B.id:B),[r]),g=o!=null,v=o?p.indexOf(o.id):-1,y=c?p.indexOf(c.id):-1,w=b.useRef(p),E=!Mbe(p,w.current),T=y!==-1&&v===-1||E,I=Obe(s);lu(()=>{E&&g&&u(p)},[E,p,g,u]),b.useEffect(()=>{w.current=p},[p]);const F=b.useMemo(()=>({activeIndex:v,containerId:f,disabled:I,disableTransforms:T,items:p,overIndex:y,useDragOverlay:h,sortedRects:Rbe(p,l),strategy:i}),[v,f,I.draggable,I.droppable,T,p,y,l,h,i]);return Me.createElement(Tz.Provider,{value:F},e)}const jbe=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return jw(n,r,i).indexOf(e)},Bbe=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},Vbe={duration:200,easing:"ease"},Pz="transform",$be=ag.Transition.toString({property:Pz,duration:0,easing:"linear"}),zbe={roleDescription:"sortable"};function Ube(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=b.useState(null),a=b.useRef(n);return lu(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=Pg(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),b.useEffect(()=>{s&&o(null)},[s]),s}function Nz(t){let{animateLayoutChanges:e=Bbe,attributes:n,disabled:r,data:i,getNewIndex:s=jbe,id:o,strategy:a,resizeObserverConfig:l,transition:c=Vbe}=t;const{items:u,containerId:f,activeIndex:h,disabled:p,disableTransforms:g,sortedRects:v,overIndex:y,useDragOverlay:w,strategy:E}=b.useContext(Tz),T=qbe(r,p),I=u.indexOf(o),F=b.useMemo(()=>({sortable:{containerId:f,index:I,items:u},...i}),[f,i,I,u]),B=b.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:R,node:S,isOver:k,setNodeRef:P}=Dbe({id:o,data:F,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:B,...l}}),{active:N,activatorEvent:M,activeNodeRect:O,attributes:q,setNodeRef:Z,listeners:ne,isDragging:ee,over:Y,setActivatorNodeRef:oe,transform:se}=Pbe({id:o,data:F,attributes:{...zbe,...n},disabled:T.draggable}),K=hxe(P,Z),V=!!N,W=V&&!g&&j1(h)&&j1(y),J=!w&&ee,Q=J&&W?se:null,ce=W?Q??(a??E)({rects:v,activeNodeRect:O,activeIndex:h,overIndex:y,index:I}):null,fe=j1(h)&&j1(y)?s({id:o,items:u,activeIndex:h,overIndex:y}):I,be=N==null?void 0:N.id,ge=b.useRef({activeId:be,items:u,newIndex:fe,containerId:f}),Se=u!==ge.current.items,Be=e({active:N,containerId:f,isDragging:ee,isSorting:V,id:o,index:I,items:u,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:c,wasDragging:ge.current.activeId!=null}),_e=Ube({disabled:!Be,index:I,node:S,rect:R});return b.useEffect(()=>{V&&ge.current.newIndex!==fe&&(ge.current.newIndex=fe),f!==ge.current.containerId&&(ge.current.containerId=f),u!==ge.current.items&&(ge.current.items=u)},[V,fe,f,u]),b.useEffect(()=>{if(be===ge.current.activeId)return;if(be!=null&&ge.current.activeId==null){ge.current.activeId=be;return}const ye=setTimeout(()=>{ge.current.activeId=be},50);return()=>clearTimeout(ye)},[be]),{active:N,activeIndex:h,attributes:q,data:F,rect:R,index:I,newIndex:fe,items:u,isOver:k,isSorting:V,isDragging:ee,listeners:ne,node:S,overIndex:y,over:Y,setNodeRef:K,setActivatorNodeRef:oe,setDroppableNodeRef:P,setDraggableNodeRef:Z,transform:_e??ce,transition:Ae()};function Ae(){if(_e||Se&&ge.current.newIndex===I)return $be;if(!(J&&!a4(M)||!c)&&(V||Be))return ag.Transition.toString({...c,property:Pz})}}function qbe(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function w2(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Hbe=[Rn.Down,Rn.Right,Rn.Up,Rn.Left],Lz=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=e;if(Hbe.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=i.get(f.id);if(h)switch(t.code){case Rn.Down:r.top<h.top&&l.push(f);break;case Rn.Up:r.top>h.top&&l.push(f);break;case Rn.Left:r.left>h.left&&l.push(f);break;case Rn.Right:r.left<h.left&&l.push(f);break}});const c=kxe({collisionRect:r,droppableRects:i,droppableContainers:l});let u=cz(c,"id");if(u===(o==null?void 0:o.id)&&c.length>1&&(u=c[1].id),u!=null){const f=s.get(n.id),h=s.get(u),p=h?i.get(h.id):null,g=h==null?void 0:h.node.current;if(g&&p&&f&&h){const y=Dw(g).some((B,R)=>a[R]!==B),w=Iz(f,h),E=Wbe(f,h),T=y||!w?{x:0,y:0}:{x:E?r.width-p.width:0,y:E?r.height-p.height:0},I={x:p.left,y:p.top};return T.x&&T.y?I:Vv(I,T)}}}};function Iz(t,e){return!w2(t)||!w2(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Wbe(t,e){return!w2(t)||!w2(e)||!Iz(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}function Gbe({id:t,url:e,onRemove:n,onMoveLeft:r,onMoveRight:i}){const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c}=Nz({id:t}),u={transform:ag.Transform.toString(l),transition:c};return A.jsxs("div",{className:"relative group",children:[A.jsx("div",{ref:a,style:u,className:"cursor-move",...s,...o,children:A.jsx("img",{src:e,alt:"Vista previa",className:"w-full h-40 object-cover rounded border"})}),A.jsx("button",{type:"button",onClick:n,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition",children:""}),A.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between opacity-100 transition",children:[A.jsx("button",{type:"button",onClick:r,className:"bg-black/60 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black",children:""}),A.jsx("button",{type:"button",onClick:i,className:"bg-black/60 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black",children:""})]})]})}function Kbe({product:t,onSave:e,onClose:n}){var se,K,V,W,J,Q;const[r,i]=b.useState({...t}),[s,o]=b.useState(!1),[a,l]=b.useState(""),[c,u]=b.useState(!1),[f,h]=b.useState([]),[p,g]=b.useState([]),[v,y]=b.useState(typeof t.category=="string"?t.category:((se=t.category)==null?void 0:se.id)||""),[w,E]=b.useState(()=>{var re;return typeof t.subcategory=="string"?t.subcategory:typeof t.subcategory=="object"&&((re=t.subcategory)!=null&&re.id)?t.subcategory.id:""}),[T,I]=b.useState(""),[F,B]=b.useState(((K=t.description)==null?void 0:K.en)||""),[R,S]=b.useState(((V=t.description)==null?void 0:V.es)||""),[k,P]=b.useState(t.variants||[{label:{es:"",en:""},options:[{value:"",priceUSD:0}]}]),N=oz(x2(Mw),x2(Rw,{coordinateGetter:Lz}));b.useEffect(()=>{(async()=>{try{const ce=await pw(),fe=(await Promise.all(ce.map(async be=>(await _v(be.id)).map(Se=>({...Se,categoryId:be.id}))))).flat();h(ce.map(be=>({...be,categoryId:be.id}))),g(fe)}catch(ce){console.error("[EditProductModal] Error al cargar datos desde Firebase:",ce)}})()},[]);const M=(re,ce)=>{i(fe=>({...fe,[re]:ce}))},[O,q]=b.useState(((W=t.images)==null?void 0:W.filter(re=>typeof re=="string"))||[]);b.useEffect(()=>{i(re=>({...re,images:O.filter(ce=>ce!==null)}))},[O]);const Z=async()=>{var re,ce,fe,be,ge,Se;l(""),o(!0);try{if(!((re=r.title)!=null&&re.en.trim())){l("El nombre del producto es obligatorio."),o(!1);return}if(!v||!w){l("Debe seleccionar categora y subcategora."),o(!1);return}if(!r.images||r.images.length===0){l("Debe subir al menos una imagen del producto."),o(!1);return}const Be=String(r.id),{id:_e,...Ae}=r;r.variants=k;const ye=f.find(je=>je.id===v),he=p.find(je=>je.id===w),Je=k.reduce((je,De)=>je+De.options.reduce((We,de)=>We+(de.stock||0),0),0),qe={id:Be,...Ae,stockTotal:Je,title:{en:((fe=(ce=Ae.title)==null?void 0:ce.en)==null?void 0:fe.trim())||"",es:((ge=(be=Ae.title)==null?void 0:be.es)==null?void 0:ge.trim())||""},slug:Ae.slug??dxe(((Se=Ae.title)==null?void 0:Se.en)??""),images:Ae.images||[],priceUSD:Ae.priceUSD||0,stock:{},category:{id:(ye==null?void 0:ye.id)??"",name:(ye==null?void 0:ye.name)??""},subcategory:{id:(he==null?void 0:he.id)??"",name:(he==null?void 0:he.name)??""},defaultDescriptionType:Ae.defaultDescriptionType||"none",extraDescriptionTop:Ae.extraDescriptionTop||"",extraDescriptionBottom:Ae.extraDescriptionBottom||"",description:{en:F.trim(),es:R.trim()},allowCustomization:Ae.allowCustomization||!1,descriptionPosition:Ae.descriptionPosition||"bottom",active:Ae.active!==void 0?Ae.active:!0};await xA(Be,{...qe,variants:k}),e({...qe,variants:k})}catch(Be){console.error("Error al guardar producto:",Be),l("Error al guardar el producto. Intenta nuevamente.")}finally{o(!1)}},ne=re=>{const{active:ce,over:fe}=re;fe&&ce.id!==fe.id&&q(be=>{const ge=be.filter(_e=>_e!==null),Se=ge.findIndex(_e=>_e===ce.id),Be=ge.findIndex(_e=>_e===fe.id);return jw(ge,Se,Be)})},ee=re=>{re>0&&r.images&&i(ce=>{const fe=[...ce.images||[]];return[fe[re-1],fe[re]]=[fe[re],fe[re-1]],{...ce,images:fe}})},Y=re=>{r.images&&re<r.images.length-1&&i(ce=>{const fe=[...ce.images||[]];return[fe[re],fe[re+1]]=[fe[re+1],fe[re]],{...ce,images:fe}})},oe=re=>{i(ce=>{const fe=[...ce.images||[]];return fe.splice(re,1),{...ce,images:fe}})};return A.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:A.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[A.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:n}),A.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),A.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:[A.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:A.jsxs("button",{type:"button",onClick:n,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[A.jsx("span",{className:"sr-only",children:"Cerrar"}),A.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),A.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[A.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",id:"modal-title",children:"Editar Producto"}),a&&A.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),A.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto p-1",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"lg:col-span-4",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo Interno"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo (EN)"}),A.jsx("input",{type:"text",value:((J=r.title)==null?void 0:J.en)||"",onChange:re=>M("title",{...r.title,en:re.target.value}),className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo (ES)"}),A.jsx("input",{type:"text",value:((Q=r.title)==null?void 0:Q.es)||"",onChange:re=>M("title",{...r.title,es:re.target.value}),className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none"})]})]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),A.jsxs("select",{value:v,onChange:re=>{y(re.target.value),E(""),I("")},className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[A.jsx("option",{value:"",children:"Seleccionar Categora"}),f.map(re=>A.jsx("option",{value:re.id,children:re.name},re.id))]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategora"}),A.jsxs("select",{value:w,onChange:re=>{E(re.target.value),I("")},className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[A.jsx("option",{value:"",children:"Seleccionar Subcategora"}),p.filter(re=>re.categoryId===v).map(re=>A.jsx("option",{value:re.id,children:typeof re.name=="string"?re.name:typeof re.name=="object"&&re.name!==null&&"en"in re.name&&"es"in re.name?re.name.en??re.name.es??"":""},re.id))]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio USD"}),A.jsx("input",{type:"number",value:r.priceUSD||0,onChange:re=>M("priceUSD",parseFloat(re.target.value)),className:"remove-arrows shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none",min:"0",step:"0.01",required:!0})]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (EN)"}),A.jsx(g2,{content:F,onChange:B,withDefaultStyles:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (ES)"}),A.jsx(g2,{content:R,onChange:S,withDefaultStyles:!0})]})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("label",{className:"block font-semibold mb-2",children:"Variantes del producto"}),k.map((re,ce)=>A.jsxs("div",{className:"mb-4 border p-3 rounded-md bg-gray-50",children:[A.jsxs("div",{className:"flex gap-4 mb-2",children:[A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en espaol (Ej: Tamao)",value:re.label.es,onChange:fe=>{const be=[...k];be[ce].label.es=fe.target.value,P(be)}}),A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en ingls (Ej: Size)",value:re.label.en,onChange:fe=>{const be=[...k];be[ce].label.en=fe.target.value,P(be)}})]}),re.options.map((fe,be)=>A.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Valor"}),A.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Ej: 60 cpsulas",value:fe.value,onChange:ge=>{const Se=[...k];Se[ce].options[be].value=ge.target.value,P(Se)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Precio USD"}),A.jsx("input",{type:"number",step:"0.01",min:0,className:"border p-2 w-full",placeholder:"Ej: 19.99",value:fe.priceUSD,onChange:ge=>{const Se=[...k];Se[ce].options[be].priceUSD=parseFloat(ge.target.value),P(Se)}})]}),A.jsxs("div",{className:"flex gap-1 items-end",children:[A.jsxs("div",{className:"w-full",children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Stock"}),A.jsx("input",{type:"number",min:0,className:"border p-2 w-full",placeholder:"Ej: 10",value:fe.stock||0,onChange:ge=>{const Se=[...k];Se[ce].options[be].stock=parseInt(ge.target.value),P(Se)}})]}),A.jsx("button",{type:"button",onClick:()=>{const ge=[...k];ge[ce].options=ge[ce].options.filter((Se,Be)=>Be!==be),P(ge)},className:"ml-1 px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:""})]})]},be)),A.jsx("button",{type:"button",className:"text-blue-600 text-sm mt-2",onClick:()=>{const fe=[...k];fe[ce].options.push({value:"",priceUSD:0}),P(fe)},children:"+ Agregar opcin"}),A.jsx("button",{type:"button",onClick:()=>{const fe=k.filter((be,ge)=>ge!==ce);P(fe)},className:"bg-red-500 text-white px-2 py-1 rounded mt-2 ml-2",children:"Eliminar"})]},ce)),A.jsx("button",{type:"button",className:"text-blue-600 mt-2",onClick:()=>{P([...k,{label:{es:"",en:""},options:[{value:"",priceUSD:0}]}])},children:"+ Agregar variante"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("label",{className:"flex justify-between items-center",children:["Imgenes",A.jsx("span",{className:"text-gray-400 text-sm ml-2",children:"(arrastr para ordenar)"})]}),A.jsx(Sz,{sensors:N,collisionDetection:uz,onDragEnd:ne,children:A.jsx(kz,{items:O.filter(re=>re!==null),strategy:Az,children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:O.filter(re=>re!==null).map((re,ce)=>A.jsx(Gbe,{id:re,url:re,onRemove:()=>oe(ce),onMoveLeft:()=>ee(ce),onMoveRight:()=>Y(ce)},re))})})})]})]})]}),A.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[A.jsx("button",{type:"button",onClick:Z,disabled:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-black text-base font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black sm:ml-3 sm:w-auto sm:text-sm disabled:bg-gray-400",children:s?"Guardando...":"Guardar Cambios"}),A.jsx("button",{type:"button",onClick:n,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})}function Ybe({title:t,message:e,onConfirm:n,onCancel:r,isLoading:i=!1}){return A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:A.jsxs(Qo.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[A.jsx("h2",{className:"text-lg font-bold mb-2",children:t}),A.jsx("p",{className:"text-gray-600 mb-6",children:e}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-300 hover:bg-gray-400 text-sm font-medium",disabled:i,children:"Cancelar"}),A.jsx("button",{onClick:n,className:`px-4 py-2 rounded-lg text-white text-sm font-medium ${i?"bg-gray-400":"bg-red-600 hover:bg-red-700"}`,disabled:i,children:i?"Eliminando...":"Eliminar"})]})]})})}function Xbe(){const[t,e]=b.useState([]),[n,r]=b.useState("Todas"),[i,s]=b.useState(null),[o,a]=b.useState(""),[l,c]=b.useState(!0),[u,f]=b.useState(null),[h,p]=b.useState(null),[g,v]=b.useState(!1);b.useEffect(()=>{(async()=>{c(!0),f(null);try{const k=await bm();e(k)}catch(k){console.error("Error al cargar productos:",k),f("No se pudieron cargar los productos. Intenta nuevamente.")}finally{c(!1)}})()},[]);const y=async S=>{try{const k=await hde(S);k?(p(k),v(!0)):f(`No se encontr el producto con ID: ${S}`)}catch(k){console.error("Error al cargar producto para editar:",k),f("No se pudo cargar el producto para editar. Intenta nuevamente.")}},w=async S=>{try{if(S.id){await xA(S.id,S);const k=await bm();e(k),v(!1),p(null)}}catch(k){console.error("Error al guardar cambios:",k),f("No se pudo guardar el producto. Intenta nuevamente.")}},E=async S=>{try{const k=t.find(N=>N.id===S);if(!k)return;await xA(S,{active:!k.active});const P=await bm();e(P)}catch(k){console.error("Error al actualizar estado:",k),f("No se pudo actualizar el estado del producto.")}},T=(S,k)=>{s(S),a(k)},I=async()=>{if(i)try{await vde(i);const S=await bm();e(S),s(null),a("")}catch(S){console.error("Error al eliminar producto:",S),f("No se pudo eliminar el producto.")}},F=()=>{s(null),a("")},B=["Todas",...Array.from(new Set(t.map(S=>{var k;return typeof S.category=="object"?(k=S.category)==null?void 0:k.name:S.category}).filter(Boolean)))].sort(),R=n==="Todas"?t:t.filter(S=>{var k;return(typeof S.category=="object"?(k=S.category)==null?void 0:k.name:S.category)===n});return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Publicaciones"}),u&&A.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:[u,A.jsx("button",{onClick:()=>f(null),className:"ml-2",children:""})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"mr-2 font-medium",children:"Filtrar por categora:"}),A.jsx("select",{value:n,onChange:S=>r(S.target.value),className:"px-3 py-2 border rounded shadow focus:ring-black",children:B.map(S=>A.jsx("option",{value:S,children:S},S))})]}),l?A.jsx("div",{className:"text-center py-8",children:"Cargando productos..."}):R.length===0?A.jsx("div",{className:"text-center py-8 text-gray-500 italic",children:"No hay productos."}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"Ttulo"}),A.jsx("th",{className:"py-2 text-left",children:"Liga"}),A.jsx("th",{className:"py-2 text-left",children:"Precio"}),A.jsx("th",{className:"py-2 text-left",children:"Stock"}),A.jsx("th",{className:"py-2 text-left",children:"Estado"}),A.jsx("th",{className:"py-2 text-left",children:"Acciones"})]})}),A.jsx("tbody",{children:R.map(S=>{var k;return A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:S.title.es}),A.jsx("td",{className:"py-2",children:typeof S.category=="object"?(k=S.category)==null?void 0:k.name:S.category||"Sin categora"}),A.jsxs("td",{className:"py-2",children:["US$ ",S.priceUSD]}),A.jsx("td",{className:"py-2",children:S.stockTotal??0}),A.jsx("td",{className:"py-2",children:A.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.active?"Activo":"Inactivo"})}),A.jsxs("td",{className:"py-2 space-x-2",children:[A.jsx("button",{onClick:()=>y(S.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs",children:"Editar"}),A.jsx("button",{onClick:()=>E(S.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded text-xs",children:S.active?"Desactivar":"Activar"}),A.jsx("button",{onClick:()=>T(S.id,S.title.es),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs",children:"Eliminar"})]})]},S.id)})})]})}),i&&A.jsx(Ybe,{title:"Eliminar producto?",message:`Seguro que quieres eliminar "${o}"?`,onConfirm:I,onCancel:F,isLoading:!1}),g&&h&&A.jsx(Kbe,{product:h,onSave:w,onClose:()=>{v(!1),p(null)}})]})}function Jbe({images:t,onChange:e,onUpload:n}){const[r,i]=b.useState(""),s=b.useRef(t);b.useEffect(()=>{s.current=t},[t]);const o=b.useRef(null),a=()=>{var c;(c=o.current)==null||c.click()},l=async c=>{const u=c.target.files?Array.from(c.target.files):[];if(console.log("Archivos seleccionados:",u),!u||u.length===0)return;i("");const f=u.map(async y=>{var E;if(((E=y.name.split(".").pop())==null?void 0:E.toLowerCase())==="webp"&&alert(" Atencin: Las imgenes en formato .webp pueden causar problemas de navegacin. Recomendamos usar formato .jpg o .png."),y.size>5e6)return i("Una o ms imgenes superan los 5MB"),null;try{return await fxe(y)}catch(T){return console.error("Error al subir imagen a ImageKit:",T),i("Error al subir una o ms imgenes."),null}}),p=(await Promise.all(f)).filter(y=>!!y),g=[...s.current,...p.map(y=>y.trim())],v=Array.from(new Set(g));s.current=v,console.log("Imgenes subidas:",v),e(v)};return A.jsxs("div",{children:[A.jsx("div",{className:"mb-3",children:A.jsxs("div",{onClick:a,className:"block border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:bg-gray-50 transition",children:[A.jsx("span",{className:"block text-gray-500 mb-2",children:"Hac clic para subir imgenes"}),A.jsx("span",{className:"block text-sm text-gray-400",children:"PNG, JPG o WEBP, mx. 5MB"}),A.jsx("input",{ref:o,type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:l})]})}),r&&A.jsx("p",{className:"text-red-500 text-sm mb-3",children:r}),t.length>0&&A.jsxs("div",{className:"mt-4",children:[A.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Vista previa:"}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:t.map((c,u)=>A.jsx("div",{className:"relative border rounded-lg overflow-hidden",children:A.jsx("img",{src:c,alt:`Preview ${u+1}`,className:"w-full h-24 object-cover"})},`${c}-preview-${u}`))})]})]})}var wy=t=>t.type==="checkbox",zh=t=>t instanceof Date,Eo=t=>t==null;const Dz=t=>typeof t=="object";var ui=t=>!Eo(t)&&!Array.isArray(t)&&Dz(t)&&!zh(t),Qbe=t=>ui(t)&&t.target?wy(t.target)?t.target.checked:t.target.value:t,Zbe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,e2e=(t,e)=>t.has(Zbe(e)),t2e=t=>{const e=t.constructor&&t.constructor.prototype;return ui(e)&&e.hasOwnProperty("isPrototypeOf")},u4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Hs(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(u4&&(t instanceof Blob||r))&&(n||ui(t)))if(e=n?[]:{},!n&&!t2e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Hs(t[i]));else return t;return e}var Bw=t=>Array.isArray(t)?t.filter(Boolean):[],hi=t=>t===void 0,Mt=(t,e,n)=>{if(!e||!ui(t))return n;const r=Bw(e.split(/[,[\].]+?/)).reduce((i,s)=>Eo(i)?i:i[s],t);return hi(r)||r===t?hi(t[e])?n:t[e]:r},Fc=t=>typeof t=="boolean",d4=t=>/^\w*$/.test(t),Rz=t=>Bw(t.replace(/["|']|\]/g,"").split(/\.|\[/)),_r=(t,e,n)=>{let r=-1;const i=d4(e)?[e]:Rz(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=ui(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const vM={BLUR:"blur",FOCUS_OUT:"focusout"},Xl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$u={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Me.createContext(null);var n2e=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Xl.all&&(e._proxyFormState[o]=!r||Xl.all),t[o]}});return i},i_=t=>Eo(t)||!Dz(t);function mf(t,e){if(i_(t)||i_(e))return t===e;if(zh(t)&&zh(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(zh(s)&&zh(o)||ui(s)&&ui(o)||Array.isArray(s)&&Array.isArray(o)?!mf(s,o):s!==o)return!1}}return!0}var $c=t=>typeof t=="string",r2e=(t,e,n,r,i)=>$c(t)?(r&&e.watch.add(t),Mt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Mt(n,s))):(r&&(e.watchAll=!0),n),i2e=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},J0=t=>Array.isArray(t)?t:[t],yM=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},wo=t=>ui(t)&&!Object.keys(t).length,f4=t=>t.type==="file",Jl=t=>typeof t=="function",E2=t=>{if(!u4)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Mz=t=>t.type==="select-multiple",h4=t=>t.type==="radio",s2e=t=>h4(t)||wy(t),vS=t=>E2(t)&&t.isConnected;function o2e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=hi(t)?r++:t[e[r++]];return t}function a2e(t){for(const e in t)if(t.hasOwnProperty(e)&&!hi(t[e]))return!1;return!0}function Pi(t,e){const n=Array.isArray(e)?e:d4(e)?[e]:Rz(e),r=n.length===1?t:o2e(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(ui(r)&&wo(r)||Array.isArray(r)&&a2e(r))&&Pi(t,n.slice(0,-1)),t}var Oz=t=>{for(const e in t)if(Jl(t[e]))return!0;return!1};function S2(t,e={}){const n=Array.isArray(t);if(ui(t)||n)for(const r in t)Array.isArray(t[r])||ui(t[r])&&!Oz(t[r])?(e[r]=Array.isArray(t[r])?[]:{},S2(t[r],e[r])):Eo(t[r])||(e[r]=!0);return e}function Fz(t,e,n){const r=Array.isArray(t);if(ui(t)||r)for(const i in t)Array.isArray(t[i])||ui(t[i])&&!Oz(t[i])?hi(e)||i_(n[i])?n[i]=Array.isArray(t[i])?S2(t[i],[]):{...S2(t[i])}:Fz(t[i],Eo(e)?{}:e[i],n[i]):n[i]=!mf(t[i],e[i]);return n}var d0=(t,e)=>Fz(t,e,S2(e));const xM={value:!1,isValid:!1},bM={value:!0,isValid:!0};var jz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!hi(t[0].attributes.value)?hi(t[0].value)||t[0].value===""?bM:{value:t[0].value,isValid:!0}:bM:xM}return xM},Bz=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>hi(t)?t:e?t===""?NaN:t&&+t:n&&$c(t)?new Date(t):r?r(t):t;const wM={isValid:!1,value:null};var Vz=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,wM):wM;function EM(t){const e=t.ref;return f4(e)?e.files:h4(e)?Vz(t.refs).value:Mz(e)?[...e.selectedOptions].map(({value:n})=>n):wy(e)?jz(t.refs).value:Bz(hi(e.value)?t.ref.value:e.value,t)}var l2e=(t,e,n,r)=>{const i={};for(const s of t){const o=Mt(e,s);o&&_r(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},C2=t=>t instanceof RegExp,f0=t=>hi(t)?t:C2(t)?t.source:ui(t)?C2(t.value)?t.value.source:t.value:t,SM=t=>({isOnSubmit:!t||t===Xl.onSubmit,isOnBlur:t===Xl.onBlur,isOnChange:t===Xl.onChange,isOnAll:t===Xl.all,isOnTouch:t===Xl.onTouched});const CM="AsyncFunction";var c2e=t=>!!t&&!!t.validate&&!!(Jl(t.validate)&&t.validate.constructor.name===CM||ui(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CM)),u2e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),AM=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Q0=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Mt(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Q0(a,e))break}else if(ui(a)&&Q0(a,e))break}}};function _M(t,e,n){const r=Mt(t,n);if(r||d4(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Mt(e,s),a=Mt(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var d2e=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return wo(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Xl.all))},f2e=(t,e,n)=>!t||!e||t===e||J0(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),h2e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,p2e=(t,e)=>!Bw(Mt(t,e)).length&&Pi(t,e),m2e=(t,e,n)=>{const r=J0(Mt(t,n));return _r(r,"root",e[n]),_r(t,n,r),t},rb=t=>$c(t);function TM(t,e,n="validate"){if(rb(t)||Array.isArray(t)&&t.every(rb)||Fc(t)&&!t)return{type:n,message:rb(t)?t:"",ref:e}}var tm=t=>ui(t)&&!C2(t)?t:{value:t,message:""},kM=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:h,pattern:p,validate:g,name:v,valueAsNumber:y,mount:w}=t._f,E=Mt(n,v);if(!w||e.has(v))return{};const T=a?a[0]:o,I=M=>{i&&T.reportValidity&&(T.setCustomValidity(Fc(M)?"":M||""),T.reportValidity())},F={},B=h4(o),R=wy(o),S=B||R,k=(y||f4(o))&&hi(o.value)&&hi(E)||E2(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,P=i2e.bind(null,v,r,F),N=(M,O,q,Z=$u.maxLength,ne=$u.minLength)=>{const ee=M?O:q;F[v]={type:M?Z:ne,message:ee,ref:o,...P(M?Z:ne,ee)}};if(s?!Array.isArray(E)||!E.length:l&&(!S&&(k||Eo(E))||Fc(E)&&!E||R&&!jz(a).isValid||B&&!Vz(a).isValid)){const{value:M,message:O}=rb(l)?{value:!!l,message:l}:tm(l);if(M&&(F[v]={type:$u.required,message:O,ref:T,...P($u.required,O)},!r))return I(O),F}if(!k&&(!Eo(f)||!Eo(h))){let M,O;const q=tm(h),Z=tm(f);if(!Eo(E)&&!isNaN(E)){const ne=o.valueAsNumber||E&&+E;Eo(q.value)||(M=ne>q.value),Eo(Z.value)||(O=ne<Z.value)}else{const ne=o.valueAsDate||new Date(E),ee=se=>new Date(new Date().toDateString()+" "+se),Y=o.type=="time",oe=o.type=="week";$c(q.value)&&E&&(M=Y?ee(E)>ee(q.value):oe?E>q.value:ne>new Date(q.value)),$c(Z.value)&&E&&(O=Y?ee(E)<ee(Z.value):oe?E<Z.value:ne<new Date(Z.value))}if((M||O)&&(N(!!M,q.message,Z.message,$u.max,$u.min),!r))return I(F[v].message),F}if((c||u)&&!k&&($c(E)||s&&Array.isArray(E))){const M=tm(c),O=tm(u),q=!Eo(M.value)&&E.length>+M.value,Z=!Eo(O.value)&&E.length<+O.value;if((q||Z)&&(N(q,M.message,O.message),!r))return I(F[v].message),F}if(p&&!k&&$c(E)){const{value:M,message:O}=tm(p);if(C2(M)&&!E.match(M)&&(F[v]={type:$u.pattern,message:O,ref:o,...P($u.pattern,O)},!r))return I(O),F}if(g){if(Jl(g)){const M=await g(E,n),O=TM(M,T);if(O&&(F[v]={...O,...P($u.validate,O.message)},!r))return I(O.message),F}else if(ui(g)){let M={};for(const O in g){if(!wo(M)&&!r)break;const q=TM(await g[O](E,n),T,O);q&&(M={...q,...P(O,q.message)},I(q.message),r&&(F[v]=M))}if(!wo(M)&&(F[v]={ref:T,...M},!r))return F}}return I(!0),F};const g2e={mode:Xl.onSubmit,reValidateMode:Xl.onChange,shouldFocusError:!0};function v2e(t={}){let e={...g2e,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Jl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=ui(e.defaultValues)||ui(e.values)?Hs(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Hs(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:yM(),state:yM()},p=SM(e.mode),g=SM(e.reValidateMode),v=e.criteriaMode===Xl.all,y=de=>we=>{clearTimeout(c),c=setTimeout(de,we)},w=async de=>{if(!e.disabled&&(u.isValid||f.isValid||de)){const we=e.resolver?wo((await k()).errors):await N(r,!0);we!==n.isValid&&h.state.next({isValid:we})}},E=(de,we)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((de||Array.from(a.mount)).forEach(ke=>{ke&&(we?_r(n.validatingFields,ke,we):Pi(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!wo(n.validatingFields)}))},T=(de,we=[],ke,Ye,$e=!0,He=!0)=>{if(Ye&&ke&&!e.disabled){if(o.action=!0,He&&Array.isArray(Mt(r,de))){const ot=ke(Mt(r,de),Ye.argA,Ye.argB);$e&&_r(r,de,ot)}if(He&&Array.isArray(Mt(n.errors,de))){const ot=ke(Mt(n.errors,de),Ye.argA,Ye.argB);$e&&_r(n.errors,de,ot),p2e(n.errors,de)}if((u.touchedFields||f.touchedFields)&&He&&Array.isArray(Mt(n.touchedFields,de))){const ot=ke(Mt(n.touchedFields,de),Ye.argA,Ye.argB);$e&&_r(n.touchedFields,de,ot)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=d0(i,s)),h.state.next({name:de,isDirty:O(de,we),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _r(s,de,we)},I=(de,we)=>{_r(n.errors,de,we),h.state.next({errors:n.errors})},F=de=>{n.errors=de,h.state.next({errors:n.errors,isValid:!1})},B=(de,we,ke,Ye)=>{const $e=Mt(r,de);if($e){const He=Mt(s,de,hi(ke)?Mt(i,de):ke);hi(He)||Ye&&Ye.defaultChecked||we?_r(s,de,we?He:EM($e._f)):ne(de,He),o.mount&&w()}},R=(de,we,ke,Ye,$e)=>{let He=!1,ot=!1;const dt={name:de};if(!e.disabled){if(!ke||Ye){(u.isDirty||f.isDirty)&&(ot=n.isDirty,n.isDirty=dt.isDirty=O(),He=ot!==dt.isDirty);const xt=mf(Mt(i,de),we);ot=!!Mt(n.dirtyFields,de),xt?Pi(n.dirtyFields,de):_r(n.dirtyFields,de,!0),dt.dirtyFields=n.dirtyFields,He=He||(u.dirtyFields||f.dirtyFields)&&ot!==!xt}if(ke){const xt=Mt(n.touchedFields,de);xt||(_r(n.touchedFields,de,ke),dt.touchedFields=n.touchedFields,He=He||(u.touchedFields||f.touchedFields)&&xt!==ke)}He&&$e&&h.state.next(dt)}return He?dt:{}},S=(de,we,ke,Ye)=>{const $e=Mt(n.errors,de),He=(u.isValid||f.isValid)&&Fc(we)&&n.isValid!==we;if(e.delayError&&ke?(l=y(()=>I(de,ke)),l(e.delayError)):(clearTimeout(c),l=null,ke?_r(n.errors,de,ke):Pi(n.errors,de)),(ke?!mf($e,ke):$e)||!wo(Ye)||He){const ot={...Ye,...He&&Fc(we)?{isValid:we}:{},errors:n.errors,name:de};n={...n,...ot},h.state.next(ot)}},k=async de=>{E(de,!0);const we=await e.resolver(s,e.context,l2e(de||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(de),we},P=async de=>{const{errors:we}=await k(de);if(de)for(const ke of de){const Ye=Mt(we,ke);Ye?_r(n.errors,ke,Ye):Pi(n.errors,ke)}else n.errors=we;return we},N=async(de,we,ke={valid:!0})=>{for(const Ye in de){const $e=de[Ye];if($e){const{_f:He,...ot}=$e;if(He){const dt=a.array.has(He.name),xt=$e._f&&c2e($e._f);xt&&u.validatingFields&&E([Ye],!0);const st=await kM($e,a.disabled,s,v,e.shouldUseNativeValidation&&!we,dt);if(xt&&u.validatingFields&&E([Ye]),st[He.name]&&(ke.valid=!1,we))break;!we&&(Mt(st,He.name)?dt?m2e(n.errors,st,He.name):_r(n.errors,He.name,st[He.name]):Pi(n.errors,He.name))}!wo(ot)&&await N(ot,we,ke)}}return ke.valid},M=()=>{for(const de of a.unMount){const we=Mt(r,de);we&&(we._f.refs?we._f.refs.every(ke=>!vS(ke)):!vS(we._f.ref))&&be(de)}a.unMount=new Set},O=(de,we)=>!e.disabled&&(de&&we&&_r(s,de,we),!mf(V(),i)),q=(de,we,ke)=>r2e(de,a,{...o.mount?s:hi(we)?i:$c(de)?{[de]:we}:we},ke,we),Z=de=>Bw(Mt(o.mount?s:i,de,e.shouldUnregister?Mt(i,de,[]):[])),ne=(de,we,ke={})=>{const Ye=Mt(r,de);let $e=we;if(Ye){const He=Ye._f;He&&(!He.disabled&&_r(s,de,Bz(we,He)),$e=E2(He.ref)&&Eo(we)?"":we,Mz(He.ref)?[...He.ref.options].forEach(ot=>ot.selected=$e.includes(ot.value)):He.refs?wy(He.ref)?He.refs.length>1?He.refs.forEach(ot=>(!ot.defaultChecked||!ot.disabled)&&(ot.checked=Array.isArray($e)?!!$e.find(dt=>dt===ot.value):$e===ot.value)):He.refs[0]&&(He.refs[0].checked=!!$e):He.refs.forEach(ot=>ot.checked=ot.value===$e):f4(He.ref)?He.ref.value="":(He.ref.value=$e,He.ref.type||h.state.next({name:de,values:Hs(s)})))}(ke.shouldDirty||ke.shouldTouch)&&R(de,$e,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&K(de)},ee=(de,we,ke)=>{for(const Ye in we){const $e=we[Ye],He=`${de}.${Ye}`,ot=Mt(r,He);(a.array.has(de)||ui($e)||ot&&!ot._f)&&!zh($e)?ee(He,$e,ke):ne(He,$e,ke)}},Y=(de,we,ke={})=>{const Ye=Mt(r,de),$e=a.array.has(de),He=Hs(we);_r(s,de,He),$e?(h.array.next({name:de,values:Hs(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&ke.shouldDirty&&h.state.next({name:de,dirtyFields:d0(i,s),isDirty:O(de,He)})):Ye&&!Ye._f&&!Eo(He)?ee(de,He,ke):ne(de,He,ke),AM(de,a)&&h.state.next({...n}),h.state.next({name:o.mount?de:void 0,values:Hs(s)})},oe=async de=>{o.mount=!0;const we=de.target;let ke=we.name,Ye=!0;const $e=Mt(r,ke),He=ot=>{Ye=Number.isNaN(ot)||zh(ot)&&isNaN(ot.getTime())||mf(ot,Mt(s,ke,ot))};if($e){let ot,dt;const xt=we.type?EM($e._f):Qbe(de),st=de.type===vM.BLUR||de.type===vM.FOCUS_OUT,jt=!u2e($e._f)&&!e.resolver&&!Mt(n.errors,ke)&&!$e._f.deps||h2e(st,Mt(n.touchedFields,ke),n.isSubmitted,g,p),Vt=AM(ke,a,st);_r(s,ke,xt),st?($e._f.onBlur&&$e._f.onBlur(de),l&&l(0)):$e._f.onChange&&$e._f.onChange(de);const Hn=R(ke,xt,st),Ut=!wo(Hn)||Vt;if(!st&&h.state.next({name:ke,type:de.type,values:Hs(s)}),jt)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?st&&w():st||w()),Ut&&h.state.next({name:ke,...Vt?{}:Hn});if(!st&&Vt&&h.state.next({...n}),e.resolver){const{errors:fn}=await k([ke]);if(He(xt),Ye){const lr=_M(n.errors,r,ke),Kt=_M(fn,r,lr.name||ke);ot=Kt.error,ke=Kt.name,dt=wo(fn)}}else E([ke],!0),ot=(await kM($e,a.disabled,s,v,e.shouldUseNativeValidation))[ke],E([ke]),He(xt),Ye&&(ot?dt=!1:(u.isValid||f.isValid)&&(dt=await N(r,!0)));Ye&&($e._f.deps&&K($e._f.deps),S(ke,dt,ot,Hn))}},se=(de,we)=>{if(Mt(n.errors,we)&&de.focus)return de.focus(),1},K=async(de,we={})=>{let ke,Ye;const $e=J0(de);if(e.resolver){const He=await P(hi(de)?de:$e);ke=wo(He),Ye=de?!$e.some(ot=>Mt(He,ot)):ke}else de?(Ye=(await Promise.all($e.map(async He=>{const ot=Mt(r,He);return await N(ot&&ot._f?{[He]:ot}:ot)}))).every(Boolean),!(!Ye&&!n.isValid)&&w()):Ye=ke=await N(r);return h.state.next({...!$c(de)||(u.isValid||f.isValid)&&ke!==n.isValid?{}:{name:de},...e.resolver||!de?{isValid:ke}:{},errors:n.errors}),we.shouldFocus&&!Ye&&Q0(r,se,de?$e:a.mount),Ye},V=de=>{const we={...o.mount?s:i};return hi(de)?we:$c(de)?Mt(we,de):de.map(ke=>Mt(we,ke))},W=(de,we)=>({invalid:!!Mt((we||n).errors,de),isDirty:!!Mt((we||n).dirtyFields,de),error:Mt((we||n).errors,de),isValidating:!!Mt(n.validatingFields,de),isTouched:!!Mt((we||n).touchedFields,de)}),J=de=>{de&&J0(de).forEach(we=>Pi(n.errors,we)),h.state.next({errors:de?n.errors:{}})},Q=(de,we,ke)=>{const Ye=(Mt(r,de,{_f:{}})._f||{}).ref,$e=Mt(n.errors,de)||{},{ref:He,message:ot,type:dt,...xt}=$e;_r(n.errors,de,{...xt,...we,ref:Ye}),h.state.next({name:de,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ye&&Ye.focus&&Ye.focus()},re=(de,we)=>Jl(de)?h.state.subscribe({next:ke=>de(q(void 0,we),ke)}):q(de,we,!0),ce=de=>h.state.subscribe({next:we=>{f2e(de.name,we.name,de.exact)&&d2e(we,de.formState||u,je,de.reRenderRoot)&&de.callback({values:{...s},...n,...we})}}).unsubscribe,fe=de=>(o.mount=!0,f={...f,...de.formState},ce({...de,formState:f})),be=(de,we={})=>{for(const ke of de?J0(de):a.mount)a.mount.delete(ke),a.array.delete(ke),we.keepValue||(Pi(r,ke),Pi(s,ke)),!we.keepError&&Pi(n.errors,ke),!we.keepDirty&&Pi(n.dirtyFields,ke),!we.keepTouched&&Pi(n.touchedFields,ke),!we.keepIsValidating&&Pi(n.validatingFields,ke),!e.shouldUnregister&&!we.keepDefaultValue&&Pi(i,ke);h.state.next({values:Hs(s)}),h.state.next({...n,...we.keepDirty?{isDirty:O()}:{}}),!we.keepIsValid&&w()},ge=({disabled:de,name:we})=>{(Fc(de)&&o.mount||de||a.disabled.has(we))&&(de?a.disabled.add(we):a.disabled.delete(we))},Se=(de,we={})=>{let ke=Mt(r,de);const Ye=Fc(we.disabled)||Fc(e.disabled);return _r(r,de,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:de}},name:de,mount:!0,...we}}),a.mount.add(de),ke?ge({disabled:Fc(we.disabled)?we.disabled:e.disabled,name:de}):B(de,!0,we.value),{...Ye?{disabled:we.disabled||e.disabled}:{},...e.progressive?{required:!!we.required,min:f0(we.min),max:f0(we.max),minLength:f0(we.minLength),maxLength:f0(we.maxLength),pattern:f0(we.pattern)}:{},name:de,onChange:oe,onBlur:oe,ref:$e=>{if($e){Se(de,we),ke=Mt(r,de);const He=hi($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,ot=s2e(He),dt=ke._f.refs||[];if(ot?dt.find(xt=>xt===He):He===ke._f.ref)return;_r(r,de,{_f:{...ke._f,...ot?{refs:[...dt.filter(vS),He,...Array.isArray(Mt(i,de))?[{}]:[]],ref:{type:He.type,name:de}}:{ref:He}}}),B(de,!1,void 0,He)}else ke=Mt(r,de,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||we.shouldUnregister)&&!(e2e(a.array,de)&&o.action)&&a.unMount.add(de)}}},Be=()=>e.shouldFocusError&&Q0(r,se,a.mount),_e=de=>{Fc(de)&&(h.state.next({disabled:de}),Q0(r,(we,ke)=>{const Ye=Mt(r,ke);Ye&&(we.disabled=Ye._f.disabled||de,Array.isArray(Ye._f.refs)&&Ye._f.refs.forEach($e=>{$e.disabled=Ye._f.disabled||de}))},0,!1))},Ae=(de,we)=>async ke=>{let Ye;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let $e=Hs(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:He,values:ot}=await k();n.errors=He,$e=ot}else await N(r);if(a.disabled.size)for(const He of a.disabled)_r($e,He,void 0);if(Pi(n.errors,"root"),wo(n.errors)){h.state.next({errors:{}});try{await de($e,ke)}catch(He){Ye=He}}else we&&await we({...n.errors},ke),Be(),setTimeout(Be);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wo(n.errors)&&!Ye,submitCount:n.submitCount+1,errors:n.errors}),Ye)throw Ye},ye=(de,we={})=>{Mt(r,de)&&(hi(we.defaultValue)?Y(de,Hs(Mt(i,de))):(Y(de,we.defaultValue),_r(i,de,Hs(we.defaultValue))),we.keepTouched||Pi(n.touchedFields,de),we.keepDirty||(Pi(n.dirtyFields,de),n.isDirty=we.defaultValue?O(de,Hs(Mt(i,de))):O()),we.keepError||(Pi(n.errors,de),u.isValid&&w()),h.state.next({...n}))},he=(de,we={})=>{const ke=de?Hs(de):i,Ye=Hs(ke),$e=wo(de),He=$e?i:Ye;if(we.keepDefaultValues||(i=ke),!we.keepValues){if(we.keepDirtyValues){const ot=new Set([...a.mount,...Object.keys(d0(i,s))]);for(const dt of Array.from(ot))Mt(n.dirtyFields,dt)?_r(He,dt,Mt(s,dt)):Y(dt,Mt(He,dt))}else{if(u4&&hi(de))for(const ot of a.mount){const dt=Mt(r,ot);if(dt&&dt._f){const xt=Array.isArray(dt._f.refs)?dt._f.refs[0]:dt._f.ref;if(E2(xt)){const st=xt.closest("form");if(st){st.reset();break}}}}for(const ot of a.mount)Y(ot,Mt(He,ot))}s=Hs(He),h.array.next({values:{...He}}),h.state.next({values:{...He}})}a={mount:we.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!we.keepIsValid||!!we.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:we.keepSubmitCount?n.submitCount:0,isDirty:$e?!1:we.keepDirty?n.isDirty:!!(we.keepDefaultValues&&!mf(de,i)),isSubmitted:we.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$e?{}:we.keepDirtyValues?we.keepDefaultValues&&s?d0(i,s):n.dirtyFields:we.keepDefaultValues&&de?d0(i,de):we.keepDirty?n.dirtyFields:{},touchedFields:we.keepTouched?n.touchedFields:{},errors:we.keepErrors?n.errors:{},isSubmitSuccessful:we.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(de,we)=>he(Jl(de)?de(s):de,we),qe=(de,we={})=>{const ke=Mt(r,de),Ye=ke&&ke._f;if(Ye){const $e=Ye.refs?Ye.refs[0]:Ye.ref;$e.focus&&($e.focus(),we.shouldSelect&&Jl($e.select)&&$e.select())}},je=de=>{n={...n,...de}},We={control:{register:Se,unregister:be,getFieldState:W,handleSubmit:Ae,setError:Q,_subscribe:ce,_runSchema:k,_getWatch:q,_getDirty:O,_setValid:w,_setFieldArray:T,_setDisabledField:ge,_setErrors:F,_getFieldArray:Z,_reset:he,_resetDefaultValues:()=>Jl(e.defaultValues)&&e.defaultValues().then(de=>{Je(de,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:_e,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(de){o=de},get _defaultValues(){return i},get _names(){return a},set _names(de){a=de},get _formState(){return n},get _options(){return e},set _options(de){e={...e,...de}}},subscribe:fe,trigger:K,register:Se,handleSubmit:Ae,watch:re,setValue:Y,getValues:V,reset:Je,resetField:ye,clearErrors:J,unregister:be,setError:Q,setFocus:qe,getFieldState:W};return{...We,formControl:We}}const y2e=typeof window<"u"?Me.useLayoutEffect:Me.useEffect;function x2e(t={}){const e=Me.useRef(void 0),n=Me.useRef(void 0),[r,i]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Jl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Jl(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:v2e(t),formState:r},t.formControl&&t.defaultValues&&!Jl(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,y2e(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Me.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Me.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!wo(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),Me.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Me.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Me.useEffect(()=>{t.values&&!mf(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Me.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=n2e(r,s),e.current}const b2e=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");function w2e({id:t,url:e,onRemove:n,onMoveLeft:r,onMoveRight:i}){const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c}=Nz({id:t}),u={transform:ag.Transform.toString(l),transition:c};return A.jsxs("div",{ref:a,style:u,className:"relative cursor-move group",...s,...o,children:[A.jsx("img",{src:e,alt:"Vista previa",className:"w-full h-40 object-cover rounded border"}),A.jsx("button",{type:"button",onClick:n,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition",children:""}),A.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between opacity-0 group-hover:opacity-100 transition",children:[A.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),r()},className:"bg-black/70 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black/90",children:""}),A.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),i()},className:"bg-black/70 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black/90",children:""})]})]})}function E2e(){const{id:t}=M_(),e=cc(),[n,r]=b.useState({name:"",title:"",category:"",subCategory:"",team:"",priceUSD:0,images:[],active:!0,customizable:!0,descriptionEs:"",sku:"",stockTotal:0,description:""}),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(""),[u,f]=b.useState(""),[h,p]=b.useState(!1),[g,v]=b.useState(""),[y,w]=b.useState([]),[E,T]=b.useState([]),[I,F]=b.useState([]),[B,R]=b.useState(!1);b.useRef(null);const[S,k]=b.useState(""),[P,N]=b.useState(""),[M,O]=b.useState(""),[q,Z]=b.useState({}),[ne,ee]=b.useState(!0),Y="es";b.useEffect(()=>{(async()=>{try{const Ae=await pw();if(T(Ae),S){const ye=await _v(S);F(ye.map(he=>({...he,categoryId:S})))}}catch(Ae){console.error("[CreateProductForm] Error cargando categoras:",Ae)}})()},[]),b.useEffect(()=>{(async()=>{if(S)try{const Ae=await _v(S);F(Ae.map(ye=>({...ye,categoryId:S})))}catch(Ae){console.error("Error cargando subcategoras dinmicamente:",Ae)}})()},[S]),b.useEffect(()=>{r(_e=>({..._e,category:S}))},[S]),b.useEffect(()=>{N("")},[S]),b.useEffect(()=>{r(_e=>({..._e,subcategory:P}))},[P]);const[oe,se]=b.useState([]),K=oz(x2(Mw,{activationConstraint:{distance:5}}),x2(Rw,{coordinateGetter:Lz})),{register:V,handleSubmit:W,setValue:J,watch:Q,control:re,formState:{errors:ce}}=x2e({defaultValues:{title:"",league:"",team:"",priceUSD:80,cjProductId:"",defaultDescriptionType:"none",extraDescriptionTop:"",extraDescriptionBottom:"",descriptionPosition:"bottom",active:!0,customizable:!0}}),fe=_e=>{const{active:Ae,over:ye}=_e;ye&&Ae.id!==ye.id&&w(he=>{const Je=he.findIndex(je=>je===Ae.id),qe=he.findIndex(je=>je===ye.id);return jw(he,Je,qe)})},be=_e=>{w(_e)},ge=_e=>{w(Ae=>Ae.filter((ye,he)=>he!==_e))},Se=(_e,Ae)=>{if(Ae==="left"&&_e===0||Ae==="right"&&_e===y.length-1)return;const ye=[...y],he=Ae==="left"?_e-1:_e+1;[ye[_e],ye[he]]=[ye[he],ye[_e]],w(ye)},Be=async _e=>{var Ae,ye;if(y.length===0){v("Debes subir al menos una imagen");return}if(!S||!P){v("Debes seleccionar categora y subcategora");return}p(!0),v("");try{const he=_e.title.trim(),Je=b2e(he),qe=((Ae=E.find(we=>we.id===S))==null?void 0:Ae.name)||"",je=typeof qe=="string"?qe:qe[Y]||qe.es||"",De=((ye=I.find(we=>we.id===P))==null?void 0:ye.name)||"",We=typeof De=="string"?De:De[Y]||De.es||"",de={title:{es:n.title.trim()||i.trim(),en:i.trim()},description:{es:n.descriptionEs,en:o},slug:Je,category:{id:S,name:je},subcategory:{id:P,name:We},priceUSD:_e.priceUSD,defaultDescriptionType:_e.defaultDescriptionType||"none",extraDescriptionTop:_e.extraDescriptionTop||"",extraDescriptionBottom:_e.extraDescriptionBottom||"",descriptionPosition:_e.descriptionPosition||"bottom",active:_e.active,images:y,allowCustomization:_e.customizable,customName:"",customNumber:"",variants:oe,sku:n.sku||"",stockTotal:oe.reduce((we,ke)=>we+ke.options.reduce((Ye,$e)=>Ye+($e.stock||0),0),0)};await gde(de),f("Producto creado correctamente!"),setTimeout(()=>{f(""),e("/admin/productos")},2e3)}catch(he){console.error("[CreateProductForm] Error al crear producto:",he),v("Error al crear el producto. Intente nuevamente.")}finally{p(!1)}};return A.jsxs(A.Fragment,{children:[u&&A.jsx("div",{className:"bg-green-100 text-green-800 p-4 rounded-md mb-4",children:u}),A.jsxs("form",{onSubmit:W(Be),className:"space-y-6",children:[g&&A.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:g}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{htmlFor:"title",className:"block font-medium",children:["Ttulo del producto ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{id:"title",type:"text",...V("title",{required:"El ttulo es obligatorio"}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Ej: Camiseta Uruguay 2023 Titular"}),ce.title&&A.jsx("span",{className:"text-red-500 text-sm",children:ce.title.message}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Title (EN)"}),A.jsx("input",{type:"text",value:i,onChange:_e=>s(_e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"SKU (opcional)"}),A.jsx("input",{type:"text",value:n.sku||"",onChange:_e=>r(Ae=>({...Ae,sku:_e.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Description (EN)"}),A.jsx(g2,{content:o,onChange:a}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Descripcin (ES)"}),A.jsx(g2,{content:n.descriptionEs,onChange:_e=>r(Ae=>({...Ae,descriptionEs:_e}))})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categora:"}),A.jsxs("select",{className:"w-full border p-2 rounded",value:S,onChange:_e=>{var he;const Ae=_e.target.value;k(Ae);const ye=((he=E.find(Je=>Je.id===Ae))==null?void 0:he.name)||"";Z(Je=>({...Je,category:{id:Ae,name:ye}}))},children:[A.jsx("option",{value:"",children:"Seleccionar categora"}),E.map(_e=>{var Ae,ye;return A.jsx("option",{value:_e.id,children:typeof _e.name=="string"?_e.name:((Ae=_e.name)==null?void 0:Ae[Y])||((ye=_e.name)==null?void 0:ye.es)||""},_e.id)})]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategora:"}),A.jsxs("select",{className:"w-full border p-2 rounded",value:P,onChange:_e=>{var he;const Ae=_e.target.value;N(Ae);const ye=((he=I.find(Je=>Je.id===Ae))==null?void 0:he.name)||"";Z(Je=>({...Je,subCategory:{id:Ae,name:ye}}))},disabled:!S,children:[A.jsx("option",{value:"",children:"Seleccionar subcategora"}),I.filter(_e=>_e.categoryId===S).map(_e=>{var Ae,ye;return A.jsx("option",{value:_e.id,children:typeof _e.name=="string"?_e.name:((Ae=_e.name)==null?void 0:Ae[Y])||((ye=_e.name)==null?void 0:ye.es)||""},_e.id)})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{htmlFor:"priceUSD",className:"block font-medium",children:["Precio en USD ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{id:"priceUSD",type:"number",step:"0.01",min:"0",...V("priceUSD",{required:"El precio en USD es obligatorio",valueAsNumber:!0,validate:_e=>_e>0||"El precio debe ser mayor a 0"}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"}),ce.priceUSD&&A.jsx("span",{className:"text-red-500 text-sm",children:ce.priceUSD.message})]})}),A.jsx("div",{className:"space-y-2",children:A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",...V("active"),className:"text-black rounded focus:ring-black h-5 w-5"}),A.jsx("span",{children:"Producto activo (visible para clientes)"})]})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"block text-sm font-medium",children:"Stock disponible"}),A.jsx("input",{type:"number",readOnly:!0,value:oe.reduce((_e,Ae)=>_e+Ae.options.reduce((ye,he)=>ye+(he.stock||0),0),0),className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm focus:outline-none cursor-not-allowed"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("label",{className:"block font-medium",children:["Imgenes ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx(Jbe,{onChange:be,images:y})]}),y.length>0&&A.jsx(Sz,{sensors:K,collisionDetection:uz,onDragEnd:fe,children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:A.jsx(kz,{items:y,strategy:Az,children:y.map((_e,Ae)=>A.jsx(w2e,{id:_e,url:_e,onRemove:()=>ge(Ae),onMoveLeft:()=>Se(Ae,"left"),onMoveRight:()=>Se(Ae,"right")},_e))})})}),y.length===0&&A.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center text-gray-500",children:"No hay imgenes cargadas"})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block font-semibold mb-2",children:"Variantes del producto"}),oe.map((_e,Ae)=>A.jsxs("div",{className:"mb-4 border p-3 rounded-md bg-gray-50",children:[A.jsxs("div",{className:"flex gap-4 mb-2",children:[A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en espaol (Ej: Tamao)",value:_e.label.es,onChange:ye=>{const he=[...oe];he[Ae].label.es=ye.target.value,se(he)}}),A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en ingls (Ej: Size)",value:_e.label.en,onChange:ye=>{const he=[...oe];he[Ae].label.en=ye.target.value,se(he)}})]}),_e.options.map((ye,he)=>A.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Valor"}),A.jsx("input",{type:"text",className:"w-full border p-2",placeholder:"Ej: 60 cpsulas",value:ye.value,onChange:Je=>{const qe=[...oe];qe[Ae].options[he].value=Je.target.value,se(qe)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Precio (USD)"}),A.jsx("input",{type:"number",step:"0.01",min:0,className:"w-full border p-2",value:ye.priceUSD,onChange:Je=>{const qe=[...oe];qe[Ae].options[he].priceUSD=parseFloat(Je.target.value),se(qe)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Stock"}),A.jsx("input",{type:"number",min:0,className:"w-full border p-2",value:ye.stock||0,onChange:Je=>{const qe=[...oe];qe[Ae].options[he].stock=parseInt(Je.target.value),se(qe)}})]})]},he)),A.jsx("button",{type:"button",className:"text-blue-600 text-sm mt-2",onClick:()=>{const ye=[...oe];ye[Ae].options.push({value:"",priceUSD:0,stock:0}),se(ye)},children:"+ Agregar opcin"})]},Ae)),A.jsx("button",{type:"button",className:"text-blue-600 mt-2",onClick:()=>{se([...oe,{label:{es:"",en:""},options:[{value:"",priceUSD:0,stock:0}]}])},children:"+ Agregar variante"})]}),A.jsx("div",{className:"pt-4",children:A.jsx("button",{type:"submit",disabled:h||B,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${h||B?"bg-gray-400 text-white cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:h?A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Crear publicacin"})})]})]})}function PM(){return A.jsx("div",{className:"max-w-3xl mx-auto",children:A.jsx(E2e,{})})}function S2e(){const[t,e]=b.useState([]),[n,r]=b.useState({name:"",email:"",password:""});b.useEffect(()=>{const o=localStorage.getItem("usuarios");o&&e(JSON.parse(o))},[]);const i=o=>F8.SHA256(o).toString(),s=()=>{if(!n.name||!n.email||!n.password)return;const a={id:Date.now(),name:n.name,email:n.email,password:i(n.password)},l=[...t,a];e(l),localStorage.setItem("usuarios",JSON.stringify(l)),r({name:"",email:"",password:""})};return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsx("h2",{className:"text-xl font-bold mb-6",children:"Administradores"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Nombre",value:n.name,onChange:o=>r({...n,name:o.target.value}),className:"border px-3 py-2 rounded text-sm"}),A.jsx("input",{type:"email",placeholder:"Correo electrnico",value:n.email,onChange:o=>r({...n,email:o.target.value}),className:"border px-3 py-2 rounded text-sm"}),A.jsx("input",{type:"password",placeholder:"Contrasea",value:n.password,onChange:o=>r({...n,password:o.target.value}),className:"border px-3 py-2 rounded text-sm"})]}),A.jsx("button",{onClick:s,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition",children:"Crear Administrador"}),A.jsx("hr",{className:"my-6"}),A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"Nombre"}),A.jsx("th",{className:"py-2 text-left",children:"Email"})]})}),A.jsx("tbody",{children:t.map(o=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:o.name}),A.jsx("td",{className:"py-2",children:o.email})]},o.id))})]})]})}const ib=b.forwardRef(({className:t,...e},n)=>A.jsx("input",{ref:n,className:`border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-black ${t}`,...e}));ib.displayName="Input";const T0=b.forwardRef(({className:t="",...e},n)=>A.jsx("button",{ref:n,className:`bg-black text-white px-4 py-2 rounded hover:bg-gray-800 disabled:opacity-50 ${t}`,...e}));T0.displayName="Button";function $z(){const[t,e]=b.useState([]),[n,r]=b.useState({es:"",en:""}),[i,s]=b.useState(!1),[o,a]=b.useState(""),[l,c]=b.useState([]),[u,f]=b.useState(""),[h,p]=b.useState(null),[g,v]=b.useState(""),y=bK();b.useEffect(()=>{w()},[]);const w=async()=>{try{const R=await pw();e(R.map(S=>({id:S.id,name:typeof S.name=="object"?S.name:{es:S.name,en:S.name}})))}catch(R){console.error("Error al cargar categoras:",R)}},E=async R=>{try{const S=await _v(R);c(S)}catch(S){console.error("Error al cargar subcategoras:",S)}},T=async()=>{if(n.es.trim())try{s(!0),await yde({es:n.es.trim(),en:n.en.trim()}),r({es:"",en:""}),await w()}catch(R){console.error("Error creando categora:",R)}finally{s(!1)}},I=async R=>{const S=t.find(P=>P.id===R);if(await y({title:"Eliminar categora?",description:`Seguro que quers eliminar "${S==null?void 0:S.name.es}" permanentemente?`,confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger"}))try{s(!0),await xde(R),a(""),c([]),await w()}catch(P){console.error("Error eliminando categora:",P)}finally{s(!1)}},F=async()=>{if(!(!u.trim()||!o))try{s(!0),await bde(o,u.trim()),f(""),await E(o)}catch(R){console.error("Error creando subcategora:",R)}finally{s(!1)}},B=async R=>{if(!o)return;const S=l.find(P=>P.id===R);if(await y({title:"Eliminar subcategora?",description:S?`Seguro que quers eliminar "${S.name}" permanentemente?`:"Seguro que quers eliminar esta subcategora permanentemente?",confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger"}))try{s(!0),await wde(o,R),await E(o)}catch(P){console.error("Error eliminando subcategora:",P)}finally{s(!1)}};return A.jsxs("div",{className:"p-6",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestin de Categoras de Productos"}),A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx(ib,{placeholder:"Nueva categora (ej. Electrnica, Fitness)",value:n.es,onChange:R=>r({...n,es:R.target.value,en:R.target.value}),disabled:i}),A.jsx(T0,{onClick:T,disabled:i||!n.es.trim(),children:"Crear"})]}),A.jsxs("table",{className:"w-full border text-sm mb-10",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100",children:[A.jsx("th",{className:"px-4 py-2 border",children:"ID"}),A.jsx("th",{className:"px-4 py-2 border",children:"Categora"}),A.jsx("th",{className:"px-4 py-2 border",children:"Acciones"})]})}),A.jsx("tbody",{children:t.map(R=>{var S;return A.jsxs("tr",{className:`text-center ${o===R.id?"bg-gray-50":""}`,children:[A.jsx("td",{className:"border px-4 py-2 text-xs text-gray-400",children:R.id}),A.jsx("td",{className:"border px-4 py-2 font-medium",children:h===R.id?A.jsx(ib,{value:g,onChange:k=>v(k.target.value),onBlur:async()=>{if(!g.trim()||g===R.name.es){p(null);return}try{s(!0);const k=ko(Gne,"categories",R.id);await Rj(k,{id:R.id,name:{es:g.trim(),en:g.trim()}}),await w()}catch(k){console.error("Error actualizando nombre de categora:",k)}finally{p(null),s(!1)}},autoFocus:!0,disabled:i}):A.jsx("span",{className:"cursor-pointer hover:underline",onClick:async()=>{a(R.id),await E(R.id)},children:typeof((S=R.name)==null?void 0:S.es)=="string"?R.name.es:""})}),A.jsx("td",{className:"border px-4 py-2",children:A.jsx(T0,{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",onClick:()=>I(R.id),disabled:i,children:"Eliminar"})})]},R.id)})})]}),o&&A.jsxs("div",{className:"mt-10",children:[A.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Visualizando subcategoras de: ",A.jsx("span",{className:"font-semibold",children:(()=>{const R=t.find(S=>S.id===o);return typeof(R==null?void 0:R.name)=="object"?R.name.es:(R==null?void 0:R.name)||""})()})]}),A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Subcategoras"}),A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx(ib,{placeholder:"Nueva subcategora (ej. Auriculares, Ropa deportiva)",value:u,onChange:R=>f(R.target.value),disabled:i}),A.jsx(T0,{onClick:F,disabled:i||!u.trim(),children:"Crear"})]}),A.jsxs("table",{className:"w-full border text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100",children:[A.jsx("th",{className:"px-4 py-2 border",children:"ID"}),A.jsx("th",{className:"px-4 py-2 border",children:"Subcategora"}),A.jsx("th",{className:"px-4 py-2 border",children:"Acciones"})]})}),A.jsx("tbody",{children:l.map(R=>A.jsxs("tr",{className:"text-center",children:[A.jsx("td",{className:"border px-4 py-2 text-xs text-gray-400",children:R.id}),A.jsx("td",{className:"border px-4 py-2 font-medium",children:R.name}),A.jsx("td",{className:"border px-4 py-2",children:A.jsx(T0,{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",onClick:()=>B(R.id),disabled:i,children:"Eliminar"})})]},R.id))})]})]})]})}const C2e="modulepreload",A2e=function(t){return"/"+t},NM={},s_=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=A2e(c),c in NM)return;NM[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":C2e,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function dr(t){"@babel/helpers - typeof";return dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dr(t)}var Js=Uint8Array,Ta=Uint16Array,p4=Int32Array,Vw=new Js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),$w=new Js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o_=new Js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zz=function(t,e){for(var n=new Ta(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new p4(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Uz=zz(Vw,2),qz=Uz.b,a_=Uz.r;qz[28]=258,a_[258]=28;var Hz=zz($w,0),_2e=Hz.b,LM=Hz.r,l_=new Ta(32768);for(var Pr=0;Pr<32768;++Pr){var Jd=(Pr&43690)>>1|(Pr&21845)<<1;Jd=(Jd&52428)>>2|(Jd&13107)<<2,Jd=(Jd&61680)>>4|(Jd&3855)<<4,l_[Pr]=((Jd&65280)>>8|(Jd&255)<<8)>>1}var Zc=function(t,e,n){for(var r=t.length,i=0,s=new Ta(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Ta(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Ta(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=o[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)a[l_[f]>>l]=c}else for(a=new Ta(r),i=0;i<r;++i)t[i]&&(a[i]=l_[o[t[i]-1]++]>>15-t[i]);return a},qf=new Js(288);for(var Pr=0;Pr<144;++Pr)qf[Pr]=8;for(var Pr=144;Pr<256;++Pr)qf[Pr]=9;for(var Pr=256;Pr<280;++Pr)qf[Pr]=7;for(var Pr=280;Pr<288;++Pr)qf[Pr]=8;var zv=new Js(32);for(var Pr=0;Pr<32;++Pr)zv[Pr]=5;var T2e=Zc(qf,9,0),k2e=Zc(qf,9,1),P2e=Zc(zv,5,0),N2e=Zc(zv,5,1),yS=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ql=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},xS=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},m4=function(t){return(t+7)/8|0},Wz=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Js(t.subarray(e,n))},L2e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Gl=function(t,e,n){var r=new Error(e||L2e[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Gl),!n)throw r;return r},I2e=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Js(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Js(i*3));var c=function(Se){var Be=n.length;if(Se>Be){var _e=new Js(Math.max(Be*2,Se));_e.set(n),n=_e}},u=e.f||0,f=e.p||0,h=e.b||0,p=e.l,g=e.d,v=e.m,y=e.n,w=i*8;do{if(!p){u=ql(t,f,1);var E=ql(t,f+1,3);if(f+=3,E)if(E==1)p=k2e,g=N2e,v=9,y=5;else if(E==2){var B=ql(t,f,31)+257,R=ql(t,f+10,15)+4,S=B+ql(t,f+5,31)+1;f+=14;for(var k=new Js(S),P=new Js(19),N=0;N<R;++N)P[o_[N]]=ql(t,f+N*3,7);f+=R*3;for(var M=yS(P),O=(1<<M)-1,q=Zc(P,M,1),N=0;N<S;){var Z=q[ql(t,f,O)];f+=Z&15;var T=Z>>4;if(T<16)k[N++]=T;else{var ne=0,ee=0;for(T==16?(ee=3+ql(t,f,3),f+=2,ne=k[N-1]):T==17?(ee=3+ql(t,f,7),f+=3):T==18&&(ee=11+ql(t,f,127),f+=7);ee--;)k[N++]=ne}}var Y=k.subarray(0,B),oe=k.subarray(B);v=yS(Y),y=yS(oe),p=Zc(Y,v,1),g=Zc(oe,y,1)}else Gl(1);else{var T=m4(f)+4,I=t[T-4]|t[T-3]<<8,F=T+I;if(F>i){l&&Gl(0);break}a&&c(h+I),n.set(t.subarray(T,F),h),e.b=h+=I,e.p=f=F*8,e.f=u;continue}if(f>w){l&&Gl(0);break}}a&&c(h+131072);for(var se=(1<<v)-1,K=(1<<y)-1,V=f;;V=f){var ne=p[xS(t,f)&se],W=ne>>4;if(f+=ne&15,f>w){l&&Gl(0);break}if(ne||Gl(2),W<256)n[h++]=W;else if(W==256){V=f,p=null;break}else{var J=W-254;if(W>264){var N=W-257,Q=Vw[N];J=ql(t,f,(1<<Q)-1)+qz[N],f+=Q}var re=g[xS(t,f)&K],ce=re>>4;re||Gl(3),f+=re&15;var oe=_2e[ce];if(ce>3){var Q=$w[ce];oe+=xS(t,f)&(1<<Q)-1,f+=Q}if(f>w){l&&Gl(0);break}a&&c(h+131072);var fe=h+J;if(h<oe){var be=s-oe,ge=Math.min(oe,fe);for(be+h<0&&Gl(3);h<ge;++h)n[h]=r[be+h]}for(;h<fe;++h)n[h]=n[h-oe]}}e.l=p,e.p=V,e.b=h,e.f=u,p&&(u=1,e.m=v,e.d=g,e.n=y)}while(!u);return h!=n.length&&o?Wz(n,0,h):n.subarray(0,h)},zu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},h0=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},bS=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Kz,l:0};if(i==1){var o=new Js(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,B){return F.f-B.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var p=new Ta(h+1),g=c_(n[u-1],p,0);if(g>e){var r=0,v=0,y=g-e,w=1<<y;for(s.sort(function(B,R){return p[R.s]-p[B.s]||B.f-R.f});r<i;++r){var E=s[r].s;if(p[E]>e)v+=w-(1<<g-p[E]),p[E]=e;else break}for(v>>=y;v>0;){var T=s[r].s;p[T]<e?v-=1<<e-p[T]++-1:++r}for(;r>=0&&v;--r){var I=s[r].s;p[I]==e&&(--p[I],++v)}g=e}return{t:new Js(p),l:g}},c_=function(t,e,n){return t.s==-1?Math.max(c_(t.l,e,n+1),c_(t.r,e,n+1)):e[t.s]=n},IM=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ta(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},p0=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Gz=function(t,e,n){var r=n.length,i=m4(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},DM=function(t,e,n,r,i,s,o,a,l,c,u){zu(e,u++,n),++i[256];for(var f=bS(i,15),h=f.t,p=f.l,g=bS(s,15),v=g.t,y=g.l,w=IM(h),E=w.c,T=w.n,I=IM(v),F=I.c,B=I.n,R=new Ta(19),S=0;S<E.length;++S)++R[E[S]&31];for(var S=0;S<F.length;++S)++R[F[S]&31];for(var k=bS(R,7),P=k.t,N=k.l,M=19;M>4&&!P[o_[M-1]];--M);var O=c+5<<3,q=p0(i,qf)+p0(s,zv)+o,Z=p0(i,h)+p0(s,v)+o+14+3*M+p0(R,P)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&O<=q&&O<=Z)return Gz(e,u,t.subarray(l,l+c));var ne,ee,Y,oe;if(zu(e,u,1+(Z<q)),u+=2,Z<q){ne=Zc(h,p,0),ee=h,Y=Zc(v,y,0),oe=v;var se=Zc(P,N,0);zu(e,u,T-257),zu(e,u+5,B-1),zu(e,u+10,M-4),u+=14;for(var S=0;S<M;++S)zu(e,u+3*S,P[o_[S]]);u+=3*M;for(var K=[E,F],V=0;V<2;++V)for(var W=K[V],S=0;S<W.length;++S){var J=W[S]&31;zu(e,u,se[J]),u+=P[J],J>15&&(zu(e,u,W[S]>>5&127),u+=W[S]>>12)}}else ne=T2e,ee=qf,Y=P2e,oe=zv;for(var S=0;S<a;++S){var Q=r[S];if(Q>255){var J=Q>>18&31;h0(e,u,ne[J+257]),u+=ee[J+257],J>7&&(zu(e,u,Q>>23&31),u+=Vw[J]);var re=Q&31;h0(e,u,Y[re]),u+=oe[re],re>3&&(h0(e,u,Q>>5&8191),u+=$w[re])}else h0(e,u,ne[Q]),u+=ee[Q]}return h0(e,u,ne[256]),u+ee[256]},D2e=new p4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kz=new Js(0),R2e=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Js(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var f=D2e[e-1],h=f>>13,p=f&8191,g=(1<<n)-1,v=s.p||new Ta(32768),y=s.h||new Ta(g+1),w=Math.ceil(n/3),E=2*w,T=function(Ae){return(t[Ae]^t[Ae+1]<<w^t[Ae+2]<<E)&g},I=new p4(25e3),F=new Ta(288),B=new Ta(32),R=0,S=0,k=s.i||0,P=0,N=s.w||0,M=0;k+2<o;++k){var O=T(k),q=k&32767,Z=y[O];if(v[q]=Z,y[O]=q,N<=k){var ne=o-k;if((R>7e3||P>24576)&&(ne>423||!c)){u=DM(t,l,0,I,F,B,S,P,M,k-M,u),P=R=S=0,M=k;for(var ee=0;ee<286;++ee)F[ee]=0;for(var ee=0;ee<30;++ee)B[ee]=0}var Y=2,oe=0,se=p,K=q-Z&32767;if(ne>2&&O==T(k-K))for(var V=Math.min(h,ne)-1,W=Math.min(32767,k),J=Math.min(258,ne);K<=W&&--se&&q!=Z;){if(t[k+Y]==t[k+Y-K]){for(var Q=0;Q<J&&t[k+Q]==t[k+Q-K];++Q);if(Q>Y){if(Y=Q,oe=K,Q>V)break;for(var re=Math.min(K,Q-2),ce=0,ee=0;ee<re;++ee){var fe=k-K+ee&32767,be=v[fe],ge=fe-be&32767;ge>ce&&(ce=ge,Z=fe)}}}q=Z,Z=v[q],K+=q-Z&32767}if(oe){I[P++]=268435456|a_[Y]<<18|LM[oe];var Se=a_[Y]&31,Be=LM[oe]&31;S+=Vw[Se]+$w[Be],++F[257+Se],++B[Be],N=k+Y,++R}else I[P++]=t[k],++F[t[k]]}}for(k=Math.max(k,N);k<o;++k)I[P++]=t[k],++F[t[k]];u=DM(t,l,c,I,F,B,S,P,M,k-M,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=y,s.p=v,s.i=k,s.w=N)}else{for(var k=s.w||0;k<o+c;k+=65535){var _e=k+65535;_e>=o&&(l[u/8|0]=c,_e=o),u=Gz(l,u+1,t.subarray(k,_e))}s.i=o}return Wz(a,0,r+m4(u)+i)},Yz=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},M2e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Js(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return R2e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Xz=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},O2e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Yz();i.p(e.dictionary),Xz(t,2,i.d())}},F2e=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Gl(6,"invalid zlib data"),(t[1]>>5&1)==1&&Gl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function u_(t,e){e||(e={});var n=Yz();n.p(t);var r=M2e(t,e,e.dictionary?6:2,4);return O2e(r,e),Xz(r,r.length-4,n.d()),r}function j2e(t,e){return I2e(t.subarray(F2e(t),-4),{i:2},e,e)}var B2e=typeof TextDecoder<"u"&&new TextDecoder,V2e=0;try{B2e.decode(Kz,{stream:!0}),V2e=1}catch{}var Qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wS(){Qt.console&&typeof Qt.console.log=="function"&&Qt.console.log.apply(Qt.console,arguments)}var gr={log:wS,warn:function(t){Qt.console&&(typeof Qt.console.warn=="function"?Qt.console.warn.apply(Qt.console,arguments):wS.call(null,arguments))},error:function(t){Qt.console&&(typeof Qt.console.error=="function"?Qt.console.error.apply(Qt.console,arguments):wS(t))}};function ES(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){kh(r.response,e,n)},r.onerror=function(){gr.error("could not download file")},r.send()}function RM(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function V1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Z0,d_,kh=Qt.saveAs||((typeof window>"u"?"undefined":dr(window))!=="object"||window!==Qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Qt.URL||Qt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?RM(i.href)?ES(t,e,n):V1(i,i.target="_blank"):V1(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){V1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(RM(t))ES(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){V1(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:dr(s)!=="object"&&(gr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ES(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Qt.HTMLElement)||Qt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":dr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=Qt.URL||Qt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Jz(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function SS(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=$s(n,r,i,s,e[0],7,-680876936),s=$s(s,n,r,i,e[1],12,-389564586),i=$s(i,s,n,r,e[2],17,606105819),r=$s(r,i,s,n,e[3],22,-1044525330),n=$s(n,r,i,s,e[4],7,-176418897),s=$s(s,n,r,i,e[5],12,1200080426),i=$s(i,s,n,r,e[6],17,-1473231341),r=$s(r,i,s,n,e[7],22,-45705983),n=$s(n,r,i,s,e[8],7,1770035416),s=$s(s,n,r,i,e[9],12,-1958414417),i=$s(i,s,n,r,e[10],17,-42063),r=$s(r,i,s,n,e[11],22,-1990404162),n=$s(n,r,i,s,e[12],7,1804603682),s=$s(s,n,r,i,e[13],12,-40341101),i=$s(i,s,n,r,e[14],17,-1502002290),n=zs(n,r=$s(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zs(s,n,r,i,e[6],9,-1069501632),i=zs(i,s,n,r,e[11],14,643717713),r=zs(r,i,s,n,e[0],20,-373897302),n=zs(n,r,i,s,e[5],5,-701558691),s=zs(s,n,r,i,e[10],9,38016083),i=zs(i,s,n,r,e[15],14,-660478335),r=zs(r,i,s,n,e[4],20,-405537848),n=zs(n,r,i,s,e[9],5,568446438),s=zs(s,n,r,i,e[14],9,-1019803690),i=zs(i,s,n,r,e[3],14,-187363961),r=zs(r,i,s,n,e[8],20,1163531501),n=zs(n,r,i,s,e[13],5,-1444681467),s=zs(s,n,r,i,e[2],9,-51403784),i=zs(i,s,n,r,e[7],14,1735328473),n=Us(n,r=zs(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Us(s,n,r,i,e[8],11,-2022574463),i=Us(i,s,n,r,e[11],16,1839030562),r=Us(r,i,s,n,e[14],23,-35309556),n=Us(n,r,i,s,e[1],4,-1530992060),s=Us(s,n,r,i,e[4],11,1272893353),i=Us(i,s,n,r,e[7],16,-155497632),r=Us(r,i,s,n,e[10],23,-1094730640),n=Us(n,r,i,s,e[13],4,681279174),s=Us(s,n,r,i,e[0],11,-358537222),i=Us(i,s,n,r,e[3],16,-722521979),r=Us(r,i,s,n,e[6],23,76029189),n=Us(n,r,i,s,e[9],4,-640364487),s=Us(s,n,r,i,e[12],11,-421815835),i=Us(i,s,n,r,e[15],16,530742520),n=qs(n,r=Us(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=qs(s,n,r,i,e[7],10,1126891415),i=qs(i,s,n,r,e[14],15,-1416354905),r=qs(r,i,s,n,e[5],21,-57434055),n=qs(n,r,i,s,e[12],6,1700485571),s=qs(s,n,r,i,e[3],10,-1894986606),i=qs(i,s,n,r,e[10],15,-1051523),r=qs(r,i,s,n,e[1],21,-2054922799),n=qs(n,r,i,s,e[8],6,1873313359),s=qs(s,n,r,i,e[15],10,-30611744),i=qs(i,s,n,r,e[6],15,-1560198380),r=qs(r,i,s,n,e[13],21,1309151649),n=qs(n,r,i,s,e[4],6,-145523070),s=qs(s,n,r,i,e[11],10,-1120210379),i=qs(i,s,n,r,e[2],15,718787259),r=qs(r,i,s,n,e[9],21,-343485551),t[0]=Ef(n,t[0]),t[1]=Ef(r,t[1]),t[2]=Ef(i,t[2]),t[3]=Ef(s,t[3])}function zw(t,e,n,r,i,s){return e=Ef(Ef(e,t),Ef(r,s)),Ef(e<<i|e>>>32-i,n)}function $s(t,e,n,r,i,s,o){return zw(e&n|~e&r,t,e,i,s,o)}function zs(t,e,n,r,i,s,o){return zw(e&r|n&~r,t,e,i,s,o)}function Us(t,e,n,r,i,s,o){return zw(e^n^r,t,e,i,s,o)}function qs(t,e,n,r,i,s,o){return zw(n^(e|~r),t,e,i,s,o)}function Qz(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)SS(r,$2e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(SS(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,SS(r,i),r}function $2e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Z0=Qt.atob.bind(Qt),d_=Qt.btoa.bind(Qt);var MM="0123456789abcdef".split("");function z2e(t){for(var e="",n=0;n<4;n++)e+=MM[t>>8*n+4&15]+MM[t>>8*n&15];return e}function U2e(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function f_(t){return Qz(t).map(U2e).join("")}var q2e=function(t){for(var e=0;e<t.length;e++)t[e]=z2e(t[e]);return t.join("")}(Qz("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ef(t,e){if(q2e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function h_(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var f=e.length,h=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=a[h=(h+1)%256]))%256,a[h]=a[p],a[p]=u,o=a[(a[h]+a[p])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OM={print:4,modify:8,copy:16,"annot-forms":32};function dm(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(OM.perm!==void 0)throw new Error("Invalid permission: "+a);i+=OM[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=f_(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h_(this.encryptionKey,this.padding)}function fm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function FM(t){if(dr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Qt.console&&gr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function A2(t){if(!(this instanceof A2))return new A2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Zz(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Lh(t,e,n,r,i){if(!(this instanceof Lh))return new Lh(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Zz.call(this,r,i)}function Sm(t,e,n,r,i){if(!(this instanceof Sm))return new Sm(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Zz.call(this,r,i)}function Jt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;dr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=FM;var g="1.3",v=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(j){g=j};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return y};var w=p.__private__.getPageFormat=function(j){return y[j]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},T=E.COMPAT;function I(){this.saveGraphicsState(),he(new gt(st,0,0,-st,0,$i()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",T=E.ADVANCED}function F(){this.restoreGraphicsState(),c="S",T=E.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(j,ie){if(j=="bold"&&ie=="normal"||j=="bold"&&ie==400||j=="normal"&&ie=="italic"||j=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(j=ie==400||ie==="normal"?j==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||j!=="normal"?(ie==700?"bold":ie)+""+j:"bold"),j};p.advancedAPI=function(j){var ie=T===E.COMPAT;return ie&&I.call(this),typeof j!="function"||(j(this),ie&&F.call(this)),this},p.compatAPI=function(j){var ie=T===E.ADVANCED;return ie&&F.call(this),typeof j!="function"||(j(this),ie&&I.call(this)),this},p.isAdvancedAPI=function(){return T===E.ADVANCED};var R,S=function(j){if(T!==E.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=p.roundToPrecision=p.__private__.roundToPrecision=function(j,ie){var Ee=e||ie;if(isNaN(j)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Ee).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return k(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return k(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return k(j,16)};var P=p.f2=p.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return k(j,2)},N=p.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return k(j,3)},M=p.scale=p.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return T===E.COMPAT?j*st:T===E.ADVANCED?j:void 0},O=function(j){return T===E.COMPAT?$i()-j:T===E.ADVANCED?j:void 0},q=function(j){return M(O(j))};p.__private__.setPrecision=p.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(e=parseInt(j,10))};var Z,ne="00000000000000000000000000000000",ee=p.__private__.getFileId=function(){return ne},Y=p.__private__.setFileId=function(j){return ne=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():ne.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Bn=new dm(u.userPermissions,u.userPassword,u.ownerPassword,ne)),ne};p.setFileId=function(j){return Y(j),this},p.getFileId=function(){return ee()};var oe=p.__private__.convertDateToPDFDate=function(j){var ie=j.getTimezoneOffset(),Ee=ie<0?"+":"-",Te=Math.floor(Math.abs(ie/60)),Ve=Math.abs(ie%60),et=[Ee,J(Te),"'",J(Ve),"'"].join("");return["D:",j.getFullYear(),J(j.getMonth()+1),J(j.getDate()),J(j.getHours()),J(j.getMinutes()),J(j.getSeconds()),et].join("")},se=p.__private__.convertPDFDateToDate=function(j){var ie=parseInt(j.substr(2,4),10),Ee=parseInt(j.substr(6,2),10)-1,Te=parseInt(j.substr(8,2),10),Ve=parseInt(j.substr(10,2),10),et=parseInt(j.substr(12,2),10),ut=parseInt(j.substr(14,2),10);return new Date(ie,Ee,Te,Ve,et,ut,0)},K=p.__private__.setCreationDate=function(j){var ie;if(j===void 0&&(j=new Date),j instanceof Date)ie=oe(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=j}return Z=ie},V=p.__private__.getCreationDate=function(j){var ie=Z;return j==="jsDate"&&(ie=se(Z)),ie};p.setCreationDate=function(j){return K(j),this},p.getCreationDate=function(j){return V(j)};var W,J=p.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},Q=p.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},re=0,ce=[],fe=[],be=0,ge=[],Se=[],Be=!1,_e=fe,Ae=function(){re=0,be=0,fe=[],ce=[],ge=[],as=Dn(),Fi=Dn()};p.__private__.setCustomOutputDestination=function(j){Be=!0,_e=j};var ye=function(j){Be||(_e=j)};p.__private__.resetCustomOutputDestination=function(){Be=!1,_e=fe};var he=p.__private__.out=function(j){return j=j.toString(),be+=j.length+1,_e.push(j),_e},Je=p.__private__.write=function(j){return he(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},qe=p.__private__.getArrayBuffer=function(j){for(var ie=j.length,Ee=new ArrayBuffer(ie),Te=new Uint8Array(Ee);ie--;)Te[ie]=j.charCodeAt(ie);return Ee},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return je};var De=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(j){return De=T===E.ADVANCED?j/st:j,this};var We,de=p.__private__.getFontSize=p.getFontSize=function(){return T===E.COMPAT?De:De*st},we=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(j){return we=j,this},p.__private__.getR2L=p.getR2L=function(){return we};var ke,Ye=p.__private__.setZoomMode=function(j){var ie=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))We=j;else if(isNaN(j)){if(ie.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');We=j}else We=parseInt(j,10)};p.__private__.getZoomMode=function(){return We};var $e,He=p.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');ke=j};p.__private__.getPageMode=function(){return ke};var ot=p.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');$e=j};p.__private__.getLayoutMode=function(){return $e},p.__private__.setDisplayMode=p.setDisplayMode=function(j,ie,Ee){return Ye(j),ot(ie),He(Ee),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(j){if(Object.keys(dt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[j]},p.__private__.getDocumentProperties=function(){return dt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(j){for(var ie in dt)dt.hasOwnProperty(ie)&&j[ie]&&(dt[ie]=j[ie]);return this},p.__private__.setDocumentProperty=function(j,ie){if(Object.keys(dt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[j]=ie};var xt,st,jt,Vt,Hn,Ut={},fn={},lr=[],Kt={},Fr={},_n={},Qn={},gn=null,Yt=0,St=[],Ht=new FM(p),Fn=t.hotfixes||[],hn={},Tn={},fr=[],gt=function j(ie,Ee,Te,Ve,et,ut){if(!(this instanceof j))return new j(ie,Ee,Te,Ve,et,ut);isNaN(ie)&&(ie=1),isNaN(Ee)&&(Ee=0),isNaN(Te)&&(Te=0),isNaN(Ve)&&(Ve=1),isNaN(et)&&(et=0),isNaN(ut)&&(ut=0),this._matrix=[ie,Ee,Te,Ve,et,ut]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(j)},gt.prototype.multiply=function(j){var ie=j.sx*this.sx+j.shy*this.shx,Ee=j.sx*this.shy+j.shy*this.sy,Te=j.shx*this.sx+j.sy*this.shx,Ve=j.shx*this.shy+j.sy*this.sy,et=j.tx*this.sx+j.ty*this.shx+this.tx,ut=j.tx*this.shy+j.ty*this.sy+this.ty;return new gt(ie,Ee,Te,Ve,et,ut)},gt.prototype.decompose=function(){var j=this.sx,ie=this.shy,Ee=this.shx,Te=this.sy,Ve=this.tx,et=this.ty,ut=Math.sqrt(j*j+ie*ie),bt=(j/=ut)*Ee+(ie/=ut)*Te;Ee-=j*bt,Te-=ie*bt;var _=Math.sqrt(Ee*Ee+Te*Te);return bt/=_,j*(Te/=_)<ie*(Ee/=_)&&(j=-j,ie=-ie,bt=-bt,ut=-ut),{scale:new gt(ut,0,0,_,0,0),translate:new gt(1,0,0,1,Ve,et),rotate:new gt(j,ie,-ie,j,0,0),skew:new gt(1,0,bt,1,0,0)}},gt.prototype.toString=function(j){return this.join(" ")},gt.prototype.inversed=function(){var j=this.sx,ie=this.shy,Ee=this.shx,Te=this.sy,Ve=this.tx,et=this.ty,ut=1/(j*Te-ie*Ee),bt=Te*ut,_=-ie*ut,U=-Ee*ut,X=j*ut;return new gt(bt,_,U,X,-bt*Ve-U*et,-_*Ve-X*et)},gt.prototype.applyToPoint=function(j){var ie=j.x*this.sx+j.y*this.shx+this.tx,Ee=j.x*this.shy+j.y*this.sy+this.ty;return new fo(ie,Ee)},gt.prototype.applyToRectangle=function(j){var ie=this.applyToPoint(j),Ee=this.applyToPoint(new fo(j.x+j.w,j.y+j.h));return new ha(ie.x,ie.y,Ee.x-ie.x,Ee.y-ie.y)},gt.prototype.clone=function(){var j=this.sx,ie=this.shy,Ee=this.shx,Te=this.sy,Ve=this.tx,et=this.ty;return new gt(j,ie,Ee,Te,Ve,et)},p.Matrix=gt;var Ct=p.matrixMult=function(j,ie){return ie.multiply(j)},rn=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=rn;var yn=function(j,ie){if(!Fr[j]){var Ee=(ie instanceof Lh?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);ie.id=Ee,Fr[j]=Ee,Kt[Ee]=ie,Ht.publish("addPattern",ie)}};p.ShadingPattern=Lh,p.TilingPattern=Sm,p.addShadingPattern=function(j,ie){return S("addShadingPattern()"),yn(j,ie),this},p.beginTilingPattern=function(j){S("beginTilingPattern()"),xc(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},p.endTilingPattern=function(j,ie){S("endTilingPattern()"),ie.stream=Se[W].join(`
`),yn(j,ie),Ht.publish("endTilingPattern",ie),fr.pop().restore()};var kn=p.__private__.newObject=function(){var j=Dn();return jn(j,!0),j},Dn=p.__private__.newObjectDeferred=function(){return re++,ce[re]=function(){return be},re},jn=function(j,ie){return ie=typeof ie=="boolean"&&ie,ce[j]=be,ie&&he(j+" 0 obj"),j},Oi=p.__private__.newAdditionalObject=function(){var j={objId:Dn(),content:""};return ge.push(j),j},as=Dn(),Fi=Dn(),ks=p.__private__.decodeColorString=function(j){var ie=j.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length===5&&(ie[4]==="k"||ie[4]==="K")&&(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var Ee=parseFloat(ie[0]);ie=[Ee,Ee,Ee,"r"]}for(var Te="#",Ve=0;Ve<3;Ve++)Te+=("0"+Math.floor(255*parseFloat(ie[Ve])).toString(16)).slice(-2);return Te},jr=p.__private__.encodeColorString=function(j){var ie;typeof j=="string"&&(j={ch1:j});var Ee=j.ch1,Te=j.ch2,Ve=j.ch3,et=j.ch4,ut=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var bt=new Jz(Ee);if(bt.ok)Ee=bt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var _=parseInt(Ee.substr(1),16);Ee=_>>16&255,Te=_>>8&255,Ve=255&_}if(Te===void 0||et===void 0&&Ee===Te&&Te===Ve)if(typeof Ee=="string")ie=Ee+" "+ut[0];else switch(j.precision){case 2:ie=P(Ee/255)+" "+ut[0];break;case 3:default:ie=N(Ee/255)+" "+ut[0]}else if(et===void 0||dr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return ie=["1.","1.","1.",ut[1]].join(" ");if(typeof Ee=="string")ie=[Ee,Te,Ve,ut[1]].join(" ");else switch(j.precision){case 2:ie=[P(Ee/255),P(Te/255),P(Ve/255),ut[1]].join(" ");break;default:case 3:ie=[N(Ee/255),N(Te/255),N(Ve/255),ut[1]].join(" ")}}else if(typeof Ee=="string")ie=[Ee,Te,Ve,et,ut[2]].join(" ");else switch(j.precision){case 2:ie=[P(Ee),P(Te),P(Ve),P(et),ut[2]].join(" ");break;case 3:default:ie=[N(Ee),N(Te),N(Ve),N(et),ut[2]].join(" ")}return ie},ji=p.__private__.getFilters=function(){return o},Nr=p.__private__.putStream=function(j){var ie=(j=j||{}).data||"",Ee=j.filters||ji(),Te=j.alreadyAppliedFilters||[],Ve=j.addLength1||!1,et=ie.length,ut=j.objectId,bt=function(on){return on};if(u!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(bt=Bn.encryptor(ut,0));var _={};Ee===!0&&(Ee=["FlateEncode"]);var U=j.additionalKeyValues||[],X=(_=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(ie,Ee):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(_.data.length!==0&&(U.push({key:"Length",value:_.data.length}),Ve===!0&&U.push({key:"Length1",value:et})),X.length!=0)if(X.split("/").length-1==1)U.push({key:"Filter",value:X});else{U.push({key:"Filter",value:"["+X+"]"});for(var me=0;me<U.length;me+=1)if(U[me].key==="DecodeParms"){for(var Oe=[],Ke=0;Ke<_.reverseChain.split("/").length-1;Ke+=1)Oe.push("null");Oe.push(U[me].value),U[me].value="["+Oe.join(" ")+"]"}}he("<<");for(var ft=0;ft<U.length;ft++)he("/"+U[ft].key+" "+U[ft].value);he(">>"),_.data.length!==0&&(he("stream"),he(bt(_.data)),he("endstream"))},oo=p.__private__.putPage=function(j){var ie=j.number,Ee=j.data,Te=j.objId,Ve=j.contentsObjId;jn(Te,!0),he("<</Type /Page"),he("/Parent "+j.rootDictionaryObjId+" 0 R"),he("/Resources "+j.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(R(j.mediaBox.bottomLeftX))+" "+parseFloat(R(j.mediaBox.bottomLeftY))+" "+R(j.mediaBox.topRightX)+" "+R(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&he("/CropBox ["+R(j.cropBox.bottomLeftX)+" "+R(j.cropBox.bottomLeftY)+" "+R(j.cropBox.topRightX)+" "+R(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&he("/BleedBox ["+R(j.bleedBox.bottomLeftX)+" "+R(j.bleedBox.bottomLeftY)+" "+R(j.bleedBox.topRightX)+" "+R(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&he("/TrimBox ["+R(j.trimBox.bottomLeftX)+" "+R(j.trimBox.bottomLeftY)+" "+R(j.trimBox.topRightX)+" "+R(j.trimBox.topRightY)+"]"),j.artBox!==null&&he("/ArtBox ["+R(j.artBox.bottomLeftX)+" "+R(j.artBox.bottomLeftY)+" "+R(j.artBox.topRightX)+" "+R(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&he("/UserUnit "+j.userUnit),Ht.publish("putPage",{objId:Te,pageContext:St[ie],pageNumber:ie,page:Ee}),he("/Contents "+Ve+" 0 R"),he(">>"),he("endobj");var et=Ee.join(`
`);return T===E.ADVANCED&&(et+=`
Q`),jn(Ve,!0),Nr({data:et,filters:ji(),objectId:Ve}),he("endobj"),Te},sa=p.__private__.putPages=function(){var j,ie,Ee=[];for(j=1;j<=Yt;j++)St[j].objId=Dn(),St[j].contentsObjId=Dn();for(j=1;j<=Yt;j++)Ee.push(oo({number:j,data:Se[j],objId:St[j].objId,contentsObjId:St[j].contentsObjId,mediaBox:St[j].mediaBox,cropBox:St[j].cropBox,bleedBox:St[j].bleedBox,trimBox:St[j].trimBox,artBox:St[j].artBox,userUnit:St[j].userUnit,rootDictionaryObjId:as,resourceDictionaryObjId:Fi}));jn(as,!0),he("<</Type /Pages");var Te="/Kids [";for(ie=0;ie<Yt;ie++)Te+=Ee[ie]+" 0 R ";he(Te+"]"),he("/Count "+Yt),he(">>"),he("endobj"),Ht.publish("postPutPages")},oa=function(j){Ht.publish("putFont",{font:j,out:he,newObject:kn,putStream:Nr}),j.isAlreadyPutted!==!0&&(j.objectNumber=kn(),he("<<"),he("/Type /Font"),he("/BaseFont /"+fm(j.postScriptName)),he("/Subtype /Type1"),typeof j.encoding=="string"&&he("/Encoding /"+j.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},aa=function(){for(var j in Ut)Ut.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&oa(Ut[j])},Ia=function(j){j.objectNumber=kn();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[R(j.x),R(j.y),R(j.x+j.width),R(j.y+j.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Ee=j.pages[1].join(`
`);Nr({data:Ee,additionalKeyValues:ie,objectId:j.objectNumber}),he("endobj")},vl=function(){for(var j in hn)hn.hasOwnProperty(j)&&Ia(hn[j])},pd=function(j,ie){var Ee,Te=[],Ve=1/(ie-1);for(Ee=0;Ee<1;Ee+=Ve)Te.push(Ee);if(Te.push(1),j[0].offset!=0){var et={offset:0,color:j[0].color};j.unshift(et)}if(j[j.length-1].offset!=1){var ut={offset:1,color:j[j.length-1].color};j.push(ut)}for(var bt="",_=0,U=0;U<Te.length;U++){for(Ee=Te[U];Ee>j[_+1].offset;)_++;var X=j[_].offset,me=(Ee-X)/(j[_+1].offset-X),Oe=j[_].color,Ke=j[_+1].color;bt+=Q(Math.round((1-me)*Oe[0]+me*Ke[0]).toString(16))+Q(Math.round((1-me)*Oe[1]+me*Ke[1]).toString(16))+Q(Math.round((1-me)*Oe[2]+me*Ke[2]).toString(16))}return bt.trim()},ir=function(j,ie){ie||(ie=21);var Ee=kn(),Te=pd(j.colors,ie),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+ie+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nr({data:Te,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),he("endobj"),j.objectNumber=kn(),he("<< /ShadingType "+j.type),he("/ColorSpace /DeviceRGB");var et="/Coords ["+R(parseFloat(j.coords[0]))+" "+R(parseFloat(j.coords[1]))+" ";j.type===2?et+=R(parseFloat(j.coords[2]))+" "+R(parseFloat(j.coords[3])):et+=R(parseFloat(j.coords[2]))+" "+R(parseFloat(j.coords[3]))+" "+R(parseFloat(j.coords[4]))+" "+R(parseFloat(j.coords[5])),he(et+="]"),j.matrix&&he("/Matrix ["+j.matrix.toString()+"]"),he("/Function "+Ee+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},md=function(j,ie){var Ee=Dn(),Te=kn();ie.push({resourcesOid:Ee,objectOid:Te}),j.objectNumber=Te;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+j.boundingBox.map(R).join(" ")+"]"}),Ve.push({key:"XStep",value:R(j.xStep)}),Ve.push({key:"YStep",value:R(j.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),j.matrix&&Ve.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Nr({data:j.stream,additionalKeyValues:Ve,objectId:j.objectNumber}),he("endobj")},Do=function(j){var ie;for(ie in Kt)Kt.hasOwnProperty(ie)&&(Kt[ie]instanceof Lh?ir(Kt[ie]):Kt[ie]instanceof Sm&&md(Kt[ie],j))},la=function(j){for(var ie in j.objectNumber=kn(),he("<<"),j)switch(ie){case"opacity":he("/ca "+P(j[ie]));break;case"stroke-opacity":he("/CA "+P(j[ie]))}he(">>"),he("endobj")},Ps=function(){var j;for(j in _n)_n.hasOwnProperty(j)&&la(_n[j])},yl=function(){for(var j in he("/XObject <<"),hn)hn.hasOwnProperty(j)&&hn[j].objectNumber>=0&&he("/"+j+" "+hn[j].objectNumber+" 0 R");Ht.publish("putXobjectDict"),he(">>")},gd=function(){Bn.oid=kn(),he("<<"),he("/Filter /Standard"),he("/V "+Bn.v),he("/R "+Bn.r),he("/U <"+Bn.toHexString(Bn.U)+">"),he("/O <"+Bn.toHexString(Bn.O)+">"),he("/P "+Bn.P),he(">>"),he("endobj")},Da=function(){for(var j in he("/Font <<"),Ut)Ut.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&he("/"+j+" "+Ut[j].objectNumber+" 0 R");he(">>")},ls=function(){if(Object.keys(Kt).length>0){for(var j in he("/Shading <<"),Kt)Kt.hasOwnProperty(j)&&Kt[j]instanceof Lh&&Kt[j].objectNumber>=0&&he("/"+j+" "+Kt[j].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),he(">>")}},xl=function(j){if(Object.keys(Kt).length>0){for(var ie in he("/Pattern <<"),Kt)Kt.hasOwnProperty(ie)&&Kt[ie]instanceof p.TilingPattern&&Kt[ie].objectNumber>=0&&Kt[ie].objectNumber<j&&he("/"+ie+" "+Kt[ie].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),he(">>")}},xi=function(){if(Object.keys(_n).length>0){var j;for(j in he("/ExtGState <<"),_n)_n.hasOwnProperty(j)&&_n[j].objectNumber>=0&&he("/"+j+" "+_n[j].objectNumber+" 0 R");Ht.publish("putGStateDict"),he(">>")}},pr=function(j){jn(j.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Da(),ls(),xl(j.objectOid),xi(),yl(),he(">>"),he("endobj")},pu=function(){var j=[];aa(),Ps(),vl(),Do(j),Ht.publish("putResources"),j.forEach(pr),pr({resourcesOid:Fi,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources")},mu=function(){Ht.publish("putAdditionalObjects");for(var j=0;j<ge.length;j++){var ie=ge[j];jn(ie.objId,!0),he(ie.content),he("endobj")}Ht.publish("postPutAdditionalObjects")},bl=function(j){fn[j.fontName]=fn[j.fontName]||{},fn[j.fontName][j.fontStyle]=j.id},Ra=function(j,ie,Ee,Te,Ve){var et={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:j,fontName:ie,fontStyle:Ee,encoding:Te,isStandardFont:Ve||!1,metadata:{}};return Ht.publish("addFont",{font:et,instance:this}),Ut[et.id]=et,bl(et),et.id},Ma=function(j){for(var ie=0,Ee=je.length;ie<Ee;ie++){var Te=Ra.call(this,j[ie][0],j[ie][1],j[ie][2],je[ie][3],!0);f===!1&&(h[Te]=!0);var Ve=j[ie][0].split("-");bl({id:Te,fontName:Ve[0],fontStyle:Ve[1]||""})}Ht.publish("addFonts",{fonts:Ut,dictionary:fn})},bi=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(Te){var ie=Te.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var Ee="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Qt.console)throw new Error(Ee);Qt.console.error(Ee,Te),Qt.alert&&alert(Ee)}},j.foo.bar=j,j.foo},pc=function(j,ie){var Ee,Te,Ve,et,ut,bt,_,U,X;if(Ve=(ie=ie||{}).sourceEncoding||"Unicode",ut=ie.outputEncoding,(ie.autoencode||ut)&&Ut[xt].metadata&&Ut[xt].metadata[Ve]&&Ut[xt].metadata[Ve].encoding&&(et=Ut[xt].metadata[Ve].encoding,!ut&&Ut[xt].encoding&&(ut=Ut[xt].encoding),!ut&&et.codePages&&(ut=et.codePages[0]),typeof ut=="string"&&(ut=et[ut]),ut)){for(_=!1,bt=[],Ee=0,Te=j.length;Ee<Te;Ee++)(U=ut[j.charCodeAt(Ee)])?bt.push(String.fromCharCode(U)):bt.push(j[Ee]),bt[Ee].charCodeAt(0)>>8&&(_=!0);j=bt.join("")}for(Ee=j.length;_===void 0&&Ee!==0;)j.charCodeAt(Ee-1)>>8&&(_=!0),Ee--;if(!_)return j;for(bt=ie.noBOM?[]:[254,255],Ee=0,Te=j.length;Ee<Te;Ee++){if((X=(U=j.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");bt.push(X),bt.push(U-(X<<8))}return String.fromCharCode.apply(void 0,bt)},Lr=p.__private__.pdfEscape=p.pdfEscape=function(j,ie){return pc(j,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wi=p.__private__.beginPage=function(j){Se[++Yt]=[],St[Yt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},ca(Yt),ye(Se[W])},Oa=function(j,ie){var Ee,Te,Ve;switch(n=ie||n,typeof j=="string"&&(Ee=w(j.toLowerCase()),Array.isArray(Ee)&&(Te=Ee[0],Ve=Ee[1])),Array.isArray(j)&&(Te=j[0]*st,Ve=j[1]*st),isNaN(Te)&&(Te=i[0],Ve=i[1]),(Te>14400||Ve>14400)&&(gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Ve=Math.min(14400,Ve)),i=[Te,Ve],n.substr(0,1)){case"l":Ve>Te&&(i=[Ve,Te]);break;case"p":Te>Ve&&(i=[Ve,Te])}wi(i),$a(vu),he(Hr),xu!==0&&he(xu+" J"),za!==0&&he(za+" j"),Ht.publish("addPage",{pageNumber:Yt})},Fa=function(j){j>0&&j<=Yt&&(Se.splice(j,1),St.splice(j,1),Yt--,W>Yt&&(W=Yt),this.setPage(W))},ca=function(j){j>0&&j<=Yt&&(W=j)},Zn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},ua=function(j,ie,Ee){var Te,Ve=void 0;return Ee=Ee||{},j=j!==void 0?j:Ut[xt].fontName,ie=ie!==void 0?ie:Ut[xt].fontStyle,Te=j.toLowerCase(),fn[Te]!==void 0&&fn[Te][ie]!==void 0?Ve=fn[Te][ie]:fn[j]!==void 0&&fn[j][ie]!==void 0?Ve=fn[j][ie]:Ee.disableWarning===!1&&gr.warn("Unable to look up font label for font '"+j+"', '"+ie+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=fn.times[ie])==null&&(Ve=fn.times.normal),Ve},wn=p.__private__.putInfo=function(){var j=kn(),ie=function(Te){return Te};for(var Ee in u!==null&&(ie=Bn.encryptor(j,0)),he("<<"),he("/Producer ("+Lr(ie("jsPDF "+Jt.version))+")"),dt)dt.hasOwnProperty(Ee)&&dt[Ee]&&he("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+Lr(ie(dt[Ee]))+")");he("/CreationDate ("+Lr(ie(Z))+")"),he(">>"),he("endobj")},Ro=p.__private__.putCatalog=function(j){var ie=(j=j||{}).rootDictionaryObjId||as;switch(kn(),he("<<"),he("/Type /Catalog"),he("/Pages "+ie+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+We;Ee.substr(Ee.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&he("/OpenAction [3 0 R /XYZ null null "+P(We)+"]")}switch($e||($e="continuous"),$e){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}ke&&he("/PageMode /"+ke),Ht.publish("putCatalog"),he(">>"),he("endobj")},vd=p.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(re+1)),he("/Root "+re+" 0 R"),he("/Info "+(re-1)+" 0 R"),u!==null&&he("/Encrypt "+Bn.oid+" 0 R"),he("/ID [ <"+ne+"> <"+ne+"> ]"),he(">>")},mc=p.__private__.putHeader=function(){he("%PDF-"+g),he("%")},yd=p.__private__.putXRef=function(){var j="0000000000";he("xref"),he("0 "+(re+1)),he("0000000000 65535 f ");for(var ie=1;ie<=re;ie++)typeof ce[ie]=="function"?he((j+ce[ie]()).slice(-10)+" 00000 n "):ce[ie]!==void 0?he((j+ce[ie]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},Mo=p.__private__.buildDocument=function(){Ae(),ye(fe),Ht.publish("buildDocument"),mc(),sa(),mu(),pu(),u!==null&&gd(),wn(),Ro();var j=be;return yd(),vd(),he("startxref"),he(""+j),he("%%EOF"),ye(Se[W]),fe.join(`
`)},wl=p.__private__.getBlob=function(j){return new Blob([qe(j)],{type:"application/pdf"})},ja=p.output=p.__private__.output=bi(function(j,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",j){case void 0:return Mo();case"save":p.save(ie.filename);break;case"arraybuffer":return qe(Mo());case"blob":return wl(Mo());case"bloburi":case"bloburl":if(Qt.URL!==void 0&&typeof Qt.URL.createObjectURL=="function")return Qt.URL&&Qt.URL.createObjectURL(wl(Mo()))||void 0;gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",Te=Mo();try{Ee=d_(Te)}catch{Ee=d_(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+ie.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(Ve=ie.pdfObjectUrl,et="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",bt=Qt.open();return bt!==null&&bt.document.write(ut),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qt)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',U=Qt.open();if(U!==null){U.document.write(_);var X=this;U.document.documentElement.querySelector("#pdfViewer").onload=function(){U.document.title=ie.filename,U.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return U}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',Oe=Qt.open();if(Oe!==null&&(Oe.document.write(me),Oe.document.title=ie.filename),Oe||typeof safari>"u")return Oe;break;case"datauri":case"dataurl":return Qt.document.location.href=this.output("datauristring",ie);default:return null}}),ao=function(j){return Array.isArray(Fn)===!0&&Fn.indexOf(j)>-1};switch(r){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=ao("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);st=r}var Bn=null;K(),Y();var lo=function(j){return u!==null?Bn.encryptor(j,0):function(ie){return ie}},Ns=p.__private__.getPageInfo=p.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[j].objId,pageNumber:j,pageContext:St[j]}},$t=p.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in St)if(St[ie].objId===j)break;return Ns(ie)},Ls=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:St[W].objId,pageNumber:W,pageContext:St[W]}};p.addPage=function(){return Oa.apply(this,arguments),this},p.setPage=function(){return ca.apply(this,arguments),ye.call(this,Se[W]),this},p.insertPage=function(j){return this.addPage(),this.movePage(W,j),this},p.movePage=function(j,ie){var Ee,Te;if(j>ie){Ee=Se[j],Te=St[j];for(var Ve=j;Ve>ie;Ve--)Se[Ve]=Se[Ve-1],St[Ve]=St[Ve-1];Se[ie]=Ee,St[ie]=Te,this.setPage(ie)}else if(j<ie){Ee=Se[j],Te=St[j];for(var et=j;et<ie;et++)Se[et]=Se[et+1],St[et]=St[et+1];Se[ie]=Ee,St[ie]=Te,this.setPage(ie)}return this},p.deletePage=function(){return Fa.apply(this,arguments),this},p.__private__.text=p.text=function(j,ie,Ee,Te,Ve){var et,ut,bt,_,U,X,me,Oe,Ke,ft=(Te=Te||{}).scope||this;if(typeof j=="number"&&typeof ie=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var on=Ee;Ee=ie,ie=j,j=on}if(arguments[3]instanceof gt?(S("The transform parameter of text() with a Matrix value"),Ke=Ve):(bt=arguments[4],_=arguments[5],dr(me=arguments[3])==="object"&&me!==null||(typeof bt=="string"&&(_=bt,bt=null),typeof me=="string"&&(_=me,me=null),typeof me=="number"&&(bt=me,me=null),Te={flags:me,angle:bt,align:_})),isNaN(ie)||isNaN(Ee)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return ft;var Cn="",an=!1,Gn=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Wn,er=ft.internal.scaleFactor;function ds(cr){return cr=cr.split("	").join(Array(Te.TabLen||9).join(" ")),Lr(cr,me)}function Ci(cr){for(var tr,Rr=cr.concat(),Wr=[],Wa=Rr.length;Wa--;)typeof(tr=Rr.shift())=="string"?Wr.push(tr):Array.isArray(cr)&&(tr.length===1||tr[1]===void 0&&tr[2]===void 0)?Wr.push(tr[0]):Wr.push([tr[0],tr[1],tr[2]]);return Wr}function ma(cr,tr){var Rr;if(typeof cr=="string")Rr=tr(cr)[0];else if(Array.isArray(cr)){for(var Wr,Wa,Nd=cr.concat(),_u=[],ah=Nd.length;ah--;)typeof(Wr=Nd.shift())=="string"?_u.push(tr(Wr)[0]):Array.isArray(Wr)&&typeof Wr[0]=="string"&&(Wa=tr(Wr[0],Wr[1],Wr[2]),_u.push([Wa[0],Wa[1],Wa[2]]));Rr=_u}return Rr}var ga=!1,wd=!0;if(typeof j=="string")ga=!0;else if(Array.isArray(j)){var Ed=j.concat();ut=[];for(var bu,Dr=Ed.length;Dr--;)(typeof(bu=Ed.shift())!="string"||Array.isArray(bu)&&typeof bu[0]!="string")&&(wd=!1);ga=wd}if(ga===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Sd=De/ft.internal.scaleFactor,Cd=Sd*(Gn-1);switch(Te.baseline){case"bottom":Ee-=Cd;break;case"top":Ee+=Sd-Cd;break;case"hanging":Ee+=Sd-2*Cd;break;case"middle":Ee+=Sd/2-Cd}if((X=Te.maxWidth||0)>0&&(typeof j=="string"?j=ft.splitTextToSize(j,X):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(cr,tr){return cr.concat(ft.splitTextToSize(tr,X))},[]))),et={text:j,x:ie,y:Ee,options:Te,mutex:{pdfEscape:Lr,activeFontKey:xt,fonts:Ut,activeFontSize:De}},Ht.publish("preProcessText",et),j=et.text,bt=(Te=et.options).angle,!(Ke instanceof gt)&&bt&&typeof bt=="number"){bt*=Math.PI/180,Te.rotationDirection===0&&(bt=-bt),T===E.ADVANCED&&(bt=-bt);var Ad=Math.cos(bt),_d=Math.sin(bt);Ke=new gt(Ad,_d,-_d,Ad,0,0)}else bt&&bt instanceof gt&&(Ke=bt);T!==E.ADVANCED||Ke||(Ke=rn),(U=Te.charSpace||fa)!==void 0&&(Cn+=R(M(U))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Oe=Te.horizontalScale)!==void 0&&(Cn+=R(100*Oe)+` Tz
`),Te.lang;var fs=-1,wu=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,Al=ft.internal.getCurrentPageInfo().pageContext;switch(wu){case 0:case!1:case"fill":fs=0;break;case 1:case!0:case"stroke":fs=1;break;case 2:case"fillThenStroke":fs=2;break;case 3:case"invisible":fs=3;break;case 4:case"fillAndAddForClipping":fs=4;break;case 5:case"strokeAndAddPathForClipping":fs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fs=6;break;case 7:case"addToPathForClipping":fs=7}var kp=Al.usedRenderingMode!==void 0?Al.usedRenderingMode:-1;fs!==-1?Cn+=fs+` Tr
`:kp!==-1&&(Cn+=`0 Tr
`),fs!==-1&&(Al.usedRenderingMode=fs),_=Te.align||"left";var hs,Td=De*Gn,sh=ft.internal.pageSize.getWidth(),kd=Ut[xt];U=Te.charSpace||fa,X=Te.maxWidth||0,me=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var qa=[],Ec=function(cr){return ft.getStringUnitWidth(cr,{font:kd,charSpace:U,fontSize:De,doKerning:!1})*De/er};if(Object.prototype.toString.call(j)==="[object Array]"){var ps;ut=Ci(j),_!=="left"&&(hs=ut.map(Ec));var zi,Sc=0;if(_==="right"){ie-=hs[0],j=[],Dr=ut.length;for(var _l=0;_l<Dr;_l++)_l===0?(zi=us(ie),ps=Ir(Ee)):(zi=M(Sc-hs[_l]),ps=-Td),j.push([ut[_l],zi,ps]),Sc=hs[_l]}else if(_==="center"){ie-=hs[0]/2,j=[],Dr=ut.length;for(var Tl=0;Tl<Dr;Tl++)Tl===0?(zi=us(ie),ps=Ir(Ee)):(zi=M((Sc-hs[Tl])/2),ps=-Td),j.push([ut[Tl],zi,ps]),Sc=hs[Tl]}else if(_==="left"){j=[],Dr=ut.length;for(var Pd=0;Pd<Dr;Pd++)j.push(ut[Pd])}else if(_==="justify"&&kd.encoding==="Identity-H"){j=[],Dr=ut.length,X=X!==0?X:sh;for(var kl=0,Un=0;Un<Dr;Un++)if(ps=Un===0?Ir(Ee):-Td,zi=Un===0?us(ie):kl,Un<Dr-1){var Pl=M((X-hs[Un])/(ut[Un].split(" ").length-1)),Ui=ut[Un].split(" ");j.push([Ui[0]+" ",zi,ps]),kl=0;for(var ho=1;ho<Ui.length;ho++){var Eu=(Ec(Ui[ho-1]+" "+Ui[ho])-Ec(Ui[ho]))*er+Pl;ho==Ui.length-1?j.push([Ui[ho],Eu,0]):j.push([Ui[ho]+" ",Eu,0]),kl-=Eu}}else j.push([ut[Un],zi,ps]);j.push(["",kl,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Dr=ut.length,X=X!==0?X:sh,Un=0;Un<Dr;Un++)ps=Un===0?Ir(Ee):-Td,zi=Un===0?us(ie):0,Un<Dr-1?qa.push(R(M((X-hs[Un])/(ut[Un].split(" ").length-1)))):qa.push(0),j.push([ut[Un],zi,ps])}}var oh=typeof Te.R2L=="boolean"?Te.R2L:we;oh===!0&&(j=ma(j,function(cr,tr,Rr){return[cr.split("").reverse().join(""),tr,Rr]})),et={text:j,x:ie,y:Ee,options:Te,mutex:{pdfEscape:Lr,activeFontKey:xt,fonts:Ut,activeFontSize:De}},Ht.publish("postProcessText",et),j=et.text,an=et.mutex.isHex||!1;var Su=Ut[xt].encoding;Su!=="WinAnsiEncoding"&&Su!=="StandardEncoding"||(j=ma(j,function(cr,tr,Rr){return[ds(cr),tr,Rr]})),ut=Ci(j),j=[];for(var Cu,Au,po,Nl=0,Ha=1,Ll=Array.isArray(ut[0])?Ha:Nl,Il="",Cc=function(cr,tr,Rr){var Wr="";return Rr instanceof gt?(Rr=typeof Te.angle=="number"?Ct(Rr,new gt(1,0,0,1,cr,tr)):Ct(new gt(1,0,0,1,cr,tr),Rr),T===E.ADVANCED&&(Rr=Ct(new gt(1,0,0,-1,0,0),Rr)),Wr=Rr.join(" ")+` Tm
`):Wr=R(cr)+" "+R(tr)+` Td
`,Wr},Ai=0;Ai<ut.length;Ai++){switch(Il="",Ll){case Ha:po=(an?"<":"(")+ut[Ai][0]+(an?">":")"),Cu=parseFloat(ut[Ai][1]),Au=parseFloat(ut[Ai][2]);break;case Nl:po=(an?"<":"(")+ut[Ai]+(an?">":")"),Cu=us(ie),Au=Ir(Ee)}qa!==void 0&&qa[Ai]!==void 0&&(Il=qa[Ai]+` Tw
`),Ai===0?j.push(Il+Cc(Cu,Au,Ke)+po):Ll===Nl?j.push(Il+po):Ll===Ha&&j.push(Il+Cc(Cu,Au,Ke)+po)}j=Ll===Nl?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Is=`BT
/`;return Is+=xt+" "+De+` Tf
`,Is+=R(De*Gn)+` TL
`,Is+=Er+`
`,Is+=Cn,Is+=j,he(Is+="ET"),h[xt]=!0,ft};var Oo=p.__private__.clip=p.clip=function(j){return he(j==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Oo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return he("n"),this};var Fo=p.__private__.isValidStyle=function(j){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(ie=!0),ie};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(j){return Fo(j)&&(c=j),this};var gu=p.__private__.getStyle=p.getStyle=function(j){var ie=c;switch(j){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=j}return ie},Ei=p.close=function(){return he("h"),this};p.stroke=function(){return he("S"),this},p.fill=function(j){return gc("f",j),this},p.fillEvenOdd=function(j){return gc("f*",j),this},p.fillStroke=function(j){return gc("B",j),this},p.fillStrokeEvenOdd=function(j){return gc("B*",j),this};var gc=function(j,ie){dr(ie)==="object"?El(ie,j):he(j)},vc=function(j){j===null||T===E.ADVANCED&&j===void 0||(j=gu(j),he(j))};function da(j,ie,Ee,Te,Ve){var et=new Sm(ie||this.boundingBox,Ee||this.xStep,Te||this.yStep,this.gState,Ve||this.matrix);et.stream=this.stream;var ut=j+"$$"+this.cloneIndex+++"$$";return yn(ut,et),et}var El=function(j,ie){var Ee=Fr[j.key],Te=Kt[Ee];if(Te instanceof Lh)he("q"),he(xd(ie)),Te.gState&&p.setGState(Te.gState),he(j.matrix.toString()+" cm"),he("/"+Ee+" sh"),he("Q");else if(Te instanceof Sm){var Ve=new gt(1,0,0,-1,0,$i());j.matrix&&(Ve=Ve.multiply(j.matrix||rn),Ee=da.call(Te,j.key,j.boundingBox,j.xStep,j.yStep,Ve).id),he("q"),he("/Pattern cs"),he("/"+Ee+" scn"),Te.gState&&p.setGState(Te.gState),he(ie),he("Q")}},xd=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cs=p.moveTo=function(j,ie){return he(R(M(j))+" "+R(q(ie))+" m"),this},Si=p.lineTo=function(j,ie){return he(R(M(j))+" "+R(q(ie))+" l"),this},Bi=p.curveTo=function(j,ie,Ee,Te,Ve,et){return he([R(M(j)),R(q(ie)),R(M(Ee)),R(q(Te)),R(M(Ve)),R(q(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(j,ie,Ee,Te,Ve){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||isNaN(Te)||!Fo(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return T===E.COMPAT?this.lines([[Ee-j,Te-ie]],j,ie,[1,1],Ve||"S"):this.lines([[Ee-j,Te-ie]],j,ie,[1,1]).stroke()},p.__private__.lines=p.lines=function(j,ie,Ee,Te,Ve,et){var ut,bt,_,U,X,me,Oe,Ke,ft,on,Cn,an;if(typeof j=="number"&&(an=Ee,Ee=ie,ie=j,j=an),Te=Te||[1,1],et=et||!1,isNaN(ie)||isNaN(Ee)||!Array.isArray(j)||!Array.isArray(Te)||!Fo(Ve)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cs(ie,Ee),ut=Te[0],bt=Te[1],U=j.length,on=ie,Cn=Ee,_=0;_<U;_++)(X=j[_]).length===2?(on=X[0]*ut+on,Cn=X[1]*bt+Cn,Si(on,Cn)):(me=X[0]*ut+on,Oe=X[1]*bt+Cn,Ke=X[2]*ut+on,ft=X[3]*bt+Cn,on=X[4]*ut+on,Cn=X[5]*bt+Cn,Bi(me,Oe,Ke,ft,on,Cn));return et&&Ei(),vc(Ve),this},p.path=function(j){for(var ie=0;ie<j.length;ie++){var Ee=j[ie],Te=Ee.c;switch(Ee.op){case"m":cs(Te[0],Te[1]);break;case"l":Si(Te[0],Te[1]);break;case"c":Bi.apply(this,Te);break;case"h":Ei()}}return this},p.__private__.rect=p.rect=function(j,ie,Ee,Te,Ve){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||isNaN(Te)||!Fo(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return T===E.COMPAT&&(Te=-Te),he([R(M(j)),R(q(ie)),R(M(Ee)),R(M(Te)),"re"].join(" ")),vc(Ve),this},p.__private__.triangle=p.triangle=function(j,ie,Ee,Te,Ve,et,ut){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||isNaN(Te)||isNaN(Ve)||isNaN(et)||!Fo(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-j,Te-ie],[Ve-Ee,et-Te],[j-Ve,ie-et]],j,ie,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(j,ie,Ee,Te,Ve,et,ut){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||isNaN(Te)||isNaN(Ve)||isNaN(et)||!Fo(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),et=Math.min(et,.5*Te),this.lines([[Ee-2*Ve,0],[Ve*bt,0,Ve,et-et*bt,Ve,et],[0,Te-2*et],[0,et*bt,-Ve*bt,et,-Ve,et],[2*Ve-Ee,0],[-Ve*bt,0,-Ve,-et*bt,-Ve,-et],[0,2*et-Te],[0,-et*bt,Ve*bt,-et,Ve,-et]],j+Ve,ie,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(j,ie,Ee,Te,Ve){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||isNaN(Te)||!Fo(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*Ee,ut=4/3*(Math.SQRT2-1)*Te;return cs(j+Ee,ie),Bi(j+Ee,ie-ut,j+et,ie-Te,j,ie-Te),Bi(j-et,ie-Te,j-Ee,ie-ut,j-Ee,ie),Bi(j-Ee,ie+ut,j-et,ie+Te,j,ie+Te),Bi(j+et,ie+Te,j+Ee,ie+ut,j+Ee,ie),vc(Ve),this},p.__private__.circle=p.circle=function(j,ie,Ee,Te){if(isNaN(j)||isNaN(ie)||isNaN(Ee)||!Fo(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,ie,Ee,Ee,Te)},p.setFont=function(j,ie,Ee){return Ee&&(ie=B(ie,Ee)),xt=ua(j,ie,{disableWarning:!1}),this};var Ba=p.__private__.getFont=p.getFont=function(){return Ut[ua.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var j,ie,Ee={};for(j in fn)if(fn.hasOwnProperty(j))for(ie in Ee[j]=[],fn[j])fn[j].hasOwnProperty(ie)&&Ee[j].push(ie);return Ee},p.addFont=function(j,ie,Ee,Te,Ve){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(Ee=B(Ee,Te)),Ve=Ve||"Identity-H",Ra.call(this,j,ie,Ee,Ve)};var Wn,vu=t.lineWidth||.200025,Va=p.__private__.getLineWidth=p.getLineWidth=function(){return vu},$a=p.__private__.setLineWidth=p.setLineWidth=function(j){return vu=j,he(R(M(j))+" w"),this};p.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(j,ie){if(j=j||[],ie=ie||0,isNaN(ie)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Ee){return R(M(Ee))}).join(" "),ie=R(M(ie)),he("["+j+"] "+ie+" d"),this};var Sl=p.__private__.getLineHeight=p.getLineHeight=function(){return De*Wn};p.__private__.getLineHeight=p.getLineHeight=function(){return De*Wn};var yc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(Wn=j),this},Vi=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Wn};yc(t.lineHeight);var us=p.__private__.getHorizontalCoordinate=function(j){return M(j)},Ir=p.__private__.getVerticalCoordinate=function(j){return T===E.ADVANCED?j:St[W].mediaBox.topRightY-St[W].mediaBox.bottomLeftY-M(j)},yu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(j){return R(us(j))},co=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(j){return R(Ir(j))},Hr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ks(Hr)},p.__private__.setStrokeColor=p.setDrawColor=function(j,ie,Ee,Te){return Hr=jr({ch1:j,ch2:ie,ch3:Ee,ch4:Te,pdfColorType:"draw",precision:2}),he(Hr),this};var Cl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ks(Cl)},p.__private__.setFillColor=p.setFillColor=function(j,ie,Ee,Te){return Cl=jr({ch1:j,ch2:ie,ch3:Ee,ch4:Te,pdfColorType:"fill",precision:2}),he(Cl),this};var Er=t.textColor||"0 g",uo=p.__private__.getTextColor=p.getTextColor=function(){return ks(Er)};p.__private__.setTextColor=p.setTextColor=function(j,ie,Ee,Te){return Er=jr({ch1:j,ch2:ie,ch3:Ee,ch4:Te,pdfColorType:"text",precision:3}),this};var fa=t.charSpace,jo=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(fa||0)};p.__private__.setCharSpace=p.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fa=j,this};var xu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(j){var ie=p.CapJoinStyles[j];if(ie===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xu=ie,he(ie+" J"),this};var za=0;p.__private__.setLineJoin=p.setLineJoin=function(j){var ie=p.CapJoinStyles[j];if(ie===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return za=ie,he(ie+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(R(M(j))+" M"),this},p.GState=A2,p.setGState=function(j){(j=typeof j=="string"?_n[Qn[j]]:Bo(null,j)).equals(gn)||(he("/"+j.id+" gs"),gn=j)};var Bo=function(j,ie){if(!j||!Qn[j]){var Ee=!1;for(var Te in _n)if(_n.hasOwnProperty(Te)&&_n[Te].equals(ie)){Ee=!0;break}if(Ee)ie=_n[Te];else{var Ve="GS"+(Object.keys(_n).length+1).toString(10);_n[Ve]=ie,ie.id=Ve}return j&&(Qn[j]=ie.id),Ht.publish("addGState",ie),ie}};p.addGState=function(j,ie){return Bo(j,ie),this},p.saveGraphicsState=function(){return he("q"),lr.push({key:xt,size:De,color:Er}),this},p.restoreGraphicsState=function(){he("Q");var j=lr.pop();return xt=j.key,De=j.size,Er=j.color,gn=null,this},p.setCurrentTransformationMatrix=function(j){return he(j.toString()+" cm"),this},p.comment=function(j){return he("#"+j),this};var fo=function(j,ie){var Ee=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(et){isNaN(et)||(Ee=parseFloat(et))}});var Te=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(et){isNaN(et)||(Te=parseFloat(et))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(et){Ve=et.toString()}}),this},ha=function(j,ie,Ee,Te){fo.call(this,j,ie),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(ut){isNaN(ut)||(Ve=parseFloat(ut))}});var et=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ut){isNaN(ut)||(et=parseFloat(ut))}}),this},Ua=function(){this.page=Yt,this.currentPage=W,this.pages=Se.slice(0),this.pagesContext=St.slice(0),this.x=jt,this.y=Vt,this.matrix=Hn,this.width=Vo(W),this.height=$i(W),this.outputDestination=_e,this.id="",this.objectNumber=-1};Ua.prototype.restore=function(){Yt=this.page,W=this.currentPage,St=this.pagesContext,Se=this.pages,jt=this.x,Vt=this.y,Hn=this.matrix,bc(W,this.width),wc(W,this.height),_e=this.outputDestination};var xc=function(j,ie,Ee,Te,Ve){fr.push(new Ua),Yt=W=0,Se=[],jt=j,Vt=ie,Hn=Ve,wi([Ee,Te])},bd=function(j){if(Tn[j])fr.pop().restore();else{var ie=new Ua,Ee="Xo"+(Object.keys(hn).length+1).toString(10);ie.id=Ee,Tn[j]=Ee,hn[Ee]=ie,Ht.publish("addFormObject",ie),fr.pop().restore()}};for(var pa in p.beginFormObject=function(j,ie,Ee,Te,Ve){return xc(j,ie,Ee,Te,Ve),this},p.endFormObject=function(j){return bd(j),this},p.doFormObject=function(j,ie){var Ee=hn[Tn[j]];return he("q"),he(ie.toString()+" cm"),he("/"+Ee.id+" Do"),he("Q"),this},p.getFormObject=function(j){var ie=hn[Tn[j]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},p.save=function(j,ie){return j=j||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?(kh(wl(Mo()),j),typeof kh.unload=="function"&&Qt.setTimeout&&setTimeout(kh.unload,911),this):new Promise(function(Ee,Te){try{var Ve=kh(wl(Mo()),j);typeof kh.unload=="function"&&Qt.setTimeout&&setTimeout(kh.unload,911),Ee(Ve)}catch(et){Te(et.message)}})},Jt.API)Jt.API.hasOwnProperty(pa)&&(pa==="events"&&Jt.API.events.length?function(j,ie){var Ee,Te,Ve;for(Ve=ie.length-1;Ve!==-1;Ve--)Ee=ie[Ve][0],Te=ie[Ve][1],j.subscribe.apply(j,[Ee].concat(typeof Te=="function"?[Te]:Te))}(Ht,Jt.API.events):p[pa]=Jt.API[pa]);var Vo=p.getPageWidth=function(j){return(St[j=j||W].mediaBox.topRightX-St[j].mediaBox.bottomLeftX)/st},bc=p.setPageWidth=function(j,ie){St[j].mediaBox.topRightX=ie*st+St[j].mediaBox.bottomLeftX},$i=p.getPageHeight=function(j){return(St[j=j||W].mediaBox.topRightY-St[j].mediaBox.bottomLeftY)/st},wc=p.setPageHeight=function(j,ie){St[j].mediaBox.topRightY=ie*st+St[j].mediaBox.bottomLeftY};return p.internal={pdfEscape:Lr,getStyle:gu,getFont:Ba,getFontSize:de,getCharSpace:jo,getTextColor:uo,getLineHeight:Sl,getLineHeightFactor:Vi,getLineWidth:Va,write:Je,getHorizontalCoordinate:us,getVerticalCoordinate:Ir,getCoordinateString:yu,getVerticalCoordinateString:co,collections:{},newObject:kn,newAdditionalObject:Oi,newObjectDeferred:Dn,newObjectDeferredBegin:jn,getFilters:ji,putStream:Nr,events:Ht,scaleFactor:st,pageSize:{getWidth:function(){return Vo(W)},setWidth:function(j){bc(W,j)},getHeight:function(){return $i(W)},setHeight:function(j){wc(W,j)}},encryptionOptions:u,encryption:Bn,getEncryptor:lo,output:ja,getNumberOfPages:Zn,pages:Se,out:he,f2:P,f3:N,getPageInfo:Ns,getPageInfoByObjId:$t,getCurrentPageInfo:Ls,getPDFVersion:v,Point:fo,Rectangle:ha,Matrix:gt,hasHotfix:ao},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Vo(W)},set:function(j){bc(W,j)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return $i(W)},set:function(j){wc(W,j)},enumerable:!0,configurable:!0}),Ma.call(p,je),xt="F1",Oa(i,n),Ht.publish("initialized"),p}dm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},dm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dm.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},dm.prototype.processOwnerPassword=function(t,e){return h_(f_(e).substr(0,5),t)},dm.prototype.encryptor=function(t,e){var n=f_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return h_(n,r)}},A2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||dr(t)!==dr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Jt.API={events:[]},Jt.version="3.0.1";var Xr=Jt.API,g4=1,Cp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pn=function(t){return t.toFixed(2)},Qd=function(t){return t.toFixed(5)};Xr.__acroform__={};var ia=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},jM=function(t){return t*g4},Dc=function(t){var e=new tU,n=It.internal.getHeight(t)||0,r=It.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pn(r)),Number(pn(n))],e},H2e=Xr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},W2e=Xr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},G2e=Xr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ai=Xr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return G2e(t,e-1)},li=Xr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return H2e(t,e-1)},ci=Xr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return W2e(t,e-1)},K2e=Xr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(pn(l.lowerLeft_X)),Number(pn(l.lowerLeft_Y)),Number(pn(l.upperRight_X)),Number(pn(l.upperRight_Y))]},Y2e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=p_(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+pn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Dc(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},p_=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=n,o=It.internal.getHeight(t)||0;o=o<0?-o:o;var a=It.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(N,M,O){if(N+1<i.length){var q=M+" "+i[N+1][0];return $1(q,t,O).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=$1("3",t,s).height,h=t.multiline?o-s:(o-f)/2,p=h+=2,g=0,v=0,y=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+$1(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var I=!1;if(i[T].length!==1&&y!==i[T].length-1){if((f+2)*(E+2)+2>o)continue e;w+=i[T][y],I=!0,v=T,T--}else{w=(w+=i[T][y]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(T),B=l(F,w,s),R=T>=i.length-1;if(B&&!R){w+=" ",y=0;continue}if(B||R){if(R)v=F;else if(t.multiline&&(f+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(f+2)*(E+2)+2>o)continue e;v=F}}for(var S="",k=g;k<=v;k++){var P=i[k];if(t.multiline){if(k===v){S+=P[y]+" ",y=(y+1)%P.length;continue}if(k===g){S+=P[P.length-1]+" ";continue}}S+=P[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=$1(S,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=pn(c)+" "+pn(p)+` Td
`,e+="("+Cp(S)+`) Tj
`,e+=-pn(c)+` 0 Td
`,p=-(s+2),u=0,g=I?v:v+1,E++,w=""}break}return r.text=e,r.fontSize=s,r},$1=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},X2e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},J2e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Q2e=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),dr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},Z2e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(dc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(X2e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new nU,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&J2e(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=K2e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=It.createDefaultAppearanceStream(a),dr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Y2e(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var f="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var p=a.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var g=p[o];typeof g=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Q2e(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},eU=Xr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),dr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Cp(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},CS=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Cp(r(t))+")"},zc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zc.prototype.toString=function(){return this.objId+" 0 R"},zc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},zc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:eU(i,this.objId,this.scope)}):i instanceof zc?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var tU=function(){zc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ia(tU,zc);var nU=function(){zc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Cp(n(t))+")"}},set:function(n){t=n}})};ia(nU,zc);var dc=function t(){zc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(e,3)},set:function(w){w?this.F=li(e,3):this.F=ci(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _2)return;s="FieldObject"+t.FieldNum++}var w=function(E){return E};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Cp(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/g4:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof _2||this instanceof Zh))return CS(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Qi?h:CS(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=this instanceof Qi?w:w.substr(0,1)==="("?nm(w.substr(1,w.length-2)):nm(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi?nm(h.substr(1,h.length-1)):h},set:function(w){w=w.toString(),h=this instanceof Qi?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qi?p:CS(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof Qi?w:w.substr(0,1)==="("?nm(w.substr(1,w.length-2)):nm(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi?nm(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Qi?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(w){g=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(w){w?this.Ff=li(this.Ff,1):this.Ff=ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(w){w?this.Ff=li(this.Ff,2):this.Ff=ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(w){w?this.Ff=li(this.Ff,3):this.Ff=ci(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');y=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(y){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};ia(dc,zc);var Om=function(){dc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eU(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(n){n?this.Ff=li(this.Ff,18):this.Ff=ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=li(this.Ff,19):this.Ff=ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(n){n?(this.Ff=li(this.Ff,20),e.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(n){n?this.Ff=li(this.Ff,22):this.Ff=ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(n){n?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(n){n?this.Ff=li(this.Ff,27):this.Ff=ci(this.Ff,27)}}),this.hasAppearanceStream=!1};ia(Om,dc);var Fm=function(){Om.call(this),this.fontName="helvetica",this.combo=!1};ia(Fm,Om);var jm=function(){Fm.call(this),this.combo=!0};ia(jm,Fm);var sb=function(){jm.call(this),this.edit=!0};ia(sb,jm);var Qi=function(){dc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(n){n?this.Ff=li(this.Ff,15):this.Ff=ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(n){n?this.Ff=li(this.Ff,16):this.Ff=ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(n){n?this.Ff=li(this.Ff,17):this.Ff=ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(n){n?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Cp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){dr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ia(Qi,dc);var ob=function(){Qi.call(this),this.pushButton=!0};ia(ob,Qi);var Bm=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ia(Bm,Qi);var _2=function(){var t,e;dc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Cp(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){dr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=It.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ia(_2,dc),Bm.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Bm.prototype.createOption=function(t){var e=new _2;return e.Parent=this,e.optionName=t,this.Kids.push(e),ewe.call(this.scope,e),e};var ab=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=It.CheckBox.createAppearanceStream()};ia(ab,Qi);var Zh=function(){dc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(e){e?this.Ff=li(this.Ff,13):this.Ff=ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(e){e?this.Ff=li(this.Ff,21):this.Ff=ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(e){e?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(e){e?this.Ff=li(this.Ff,24):this.Ff=ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(e){e?this.Ff=li(this.Ff,25):this.Ff=ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(e){e?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ia(Zh,dc);var lb=function(){Zh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(t){t?this.Ff=li(this.Ff,14):this.Ff=ci(this.Ff,14)}}),this.password=!0};ia(lb,Zh);var It={CheckBox:{createAppearanceStream:function(){return{N:{On:It.CheckBox.YesNormal},D:{On:It.CheckBox.YesPushDown,Off:It.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=p_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+pn(It.internal.getWidth(t))+" "+pn(It.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+pn(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Dc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=It.internal.getHeight(t),o=It.internal.getWidth(t),a=p_(t,t.caption);return i.push("1 g"),i.push("0 0 "+pn(o)+" "+pn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+pn(o-1)+" "+pn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+pn(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(It.internal.getWidth(t))+" "+pn(It.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Circle.YesNormal,e.D[t]=It.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Dc(t);e.scope=t.scope;var n=[],r=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=It.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Qd(It.internal.getWidth(t)/2)+" "+Qd(It.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=[],r=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5)),o=Number((r*It.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Qd(It.internal.getWidth(t)/2)+" "+Qd(It.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Qd(It.internal.getWidth(t)/2)+" "+Qd(It.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=[],r=It.internal.getWidth(t)<=It.internal.getHeight(t)?It.internal.getWidth(t)/4:It.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*It.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Qd(It.internal.getWidth(t)/2)+" "+Qd(It.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:It.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=It.RadioButton.Cross.YesNormal,e.D[t]=It.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Dc(t);e.scope=t.scope;var n=[],r=It.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+pn(It.internal.getWidth(t)-2)+" "+pn(It.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pn(r.x1.x)+" "+pn(r.x1.y)+" m"),n.push(pn(r.x2.x)+" "+pn(r.x2.y)+" l"),n.push(pn(r.x4.x)+" "+pn(r.x4.y)+" m"),n.push(pn(r.x3.x)+" "+pn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=It.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+pn(It.internal.getWidth(t))+" "+pn(It.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+pn(It.internal.getWidth(t)-2)+" "+pn(It.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pn(n.x1.x)+" "+pn(n.x1.y)+" m"),r.push(pn(n.x2.x)+" "+pn(n.x2.y)+" l"),r.push(pn(n.x4.x)+" "+pn(n.x4.y)+" m"),r.push(pn(n.x3.x)+" "+pn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Dc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+pn(It.internal.getWidth(t))+" "+pn(It.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};It.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=It.internal.getWidth(t),n=It.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},It.internal.getWidth=function(t){var e=0;return dr(t)==="object"&&(e=jM(t.Rect[2])),e},It.internal.getHeight=function(t){var e=0;return dr(t)==="object"&&(e=jM(t.Rect[3])),e};var ewe=Xr.addField=function(t){if(Z2e(this,t),!(t instanceof dc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Xr.AcroFormChoiceField=Om,Xr.AcroFormListBox=Fm,Xr.AcroFormComboBox=jm,Xr.AcroFormEditBox=sb,Xr.AcroFormButton=Qi,Xr.AcroFormPushButton=ob,Xr.AcroFormRadioButton=Bm,Xr.AcroFormCheckBox=ab,Xr.AcroFormTextField=Zh,Xr.AcroFormPasswordField=lb,Xr.AcroFormAppearance=It,Xr.AcroForm={ChoiceField:Om,ListBox:Fm,ComboBox:jm,EditBox:sb,Button:Qi,PushButton:ob,RadioButton:Bm,CheckBox:ab,TextField:Zh,PasswordField:lb,Appearance:It},Jt.AcroForm={ChoiceField:Om,ListBox:Fm,ComboBox:jm,EditBox:sb,Button:Qi,PushButton:ob,RadioButton:Bm,CheckBox:ab,TextField:Zh,PasswordField:lb,Appearance:It};Jt.AcroForm;function rU(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(N,M){var O,q,Z,ne,ee,Y=e;if((M=M||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(B(N))for(ee in n)for(Z=n[ee],O=0;O<Z.length;O+=1){for(ne=!0,q=0;q<Z[O].length;q+=1)if(Z[O][q]!==void 0&&Z[O][q]!==N[q]){ne=!1;break}if(ne===!0){Y=ee;break}}else for(ee in n)for(Z=n[ee],O=0;O<Z.length;O+=1){for(ne=!0,q=0;q<Z[O].length;q+=1)if(Z[O][q]!==void 0&&Z[O][q]!==N.charCodeAt(q)){ne=!1;break}if(ne===!0){Y=ee;break}}return Y===e&&M!==e&&(Y=M),Y},i=function N(M){for(var O=this.internal.write,q=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ne=[];if(ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Image"}),ne.push({key:"Width",value:M.width}),ne.push({key:"Height",value:M.height}),M.colorSpace===y.INDEXED?ne.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ne.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===y.DEVICE_CMYK&&ne.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ne.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ne.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var ee="",Y=0,oe=M.transparency.length;Y<oe;Y++)ee+=M.transparency[Y]+" "+M.transparency[Y]+" ";ne.push({key:"Mask",value:"["+ee+"]"})}M.sMask!==void 0&&ne.push({key:"SMask",value:M.objectId+1+" 0 R"});var se=M.filter!==void 0?["/"+M.filter]:void 0;if(q({data:M.data,additionalKeyValues:ne,alreadyAppliedFilters:se,objectId:M.objectId}),O("endobj"),"sMask"in M&&M.sMask!==void 0){var K="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,V={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:K,data:M.sMask};"filter"in M&&(V.filter=M.filter),N.call(this,V)}if(M.colorSpace===y.INDEXED){var W=this.internal.newObject();q({data:S(new Uint8Array(M.palette)),objectId:W}),O("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var M in N)i.call(this,N[M])},o=function(){var N,M=this.internal.collections.addImage_images,O=this.internal.write;for(var q in M)O("/I"+(N=M[q]).index,N.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var N=this.internal.collections.addImage_images;return a.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(N){return typeof t["process"+N.toUpperCase()]=="function"},f=function(N){return dr(N)==="object"&&N.nodeType===1},h=function(N,M){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var O=""+N.getAttribute("src");if(O.indexOf("data:image/")===0)return Z0(unescape(O).split("base64,").pop());var q=t.loadFile(O,!0);if(q!==void 0)return q}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var Z;switch(M){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return Z0(N.toDataURL(Z,1).split("base64,").pop())}},p=function(N){var M=this.internal.collections.addImage_images;if(M){for(var O in M)if(N===M[O].alias)return M[O]}},g=function(N,M,O){return N||M||(N=-96,M=-96),N<0&&(N=-1*O.width*72/N/this.internal.scaleFactor),M<0&&(M=-1*O.height*72/M/this.internal.scaleFactor),N===0&&(N=M*O.width/O.height),M===0&&(M=N*O.height/O.width),[N,M]},v=function(N,M,O,q,Z,ne){var ee=g.call(this,O,q,Z),Y=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,se=l.call(this);if(O=ee[0],q=ee[1],se[Z.index]=Z,ne){ne*=Math.PI/180;var K=Math.cos(ne),V=Math.sin(ne),W=function(Q){return Q.toFixed(4)},J=[W(K),W(V),W(-1*V),W(K),0,0,"cm"]}this.internal.write("q"),ne?(this.internal.write([1,"0","0",1,Y(N),oe(M+q),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Y(O),"0","0",Y(q),"0","0","cm"].join(" "))):this.internal.write([Y(O),"0","0",Y(q),Y(N),oe(M+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(N){var M,O,q=0;if(typeof N=="string")for(O=N.length,M=0;M<O;M++)q=(q<<5)-q+N.charCodeAt(M),q|=0;else if(B(N))for(O=N.byteLength/2,M=0;M<O;M++)q=(q<<5)-q+N[M],q|=0;return q},T=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var M=!0;return N.length===0&&(M=!1),N.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(M=!1),M},I=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var M=N.indexOf(",");return M<0?null:N.substring(0,M).trim().endsWith("base64")?N.substring(M+1):null},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return F()&&N instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(N){return F()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(N){for(var M=N.length,O=new Uint8Array(M),q=0;q<M;q++)O[q]=N.charCodeAt(q);return O},S=t.__addimage__.arrayBufferToBinaryString=function(N){for(var M="",O=B(N)?N:new Uint8Array(N),q=0;q<O.length;q+=8192)M+=String.fromCharCode.apply(null,O.subarray(q,q+8192));return M};t.addImage=function(){var N,M,O,q,Z,ne,ee,Y,oe;if(typeof arguments[1]=="number"?(M=e,O=arguments[1],q=arguments[2],Z=arguments[3],ne=arguments[4],ee=arguments[5],Y=arguments[6],oe=arguments[7]):(M=arguments[1],O=arguments[2],q=arguments[3],Z=arguments[4],ne=arguments[5],ee=arguments[6],Y=arguments[7],oe=arguments[8]),dr(N=arguments[0])==="object"&&!f(N)&&"imageData"in N){var se=N;N=se.imageData,M=se.format||M||e,O=se.x||O||0,q=se.y||q||0,Z=se.w||se.width||Z,ne=se.h||se.height||ne,ee=se.alias||ee,Y=se.compression||Y,oe=se.rotation||se.angle||oe}var K=this.internal.getFilters();if(Y===void 0&&K.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(O)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var V=k.call(this,N,M,ee,Y);return v.call(this,O,q,Z,ne,V,oe),this};var k=function(N,M,O,q){var Z,ne,ee;if(typeof N=="string"&&r(N)===e){N=unescape(N);var Y=P(N,!1);(Y!==""||(Y=t.loadFile(N,!0))!==void 0)&&(N=Y)}if(f(N)&&(N=h(N,M)),M=r(N,M),!u(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((ee=O)==null||ee.length===0)&&(O=function(oe){return typeof oe=="string"||B(oe)?E(oe):B(oe.data)?E(oe.data):null}(N)),(Z=p.call(this,O))||(F()&&(N instanceof Uint8Array||M==="RGBA"||(ne=N,N=R(N))),Z=this["process"+M.toUpperCase()](N,c.call(this),O,function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:w.NONE}(q),ne)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},P=t.__addimage__.convertBase64ToBinaryString=function(N,M){M=typeof M!="boolean"||M;var O,q="";if(typeof N=="string"){var Z;O=(Z=I(N))!==null&&Z!==void 0?Z:N;try{q=Z0(O)}catch(ne){if(M)throw T(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ne.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};t.getImageProperties=function(N){var M,O,q="";if(f(N)&&(N=h(N)),typeof N=="string"&&r(N)===e&&((q=P(N,!1))===""&&(q=t.loadFile(N)||""),N=q),O=r(N),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(!F()||N instanceof Uint8Array||(N=R(N)),!(M=this["process"+O.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=O,M}})(Jt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),E=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+y.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(E))+") >>",v.content=s;var T=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(s+=" /Open true"),s+=" >>",y.content=s,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Jt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(v){var y=0,w=n,E="",T=0;for(y=0;y<v.length;y+=1)w[v.charCodeAt(y)]!==void 0?(T++,typeof(w=w[v.charCodeAt(y)])=="number"&&(E+=String.fromCharCode(w),w=n,T=0),y===v.length-1&&(w=n,E+=v.charAt(y-(T-1)),y-=T-1,T=0)):(w=n,E+=v.charAt(y-T),y-=T,T=0);return E};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(v,y,w){return o(v)?s(v)===!1?-1:!c(v)||!o(y)&&!o(w)||!o(w)&&a(y)||a(v)&&!o(y)||a(v)&&l(y)||a(v)&&a(y)?0:u(v)&&o(y)&&!a(y)&&o(w)&&c(w)?3:a(v)||!o(w)?1:2:-1},p=function(v){var y=0,w=0,E=0,T="",I="",F="",B=(v=v||"").split("\\s+"),R=[];for(y=0;y<B.length;y+=1){for(R.push(""),w=0;w<B[y].length;w+=1)T=B[y][w],I=B[y][w-1],F=B[y][w+1],o(T)?(E=h(T,I,F),R[y]+=E!==-1?String.fromCharCode(e[T.charCodeAt(0)][E]):T):R[y]+=T;R[y]=f(R[y])}return R.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(y)){var E=0;for(w=[],E=0;E<y.length;E+=1)Array.isArray(y[E])?w.push([p(y[E][0]),y[E][1],y[E][2]]):w.push([p(y[E])]);v=w}else v=p(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",g])}(Jt.API),Jt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Jt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,v=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,I){return T.concat(y.splitTextToSize(I,w))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)p<(v=this.getStringUnitWidth(l[E],{font:f})*u)&&(p=v);return p!==0&&(g=l.length),{w:p/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,f,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,g,v,y,w=[],E=[],T=[],I={},F={},B=[],R=[],S=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,P=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,N=h.margins||Object.assign({width:this.getPageWidth()},e),M=typeof h.padding=="number"?h.padding:3,O=h.headerBackgroundColor||"#c8c8c8",q=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=O,this.internal.__cell__.headerTextColor=q,this.setFontSize(P),f==null)E=w=Object.keys(u[0]),T=w.map(function(){return"left"});else if(Array.isArray(f)&&dr(f[0])==="object")for(w=f.map(function(se){return se.name}),E=f.map(function(se){return se.prompt||se.name||""}),T=f.map(function(se){return se.align||"left"}),p=0;p<f.length;p+=1)F[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(E=w=f,T=w.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(I[y=w[p]]=u.map(function(se){return se[y]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(E[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=I[y],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)B.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[y]=Math.max.apply(null,B)+M+M,B=[]}if(k){var Z={};for(p=0;p<w.length;p+=1)Z[w[p]]={},Z[w[p]].text=E[p],Z[w[p]].align=T[p];var ne=a.call(this,Z,F);R=w.map(function(se){return new s(l,c,F[se],ne,Z[se].text,void 0,Z[se].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ee=f.reduce(function(se,K){return se[K.name]=K.align,se},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var Y=a.call(this,u[p],F);for(v=0;v<w.length;v+=1){var oe=u[p][w[v]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:v,data:oe},this),o.call(this,new s(l,c,F[w[v]],Y,oe,p+2,ee[w[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Jt.API);var iU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],m_=rU(sU),oU=[100,200,300,400,500,600,700,800,900],twe=rU(oU);function g_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return iU[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof m_[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function BM(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var nwe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VM={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $M(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function rwe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},nwe,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=g_(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+$M(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=m_[l],f=u<=m_.normal?-1:1,h=BM(c,sU,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=iU[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=twe[l],f=BM(c,oU,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+$M(s)+"'.");return o}function zM(t){return t.trimLeft()}function iwe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function swe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var z1,UM,qM,AS=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new l,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=V;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ye){J=!!ye}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(ye){isNaN(ye)||(re=ye)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ye){isNaN(ye)||(ce=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var he;typeof ye=="number"?he=[ye,ye,ye,ye]:((he=new Array(4))[0]=ye[0],he[1]=ye.length>=2?ye[1]:he[0],he[2]=ye.length>=3?ye[2]:he[0],he[3]=ye.length>=4?ye[3]:he[1]),c.margin=he}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(ye){fe=ye}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(ye){be=ye}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(ye){ge=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ye){Se=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var he;he=h(ye),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var he=h(ye);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Be=null;function _e(ye,he){if(Be===null){var Je=function(qe){var je=[];return Object.keys(qe).forEach(function(De){qe[De].forEach(function(We){var de=null;switch(We){case"bold":de={family:De,weight:"bold"};break;case"italic":de={family:De,style:"italic"};break;case"bolditalic":de={family:De,weight:"bold",style:"italic"};break;case"":case"normal":de={family:De}}de!==null&&(de.ref={name:De,style:We},je.push(de))})}),je}(ye.getFontList());Be=function(qe){for(var je={},De=0;De<qe.length;++De){var We=g_(qe[De]),de=We.family,we=We.stretch,ke=We.style,Ye=We.weight;je[de]=je[de]||{},je[de][we]=je[de][we]||{},je[de][we][ke]=je[de][we][ke]||{},je[de][we][ke][Ye]=We}return je}(Je.concat(he))}return Be}var Ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ae},set:function(ye){Be=null,Ae=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var he;if(this.ctx.font=ye,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Je=he[1];he[2];var qe=he[3],je=he[4];he[5];var De=he[6],We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(We==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var de=function(dt){var xt,st,jt=[],Vt=dt.trim();if(Vt==="")return AS;if(Vt in VM)return[VM[Vt]];for(;Vt!=="";){switch(st=null,xt=(Vt=zM(Vt)).charAt(0)){case'"':case"'":st=iwe(Vt.substring(1),xt);break;default:st=swe(Vt)}if(st===null||(jt.push(st[0]),(Vt=zM(st[1]))!==""&&Vt.charAt(0)!==","))return AS;Vt=Vt.replace(/^,/,"")}return jt}(De);if(this.fontFaces){var we=rwe(_e(this.pdf,this.fontFaces),de.map(function(dt){return{family:dt,stretch:"normal",weight:qe,style:Je}}));this.pdf.setFont(we.ref.name,we.ref.style)}else{var ke="";(qe==="bold"||parseInt(qe,10)>=700||Je==="bold")&&(ke="bold"),Je==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Ye="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},He=0;He<de.length;He++){if(this.pdf.internal.getFont(de[He],ke,{noFallback:!0,disableWarning:!0})!==void 0){Ye=de[He];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(de[He],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=de[He],ke="bold";else if(this.pdf.internal.getFont(de[He],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=de[He],ke="normal";break}}if(Ye===""){for(var ot=0;ot<de.length;ot++)if($e[de[ot]]){Ye=$e[de[ot]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(V){this.lineDash=V},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(V,W){if(isNaN(V)||isNaN(W))throw gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(V,W)},f.prototype.closePath=function(){var V=new o(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&dr(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){V=new o(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},f.prototype.lineTo=function(V,W){if(isNaN(V)||isNaN(W))throw gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(V,W,J,Q){if(isNaN(J)||isNaN(Q)||isNaN(V)||isNaN(W))throw gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(J,Q)),ce=this.ctx.transform.applyToPoint(new o(V,W));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},f.prototype.bezierCurveTo=function(V,W,J,Q,re,ce){if(isNaN(re)||isNaN(ce)||isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q))throw gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(re,ce)),be=this.ctx.transform.applyToPoint(new o(V,W)),ge=this.ctx.transform.applyToPoint(new o(J,Q));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:ge.x,y2:ge.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},f.prototype.arc=function(V,W,J,Q,re,ce){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q)||isNaN(re))throw gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(V,W));V=fe.x,W=fe.y;var be=this.ctx.transform.applyToPoint(new o(0,J)),ge=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(be.x-ge.x,2)+Math.pow(be.y-ge.y,2))}Math.abs(re-Q)>=2*Math.PI&&(Q=0,re=2*Math.PI),this.path.push({type:"arc",x:V,y:W,radius:J,startAngle:Q,endAngle:re,counterclockwise:ce})},f.prototype.arcTo=function(V,W,J,Q,re){throw new Error("arcTo not implemented.")},f.prototype.rect=function(V,W,J,Q){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q))throw gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,W),this.lineTo(V+J,W),this.lineTo(V+J,W+Q),this.lineTo(V,W+Q),this.lineTo(V,W),this.lineTo(V+J,W),this.lineTo(V,W)},f.prototype.fillRect=function(V,W,J,Q){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q))throw gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,W,J,Q),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},f.prototype.strokeRect=function(V,W,J,Q){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q))throw gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(V,W,J,Q),this.stroke())},f.prototype.clearRect=function(V,W,J,Q){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q))throw gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,W,J,Q))},f.prototype.save=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(V){var W,J,Q,re;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))W=0,J=0,Q=0,re=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ce!==null)W=parseInt(ce[1]),J=parseInt(ce[2]),Q=parseInt(ce[3]),re=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)W=parseInt(ce[1]),J=parseInt(ce[2]),Q=parseInt(ce[3]),re=parseFloat(ce[4]);else{if(re=1,typeof V=="string"&&V.charAt(0)!=="#"){var fe=new Jz(V);V=fe.ok?fe.toHex():"#000000"}V.length===4?(W=V.substring(1,2),W+=W,J=V.substring(2,3),J+=J,Q=V.substring(3,4),Q+=Q):(W=V.substring(1,3),J=V.substring(3,5),Q=V.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),Q=parseInt(Q,16)}}return{r:W,g:J,b:Q,a:re,style:V}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(V,W,J,Q){if(isNaN(W)||isNaN(J)||typeof V!="string")throw gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var re=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:V,x:W,y:J,scale:ce,angle:re,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(V,W,J,Q){if(isNaN(W)||isNaN(J)||typeof V!="string")throw gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Q=isNaN(Q)?void 0:Q;var re=Y(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;M.call(this,{text:V,x:W,y:J,scale:ce,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(V){if(typeof V!="string")throw gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,Q=W.internal.getFontSize(),re=W.getStringUnitWidth(V)*Q/W.internal.scaleFactor,ce=function(fe){var be=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new ce({width:re*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(V,W){if(isNaN(V)||isNaN(W))throw gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(V,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(V){if(isNaN(V))throw gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(V,W){if(isNaN(V)||isNaN(W))throw gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,V,W);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(V,W,J,Q,re,ce){if(isNaN(V)||isNaN(W)||isNaN(J)||isNaN(Q)||isNaN(re)||isNaN(ce))throw gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(V,W,J,Q,re,ce);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(V,W,J,Q,re,ce){V=isNaN(V)?1:V,W=isNaN(W)?0:W,J=isNaN(J)?0:J,Q=isNaN(Q)?1:Q,re=isNaN(re)?0:re,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(V,W,J,Q,re,ce)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(V,W,J,Q,re,ce,fe,be,ge){var Se=this.pdf.getImageProperties(V),Be=1,_e=1,Ae=1,ye=1;Q!==void 0&&be!==void 0&&(Ae=be/Q,ye=ge/re,Be=Se.width/Q*be/Q,_e=Se.height/re*ge/re),ce===void 0&&(ce=W,fe=J,W=0,J=0),Q!==void 0&&be===void 0&&(be=Q,ge=re),Q===void 0&&be===void 0&&(be=Se.width,ge=Se.height);for(var he,Je=this.ctx.transform.decompose(),qe=Y(Je.rotate.shx),je=new l,De=(je=(je=(je=je.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new a(ce-W*Ae,fe-J*ye,Q*Be,re*_e)),We=y.call(this,De),de=[],we=0;we<We.length;we+=1)de.indexOf(We[we])===-1&&de.push(We[we]);if(T(de),this.autoPaging)for(var ke=de[0],Ye=de[de.length-1],$e=ke;$e<Ye+1;$e++){this.pdf.setPage($e);var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=$e===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=$e===1?0:dt+($e-2)*xt;if(this.ctx.clip_path.length!==0){var jt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(he,this.posX+this.margin[3],-st+ot+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=jt}var Vt=JSON.parse(JSON.stringify(De));Vt=E([Vt],this.posX+this.margin[3],-st+ot+this.ctx.prevPageLastElemOffset)[0];var Hn=($e>ke||$e<Ye)&&v.call(this);Hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,xt,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,qe),Hn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",De.x,De.y,De.w,De.h,null,null,qe)};var y=function(V,W,J){var Q=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":Q.push(Math.floor((V.y+re)/J)+1);break;case"arc":Q.push(Math.floor((V.y+re-V.radius)/J)+1),Q.push(Math.floor((V.y+re+V.radius)/J)+1);break;case"qct":var ce=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);Q.push(Math.floor((ce.y+re)/J)+1),Q.push(Math.floor((ce.y+ce.h+re)/J)+1);break;case"bct":var fe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);Q.push(Math.floor((fe.y+re)/J)+1),Q.push(Math.floor((fe.y+fe.h+re)/J)+1);break;case"rect":Q.push(Math.floor((V.y+re)/J)+1),Q.push(Math.floor((V.y+V.h+re)/J)+1)}for(var be=0;be<Q.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<Q[be];)w.call(this);return Q},w=function(){var V=this.fillStyle,W=this.strokeStyle,J=this.font,Q=this.lineCap,re=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=W,this.font=J,this.lineCap=Q,this.lineWidth=re,this.lineJoin=ce},E=function(V,W,J){for(var Q=0;Q<V.length;Q++)switch(V[Q].type){case"bct":V[Q].x2+=W,V[Q].y2+=J;case"qct":V[Q].x1+=W,V[Q].y1+=J;case"mt":case"lt":case"arc":default:V[Q].x+=W,V[Q].y+=J}return V},T=function(V){return V.sort(function(W,J){return W-J})},I=function(V,W){for(var J,Q,re=this.fillStyle,ce=this.strokeStyle,fe=this.lineCap,be=this.lineWidth,ge=Math.abs(be*this.ctx.transform.scaleX),Se=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Ae=[],ye=0;ye<_e.length;ye++)if(_e[ye].x!==void 0)for(var he=y.call(this,_e[ye]),Je=0;Je<he.length;Je+=1)Ae.indexOf(he[Je])===-1&&Ae.push(he[Je]);for(var qe=0;qe<Ae.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Ae[qe];)w.call(this);if(T(Ae),this.autoPaging)for(var je=Ae[0],De=Ae[Ae.length-1],We=je;We<De+1;We++){this.pdf.setPage(We),this.fillStyle=re,this.strokeStyle=ce,this.lineCap=fe,this.lineWidth=ge,this.lineJoin=Se;var de=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=We===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=We===1?0:ke+(We-2)*Ye;if(this.ctx.clip_path.length!==0){var He=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(J,this.posX+this.margin[3],-$e+we+this.ctx.prevPageLastElemOffset),F.call(this,V,!0),this.path=He}if(Q=JSON.parse(JSON.stringify(Be)),this.path=E(Q,this.posX+this.margin[3],-$e+we+this.ctx.prevPageLastElemOffset),W===!1||We===0){var ot=(We>je||We<De)&&v.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],de,Ye,null).clip().discardPath()),F.call(this,V,W),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=ge,F.call(this,V,W),this.lineWidth=be;this.path=Be},F=function(V,W){if((V!=="stroke"||W||!g.call(this))&&(V==="stroke"||W||!p.call(this))){for(var J,Q,re=[],ce=this.path,fe=0;fe<ce.length;fe++){var be=ce[fe];switch(be.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:be,deltas:[],abs:[]});break;case"lt":var ge=re.length;if(ce[fe-1]&&!isNaN(ce[fe-1].x)&&(J=[be.x-ce[fe-1].x,be.y-ce[fe-1].y],ge>0)){for(;ge>=0;ge--)if(re[ge-1].close!==!0&&re[ge-1].begin!==!0){re[ge-1].deltas.push(J),re[ge-1].abs.push(be);break}}break;case"bct":J=[be.x1-ce[fe-1].x,be.y1-ce[fe-1].y,be.x2-ce[fe-1].x,be.y2-ce[fe-1].y,be.x-ce[fe-1].x,be.y-ce[fe-1].y],re[re.length-1].deltas.push(J);break;case"qct":var Se=ce[fe-1].x+2/3*(be.x1-ce[fe-1].x),Be=ce[fe-1].y+2/3*(be.y1-ce[fe-1].y),_e=be.x+2/3*(be.x1-be.x),Ae=be.y+2/3*(be.y1-be.y),ye=be.x,he=be.y;J=[Se-ce[fe-1].x,Be-ce[fe-1].y,_e-ce[fe-1].x,Ae-ce[fe-1].y,ye-ce[fe-1].x,he-ce[fe-1].y],re[re.length-1].deltas.push(J);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(be)}}Q=W?null:V==="stroke"?"stroke":"fill";for(var Je=!1,qe=0;qe<re.length;qe++)if(re[qe].arc)for(var je=re[qe].abs,De=0;De<je.length;De++){var We=je[De];We.type==="arc"?S.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,W,!Je):O.call(this,We.x,We.y),Je=!0}else if(re[qe].close===!0)this.pdf.internal.out("h"),Je=!1;else if(re[qe].begin!==!0){var de=re[qe].start.x,we=re[qe].start.y;q.call(this,re[qe].deltas,de,we),Je=!0}Q&&k.call(this,Q),W&&P.call(this)}},B=function(V){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-J;case"top":return V+W-J;case"hanging":return V+W-2*J;case"middle":return V+W/2-J;case"ideographic":return V;case"alphabetic":default:return V}},R=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(W,J){this.colorStops.push([W,J])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(V,W,J,Q,re,ce,fe,be,ge){for(var Se=ne.call(this,J,Q,re,ce),Be=0;Be<Se.length;Be++){var _e=Se[Be];Be===0&&(ge?N.call(this,_e.x1+V,_e.y1+W):O.call(this,_e.x1+V,_e.y1+W)),Z.call(this,V,W,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}be?P.call(this):k.call(this,fe)},k=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(V,W){this.pdf.internal.out(n(V)+" "+r(W)+" m")},M=function(V){var W;switch(V.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var J=this.pdf.getTextDimensions(V.text),Q=B.call(this,V.y),re=R.call(this,Q)-J.h,ce=this.ctx.transform.applyToPoint(new o(V.x,Q)),fe=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ge,Se,Be,_e=this.ctx.transform.applyToRectangle(new a(V.x,Q,J.w,J.h)),Ae=be.applyToRectangle(new a(V.x,re,J.w,J.h)),ye=y.call(this,Ae),he=[],Je=0;Je<ye.length;Je+=1)he.indexOf(ye[Je])===-1&&he.push(ye[Je]);if(T(he),this.autoPaging)for(var qe=he[0],je=he[he.length-1],De=qe;De<je+1;De++){this.pdf.setPage(De);var We=De===1?this.posY+this.margin[0]:this.margin[0],de=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[2],ke=we-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],$e=Ye-this.margin[3],He=De===1?0:de+(De-2)*ke;if(this.ctx.clip_path.length!==0){var ot=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ge,this.posX+this.margin[3],-1*He+We),F.call(this,"fill",!0),this.path=ot}var dt=E([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-He+We+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*V.scale),Be=this.lineWidth,this.lineWidth=Be*V.scale);var xt=this.autoPaging!=="text";if(xt||dt.y+dt.h<=we){if(xt||dt.y>=We&&dt.x<=Ye){var st=xt?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||Ye-dt.x)[0],jt=E([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-He+We+this.ctx.prevPageLastElemOffset)[0],Vt=xt&&(De>qe||De<je)&&v.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,ke,null).clip().discardPath()),this.pdf.text(st,jt.x,jt.y,{angle:V.angle,align:W,renderingMode:V.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else dt.y<we&&(this.ctx.prevPageLastElemOffset+=we-dt.y);V.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Be)}else V.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*V.scale),Be=this.lineWidth,this.lineWidth=Be*V.scale),this.pdf.text(V.text,ce.x+this.posX,ce.y+this.posY,{angle:V.angle,align:W,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Be)},O=function(V,W,J,Q){J=J||0,Q=Q||0,this.pdf.internal.out(n(V+J)+" "+r(W+Q)+" l")},q=function(V,W,J){return this.pdf.lines(V,W,J,null,null)},Z=function(V,W,J,Q,re,ce,fe,be){this.pdf.internal.out([e(i(J+V)),e(s(Q+W)),e(i(re+V)),e(s(ce+W)),e(i(fe+V)),e(s(be+W)),"c"].join(" "))},ne=function(V,W,J,Q){for(var re=2*Math.PI,ce=Math.PI/2;W>J;)W-=re;var fe=Math.abs(J-W);fe<re&&Q&&(fe=re-fe);for(var be=[],ge=Q?-1:1,Se=W;fe>1e-5;){var Be=Se+ge*Math.min(fe,ce);be.push(ee.call(this,V,Se,Be)),fe-=Math.abs(Be-Se),Se=Be}return be},ee=function(V,W,J){var Q=(J-W)/2,re=V*Math.cos(Q),ce=V*Math.sin(Q),fe=re,be=-ce,ge=fe*fe+be*be,Se=ge+fe*re+be*ce,Be=4/3*(Math.sqrt(2*ge*Se)-Se)/(fe*ce-be*re),_e=fe-Be*be,Ae=be+Be*fe,ye=_e,he=-Ae,Je=Q+W,qe=Math.cos(Je),je=Math.sin(Je);return{x1:V*Math.cos(W),y1:V*Math.sin(W),x2:_e*qe-Ae*je,y2:_e*je+Ae*qe,x3:ye*qe-he*je,y3:ye*je+he*qe,x4:V*Math.cos(J),y4:V*Math.sin(J)}},Y=function(V){return 180*V/Math.PI},oe=function(V,W,J,Q,re,ce){var fe=V+.5*(J-V),be=W+.5*(Q-W),ge=re+.5*(J-re),Se=ce+.5*(Q-ce),Be=Math.min(V,re,fe,ge),_e=Math.max(V,re,fe,ge),Ae=Math.min(W,ce,be,Se),ye=Math.max(W,ce,be,Se);return new a(Be,Ae,_e-Be,ye-Ae)},se=function(V,W,J,Q,re,ce,fe,be){var ge,Se,Be,_e,Ae,ye,he,Je,qe,je,De,We,de,we,ke=J-V,Ye=Q-W,$e=re-J,He=ce-Q,ot=fe-re,dt=be-ce;for(Se=0;Se<41;Se++)qe=(he=(Be=V+(ge=Se/40)*ke)+ge*((Ae=J+ge*$e)-Be))+ge*(Ae+ge*(re+ge*ot-Ae)-he),je=(Je=(_e=W+ge*Ye)+ge*((ye=Q+ge*He)-_e))+ge*(ye+ge*(ce+ge*dt-ye)-Je),Se==0?(De=qe,We=je,de=qe,we=je):(De=Math.min(De,qe),We=Math.min(We,je),de=Math.max(de,qe),we=Math.max(we,je));return new a(Math.round(De),Math.round(We),Math.round(de-De),Math.round(we-We))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,W,J=(V=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Jt.API),function(t){var e=function(s){var o,a,l,c,u,f,h,p,g,v;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(v=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,a.push(f+33,h+33,p+33,g+33,v+33)):a.push(122);return function(y,w){for(var E=w;E>0;E--)y.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,f=String,h="length",p=255,g="charCodeAt",v="slice",y="replace";for(s[v](-2),s=s[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[v](s[h]%5||5))[h];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,E){for(var T=E;T>0;T--)w.pop()}(l,o[h]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=u_(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Jt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(g){var v=g.length,y=[],w=String.fromCharCode;for(h=0;h<v;h+=1)y.push(w(255&g.charCodeAt(h)));return y.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Jt.API),function(t){function e(){return(Qt.html2canvas?Promise.resolve(Qt.html2canvas):s_(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Qt.DOMPurify?Promise.resolve(Qt.DOMPurify):s_(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=dr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],g=p.src.find(function(v){return v.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Jt.getPageSize=function(o,a,l){if(dr(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var p,g=0,v=0;if(h.hasOwnProperty(f))g=h[f][1]/u,v=h[f][0]/u;else try{g=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>g&&(p=v,v=g,g=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>v&&(p=v,v=g,g=p)}return{width:v,height:g,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(g_):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Jt.API),Jt.API.addJS=function(t){return qM=t,this.internal.events.subscribe("postPutResources",function(){z1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(z1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){z1!==void 0&&UM!==void 0&&this.internal.out("/Names <</JavaScript "+z1+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=n.internal.newObject();u.push(f);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Jt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},y=4;y<g;y+=2){if(y+=p,e.indexOf(f.charCodeAt(y+1))!==-1){h=256*f.charCodeAt(y+5)+f.charCodeAt(y+6),v={width:256*f.charCodeAt(y+7)+f.charCodeAt(y+8),height:h,numcomponents:f.charCodeAt(y+9)};break}p=256*f.charCodeAt(y+2)+f.charCodeAt(y+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Jt.API);var rm,U1,HM,WM,GM,owe=function(){var t,e,n;function r(s){var o,a,l,c,u,f,h,p,g,v,y,w,E,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=(function(){var I,F;for(F=[],I=0;I<4;++I)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(E=0;0<=v?E<v:E>v;0<=v?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(y=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,y.slice(0,h)),this.text[p]=String.fromCharCode.apply(String,y.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(f,h,p,g){var v,y,w,E,T,I,F,B,R,S,k,P,N,M,O,q,Z,ne,ee,Y,oe,se=Math.ceil((c.width-f)/p),K=Math.ceil((c.height-h)/g),V=c.width==se&&c.height==K;for(M=o*se,P=V?a:new Uint8Array(M*K),I=s.length,N=0,y=0;N<K&&l<I;){switch(s[l++]){case 0:for(E=Z=0;Z<M;E=Z+=1)P[y++]=s[l++];break;case 1:for(E=ne=0;ne<M;E=ne+=1)v=s[l++],T=E<o?0:P[y-o],P[y++]=(v+T)%256;break;case 2:for(E=ee=0;ee<M;E=ee+=1)v=s[l++],w=(E-E%o)/o,O=N&&P[(N-1)*M+w*o+E%o],P[y++]=(O+v)%256;break;case 3:for(E=Y=0;Y<M;E=Y+=1)v=s[l++],w=(E-E%o)/o,T=E<o?0:P[y-o],O=N&&P[(N-1)*M+w*o+E%o],P[y++]=(v+Math.floor((T+O)/2))%256;break;case 4:for(E=oe=0;oe<M;E=oe+=1)v=s[l++],w=(E-E%o)/o,T=E<o?0:P[y-o],N===0?O=q=0:(O=P[(N-1)*M+w*o+E%o],q=w&&P[(N-1)*M+(w-1)*o+E%o]),F=T+O-q,B=Math.abs(F-T),S=Math.abs(F-O),k=Math.abs(F-q),R=B<=S&&B<=k?T:S<=k?O:q,P[y++]=(v+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!V){var W=((h+N*g)*c.width+f)*o,J=N*M;for(E=0;E<se;E+=1){for(var Q=0;Q<o;Q+=1)a[W++]=P[J++];W+=(p-1)*o}}N++}}return s=j2e(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,f,h,p;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=f=0,h=a.length;f<h;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=u[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,f,h,p,g,v,y,w;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,f=v||o,u=h=0,l===1)for(;u<g;)p=v?4*o[u/4]:h,y=f[p++],c[u++]=y,c[u++]=y,c[u++]=y,c[u++]=a?f[p++]:255,h=p;else for(;u<g;)p=v?4*o[u/4]:h,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=a?f[p++]:255,h=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Qt)==="[object Window]"){try{e=Qt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,f,h,p;if(this.animation){for(p=[],a=u=0,f=(h=this.animation.frames).length;u<f;a=++u)o=h[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,f,h=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(o=function(){var p,g;if(p=a++%c,g=l[p],h.renderFrame(s,p),c>1&&a/c<u)return h.animation._timeout=setTimeout(o,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function awe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],f=0,h=null,p=0,g=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];f=t[e++]|t[e++]<<8,h=t[e++],(1&v)==0&&(h=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,I=t[e++],F=I>>6&1,B=1<<(7&I)+1,R=a,S=l,k=!1;I>>7&&(k=!0,R=e,S=B,e+=3*B);var P=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x:y,y:w,width:E,height:T,has_local_palette:k,palette_offset:R,palette_size:S,data_offset:P,data_length:e-P,transparent_index:h,interlaced:!!F,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(M){if(M<0||M>=u.length)throw new Error("Frame index out of range.");return u[M]},this.decodeAndBlitFrameBGRA=function(M,O){var q=this.frameInfo(M),Z=q.width*q.height,ne=new Uint8Array(Z);KM(t,q.data_offset,ne,Z);var ee=q.palette_offset,Y=q.transparent_index;Y===null&&(Y=256);var oe=q.width,se=n-oe,K=oe,V=4*(q.y*n+q.x),W=4*((q.y+q.height)*n+q.x),J=V,Q=4*se;q.interlaced===!0&&(Q+=4*n*7);for(var re=8,ce=0,fe=ne.length;ce<fe;++ce){var be=ne[ce];if(K===0&&(K=oe,(J+=Q)>=W&&(Q=4*se+4*n*(re-1),J=V+(oe+se)*(re<<1),re>>=1)),be===Y)J+=4;else{var ge=t[ee+3*be],Se=t[ee+3*be+1],Be=t[ee+3*be+2];O[J++]=Be,O[J++]=Se,O[J++]=ge,O[J++]=255}--K}},this.decodeAndBlitFrameRGBA=function(M,O){var q=this.frameInfo(M),Z=q.width*q.height,ne=new Uint8Array(Z);KM(t,q.data_offset,ne,Z);var ee=q.palette_offset,Y=q.transparent_index;Y===null&&(Y=256);var oe=q.width,se=n-oe,K=oe,V=4*(q.y*n+q.x),W=4*((q.y+q.height)*n+q.x),J=V,Q=4*se;q.interlaced===!0&&(Q+=4*n*7);for(var re=8,ce=0,fe=ne.length;ce<fe;++ce){var be=ne[ce];if(K===0&&(K=oe,(J+=Q)>=W&&(Q=4*se+4*n*(re-1),J=V+(oe+se)*(re<<1),re>>=1)),be===Y)J+=4;else{var ge=t[ee+3*be],Se=t[ee+3*be+1],Be=t[ee+3*be+2];O[J++]=ge,O[J++]=Se,O[J++]=Be,O[J++]=255}--K}}}function KM(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,f=0,h=0,p=t[e++],g=new Int32Array(4096),v=null;;){for(;u<16&&p!==0;)f|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var y=f&c;if(f>>=l,u-=l,y!==s){if(y===o)break;for(var w=y<a?y:v,E=0,T=w;T>s;)T=g[T]>>8,++E;var I=T;if(h+E+(w!==y?1:0)>r)return void gr.log("Warning, gif stream longer than expected.");n[h++]=I;var F=h+=E;for(w!==y&&(n[h++]=I),T=w;E--;)T=g[T],n[--F]=255&T,T>>=8;v!==null&&a<4096&&(g[a++]=v<<8|I,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=y}else a=o+1,c=(1<<(l=i+1))-1,v=null}return h!==r&&gr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _S(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),g=new Array(64),v=[],y=0,w=7,E=new Array(64),T=new Array(64),I=new Array(64),F=new Array(256),B=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ne(V,W){for(var J=0,Q=0,re=new Array,ce=1;ce<=16;ce++){for(var fe=1;fe<=V[ce];fe++)re[W[Q]]=[],re[W[Q]][0]=J,re[W[Q]][1]=ce,Q++,J++;J*=2}return re}function ee(V){for(var W=V[0],J=V[1]-1;J>=0;)W&1<<J&&(y|=1<<w),J--,--w<0&&(y==255?(Y(255),Y(0)):Y(y),w=7,y=0)}function Y(V){v.push(V)}function oe(V){Y(V>>8&255),Y(255&V)}function se(V,W,J,Q,re){for(var ce,fe=re[0],be=re[240],ge=function(je,De){var We,de,we,ke,Ye,$e,He,ot,dt,xt,st=0;for(dt=0;dt<8;++dt){We=je[st],de=je[st+1],we=je[st+2],ke=je[st+3],Ye=je[st+4],$e=je[st+5],He=je[st+6];var jt=We+(ot=je[st+7]),Vt=We-ot,Hn=de+He,Ut=de-He,fn=we+$e,lr=we-$e,Kt=ke+Ye,Fr=ke-Ye,_n=jt+Kt,Qn=jt-Kt,gn=Hn+fn,Yt=Hn-fn;je[st]=_n+gn,je[st+4]=_n-gn;var St=.707106781*(Yt+Qn);je[st+2]=Qn+St,je[st+6]=Qn-St;var Ht=.382683433*((_n=Fr+lr)-(Yt=Ut+Vt)),Fn=.5411961*_n+Ht,hn=1.306562965*Yt+Ht,Tn=.707106781*(gn=lr+Ut),fr=Vt+Tn,gt=Vt-Tn;je[st+5]=gt+Fn,je[st+3]=gt-Fn,je[st+1]=fr+hn,je[st+7]=fr-hn,st+=8}for(st=0,dt=0;dt<8;++dt){We=je[st],de=je[st+8],we=je[st+16],ke=je[st+24],Ye=je[st+32],$e=je[st+40],He=je[st+48];var Ct=We+(ot=je[st+56]),rn=We-ot,yn=de+He,kn=de-He,Dn=we+$e,jn=we-$e,Oi=ke+Ye,as=ke-Ye,Fi=Ct+Oi,ks=Ct-Oi,jr=yn+Dn,ji=yn-Dn;je[st]=Fi+jr,je[st+32]=Fi-jr;var Nr=.707106781*(ji+ks);je[st+16]=ks+Nr,je[st+48]=ks-Nr;var oo=.382683433*((Fi=as+jn)-(ji=kn+rn)),sa=.5411961*Fi+oo,oa=1.306562965*ji+oo,aa=.707106781*(jr=jn+kn),Ia=rn+aa,vl=rn-aa;je[st+40]=vl+sa,je[st+24]=vl-sa,je[st+8]=Ia+oa,je[st+56]=Ia-oa,st++}for(dt=0;dt<64;++dt)xt=je[dt]*De[dt],p[dt]=xt>0?xt+.5|0:xt-.5|0;return p}(V,W),Se=0;Se<64;++Se)g[R[Se]]=ge[Se];var Be=g[0]-J;J=g[0],Be==0?ee(Q[0]):(ee(Q[h[ce=32767+Be]]),ee(f[ce]));for(var _e=63;_e>0&&g[_e]==0;)_e--;if(_e==0)return ee(fe),J;for(var Ae,ye=1;ye<=_e;){for(var he=ye;g[ye]==0&&ye<=_e;)++ye;var Je=ye-he;if(Je>=16){Ae=Je>>4;for(var qe=1;qe<=Ae;++qe)ee(be);Je&=15}ce=32767+g[ye],ee(re[(Je<<4)+h[ce]]),ee(f[ce]),ye++}return _e!=63&&ee(fe),J}function K(V){V=Math.min(Math.max(V,1),100),s!=V&&(function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var re=o((J[Q]*W+50)/100);re=Math.min(Math.max(re,1),255),a[R[Q]]=re}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var be=o((ce[fe]*W+50)/100);be=Math.min(Math.max(be,1),255),l[R[fe]]=be}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Be=0;Be<8;Be++)for(var _e=0;_e<8;_e++)c[Se]=1/(a[R[Se]]*ge[Be]*ge[_e]*8),u[Se]=1/(l[R[Se]]*ge[Be]*ge[_e]*8),Se++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),s=V)}this.encode=function(V,W){W&&K(W),v=new Array,y=0,w=7,oe(65496),oe(65504),oe(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),oe(1),oe(1),Y(0),Y(0),function(){oe(65499),oe(132),Y(0);for(var de=0;de<64;de++)Y(a[de]);Y(1);for(var we=0;we<64;we++)Y(l[we])}(),function(de,we){oe(65472),oe(17),Y(8),oe(we),oe(de),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(V.width,V.height),function(){oe(65476),oe(418),Y(0);for(var de=0;de<16;de++)Y(S[de+1]);for(var we=0;we<=11;we++)Y(k[we]);Y(16);for(var ke=0;ke<16;ke++)Y(P[ke+1]);for(var Ye=0;Ye<=161;Ye++)Y(N[Ye]);Y(1);for(var $e=0;$e<16;$e++)Y(M[$e+1]);for(var He=0;He<=11;He++)Y(O[He]);Y(17);for(var ot=0;ot<16;ot++)Y(q[ot+1]);for(var dt=0;dt<=161;dt++)Y(Z[dt])}(),oe(65498),oe(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var J=0,Q=0,re=0;y=0,w=7,this.encode.displayName="_encode_";for(var ce,fe,be,ge,Se,Be,_e,Ae,ye,he=V.data,Je=V.width,qe=V.height,je=4*Je,De=0;De<qe;){for(ce=0;ce<je;){for(Se=je*De+ce,_e=-1,Ae=0,ye=0;ye<64;ye++)Be=Se+(Ae=ye>>3)*je+(_e=4*(7&ye)),De+Ae>=qe&&(Be-=je*(De+1+Ae-qe)),ce+_e>=je&&(Be-=ce+_e-je+4),fe=he[Be++],be=he[Be++],ge=he[Be++],E[ye]=(B[fe]+B[be+256>>0]+B[ge+512>>0]>>16)-128,T[ye]=(B[fe+768>>0]+B[be+1024>>0]+B[ge+1280>>0]>>16)-128,I[ye]=(B[fe+1280>>0]+B[be+1536>>0]+B[ge+1792>>0]>>16)-128;J=se(E,c,J,e,r),Q=se(T,u,Q,n,i),re=se(I,u,re,n,i),ce+=32}De+=8}if(w>=0){var We=[];We[1]=w+1,We[0]=(1<<w+1)-1,ee(We)}return oe(65497),new Uint8Array(v)},t=t||50,function(){for(var V=String.fromCharCode,W=0;W<256;W++)F[W]=V(W)}(),e=ne(S,k),n=ne(M,O),r=ne(P,N),i=ne(q,Z),function(){for(var V=1,W=2,J=1;J<=15;J++){for(var Q=V;Q<W;Q++)h[32767+Q]=J,f[32767+Q]=[],f[32767+Q][1]=J,f[32767+Q][0]=Q;for(var re=-(W-1);re<=-V;re++)h[32767+re]=J,f[32767+re]=[],f[32767+re][1]=J,f[32767+re][0]=W-1+re;V<<=1,W<<=1}}(),function(){for(var V=0;V<256;V++)B[V]=19595*V,B[V+256>>0]=38470*V,B[V+512>>0]=7471*V+32768,B[V+768>>0]=-11059*V,B[V+1024>>0]=-21709*V,B[V+1280>>0]=32768*V+8421375,B[V+1536>>0]=-27439*V,B[V+1792>>0]=-5329*V}(),K(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Hl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YM(t){function e(S){if(!S)throw Error("assert :P")}function n(S,k,P){for(var N=0;4>N;N++)if(S[k+N]!=P.charCodeAt(N))return!0;return!1}function r(S,k,P,N,M){for(var O=0;O<M;O++)S[k+O]=P[N+O]}function i(S,k,P,N){for(var M=0;M<N;M++)S[k+M]=P}function s(S){return new Int32Array(S)}function o(S,k){for(var P=[],N=0;N<S;N++)P.push(new k);return P}function a(S,k){var P=[];return function N(M,O,q){for(var Z=q[O],ne=0;ne<Z&&(M.push(q.length>O+1?[]:new k),!(q.length<O+1));ne++)N(M[ne],O+1,q)}(P,0,S),P}var l=function(){var S=this;function k(C,D){for(var z=1<<D-1>>>0;C&z;)z>>>=1;return z?(C&z-1)+z:C}function P(C,D,z,G,te){e(!(G%z));do C[D+(G-=z)]=te;while(0<G)}function N(C,D,z,G,te){if(e(2328>=te),512>=te)var ae=s(512);else if((ae=s(te))==null)return 0;return function(ue,pe,ve,xe,Pe,ze){var Ue,Fe,at=pe,Ze=1<<ve,Le=s(16),Ie=s(16);for(e(Pe!=0),e(xe!=null),e(ue!=null),e(0<ve),Fe=0;Fe<Pe;++Fe){if(15<xe[Fe])return 0;++Le[xe[Fe]]}if(Le[0]==Pe)return 0;for(Ie[1]=0,Ue=1;15>Ue;++Ue){if(Le[Ue]>1<<Ue)return 0;Ie[Ue+1]=Ie[Ue]+Le[Ue]}for(Fe=0;Fe<Pe;++Fe)Ue=xe[Fe],0<xe[Fe]&&(ze[Ie[Ue]++]=Fe);if(Ie[15]==1)return(xe=new M).g=0,xe.value=ze[0],P(ue,at,1,Ze,xe),Ze;var nt,tt=-1,rt=Ze-1,At=0,wt=1,Bt=1,Et=1<<ve;for(Fe=0,Ue=1,Pe=2;Ue<=ve;++Ue,Pe<<=1){if(wt+=Bt<<=1,0>(Bt-=Le[Ue]))return 0;for(;0<Le[Ue];--Le[Ue])(xe=new M).g=Ue,xe.value=ze[Fe++],P(ue,at+At,Pe,Et,xe),At=k(At,Ue)}for(Ue=ve+1,Pe=2;15>=Ue;++Ue,Pe<<=1){if(wt+=Bt<<=1,0>(Bt-=Le[Ue]))return 0;for(;0<Le[Ue];--Le[Ue]){if(xe=new M,(At&rt)!=tt){for(at+=Et,nt=1<<(tt=Ue)-ve;15>tt&&!(0>=(nt-=Le[tt]));)++tt,nt<<=1;Ze+=Et=1<<(nt=tt-ve),ue[pe+(tt=At&rt)].g=nt+ve,ue[pe+tt].value=at-pe-tt}xe.g=Ue-ve,xe.value=ze[Fe++],P(ue,at+(At>>ve),Pe,Et,xe),At=k(At,Ue)}}return wt!=2*Ie[15]-1?0:Ze}(C,D,z,G,te,ae)}function M(){this.value=this.g=0}function O(){this.value=this.g=0}function q(){this.G=o(5,M),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Dr,O)}function Z(C,D,z,G){e(C!=null),e(D!=null),e(2147483648>G),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=D,C.pa=z,C.Jd=D,C.Yc=z+G,C.Zc=4<=G?z+G-4+1:z,ce(C)}function ne(C,D){for(var z=0;0<D--;)z|=be(C,128)<<D;return z}function ee(C,D){var z=ne(C,D);return fe(C)?-z:z}function Y(C,D,z,G){var te,ae=0;for(e(C!=null),e(D!=null),e(4294967288>G),C.Sb=G,C.Ra=0,C.u=0,C.h=0,4<G&&(G=4),te=0;te<G;++te)ae+=D[z+te]<<8*te;C.Ra=ae,C.bb=G,C.oa=D,C.pa=z}function oe(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Ad-8>>>0,++C.bb,C.u-=8;J(C)&&(C.h=1,C.u=0)}function se(C,D){if(e(0<=D),!C.h&&D<=Cd){var z=W(C)&Sd[D];return C.u+=D,oe(C),z}return C.h=1,C.u=0}function K(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(C){return C.Ra>>>(C.u&Ad-1)>>>0}function J(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Ad}function Q(C,D){C.u=D,C.h=J(C)}function re(C){C.u>=_d&&(e(C.u>=_d),oe(C))}function ce(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function fe(C){return ne(C,1)}function be(C,D){var z=C.Ca;0>C.b&&ce(C);var G=C.b,te=z*D>>>8,ae=(C.I>>>G>te)+0;for(ae?(z-=te,C.I-=te+1<<G>>>0):z=te+1,G=z,te=0;256<=G;)te+=8,G>>=8;return G=7^te+fs[G],C.b-=G,C.Ca=(z<<G)-1,ae}function ge(C,D,z){C[D+0]=z>>24&255,C[D+1]=z>>16&255,C[D+2]=z>>8&255,C[D+3]=z>>0&255}function Se(C,D){return C[D+0]<<0|C[D+1]<<8}function Be(C,D){return Se(C,D)|C[D+2]<<16}function _e(C,D){return Se(C,D)|Se(C,D+2)<<16}function Ae(C,D){var z=1<<D;return e(C!=null),e(0<D),C.X=s(z),C.X==null?0:(C.Mb=32-D,C.Xa=D,1)}function ye(C,D){e(C!=null),e(D!=null),e(C.Xa==D.Xa),r(D.X,0,C.X,0,1<<D.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function Je(C,D,z,G){e(z!=null),e(G!=null);var te=z[0],ae=G[0];return te==0&&(te=(C*ae+D/2)/D),ae==0&&(ae=(D*te+C/2)/C),0>=te||0>=ae?0:(z[0]=te,G[0]=ae,1)}function qe(C,D){return C+(1<<D)-1>>>D}function je(C,D){return((4278255360&C)+(4278255360&D)>>>0&4278255360)+((16711935&C)+(16711935&D)>>>0&16711935)>>>0}function De(C,D){S[D]=function(z,G,te,ae,ue,pe,ve){var xe;for(xe=0;xe<ue;++xe){var Pe=S[C](pe[ve+xe-1],te,ae+xe);pe[ve+xe]=je(z[G+xe],Pe)}}}function We(){this.ud=this.hd=this.jd=0}function de(C,D){return((4278124286&(C^D))>>>1)+(C&D)>>>0}function we(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function ke(C,D){return we(C+(C-D+.5>>1))}function Ye(C,D,z){return Math.abs(D-z)-Math.abs(C-z)}function $e(C,D,z,G,te,ae,ue){for(G=ae[ue-1],z=0;z<te;++z)ae[ue+z]=G=je(C[D+z],G)}function He(C,D,z,G,te){var ae;for(ae=0;ae<z;++ae){var ue=C[D+ae],pe=ue>>8&255,ve=16711935&(ve=(ve=16711935&ue)+((pe<<16)+pe));G[te+ae]=(4278255360&ue)+ve>>>0}}function ot(C,D){D.jd=C>>0&255,D.hd=C>>8&255,D.ud=C>>16&255}function dt(C,D,z,G,te,ae){var ue;for(ue=0;ue<G;++ue){var pe=D[z+ue],ve=pe>>>8,xe=pe,Pe=255&(Pe=(Pe=pe>>>16)+((C.jd<<24>>24)*(ve<<24>>24)>>>5));xe=255&(xe=(xe=xe+((C.hd<<24>>24)*(ve<<24>>24)>>>5))+((C.ud<<24>>24)*(Pe<<24>>24)>>>5)),te[ae+ue]=(4278255360&pe)+(Pe<<16)+xe}}function xt(C,D,z,G,te){S[D]=function(ae,ue,pe,ve,xe,Pe,ze,Ue,Fe){for(ve=ze;ve<Ue;++ve)for(ze=0;ze<Fe;++ze)xe[Pe++]=te(pe[G(ae[ue++])])},S[C]=function(ae,ue,pe,ve,xe,Pe,ze){var Ue=8>>ae.b,Fe=ae.Ea,at=ae.K[0],Ze=ae.w;if(8>Ue)for(ae=(1<<ae.b)-1,Ze=(1<<Ue)-1;ue<pe;++ue){var Le,Ie=0;for(Le=0;Le<Fe;++Le)Le&ae||(Ie=G(ve[xe++])),Pe[ze++]=te(at[Ie&Ze]),Ie>>=Ue}else S["VP8LMapColor"+z](ve,xe,at,Ze,Pe,ze,ue,pe,Fe)}}function st(C,D,z,G,te){for(z=D+z;D<z;){var ae=C[D++];G[te++]=ae>>16&255,G[te++]=ae>>8&255,G[te++]=ae>>0&255}}function jt(C,D,z,G,te){for(z=D+z;D<z;){var ae=C[D++];G[te++]=ae>>16&255,G[te++]=ae>>8&255,G[te++]=ae>>0&255,G[te++]=ae>>24&255}}function Vt(C,D,z,G,te){for(z=D+z;D<z;){var ae=(ue=C[D++])>>16&240|ue>>12&15,ue=ue>>0&240|ue>>28&15;G[te++]=ae,G[te++]=ue}}function Hn(C,D,z,G,te){for(z=D+z;D<z;){var ae=(ue=C[D++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;G[te++]=ae,G[te++]=ue}}function Ut(C,D,z,G,te){for(z=D+z;D<z;){var ae=C[D++];G[te++]=ae>>0&255,G[te++]=ae>>8&255,G[te++]=ae>>16&255}}function fn(C,D,z,G,te,ae){if(ae==0)for(z=D+z;D<z;)ge(G,((ae=C[D++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),te+=32;else r(G,te,C,D,z)}function lr(C,D){S[D][0]=S[C+"0"],S[D][1]=S[C+"1"],S[D][2]=S[C+"2"],S[D][3]=S[C+"3"],S[D][4]=S[C+"4"],S[D][5]=S[C+"5"],S[D][6]=S[C+"6"],S[D][7]=S[C+"7"],S[D][8]=S[C+"8"],S[D][9]=S[C+"9"],S[D][10]=S[C+"10"],S[D][11]=S[C+"11"],S[D][12]=S[C+"12"],S[D][13]=S[C+"13"],S[D][14]=S[C+"0"],S[D][15]=S[C+"0"]}function Kt(C){return C==Id||C==Tu||C==uh||C==dh}function Fr(){this.eb=[],this.size=this.A=this.fb=0}function _n(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fr,this.f.kb=new _n,this.sd=null}function gn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Yt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Ht(C,D){var z=C.T,G=D.ba.f.RGBA,te=G.eb,ae=G.fb+C.ka*G.A,ue=Rs[D.ba.S],pe=C.y,ve=C.O,xe=C.f,Pe=C.N,ze=C.ea,Ue=C.W,Fe=D.cc,at=D.dc,Ze=D.Mc,Le=D.Nc,Ie=C.ka,nt=C.ka+C.T,tt=C.U,rt=tt+1>>1;for(Ie==0?ue(pe,ve,null,null,xe,Pe,ze,Ue,xe,Pe,ze,Ue,te,ae,null,null,tt):(ue(D.ec,D.fc,pe,ve,Fe,at,Ze,Le,xe,Pe,ze,Ue,te,ae-G.A,te,ae,tt),++z);Ie+2<nt;Ie+=2)Fe=xe,at=Pe,Ze=ze,Le=Ue,Pe+=C.Rc,Ue+=C.Rc,ae+=2*G.A,ue(pe,(ve+=2*C.fa)-C.fa,pe,ve,Fe,at,Ze,Le,xe,Pe,ze,Ue,te,ae-G.A,te,ae,tt);return ve+=C.fa,C.j+nt<C.o?(r(D.ec,D.fc,pe,ve,tt),r(D.cc,D.dc,xe,Pe,rt),r(D.Mc,D.Nc,ze,Ue,rt),z--):1&nt||ue(pe,ve,null,null,xe,Pe,ze,Ue,xe,Pe,ze,Ue,te,ae+G.A,null,null,tt),z}function Fn(C,D,z){var G=C.F,te=[C.J];if(G!=null){var ae=C.U,ue=D.ba.S,pe=ue==ch||ue==uh;D=D.ba.f.RGBA;var ve=[0],xe=C.ka;ve[0]=C.T,C.Kb&&(xe==0?--ve[0]:(--xe,te[0]-=C.width),C.j+C.ka+C.T==C.o&&(ve[0]=C.o-C.j-xe));var Pe=D.eb;xe=D.fb+xe*D.A,C=tr(G,te[0],C.width,ae,ve,Pe,xe+(pe?0:3),D.A),e(z==ve),C&&Kt(ue)&&Is(Pe,xe,pe,ae,ve,D.A)}return 0}function hn(C){var D=C.ma,z=D.ba.S,G=11>z,te=z==Ac||z==lh||z==ch||z==ur||z==12||Kt(z);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!wd(D.Oa,C,te?11:12))return 0;if(te&&Kt(z)&&ut(),C.da)alert("todo:use_scaling");else{if(G){if(D.Ib=St,C.Kb){if(z=C.U+1>>1,D.memory=s(C.U+2*z),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+C.U,D.Mc=D.cc,D.Nc=D.dc+z,D.Ib=Ht,ut()}}else alert("todo:EmitYUV");te&&(D.Jb=Fn,G&&Ve())}if(G&&!_i){for(C=0;256>C;++C)Ms[C]=89858*(C-128)+va>>Dl,Os[C]=-22014*(C-128)+va,Od[C]=-45773*(C-128),Lu[C]=113618*(C-128)+va>>Dl;for(C=nr;C<sr;++C)D=76283*(C-16)+va>>Dl,Dp[C-nr]=Gn(D,255),Ry[C-nr]=Gn(D+8>>4,15);_i=1}return 1}function Tn(C){var D=C.ma,z=C.U,G=C.T;return e(!(1&C.ka)),0>=z||0>=G?0:(z=D.Ib(C,D),D.Jb!=null&&D.Jb(C,D,z),D.Dc+=z,1)}function fr(C){C.ma.memory=null}function gt(C,D,z,G){return se(C,8)!=47?0:(D[0]=se(C,14)+1,z[0]=se(C,14)+1,G[0]=se(C,1),se(C,3)!=0?0:!C.h)}function Ct(C,D){if(4>C)return C+1;var z=C-2>>1;return(2+(1&C)<<z)+se(D,z)+1}function rn(C,D){return 120<D?D-120:1<=(z=((z=i5[D-1])>>4)*C+(8-(15&z)))?z:1;var z}function yn(C,D,z){var G=W(z),te=C[D+=255&G].g-8;return 0<te&&(Q(z,z.u+8),G=W(z),D+=C[D].value,D+=G&(1<<te)-1),Q(z,z.u+C[D].g),C[D].value}function kn(C,D,z){return z.g+=C.g,z.value+=C.value<<D>>>0,e(8>=z.g),C.g}function Dn(C,D,z){var G=C.xc;return e((D=G==0?0:C.vc[C.md*(z>>G)+(D>>G)])<C.Wb),C.Ya[D]}function jn(C,D,z,G){var te=C.ab,ae=C.c*D,ue=C.C;D=ue+D;var pe=z,ve=G;for(G=C.Ta,z=C.Ua;0<te--;){var xe=C.gc[te],Pe=ue,ze=D,Ue=pe,Fe=ve,at=(ve=G,pe=z,xe.Ea);switch(e(Pe<ze),e(ze<=xe.nc),xe.hc){case 2:kp(Ue,Fe,(ze-Pe)*at,ve,pe);break;case 0:var Ze=Pe,Le=ze,Ie=ve,nt=pe,tt=(Et=xe).Ea;Ze==0&&(wu(Ue,Fe,null,null,1,Ie,nt),$e(Ue,Fe+1,0,0,tt-1,Ie,nt+1),Fe+=tt,nt+=tt,++Ze);for(var rt=1<<Et.b,At=rt-1,wt=qe(tt,Et.b),Bt=Et.K,Et=Et.w+(Ze>>Et.b)*wt;Ze<Le;){var Vn=Bt,$n=Et,Pn=1;for(Al(Ue,Fe,Ie,nt-tt,1,Ie,nt);Pn<tt;){var vn=(Pn&~At)+rt;vn>tt&&(vn=tt),(0,qa[Vn[$n++]>>8&15])(Ue,Fe+ +Pn,Ie,nt+Pn-tt,vn-Pn,Ie,nt+Pn),Pn=vn}Fe+=tt,nt+=tt,++Ze&At||(Et+=wt)}ze!=xe.nc&&r(ve,pe-at,ve,pe+(ze-Pe-1)*at,at);break;case 1:for(at=Ue,Le=Fe,tt=(Ue=xe.Ea)-(nt=Ue&~(Ie=(Fe=1<<xe.b)-1)),Ze=qe(Ue,xe.b),rt=xe.K,xe=xe.w+(Pe>>xe.b)*Ze;Pe<ze;){for(At=rt,wt=xe,Bt=new We,Et=Le+nt,Vn=Le+Ue;Le<Et;)ot(At[wt++],Bt),Ec(Bt,at,Le,Fe,ve,pe),Le+=Fe,pe+=Fe;Le<Vn&&(ot(At[wt++],Bt),Ec(Bt,at,Le,tt,ve,pe),Le+=tt,pe+=tt),++Pe&Ie||(xe+=Ze)}break;case 3:if(Ue==ve&&Fe==pe&&0<xe.b){for(Le=ve,Ue=at=pe+(ze-Pe)*at-(nt=(ze-Pe)*qe(xe.Ea,xe.b)),Fe=ve,Ie=pe,Ze=[],nt=(tt=nt)-1;0<=nt;--nt)Ze[nt]=Fe[Ie+nt];for(nt=tt-1;0<=nt;--nt)Le[Ue+nt]=Ze[nt];hs(xe,Pe,ze,ve,at,ve,pe)}else hs(xe,Pe,ze,Ue,Fe,ve,pe)}pe=G,ve=z}ve!=z&&r(G,z,pe,ve,ae)}function Oi(C,D){var z=C.V,G=C.Ba+C.c*C.C,te=D-C.C;if(e(D<=C.l.o),e(16>=te),0<te){var ae=C.l,ue=C.Ta,pe=C.Ua,ve=ae.width;if(jn(C,te,z,G),te=pe=[pe],e((z=C.C)<(G=D)),e(ae.v<ae.va),G>ae.o&&(G=ae.o),z<ae.j){var xe=ae.j-z;z=ae.j,te[0]+=xe*ve}if(z>=G?z=0:(te[0]+=4*ae.v,ae.ka=z-ae.j,ae.U=ae.va-ae.v,ae.T=G-z,z=1),z){if(pe=pe[0],11>(z=C.ca).S){var Pe=z.f.RGBA,ze=(G=z.S,te=ae.U,ae=ae.T,xe=Pe.eb,Pe.A),Ue=ae;for(Pe=Pe.fb+C.Ma*Pe.A;0<Ue--;){var Fe=ue,at=pe,Ze=te,Le=xe,Ie=Pe;switch(G){case Pp:ps(Fe,at,Ze,Le,Ie);break;case Ac:zi(Fe,at,Ze,Le,Ie);break;case Id:zi(Fe,at,Ze,Le,Ie),Is(Le,Ie,0,Ze,1,0);break;case Py:Tl(Fe,at,Ze,Le,Ie);break;case lh:fn(Fe,at,Ze,Le,Ie,1);break;case Tu:fn(Fe,at,Ze,Le,Ie,1),Is(Le,Ie,0,Ze,1,0);break;case ch:fn(Fe,at,Ze,Le,Ie,0);break;case uh:fn(Fe,at,Ze,Le,Ie,0),Is(Le,Ie,1,Ze,1,0);break;case ur:Sc(Fe,at,Ze,Le,Ie);break;case dh:Sc(Fe,at,Ze,Le,Ie),cr(Le,Ie,Ze,1,0);break;case Np:_l(Fe,at,Ze,Le,Ie);break;default:e(0)}pe+=ve,Pe+=ze}C.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=z.height)}}C.C=D,e(C.C<=C.i)}function as(C){var D;if(0<C.ua)return 0;for(D=0;D<C.Wb;++D){var z=C.Ya[D].G,G=C.Ya[D].H;if(0<z[1][G[1]+0].g||0<z[2][G[2]+0].g||0<z[3][G[3]+0].g)return 0}return 1}function Fi(C,D,z,G,te,ae){if(C.Z!=0){var ue=C.qd,pe=C.rd;for(e(qi[C.Z]!=null);D<z;++D)qi[C.Z](ue,pe,G,te,G,te,ae),ue=G,pe=te,te+=ae;C.qd=ue,C.rd=pe}}function ks(C,D){var z=C.l.ma,G=z.Z==0||z.Z==1?C.l.j:C.C;if(G=C.C<G?G:C.C,e(D<=C.l.o),D>G){var te=C.l.width,ae=z.ca,ue=z.tb+te*G,pe=C.V,ve=C.Ba+C.c*G,xe=C.gc;e(C.ab==1),e(xe[0].hc==3),sh(xe[0],G,D,pe,ve,ae,ue),Fi(z,G,D,ae,ue,te)}C.C=C.Ma=D}function jr(C,D,z,G,te,ae,ue){var pe=C.$/G,ve=C.$%G,xe=C.m,Pe=C.s,ze=z+C.$,Ue=ze;te=z+G*te;var Fe=z+G*ae,at=280+Pe.ua,Ze=C.Pb?pe:16777216,Le=0<Pe.ua?Pe.Wa:null,Ie=Pe.wc,nt=ze<Fe?Dn(Pe,ve,pe):null;e(C.C<ae),e(Fe<=te);var tt=!1;e:for(;;){for(;tt||ze<Fe;){var rt=0;if(pe>=Ze){var At=ze-z;e((Ze=C).Pb),Ze.wd=Ze.m,Ze.xd=At,0<Ze.s.ua&&ye(Ze.s.Wa,Ze.s.vb),Ze=pe+Ip}if(ve&Ie||(nt=Dn(Pe,ve,pe)),e(nt!=null),nt.Qb&&(D[ze]=nt.qb,tt=!0),!tt)if(re(xe),nt.jc){rt=xe,At=D;var wt=ze,Bt=nt.pd[W(rt)&Dr-1];e(nt.jc),256>Bt.g?(Q(rt,rt.u+Bt.g),At[wt]=Bt.value,rt=0):(Q(rt,rt.u+Bt.g-256),e(256<=Bt.value),rt=Bt.value),rt==0&&(tt=!0)}else rt=yn(nt.G[0],nt.H[0],xe);if(xe.h)break;if(tt||256>rt){if(!tt)if(nt.nd)D[ze]=(nt.qb|rt<<8)>>>0;else{if(re(xe),tt=yn(nt.G[1],nt.H[1],xe),re(xe),At=yn(nt.G[2],nt.H[2],xe),wt=yn(nt.G[3],nt.H[3],xe),xe.h)break;D[ze]=(wt<<24|tt<<16|rt<<8|At)>>>0}if(tt=!1,++ze,++ve>=G&&(ve=0,++pe,ue!=null&&pe<=ae&&!(pe%16)&&ue(C,pe),Le!=null))for(;Ue<ze;)rt=D[Ue++],Le.X[(506832829*rt&4294967295)>>>Le.Mb]=rt}else if(280>rt){if(rt=Ct(rt-256,xe),At=yn(nt.G[4],nt.H[4],xe),re(xe),At=rn(G,At=Ct(At,xe)),xe.h)break;if(ze-z<At||te-ze<rt)break e;for(wt=0;wt<rt;++wt)D[ze+wt]=D[ze+wt-At];for(ze+=rt,ve+=rt;ve>=G;)ve-=G,++pe,ue!=null&&pe<=ae&&!(pe%16)&&ue(C,pe);if(e(ze<=te),ve&Ie&&(nt=Dn(Pe,ve,pe)),Le!=null)for(;Ue<ze;)rt=D[Ue++],Le.X[(506832829*rt&4294967295)>>>Le.Mb]=rt}else{if(!(rt<at))break e;for(tt=rt-280,e(Le!=null);Ue<ze;)rt=D[Ue++],Le.X[(506832829*rt&4294967295)>>>Le.Mb]=rt;rt=ze,e(!(tt>>>(At=Le).Xa)),D[rt]=At.X[tt],tt=!0}tt||e(xe.h==J(xe))}if(C.Pb&&xe.h&&ze<te)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&ye(C.s.vb,C.s.Wa);else{if(xe.h)break e;ue!=null&&ue(C,pe>ae?ae:pe),C.a=0,C.$=ze-z}return 1}return C.a=3,0}function ji(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var D=C.Wa;D!=null&&(D.X=null),C.vb=null,e(C!=null)}function Nr(){var C=new bd;return C==null?null:(C.a=0,C.xb=Rd,lr("Predictor","VP8LPredictors"),lr("Predictor","VP8LPredictors_C"),lr("PredictorAdd","VP8LPredictorsAdd"),lr("PredictorAdd","VP8LPredictorsAdd_C"),kp=He,Ec=dt,ps=st,zi=jt,Sc=Vt,_l=Hn,Tl=Ut,S.VP8LMapColor32b=Td,S.VP8LMapColor8b=kd,C)}function oo(C,D,z,G,te){var ae=1,ue=[C],pe=[D],ve=G.m,xe=G.s,Pe=null,ze=0;e:for(;;){if(z)for(;ae&&se(ve,1);){var Ue=ue,Fe=pe,at=G,Ze=1,Le=at.m,Ie=at.gc[at.ab],nt=se(Le,2);if(at.Oc&1<<nt)ae=0;else{switch(at.Oc|=1<<nt,Ie.hc=nt,Ie.Ea=Ue[0],Ie.nc=Fe[0],Ie.K=[null],++at.ab,e(4>=at.ab),nt){case 0:case 1:Ie.b=se(Le,3)+2,Ze=oo(qe(Ie.Ea,Ie.b),qe(Ie.nc,Ie.b),0,at,Ie.K),Ie.K=Ie.K[0];break;case 3:var tt,rt=se(Le,8)+1,At=16<rt?0:4<rt?1:2<rt?2:3;if(Ue[0]=qe(Ie.Ea,At),Ie.b=At,tt=Ze=oo(rt,1,0,at,Ie.K)){var wt,Bt=rt,Et=Ie,Vn=1<<(8>>Et.b),$n=s(Vn);if($n==null)tt=0;else{var Pn=Et.K[0],vn=Et.w;for($n[0]=Et.K[0][0],wt=1;wt<1*Bt;++wt)$n[wt]=je(Pn[vn+wt],$n[wt-1]);for(;wt<4*Vn;++wt)$n[wt]=0;Et.K[0]=null,Et.K[0]=$n,tt=1}}Ze=tt;break;case 2:break;default:e(0)}ae=Ze}}if(ue=ue[0],pe=pe[0],ae&&se(ve,1)&&!(ae=1<=(ze=se(ve,4))&&11>=ze)){G.a=3;break e}var rr;if(rr=ae)t:{var or,nn,Sr,vs=G,Br=ue,ei=pe,Kn=ze,Hi=z,Wi=vs.m,Cr=vs.s,ti=[null],Ti=1,Fs=0,Uo=Ly[Kn];n:for(;;){if(Hi&&se(Wi,1)){var Ar=se(Wi,3)+2,Gr=qe(Br,Ar),mo=qe(ei,Ar),kc=Gr*mo;if(!oo(Gr,mo,0,vs,ti))break n;for(ti=ti[0],Cr.xc=Ar,or=0;or<kc;++or){var Ml=ti[or]>>8&65535;ti[or]=Ml,Ml>=Ti&&(Ti=Ml+1)}}if(Wi.h)break n;for(nn=0;5>nn;++nn){var Yn=ku[nn];!nn&&0<Kn&&(Yn+=1<<Kn),Fs<Yn&&(Fs=Yn)}var Ya=o(Ti*Uo,M),Rp=Ti,Bg=o(Rp,q);if(Bg==null)var qo=null;else e(65536>=Rp),qo=Bg;var Ho=s(Fs);if(qo==null||Ho==null||Ya==null){vs.a=1;break n}var Du=Ya;for(or=Sr=0;or<Ti;++or){var Wo=qo[or],Ol=Wo.G,Ru=Wo.H,Fd=0,go=1,jd=0;for(nn=0;5>nn;++nn){Yn=ku[nn],Ol[nn]=Du,Ru[nn]=Sr,!nn&&0<Kn&&(Yn+=1<<Kn);i:{var Pc,Fl=Yn,Bd=vs,Xa=Ho,Oy=Du,Vg=Sr,mr=0,ya=Bd.m,$g=se(ya,1);if(i(Xa,0,0,Fl),$g){var zg=se(ya,1)+1,Mp=se(ya,1),Op=se(ya,Mp==0?1:8);Xa[Op]=1,zg==2&&(Xa[Op=se(ya,8)]=1);var Ja=1}else{var xr=s(19),Kr=se(ya,4)+4;if(19<Kr){Bd.a=3;var Vr=0;break i}for(Pc=0;Pc<Kr;++Pc)xr[r5[Pc]]=se(ya,3);var Vd=void 0,jl=void 0,$d=Bd,c5=xr,ni=Fl,Fp=Xa,gh=0,Qa=$d.m,xa=8,vo=o(128,M);r:for(;N(vo,0,7,c5,19);){if(se(Qa,1)){var vh=2+2*se(Qa,3);if((Vd=2+se(Qa,vh))>ni)break r}else Vd=ni;for(jl=0;jl<ni&&Vd--;){re(Qa);var jp=vo[0+(127&W(Qa))];Q(Qa,Qa.u+jp.g);var Nc=jp.value;if(16>Nc)Fp[jl++]=Nc,Nc!=0&&(xa=Nc);else{var Fy=Nc==16,Ug=Nc-16,jy=Lp[Ug],qg=se(Qa,fh[Ug])+jy;if(jl+qg>ni)break r;for(var By=Fy?xa:0;0<qg--;)Fp[jl++]=By}}gh=1;break r}gh||($d.a=3),Ja=gh}(Ja=Ja&&!ya.h)&&(mr=N(Oy,Vg,8,Xa,Fl)),Ja&&mr!=0?Vr=mr:(Bd.a=3,Vr=0)}if(Vr==0)break n;if(go&&Ny[nn]==1&&(go=Du[Sr].g==0),Fd+=Du[Sr].g,Sr+=Vr,3>=nn){var zd,Bp=Ho[0];for(zd=1;zd<Yn;++zd)Ho[zd]>Bp&&(Bp=Ho[zd]);jd+=Bp}}if(Wo.nd=go,Wo.Qb=0,go&&(Wo.qb=(Ol[3][Ru[3]+0].value<<24|Ol[1][Ru[1]+0].value<<16|Ol[2][Ru[2]+0].value)>>>0,Fd==0&&256>Ol[0][Ru[0]+0].value&&(Wo.Qb=1,Wo.qb+=Ol[0][Ru[0]+0].value<<8)),Wo.jc=!Wo.Qb&&6>jd,Wo.jc){var yh,yo=Wo;for(yh=0;yh<Dr;++yh){var Bl=yh,ba=yo.pd[Bl],Mu=yo.G[0][yo.H[0]+Bl];256<=Mu.value?(ba.g=Mu.g+256,ba.value=Mu.value):(ba.g=0,ba.value=0,Bl>>=kn(Mu,8,ba),Bl>>=kn(yo.G[1][yo.H[1]+Bl],16,ba),Bl>>=kn(yo.G[2][yo.H[2]+Bl],0,ba),kn(yo.G[3][yo.H[3]+Bl],24,ba))}}}Cr.vc=ti,Cr.Wb=Ti,Cr.Ya=qo,Cr.yc=Ya,rr=1;break t}rr=0}if(!(ae=rr)){G.a=3;break e}if(0<ze){if(xe.ua=1<<ze,!Ae(xe.Wa,ze)){G.a=1,ae=0;break e}}else xe.ua=0;var Vp=G,$p=ue,Vy=pe,zp=Vp.s,Up=zp.xc;if(Vp.c=$p,Vp.i=Vy,zp.md=qe($p,Up),zp.wc=Up==0?-1:(1<<Up)-1,z){G.xb=Ka;break e}if((Pe=s(ue*pe))==null){G.a=1,ae=0;break e}ae=(ae=jr(G,Pe,0,ue,pe,pe,null))&&!ve.h;break e}return ae?(te!=null?te[0]=Pe:(e(Pe==null),e(z)),G.$=0,z||ji(xe)):ji(xe),ae}function sa(C,D){var z=C.c*C.i,G=z+D+16*D;return e(C.c<=D),C.V=s(G),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+z+D,1)}function oa(C,D){var z=C.C,G=D-z,te=C.V,ae=C.Ba+C.c*z;for(e(D<=C.l.o);0<G;){var ue=16<G?16:G,pe=C.l.ma,ve=C.l.width,xe=ve*ue,Pe=pe.ca,ze=pe.tb+ve*z,Ue=C.Ta,Fe=C.Ua;jn(C,ue,te,ae),Rr(Ue,Fe,Pe,ze,xe),Fi(pe,z,z+ue,Pe,ze,ve),G-=ue,te+=ue*C.c,z+=ue}e(z==D),C.C=C.Ma=D}function aa(){this.ub=this.yd=this.td=this.Rb=0}function Ia(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function vl(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pd(){this.Yb=function(){var C=[];return function D(z,G,te){for(var ae=te[G],ue=0;ue<ae&&(z.push(te.length>G+1?[]:0),!(te.length<G+1));ue++)D(z[ue],G+1,te)}(C,0,[3,11]),C}()}function ir(){this.jb=s(3),this.Wc=a([4,8],pd),this.Xc=a([4,17],pd)}function md(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Do(){this.ld=this.La=this.dd=this.tc=0}function la(){this.Na=this.la=0}function Ps(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Do),this.Y=0,this.ya=Array(new yl),this.aa=0,this.l=new xl}function Da(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ls(){this.cb=this.a=0,this.sc="",this.m=new K,this.Od=new aa,this.Kc=new Ia,this.ed=new md,this.Qa=new vl,this.Ic=this.$c=this.Aa=0,this.D=new gd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,K),this.ia=0,this.pb=o(4,Ps),this.Pa=new ir,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new la),this.sb=0,this.wa=Array(new Do),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yl),this.L=this.aa=0,this.gd=a([4,2],Do),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function xi(){var C=new ls;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Pu||(Pu=bl)),C}function pr(C,D,z){return C.a==0&&(C.a=D,C.sc=z,C.cb=0),0}function pu(C,D,z){return 3<=z&&C[D+0]==157&&C[D+1]==1&&C[D+2]==42}function mu(C,D){if(C==null)return 0;if(C.a=0,C.sc="OK",D==null)return pr(C,2,"null VP8Io passed to VP8GetHeaders()");var z=D.data,G=D.w,te=D.ha;if(4>te)return pr(C,7,"Truncated header.");var ae=z[G+0]|z[G+1]<<8|z[G+2]<<16,ue=C.Od;if(ue.Rb=!(1&ae),ue.td=ae>>1&7,ue.yd=ae>>4&1,ue.ub=ae>>5,3<ue.td)return pr(C,3,"Incorrect keyframe parameters.");if(!ue.yd)return pr(C,4,"Frame not displayable.");G+=3,te-=3;var pe=C.Kc;if(ue.Rb){if(7>te)return pr(C,7,"cannot parse picture header");if(!pu(z,G,te))return pr(C,3,"Bad code word");pe.c=16383&(z[G+4]<<8|z[G+3]),pe.Td=z[G+4]>>6,pe.i=16383&(z[G+6]<<8|z[G+5]),pe.Ud=z[G+6]>>6,G+=7,te-=7,C.za=pe.c+15>>4,C.Ub=pe.i+15>>4,D.width=pe.c,D.height=pe.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,i((ae=C.Pa).jb,0,255,ae.jb.length),e((ae=C.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,i(ae.Zb,0,0,ae.Zb.length),i(ae.Lb,0,0,ae.Lb)}if(ue.ub>te)return pr(C,7,"bad partition length");Z(ae=C.m,z,G,ue.ub),G+=ue.ub,te-=ue.ub,ue.Rb&&(pe.Ld=fe(ae),pe.Kd=fe(ae)),pe=C.Qa;var ve,xe=C.Pa;if(e(ae!=null),e(pe!=null),pe.Cb=fe(ae),pe.Cb){if(pe.Bb=fe(ae),fe(ae)){for(pe.Fb=fe(ae),ve=0;4>ve;++ve)pe.Zb[ve]=fe(ae)?ee(ae,7):0;for(ve=0;4>ve;++ve)pe.Lb[ve]=fe(ae)?ee(ae,6):0}if(pe.Bb)for(ve=0;3>ve;++ve)xe.jb[ve]=fe(ae)?ne(ae,8):255}else pe.Bb=0;if(ae.Ka)return pr(C,3,"cannot parse segment header");if((pe=C.ed).zd=fe(ae),pe.Tb=ne(ae,6),pe.wb=ne(ae,3),pe.Pc=fe(ae),pe.Pc&&fe(ae)){for(xe=0;4>xe;++xe)fe(ae)&&(pe.vd[xe]=ee(ae,6));for(xe=0;4>xe;++xe)fe(ae)&&(pe.od[xe]=ee(ae,6))}if(C.L=pe.Tb==0?0:pe.zd?1:2,ae.Ka)return pr(C,3,"cannot parse filter header");var Pe=te;if(te=ve=G,G=ve+Pe,pe=Pe,C.Xb=(1<<ne(C.m,2))-1,Pe<3*(xe=C.Xb))z=7;else{for(ve+=3*xe,pe-=3*xe,Pe=0;Pe<xe;++Pe){var ze=z[te+0]|z[te+1]<<8|z[te+2]<<16;ze>pe&&(ze=pe),Z(C.Jc[+Pe],z,ve,ze),ve+=ze,pe-=ze,te+=3}Z(C.Jc[+xe],z,ve,pe),z=ve<G?0:5}if(z!=0)return pr(C,z,"cannot parse partitions");for(z=ne(ve=C.m,7),te=fe(ve)?ee(ve,4):0,G=fe(ve)?ee(ve,4):0,pe=fe(ve)?ee(ve,4):0,xe=fe(ve)?ee(ve,4):0,ve=fe(ve)?ee(ve,4):0,Pe=C.Qa,ze=0;4>ze;++ze){if(Pe.Cb){var Ue=Pe.Zb[ze];Pe.Fb||(Ue+=z)}else{if(0<ze){C.pb[ze]=C.pb[0];continue}Ue=z}var Fe=C.pb[ze];Fe.Sc[0]=Dd[Gn(Ue+te,127)],Fe.Sc[1]=hh[Gn(Ue+0,127)],Fe.Eb[0]=2*Dd[Gn(Ue+G,127)],Fe.Eb[1]=101581*hh[Gn(Ue+pe,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=Dd[Gn(Ue+xe,117)],Fe.Qc[1]=hh[Gn(Ue+ve,127)],Fe.lc=Ue+ve}if(!ue.Rb)return pr(C,4,"Not a key frame.");for(fe(ae),ue=C.Pa,z=0;4>z;++z){for(te=0;8>te;++te)for(G=0;3>G;++G)for(pe=0;11>pe;++pe)xe=be(ae,o5[z][te][G][pe])?ne(ae,8):Dy[z][te][G][pe],ue.Wc[z][te].Yb[G][pe]=xe;for(te=0;17>te;++te)ue.Xc[z][te]=ue.Wc[z][Og[te]]}return C.kc=fe(ae),C.kc&&(C.Bd=ne(ae,8)),C.cb=1}function bl(C,D,z,G,te,ae,ue){var pe=D[te].Yb[z];for(z=0;16>te;++te){if(!be(C,pe[z+0]))return te;for(;!be(C,pe[z+1]);)if(pe=D[++te].Yb[0],z=0,te==16)return 16;var ve=D[te+1].Yb;if(be(C,pe[z+2])){var xe=C,Pe=0;if(be(xe,(Ue=pe)[(ze=z)+3]))if(be(xe,Ue[ze+6])){for(pe=0,ze=2*(Pe=be(xe,Ue[ze+8]))+(Ue=be(xe,Ue[ze+9+Pe])),Pe=0,Ue=Rg[ze];Ue[pe];++pe)Pe+=Pe+be(xe,Ue[pe]);Pe+=3+(8<<ze)}else be(xe,Ue[ze+7])?(Pe=7+2*be(xe,165),Pe+=be(xe,145)):Pe=5+be(xe,159);else Pe=be(xe,Ue[ze+4])?3+be(xe,Ue[ze+5]):2;pe=ve[2]}else Pe=1,pe=ve[1];ve=ue+Mg[te],0>(xe=C).b&&ce(xe);var ze,Ue=xe.b,Fe=(ze=xe.Ca>>1)-(xe.I>>Ue)>>31;--xe.b,xe.Ca+=Fe,xe.Ca|=1,xe.I-=(ze+1&Fe)<<Ue,ae[ve]=((Pe^Fe)-Fe)*G[(0<te)+0]}return 16}function Ra(C){var D=C.rb[C.sb-1];D.la=0,D.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Ma(C,D){if(C==null)return 0;if(D==null)return pr(C,2,"NULL VP8Io parameter in VP8Decode().");if(!C.cb&&!mu(C,D))return 0;if(e(C.cb),D.ac==null||D.ac(D)){D.ob&&(C.L=0);var z=Iu[C.L];if(C.L==2?(C.yb=0,C.zb=0):(C.yb=D.v-z>>4,C.zb=D.j-z>>4,0>C.yb&&(C.yb=0),0>C.zb&&(C.zb=0)),C.Va=D.o+15+z>>4,C.Hb=D.va+15+z>>4,C.Hb>C.za&&(C.Hb=C.za),C.Va>C.Ub&&(C.Va=C.Ub),0<C.L){var G=C.ed;for(z=0;4>z;++z){var te;if(C.Qa.Cb){var ae=C.Qa.Lb[z];C.Qa.Fb||(ae+=G.Tb)}else ae=G.Tb;for(te=0;1>=te;++te){var ue=C.gd[z][te],pe=ae;if(G.Pc&&(pe+=G.vd[0],te&&(pe+=G.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var ve=pe;0<G.wb&&(ve=4<G.wb?ve>>2:ve>>1)>9-G.wb&&(ve=9-G.wb),1>ve&&(ve=1),ue.dd=ve,ue.tc=2*pe+ve,ue.ld=40<=pe?2:15<=pe?1:0}else ue.tc=0;ue.La=te}}}z=0}else pr(C,6,"Frame setup failed"),z=C.a;if(z=z==0){if(z){C.$c=0,0<C.Aa||(C.Ic=Rl);e:{z=C.Ic,G=4*(ve=C.za);var xe=32*ve,Pe=ve+1,ze=0<C.L?ve*(0<C.Aa?2:1):0,Ue=(C.Aa==2?2:1)*ve;if((ue=G+832+(te=3*(16*z+Iu[C.L])/2*xe)+(ae=C.Fa!=null&&0<C.Fa.length?C.Kc.c*C.Kc.i:0))!=ue)z=0;else{if(ue>C.Vb){if(C.Vb=0,C.Ec=s(ue),C.Fc=0,C.Ec==null){z=pr(C,1,"no memory during frame initialization.");break e}C.Vb=ue}ue=C.Ec,pe=C.Fc,C.Ac=ue,C.Bc=pe,pe+=G,C.Gd=o(xe,Da),C.Hd=0,C.rb=o(Pe+1,la),C.sb=1,C.wa=ze?o(ze,Do):null,C.Y=0,C.D.Nb=0,C.D.wa=C.wa,C.D.Y=C.Y,0<C.Aa&&(C.D.Y+=ve),e(!0),C.oc=ue,C.pc=pe,pe+=832,C.ya=o(Ue,yl),C.aa=0,C.D.ya=C.ya,C.D.aa=C.aa,C.Aa==2&&(C.D.aa+=ve),C.R=16*ve,C.B=8*ve,ve=(xe=Iu[C.L])*C.R,xe=xe/2*C.B,C.sa=ue,C.ta=pe+ve,C.qa=C.sa,C.ra=C.ta+16*z*C.R+xe,C.Ha=C.qa,C.Ia=C.ra+8*z*C.B+xe,C.$c=0,pe+=te,C.mb=ae?ue:null,C.nb=ae?pe:null,e(pe+ae<=C.Fc+C.Vb),Ra(C),i(C.Ac,C.Bc,0,G),z=1}}if(z){if(D.ka=0,D.y=C.sa,D.O=C.ta,D.f=C.qa,D.N=C.ra,D.ea=C.Ha,D.Vd=C.Ia,D.fa=C.R,D.Rc=C.B,D.F=null,D.J=0,!ah){for(z=-255;255>=z;++z)Wr[255+z]=0>z?-z:z;for(z=-1020;1020>=z;++z)Wa[1020+z]=-128>z?-128:127<z?127:z;for(z=-112;112>=z;++z)Nd[112+z]=-16>z?-16:15<z?15:z;for(z=-255;510>=z;++z)_u[255+z]=0>z?0:255<z?255:z;ah=1}Pd=wn,kl=Fa,Pl=ca,Ui=Zn,ho=ua,Un=Oa,Eu=Cl,oh=Er,Su=jo,Cu=xu,Au=uo,po=fa,Nl=za,Ha=Bo,Ll=Vi,Il=us,Cc=Ir,Ai=yu,zo[0]=Fo,zo[1]=vd,zo[2]=Ls,zo[3]=Oo,zo[4]=gu,zo[5]=gc,zo[6]=Ei,zo[7]=vc,zo[8]=El,zo[9]=da,gs[0]=ao,gs[1]=yd,gs[2]=Mo,gs[3]=wl,gs[4]=Bn,gs[5]=lo,gs[6]=Ns,Ds[0]=Bi,Ds[1]=mc,Ds[2]=xd,Ds[3]=cs,Ds[4]=Wn,Ds[5]=Ba,Ds[6]=vu,z=1}else z=0}z&&(z=function(Fe,at){for(Fe.M=0;Fe.M<Fe.Va;++Fe.M){var Ze,Le=Fe.Jc[Fe.M&Fe.Xb],Ie=Fe.m,nt=Fe;for(Ze=0;Ze<nt.za;++Ze){var tt=Ie,rt=nt,At=rt.Ac,wt=rt.Bc+4*Ze,Bt=rt.zc,Et=rt.ya[rt.aa+Ze];if(rt.Qa.Bb?Et.$b=be(tt,rt.Pa.jb[0])?2+be(tt,rt.Pa.jb[2]):be(tt,rt.Pa.jb[1]):Et.$b=0,rt.kc&&(Et.Ad=be(tt,rt.Bd)),Et.Za=!be(tt,145)+0,Et.Za){var Vn=Et.Ob,$n=0;for(rt=0;4>rt;++rt){var Pn,vn=Bt[0+rt];for(Pn=0;4>Pn;++Pn){vn=s5[At[wt+Pn]][vn];for(var rr=Iy[be(tt,vn[0])];0<rr;)rr=Iy[2*rr+be(tt,vn[rr])];vn=-rr,At[wt+Pn]=vn}r(Vn,$n,At,wt,4),$n+=4,Bt[0+rt]=vn}}else vn=be(tt,156)?be(tt,128)?1:3:be(tt,163)?2:0,Et.Ob[0]=vn,i(At,wt,vn,4),i(Bt,0,vn,4);Et.Dd=be(tt,142)?be(tt,114)?be(tt,183)?1:3:2:0}if(nt.m.Ka)return pr(Fe,7,"Premature end-of-partition0 encountered.");for(;Fe.ja<Fe.za;++Fe.ja){if(nt=Le,tt=(Ie=Fe).rb[Ie.sb-1],At=Ie.rb[Ie.sb+Ie.ja],Ze=Ie.ya[Ie.aa+Ie.ja],wt=Ie.kc?Ze.Ad:0)tt.la=At.la=0,Ze.Za||(tt.Na=At.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var or,nn;if(tt=At,At=nt,wt=Ie.Pa.Xc,Bt=Ie.ya[Ie.aa+Ie.ja],Et=Ie.pb[Bt.$b],rt=Bt.ad,Vn=0,$n=Ie.rb[Ie.sb-1],vn=Pn=0,i(rt,Vn,0,384),Bt.Za)var Sr=0,vs=wt[3];else{rr=s(16);var Br=tt.Na+$n.Na;if(Br=Pu(At,wt[1],Br,Et.Eb,0,rr,0),tt.Na=$n.Na=(0<Br)+0,1<Br)Pd(rr,0,rt,Vn);else{var ei=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)rt[Vn+rr]=ei}Sr=1,vs=wt[0]}var Kn=15&tt.la,Hi=15&$n.la;for(rr=0;4>rr;++rr){var Wi=1&Hi;for(ei=nn=0;4>ei;++ei)Kn=Kn>>1|(Wi=(Br=Pu(At,vs,Br=Wi+(1&Kn),Et.Sc,Sr,rt,Vn))>Sr)<<7,nn=nn<<2|(3<Br?3:1<Br?2:rt[Vn+0]!=0),Vn+=16;Kn>>=4,Hi=Hi>>1|Wi<<7,Pn=(Pn<<8|nn)>>>0}for(vs=Kn,Sr=Hi>>4,or=0;4>or;or+=2){for(nn=0,Kn=tt.la>>4+or,Hi=$n.la>>4+or,rr=0;2>rr;++rr){for(Wi=1&Hi,ei=0;2>ei;++ei)Br=Wi+(1&Kn),Kn=Kn>>1|(Wi=0<(Br=Pu(At,wt[2],Br,Et.Qc,0,rt,Vn)))<<3,nn=nn<<2|(3<Br?3:1<Br?2:rt[Vn+0]!=0),Vn+=16;Kn>>=2,Hi=Hi>>1|Wi<<5}vn|=nn<<4*or,vs|=Kn<<4<<or,Sr|=(240&Hi)<<or}tt.la=vs,$n.la=Sr,Bt.Hc=Pn,Bt.Gc=vn,Bt.ia=43690&vn?0:Et.ia,wt=!(Pn|vn)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[Ze.$b][Ze.Za],Ie.wa[Ie.Y+Ie.ja].La|=!wt),nt.Ka)return pr(Fe,7,"Premature end-of-file encountered.")}if(Ra(Fe),Ie=at,nt=1,Ze=(Le=Fe).D,tt=0<Le.L&&Le.M>=Le.zb&&Le.M<=Le.Va,Le.Aa==0)e:{if(Ze.M=Le.M,Ze.uc=tt,ma(Le,Ze),nt=1,Ze=(nn=Le.D).Nb,tt=(vn=Iu[Le.L])*Le.R,At=vn/2*Le.B,rr=16*Ze*Le.R,ei=8*Ze*Le.B,wt=Le.sa,Bt=Le.ta-tt+rr,Et=Le.qa,rt=Le.ra-At+ei,Vn=Le.Ha,$n=Le.Ia-At+ei,Hi=(Kn=nn.M)==0,Pn=Kn>=Le.Va-1,Le.Aa==2&&ma(Le,nn),nn.uc)for(Wi=(Br=Le).D.M,e(Br.D.uc),nn=Br.yb;nn<Br.Hb;++nn){Sr=nn,vs=Wi;var Cr=(ti=(Yn=Br).D).Nb;or=Yn.R;var ti=ti.wa[ti.Y+Sr],Ti=Yn.sa,Fs=Yn.ta+16*Cr*or+16*Sr,Uo=ti.dd,Ar=ti.tc;if(Ar!=0)if(e(3<=Ar),Yn.L==1)0<Sr&&Il(Ti,Fs,or,Ar+4),ti.La&&Ai(Ti,Fs,or,Ar),0<vs&&Ll(Ti,Fs,or,Ar+4),ti.La&&Cc(Ti,Fs,or,Ar);else{var Gr=Yn.B,mo=Yn.qa,kc=Yn.ra+8*Cr*Gr+8*Sr,Ml=Yn.Ha,Yn=Yn.Ia+8*Cr*Gr+8*Sr;Cr=ti.ld,0<Sr&&(oh(Ti,Fs,or,Ar+4,Uo,Cr),Cu(mo,kc,Ml,Yn,Gr,Ar+4,Uo,Cr)),ti.La&&(po(Ti,Fs,or,Ar,Uo,Cr),Ha(mo,kc,Ml,Yn,Gr,Ar,Uo,Cr)),0<vs&&(Eu(Ti,Fs,or,Ar+4,Uo,Cr),Su(mo,kc,Ml,Yn,Gr,Ar+4,Uo,Cr)),ti.La&&(Au(Ti,Fs,or,Ar,Uo,Cr),Nl(mo,kc,Ml,Yn,Gr,Ar,Uo,Cr))}}if(Le.ia&&alert("todo:DitherRow"),Ie.put!=null){if(nn=16*Kn,Kn=16*(Kn+1),Hi?(Ie.y=Le.sa,Ie.O=Le.ta+rr,Ie.f=Le.qa,Ie.N=Le.ra+ei,Ie.ea=Le.Ha,Ie.W=Le.Ia+ei):(nn-=vn,Ie.y=wt,Ie.O=Bt,Ie.f=Et,Ie.N=rt,Ie.ea=Vn,Ie.W=$n),Pn||(Kn-=vn),Kn>Ie.o&&(Kn=Ie.o),Ie.F=null,Ie.J=null,Le.Fa!=null&&0<Le.Fa.length&&nn<Kn&&(Ie.J=wc(Le,Ie,nn,Kn-nn),Ie.F=Le.mb,Ie.F==null&&Ie.F.length==0)){nt=pr(Le,3,"Could not decode alpha data.");break e}nn<Ie.j&&(vn=Ie.j-nn,nn=Ie.j,e(!(1&vn)),Ie.O+=Le.R*vn,Ie.N+=Le.B*(vn>>1),Ie.W+=Le.B*(vn>>1),Ie.F!=null&&(Ie.J+=Ie.width*vn)),nn<Kn&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=nn-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=Kn-nn,nt=Ie.put(Ie))}Ze+1!=Le.Ic||Pn||(r(Le.sa,Le.ta-tt,wt,Bt+16*Le.R,tt),r(Le.qa,Le.ra-At,Et,rt+8*Le.B,At),r(Le.Ha,Le.Ia-At,Vn,$n+8*Le.B,At))}if(!nt)return pr(Fe,6,"Output aborted.")}return 1}(C,D)),D.bc!=null&&D.bc(D),z&=1}return z?(C.cb=0,z):0}function bi(C,D,z,G,te){te=C[D+z+32*G]+(te>>3),C[D+z+32*G]=-256&te?0>te?0:255:te}function pc(C,D,z,G,te,ae){bi(C,D,0,z,G+te),bi(C,D,1,z,G+ae),bi(C,D,2,z,G-ae),bi(C,D,3,z,G-te)}function Lr(C){return(20091*C>>16)+C}function wi(C,D,z,G){var te,ae=0,ue=s(16);for(te=0;4>te;++te){var pe=C[D+0]+C[D+8],ve=C[D+0]-C[D+8],xe=(35468*C[D+4]>>16)-Lr(C[D+12]),Pe=Lr(C[D+4])+(35468*C[D+12]>>16);ue[ae+0]=pe+Pe,ue[ae+1]=ve+xe,ue[ae+2]=ve-xe,ue[ae+3]=pe-Pe,ae+=4,D++}for(te=ae=0;4>te;++te)pe=(C=ue[ae+0]+4)+ue[ae+8],ve=C-ue[ae+8],xe=(35468*ue[ae+4]>>16)-Lr(ue[ae+12]),bi(z,G,0,0,pe+(Pe=Lr(ue[ae+4])+(35468*ue[ae+12]>>16))),bi(z,G,1,0,ve+xe),bi(z,G,2,0,ve-xe),bi(z,G,3,0,pe-Pe),ae++,G+=32}function Oa(C,D,z,G){var te=C[D+0]+4,ae=35468*C[D+4]>>16,ue=Lr(C[D+4]),pe=35468*C[D+1]>>16;pc(z,G,0,te+ue,C=Lr(C[D+1]),pe),pc(z,G,1,te+ae,C,pe),pc(z,G,2,te-ae,C,pe),pc(z,G,3,te-ue,C,pe)}function Fa(C,D,z,G,te){wi(C,D,z,G),te&&wi(C,D+16,z,G+4)}function ca(C,D,z,G){kl(C,D+0,z,G,1),kl(C,D+32,z,G+128,1)}function Zn(C,D,z,G){var te;for(C=C[D+0]+4,te=0;4>te;++te)for(D=0;4>D;++D)bi(z,G,D,te,C)}function ua(C,D,z,G){C[D+0]&&Ui(C,D+0,z,G),C[D+16]&&Ui(C,D+16,z,G+4),C[D+32]&&Ui(C,D+32,z,G+128),C[D+48]&&Ui(C,D+48,z,G+128+4)}function wn(C,D,z,G){var te,ae=s(16);for(te=0;4>te;++te){var ue=C[D+0+te]+C[D+12+te],pe=C[D+4+te]+C[D+8+te],ve=C[D+4+te]-C[D+8+te],xe=C[D+0+te]-C[D+12+te];ae[0+te]=ue+pe,ae[8+te]=ue-pe,ae[4+te]=xe+ve,ae[12+te]=xe-ve}for(te=0;4>te;++te)ue=(C=ae[0+4*te]+3)+ae[3+4*te],pe=ae[1+4*te]+ae[2+4*te],ve=ae[1+4*te]-ae[2+4*te],xe=C-ae[3+4*te],z[G+0]=ue+pe>>3,z[G+16]=xe+ve>>3,z[G+32]=ue-pe>>3,z[G+48]=xe-ve>>3,G+=64}function Ro(C,D,z){var G,te=D-32,ae=ms,ue=255-C[te-1];for(G=0;G<z;++G){var pe,ve=ae,xe=ue+C[D-1];for(pe=0;pe<z;++pe)C[D+pe]=ve[xe+C[te+pe]];D+=32}}function vd(C,D){Ro(C,D,4)}function mc(C,D){Ro(C,D,8)}function yd(C,D){Ro(C,D,16)}function Mo(C,D){var z;for(z=0;16>z;++z)r(C,D+32*z,C,D-32,16)}function wl(C,D){var z;for(z=16;0<z;--z)i(C,D,C[D-1],16),D+=32}function ja(C,D,z){var G;for(G=0;16>G;++G)i(D,z+32*G,C,16)}function ao(C,D){var z,G=16;for(z=0;16>z;++z)G+=C[D-1+32*z]+C[D+z-32];ja(G>>5,C,D)}function Bn(C,D){var z,G=8;for(z=0;16>z;++z)G+=C[D-1+32*z];ja(G>>4,C,D)}function lo(C,D){var z,G=8;for(z=0;16>z;++z)G+=C[D+z-32];ja(G>>4,C,D)}function Ns(C,D){ja(128,C,D)}function $t(C,D,z){return C+2*D+z+2>>2}function Ls(C,D){var z,G=D-32;for(G=new Uint8Array([$t(C[G-1],C[G+0],C[G+1]),$t(C[G+0],C[G+1],C[G+2]),$t(C[G+1],C[G+2],C[G+3]),$t(C[G+2],C[G+3],C[G+4])]),z=0;4>z;++z)r(C,D+32*z,G,0,G.length)}function Oo(C,D){var z=C[D-1],G=C[D-1+32],te=C[D-1+64],ae=C[D-1+96];ge(C,D+0,16843009*$t(C[D-1-32],z,G)),ge(C,D+32,16843009*$t(z,G,te)),ge(C,D+64,16843009*$t(G,te,ae)),ge(C,D+96,16843009*$t(te,ae,ae))}function Fo(C,D){var z,G=4;for(z=0;4>z;++z)G+=C[D+z-32]+C[D-1+32*z];for(G>>=3,z=0;4>z;++z)i(C,D+32*z,G,4)}function gu(C,D){var z=C[D-1+0],G=C[D-1+32],te=C[D-1+64],ae=C[D-1-32],ue=C[D+0-32],pe=C[D+1-32],ve=C[D+2-32],xe=C[D+3-32];C[D+0+96]=$t(G,te,C[D-1+96]),C[D+1+96]=C[D+0+64]=$t(z,G,te),C[D+2+96]=C[D+1+64]=C[D+0+32]=$t(ae,z,G),C[D+3+96]=C[D+2+64]=C[D+1+32]=C[D+0+0]=$t(ue,ae,z),C[D+3+64]=C[D+2+32]=C[D+1+0]=$t(pe,ue,ae),C[D+3+32]=C[D+2+0]=$t(ve,pe,ue),C[D+3+0]=$t(xe,ve,pe)}function Ei(C,D){var z=C[D+1-32],G=C[D+2-32],te=C[D+3-32],ae=C[D+4-32],ue=C[D+5-32],pe=C[D+6-32],ve=C[D+7-32];C[D+0+0]=$t(C[D+0-32],z,G),C[D+1+0]=C[D+0+32]=$t(z,G,te),C[D+2+0]=C[D+1+32]=C[D+0+64]=$t(G,te,ae),C[D+3+0]=C[D+2+32]=C[D+1+64]=C[D+0+96]=$t(te,ae,ue),C[D+3+32]=C[D+2+64]=C[D+1+96]=$t(ae,ue,pe),C[D+3+64]=C[D+2+96]=$t(ue,pe,ve),C[D+3+96]=$t(pe,ve,ve)}function gc(C,D){var z=C[D-1+0],G=C[D-1+32],te=C[D-1+64],ae=C[D-1-32],ue=C[D+0-32],pe=C[D+1-32],ve=C[D+2-32],xe=C[D+3-32];C[D+0+0]=C[D+1+64]=ae+ue+1>>1,C[D+1+0]=C[D+2+64]=ue+pe+1>>1,C[D+2+0]=C[D+3+64]=pe+ve+1>>1,C[D+3+0]=ve+xe+1>>1,C[D+0+96]=$t(te,G,z),C[D+0+64]=$t(G,z,ae),C[D+0+32]=C[D+1+96]=$t(z,ae,ue),C[D+1+32]=C[D+2+96]=$t(ae,ue,pe),C[D+2+32]=C[D+3+96]=$t(ue,pe,ve),C[D+3+32]=$t(pe,ve,xe)}function vc(C,D){var z=C[D+0-32],G=C[D+1-32],te=C[D+2-32],ae=C[D+3-32],ue=C[D+4-32],pe=C[D+5-32],ve=C[D+6-32],xe=C[D+7-32];C[D+0+0]=z+G+1>>1,C[D+1+0]=C[D+0+64]=G+te+1>>1,C[D+2+0]=C[D+1+64]=te+ae+1>>1,C[D+3+0]=C[D+2+64]=ae+ue+1>>1,C[D+0+32]=$t(z,G,te),C[D+1+32]=C[D+0+96]=$t(G,te,ae),C[D+2+32]=C[D+1+96]=$t(te,ae,ue),C[D+3+32]=C[D+2+96]=$t(ae,ue,pe),C[D+3+64]=$t(ue,pe,ve),C[D+3+96]=$t(pe,ve,xe)}function da(C,D){var z=C[D-1+0],G=C[D-1+32],te=C[D-1+64],ae=C[D-1+96];C[D+0+0]=z+G+1>>1,C[D+2+0]=C[D+0+32]=G+te+1>>1,C[D+2+32]=C[D+0+64]=te+ae+1>>1,C[D+1+0]=$t(z,G,te),C[D+3+0]=C[D+1+32]=$t(G,te,ae),C[D+3+32]=C[D+1+64]=$t(te,ae,ae),C[D+3+64]=C[D+2+64]=C[D+0+96]=C[D+1+96]=C[D+2+96]=C[D+3+96]=ae}function El(C,D){var z=C[D-1+0],G=C[D-1+32],te=C[D-1+64],ae=C[D-1+96],ue=C[D-1-32],pe=C[D+0-32],ve=C[D+1-32],xe=C[D+2-32];C[D+0+0]=C[D+2+32]=z+ue+1>>1,C[D+0+32]=C[D+2+64]=G+z+1>>1,C[D+0+64]=C[D+2+96]=te+G+1>>1,C[D+0+96]=ae+te+1>>1,C[D+3+0]=$t(pe,ve,xe),C[D+2+0]=$t(ue,pe,ve),C[D+1+0]=C[D+3+32]=$t(z,ue,pe),C[D+1+32]=C[D+3+64]=$t(G,z,ue),C[D+1+64]=C[D+3+96]=$t(te,G,z),C[D+1+96]=$t(ae,te,G)}function xd(C,D){var z;for(z=0;8>z;++z)r(C,D+32*z,C,D-32,8)}function cs(C,D){var z;for(z=0;8>z;++z)i(C,D,C[D-1],8),D+=32}function Si(C,D,z){var G;for(G=0;8>G;++G)i(D,z+32*G,C,8)}function Bi(C,D){var z,G=8;for(z=0;8>z;++z)G+=C[D+z-32]+C[D-1+32*z];Si(G>>4,C,D)}function Ba(C,D){var z,G=4;for(z=0;8>z;++z)G+=C[D+z-32];Si(G>>3,C,D)}function Wn(C,D){var z,G=4;for(z=0;8>z;++z)G+=C[D-1+32*z];Si(G>>3,C,D)}function vu(C,D){Si(128,C,D)}function Va(C,D,z){var G=C[D-z],te=C[D+0],ae=3*(te-G)+Ga[1020+C[D-2*z]-C[D+z]],ue=Ld[112+(ae+4>>3)];C[D-z]=ms[255+G+Ld[112+(ae+3>>3)]],C[D+0]=ms[255+te-ue]}function $a(C,D,z,G){var te=C[D+0],ae=C[D+z];return $o[255+C[D-2*z]-C[D-z]]>G||$o[255+ae-te]>G}function Sl(C,D,z,G){return 4*$o[255+C[D-z]-C[D+0]]+$o[255+C[D-2*z]-C[D+z]]<=G}function yc(C,D,z,G,te){var ae=C[D-3*z],ue=C[D-2*z],pe=C[D-z],ve=C[D+0],xe=C[D+z],Pe=C[D+2*z],ze=C[D+3*z];return 4*$o[255+pe-ve]+$o[255+ue-xe]>G?0:$o[255+C[D-4*z]-ae]<=te&&$o[255+ae-ue]<=te&&$o[255+ue-pe]<=te&&$o[255+ze-Pe]<=te&&$o[255+Pe-xe]<=te&&$o[255+xe-ve]<=te}function Vi(C,D,z,G){var te=2*G+1;for(G=0;16>G;++G)Sl(C,D+G,z,te)&&Va(C,D+G,z)}function us(C,D,z,G){var te=2*G+1;for(G=0;16>G;++G)Sl(C,D+G*z,1,te)&&Va(C,D+G*z,1)}function Ir(C,D,z,G){var te;for(te=3;0<te;--te)Vi(C,D+=4*z,z,G)}function yu(C,D,z,G){var te;for(te=3;0<te;--te)us(C,D+=4,z,G)}function co(C,D,z,G,te,ae,ue,pe){for(ae=2*ae+1;0<te--;){if(yc(C,D,z,ae,ue))if($a(C,D,z,pe))Va(C,D,z);else{var ve=C,xe=D,Pe=z,ze=ve[xe-2*Pe],Ue=ve[xe-Pe],Fe=ve[xe+0],at=ve[xe+Pe],Ze=ve[xe+2*Pe],Le=27*(nt=Ga[1020+3*(Fe-Ue)+Ga[1020+ze-at]])+63>>7,Ie=18*nt+63>>7,nt=9*nt+63>>7;ve[xe-3*Pe]=ms[255+ve[xe-3*Pe]+nt],ve[xe-2*Pe]=ms[255+ze+Ie],ve[xe-Pe]=ms[255+Ue+Le],ve[xe+0]=ms[255+Fe-Le],ve[xe+Pe]=ms[255+at-Ie],ve[xe+2*Pe]=ms[255+Ze-nt]}D+=G}}function Hr(C,D,z,G,te,ae,ue,pe){for(ae=2*ae+1;0<te--;){if(yc(C,D,z,ae,ue))if($a(C,D,z,pe))Va(C,D,z);else{var ve=C,xe=D,Pe=z,ze=ve[xe-Pe],Ue=ve[xe+0],Fe=ve[xe+Pe],at=Ld[112+((Ze=3*(Ue-ze))+4>>3)],Ze=Ld[112+(Ze+3>>3)],Le=at+1>>1;ve[xe-2*Pe]=ms[255+ve[xe-2*Pe]+Le],ve[xe-Pe]=ms[255+ze+Ze],ve[xe+0]=ms[255+Ue-at],ve[xe+Pe]=ms[255+Fe-Le]}D+=G}}function Cl(C,D,z,G,te,ae){co(C,D,z,1,16,G,te,ae)}function Er(C,D,z,G,te,ae){co(C,D,1,z,16,G,te,ae)}function uo(C,D,z,G,te,ae){var ue;for(ue=3;0<ue;--ue)Hr(C,D+=4*z,z,1,16,G,te,ae)}function fa(C,D,z,G,te,ae){var ue;for(ue=3;0<ue;--ue)Hr(C,D+=4,1,z,16,G,te,ae)}function jo(C,D,z,G,te,ae,ue,pe){co(C,D,te,1,8,ae,ue,pe),co(z,G,te,1,8,ae,ue,pe)}function xu(C,D,z,G,te,ae,ue,pe){co(C,D,1,te,8,ae,ue,pe),co(z,G,1,te,8,ae,ue,pe)}function za(C,D,z,G,te,ae,ue,pe){Hr(C,D+4*te,te,1,8,ae,ue,pe),Hr(z,G+4*te,te,1,8,ae,ue,pe)}function Bo(C,D,z,G,te,ae,ue,pe){Hr(C,D+4,1,te,8,ae,ue,pe),Hr(z,G+4,1,te,8,ae,ue,pe)}function fo(){this.ba=new Qn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Yt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ha(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ua(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xc(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new M}function bd(){this.xb=this.a=0,this.l=new xl,this.ca=new Qn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xc,this.ab=0,this.gc=o(4,Ua),this.Oc=0}function pa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vo(C,D,z,G,te,ae,ue){for(C=C==null?0:C[D+0],D=0;D<ue;++D)te[ae+D]=C+z[G+D]&255,C=te[ae+D]}function bc(C,D,z,G,te,ae,ue){var pe;if(C==null)Vo(null,null,z,G,te,ae,ue);else for(pe=0;pe<ue;++pe)te[ae+pe]=C[D+pe]+z[G+pe]&255}function $i(C,D,z,G,te,ae,ue){if(C==null)Vo(null,null,z,G,te,ae,ue);else{var pe,ve=C[D+0],xe=ve,Pe=ve;for(pe=0;pe<ue;++pe)xe=Pe+(ve=C[D+pe])-xe,Pe=z[G+pe]+(-256&xe?0>xe?0:255:xe)&255,xe=ve,te[ae+pe]=Pe}}function wc(C,D,z,G){var te=D.width,ae=D.o;if(e(C!=null&&D!=null),0>z||0>=G||z+G>ae)return null;if(!C.Cc){if(C.ga==null){var ue;if(C.ga=new pa,(ue=C.ga==null)||(ue=D.width*D.o,e(C.Gb.length==0),C.Gb=s(ue),C.Uc=0,C.Gb==null?ue=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,ue=1),ue=!ue),!ue){ue=C.ga;var pe=C.Fa,ve=C.P,xe=C.qc,Pe=C.mb,ze=C.nb,Ue=ve+1,Fe=xe-1,at=ue.l;if(e(pe!=null&&Pe!=null&&D!=null),qi[0]=null,qi[1]=Vo,qi[2]=bc,qi[3]=$i,ue.ca=Pe,ue.tb=ze,ue.c=D.width,ue.i=D.height,e(0<ue.c&&0<ue.i),1>=xe)D=0;else if(ue.$a=pe[ve+0]>>0&3,ue.Z=pe[ve+0]>>2&3,ue.Lc=pe[ve+0]>>4&3,ve=pe[ve+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ve)D=0;else if(at.put=Tn,at.ac=hn,at.bc=fr,at.ma=ue,at.width=D.width,at.height=D.height,at.Da=D.Da,at.v=D.v,at.va=D.va,at.j=D.j,at.o=D.o,ue.$a)e:{e(ue.$a==1),D=Nr();t:for(;;){if(D==null){D=0;break e}if(e(ue!=null),ue.mc=D,D.c=ue.c,D.i=ue.i,D.l=ue.l,D.l.ma=ue,D.l.width=ue.c,D.l.height=ue.i,D.a=0,Y(D.m,pe,Ue,Fe),!oo(ue.c,ue.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&as(D.s)?(ue.ic=1,pe=D.c*D.i,D.Ta=null,D.Ua=0,D.V=s(pe),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(ue.ic=0,D=sa(D,ue.c)),!D))break t;D=1;break e}ue.mc=null,D=0}else D=Fe>=ue.c*ue.i;ue=!D}if(ue)return null;C.ga.Lc!=1?C.Ga=0:G=ae-z}e(C.ga!=null),e(z+G<=ae);e:{if(D=(pe=C.ga).c,ae=pe.l.o,pe.$a==0){if(Ue=C.rc,Fe=C.Vc,at=C.Fa,ve=C.P+1+z*D,xe=C.mb,Pe=C.nb+z*D,e(ve<=C.P+C.qc),pe.Z!=0)for(e(qi[pe.Z]!=null),ue=0;ue<G;++ue)qi[pe.Z](Ue,Fe,at,ve,xe,Pe,D),Ue=xe,Fe=Pe,Pe+=D,ve+=D;else for(ue=0;ue<G;++ue)r(xe,Pe,at,ve,D),Ue=xe,Fe=Pe,Pe+=D,ve+=D;C.rc=Ue,C.Vc=Fe}else{if(e(pe.mc!=null),D=z+G,e((ue=pe.mc)!=null),e(D<=ue.i),ue.C>=D)D=1;else if(pe.ic||Ve(),pe.ic){pe=ue.V,Ue=ue.Ba,Fe=ue.c;var Ze=ue.i,Le=(at=1,ve=ue.$/Fe,xe=ue.$%Fe,Pe=ue.m,ze=ue.s,ue.$),Ie=Fe*Ze,nt=Fe*D,tt=ze.wc,rt=Le<nt?Dn(ze,xe,ve):null;e(Le<=Ie),e(D<=Ze),e(as(ze));t:for(;;){for(;!Pe.h&&Le<nt;){if(xe&tt||(rt=Dn(ze,xe,ve)),e(rt!=null),re(Pe),256>(Ze=yn(rt.G[0],rt.H[0],Pe)))pe[Ue+Le]=Ze,++Le,++xe>=Fe&&(xe=0,++ve<=D&&!(ve%16)&&ks(ue,ve));else{if(!(280>Ze)){at=0;break t}Ze=Ct(Ze-256,Pe);var At,wt=yn(rt.G[4],rt.H[4],Pe);if(re(Pe),!(Le>=(wt=rn(Fe,wt=Ct(wt,Pe)))&&Ie-Le>=Ze)){at=0;break t}for(At=0;At<Ze;++At)pe[Ue+Le+At]=pe[Ue+Le+At-wt];for(Le+=Ze,xe+=Ze;xe>=Fe;)xe-=Fe,++ve<=D&&!(ve%16)&&ks(ue,ve);Le<nt&&xe&tt&&(rt=Dn(ze,xe,ve))}e(Pe.h==J(Pe))}ks(ue,ve>D?D:ve);break t}!at||Pe.h&&Le<Ie?(at=0,ue.a=Pe.h?5:3):ue.$=Le,D=at}else D=jr(ue,ue.V,ue.Ba,ue.c,ue.i,D,oa);if(!D){G=0;break e}}z+G>=ae&&(C.Cc=1),G=1}if(!G)return null;if(C.Cc&&((G=C.ga)!=null&&(G.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+z*te}function j(C,D,z,G,te,ae){for(;0<te--;){var ue,pe=C,ve=D+(z?1:0),xe=C,Pe=D+(z?0:3);for(ue=0;ue<G;++ue){var ze=xe[Pe+4*ue];ze!=255&&(ze*=32897,pe[ve+4*ue+0]=pe[ve+4*ue+0]*ze>>23,pe[ve+4*ue+1]=pe[ve+4*ue+1]*ze>>23,pe[ve+4*ue+2]=pe[ve+4*ue+2]*ze>>23)}D+=ae}}function ie(C,D,z,G,te){for(;0<G--;){var ae;for(ae=0;ae<z;++ae){var ue=C[D+2*ae+0],pe=15&(xe=C[D+2*ae+1]),ve=4369*pe,xe=(240&xe|xe>>4)*ve>>16;C[D+2*ae+0]=(240&ue|ue>>4)*ve>>16&240|(15&ue|ue<<4)*ve>>16>>4&15,C[D+2*ae+1]=240&xe|pe}D+=te}}function Ee(C,D,z,G,te,ae,ue,pe){var ve,xe,Pe=255;for(xe=0;xe<te;++xe){for(ve=0;ve<G;++ve){var ze=C[D+ve];ae[ue+4*ve]=ze,Pe&=ze}D+=z,ue+=pe}return Pe!=255}function Te(C,D,z,G,te){var ae;for(ae=0;ae<te;++ae)z[G+ae]=C[D+ae]>>8}function Ve(){Is=j,cr=ie,tr=Ee,Rr=Te}function et(C,D,z){S[C]=function(G,te,ae,ue,pe,ve,xe,Pe,ze,Ue,Fe,at,Ze,Le,Ie,nt,tt){var rt,At=tt-1>>1,wt=pe[ve+0]|xe[Pe+0]<<16,Bt=ze[Ue+0]|Fe[at+0]<<16;e(G!=null);var Et=3*wt+Bt+131074>>2;for(D(G[te+0],255&Et,Et>>16,Ze,Le),ae!=null&&(Et=3*Bt+wt+131074>>2,D(ae[ue+0],255&Et,Et>>16,Ie,nt)),rt=1;rt<=At;++rt){var Vn=pe[ve+rt]|xe[Pe+rt]<<16,$n=ze[Ue+rt]|Fe[at+rt]<<16,Pn=wt+Vn+Bt+$n+524296,vn=Pn+2*(Vn+Bt)>>3;Et=vn+wt>>1,wt=(Pn=Pn+2*(wt+$n)>>3)+Vn>>1,D(G[te+2*rt-1],255&Et,Et>>16,Ze,Le+(2*rt-1)*z),D(G[te+2*rt-0],255&wt,wt>>16,Ze,Le+(2*rt-0)*z),ae!=null&&(Et=Pn+Bt>>1,wt=vn+$n>>1,D(ae[ue+2*rt-1],255&Et,Et>>16,Ie,nt+(2*rt-1)*z),D(ae[ue+2*rt+0],255&wt,wt>>16,Ie,nt+(2*rt+0)*z)),wt=Vn,Bt=$n}1&tt||(Et=3*wt+Bt+131074>>2,D(G[te+tt-1],255&Et,Et>>16,Ze,Le+(tt-1)*z),ae!=null&&(Et=3*Bt+wt+131074>>2,D(ae[ue+tt-1],255&Et,Et>>16,Ie,nt+(tt-1)*z)))}}function ut(){Rs[Pp]=a5,Rs[Ac]=_c,Rs[Py]=l5,Rs[lh]=Md,Rs[ch]=Nu,Rs[ur]=ph,Rs[Np]=Fg,Rs[Id]=_c,Rs[Tu]=Md,Rs[uh]=Nu,Rs[dh]=ph}function bt(C){return C&-16384?0>C?0:255:C>>Tc}function _(C,D){return bt((19077*C>>8)+(26149*D>>8)-14234)}function U(C,D,z){return bt((19077*C>>8)-(6419*D>>8)-(13320*z>>8)+8708)}function X(C,D){return bt((19077*C>>8)+(33050*D>>8)-17685)}function me(C,D,z,G,te){G[te+0]=_(C,z),G[te+1]=U(C,D,z),G[te+2]=X(C,D)}function Oe(C,D,z,G,te){G[te+0]=X(C,D),G[te+1]=U(C,D,z),G[te+2]=_(C,z)}function Ke(C,D,z,G,te){var ae=U(C,D,z);D=ae<<3&224|X(C,D)>>3,G[te+0]=248&_(C,z)|ae>>5,G[te+1]=D}function ft(C,D,z,G,te){var ae=240&X(C,D)|15;G[te+0]=240&_(C,z)|U(C,D,z)>>4,G[te+1]=ae}function on(C,D,z,G,te){G[te+0]=255,me(C,D,z,G,te+1)}function Cn(C,D,z,G,te){Oe(C,D,z,G,te),G[te+3]=255}function an(C,D,z,G,te){me(C,D,z,G,te),G[te+3]=255}function Gn(C,D){return 0>C?0:C>D?D:C}function er(C,D,z){S[C]=function(G,te,ae,ue,pe,ve,xe,Pe,ze){for(var Ue=Pe+(-2&ze)*z;Pe!=Ue;)D(G[te+0],ae[ue+0],pe[ve+0],xe,Pe),D(G[te+1],ae[ue+0],pe[ve+0],xe,Pe+z),te+=2,++ue,++ve,Pe+=2*z;1&ze&&D(G[te+0],ae[ue+0],pe[ve+0],xe,Pe)}}function ds(C,D,z){return z==0?C==0?D==0?6:5:D==0?4:0:z}function Ci(C,D,z,G,te){switch(C>>>30){case 3:kl(D,z,G,te,0);break;case 2:Un(D,z,G,te);break;case 1:Ui(D,z,G,te)}}function ma(C,D){var z,G,te=D.M,ae=D.Nb,ue=C.oc,pe=C.pc+40,ve=C.oc,xe=C.pc+584,Pe=C.oc,ze=C.pc+600;for(z=0;16>z;++z)ue[pe+32*z-1]=129;for(z=0;8>z;++z)ve[xe+32*z-1]=129,Pe[ze+32*z-1]=129;for(0<te?ue[pe-1-32]=ve[xe-1-32]=Pe[ze-1-32]=129:(i(ue,pe-32-1,127,21),i(ve,xe-32-1,127,9),i(Pe,ze-32-1,127,9)),G=0;G<C.za;++G){var Ue=D.ya[D.aa+G];if(0<G){for(z=-1;16>z;++z)r(ue,pe+32*z-4,ue,pe+32*z+12,4);for(z=-1;8>z;++z)r(ve,xe+32*z-4,ve,xe+32*z+4,4),r(Pe,ze+32*z-4,Pe,ze+32*z+4,4)}var Fe=C.Gd,at=C.Hd+G,Ze=Ue.ad,Le=Ue.Hc;if(0<te&&(r(ue,pe-32,Fe[at].y,0,16),r(ve,xe-32,Fe[at].f,0,8),r(Pe,ze-32,Fe[at].ea,0,8)),Ue.Za){var Ie=ue,nt=pe-32+16;for(0<te&&(G>=C.za-1?i(Ie,nt,Fe[at].y[15],4):r(Ie,nt,Fe[at+1].y,0,4)),z=0;4>z;z++)Ie[nt+128+z]=Ie[nt+256+z]=Ie[nt+384+z]=Ie[nt+0+z];for(z=0;16>z;++z,Le<<=2)Ie=ue,nt=pe+jg[z],zo[Ue.Ob[z]](Ie,nt),Ci(Le,Ze,16*+z,Ie,nt)}else if(Ie=ds(G,te,Ue.Ob[0]),gs[Ie](ue,pe),Le!=0)for(z=0;16>z;++z,Le<<=2)Ci(Le,Ze,16*+z,ue,pe+jg[z]);for(z=Ue.Gc,Ie=ds(G,te,Ue.Dd),Ds[Ie](ve,xe),Ds[Ie](Pe,ze),Le=Ze,Ie=ve,nt=xe,255&(Ue=z>>0)&&(170&Ue?Pl(Le,256,Ie,nt):ho(Le,256,Ie,nt)),Ue=Pe,Le=ze,255&(z>>=8)&&(170&z?Pl(Ze,320,Ue,Le):ho(Ze,320,Ue,Le)),te<C.Ub-1&&(r(Fe[at].y,0,ue,pe+480,16),r(Fe[at].f,0,ve,xe+224,8),r(Fe[at].ea,0,Pe,ze+224,8)),z=8*ae*C.B,Fe=C.sa,at=C.ta+16*G+16*ae*C.R,Ze=C.qa,Ue=C.ra+8*G+z,Le=C.Ha,Ie=C.Ia+8*G+z,z=0;16>z;++z)r(Fe,at+z*C.R,ue,pe+32*z,16);for(z=0;8>z;++z)r(Ze,Ue+z*C.B,ve,xe+32*z,8),r(Le,Ie+z*C.B,Pe,ze+32*z,8)}}function ga(C,D,z,G,te,ae,ue,pe,ve){var xe=[0],Pe=[0],ze=0,Ue=ve!=null?ve.kd:0,Fe=ve??new ha;if(C==null||12>z)return 7;Fe.data=C,Fe.w=D,Fe.ha=z,D=[D],z=[z],Fe.gb=[Fe.gb];e:{var at=D,Ze=z,Le=Fe.gb;if(e(C!=null),e(Ze!=null),e(Le!=null),Le[0]=0,12<=Ze[0]&&!n(C,at[0],"RIFF")){if(n(C,at[0]+8,"WEBP")){Le=3;break e}var Ie=_e(C,at[0]+4);if(12>Ie||4294967286<Ie){Le=3;break e}if(Ue&&Ie>Ze[0]-8){Le=7;break e}Le[0]=Ie,at[0]+=12,Ze[0]-=12}Le=0}if(Le!=0)return Le;for(Ie=0<Fe.gb[0],z=z[0];;){e:{var nt=C;Ze=D,Le=z;var tt=xe,rt=Pe,At=at=[0];if((Et=ze=[ze])[0]=0,8>Le[0])Le=7;else{if(!n(nt,Ze[0],"VP8X")){if(_e(nt,Ze[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var wt=_e(nt,Ze[0]+8),Bt=1+Be(nt,Ze[0]+12);if(2147483648<=Bt*(nt=1+Be(nt,Ze[0]+15))){Le=3;break e}At!=null&&(At[0]=wt),tt!=null&&(tt[0]=Bt),rt!=null&&(rt[0]=nt),Ze[0]+=18,Le[0]-=18,Et[0]=1}Le=0}}if(ze=ze[0],at=at[0],Le!=0)return Le;if(Ze=!!(2&at),!Ie&&ze)return 3;if(ae!=null&&(ae[0]=!!(16&at)),ue!=null&&(ue[0]=Ze),pe!=null&&(pe[0]=0),ue=xe[0],at=Pe[0],ze&&Ze&&ve==null){Le=0;break}if(4>z){Le=7;break}if(Ie&&ze||!Ie&&!ze&&!n(C,D[0],"ALPH")){z=[z],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{wt=C,Le=D,Ie=z;var Et=Fe.gb;tt=Fe.na,rt=Fe.P,At=Fe.Sa,Bt=22,e(wt!=null),e(Ie!=null),nt=Le[0];var Vn=Ie[0];for(e(tt!=null),e(At!=null),tt[0]=null,rt[0]=null,At[0]=0;;){if(Le[0]=nt,Ie[0]=Vn,8>Vn){Le=7;break e}var $n=_e(wt,nt+4);if(4294967286<$n){Le=3;break e}var Pn=8+$n+1&-2;if(Bt+=Pn,0<Et&&Bt>Et){Le=3;break e}if(!n(wt,nt,"VP8 ")||!n(wt,nt,"VP8L")){Le=0;break e}if(Vn[0]<Pn){Le=7;break e}n(wt,nt,"ALPH")||(tt[0]=wt,rt[0]=nt+8,At[0]=$n),nt+=Pn,Vn-=Pn}}if(z=z[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Le!=0)break}z=[z],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Et=C,Le=D,Ie=z,tt=Fe.gb[0],rt=Fe.Ja,At=Fe.xa,wt=Le[0],nt=!n(Et,wt,"VP8 "),Bt=!n(Et,wt,"VP8L"),e(Et!=null),e(Ie!=null),e(rt!=null),e(At!=null),8>Ie[0])Le=7;else{if(nt||Bt){if(Et=_e(Et,wt+4),12<=tt&&Et>tt-12){Le=3;break e}if(Ue&&Et>Ie[0]-8){Le=7;break e}rt[0]=Et,Le[0]+=8,Ie[0]-=8,At[0]=Bt}else At[0]=5<=Ie[0]&&Et[wt+0]==47&&!(Et[wt+4]>>5),rt[0]=Ie[0];Le=0}if(z=z[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],D=D[0],Le!=0)break;if(4294967286<Fe.Ja)return 3;if(pe==null||Ze||(pe[0]=Fe.xa?2:1),ue=[ue],at=[at],Fe.xa){if(5>z){Le=7;break}pe=ue,Ue=at,Ze=ae,C==null||5>z?C=0:5<=z&&C[D+0]==47&&!(C[D+4]>>5)?(Ie=[0],Et=[0],tt=[0],Y(rt=new V,C,D,z),gt(rt,Ie,Et,tt)?(pe!=null&&(pe[0]=Ie[0]),Ue!=null&&(Ue[0]=Et[0]),Ze!=null&&(Ze[0]=tt[0]),C=1):C=0):C=0}else{if(10>z){Le=7;break}pe=at,C==null||10>z||!pu(C,D+3,z-3)?C=0:(Ue=C[D+0]|C[D+1]<<8|C[D+2]<<16,Ze=16383&(C[D+7]<<8|C[D+6]),C=16383&(C[D+9]<<8|C[D+8]),1&Ue||3<(Ue>>1&7)||!(Ue>>4&1)||Ue>>5>=Fe.Ja||!Ze||!C?C=0:(ue&&(ue[0]=Ze),pe&&(pe[0]=C),C=1))}if(!C||(ue=ue[0],at=at[0],ze&&(xe[0]!=ue||Pe[0]!=at)))return 3;ve!=null&&(ve[0]=Fe,ve.offset=D-ve.w,e(4294967286>D-ve.w),e(ve.offset==ve.ha-z));break}return Le==0||Le==7&&ze&&ve==null?(ae!=null&&(ae[0]|=Fe.na!=null&&0<Fe.na.length),G!=null&&(G[0]=ue),te!=null&&(te[0]=at),0):Le}function wd(C,D,z){var G=D.width,te=D.height,ae=0,ue=0,pe=G,ve=te;if(D.Da=C!=null&&0<C.Da,D.Da&&(pe=C.cd,ve=C.bd,ae=C.v,ue=C.j,11>z||(ae&=-2,ue&=-2),0>ae||0>ue||0>=pe||0>=ve||ae+pe>G||ue+ve>te))return 0;if(D.v=ae,D.j=ue,D.va=ae+pe,D.o=ue+ve,D.U=pe,D.T=ve,D.da=C!=null&&0<C.da,D.da){if(!Je(pe,ve,z=[C.ib],ae=[C.hb]))return 0;D.ib=z[0],D.hb=ae[0]}return D.ob=C!=null&&C.ob,D.Kb=C==null||!C.Sd,D.da&&(D.ob=D.ib<3*G/4&&D.hb<3*te/4,D.Kb=0),1}function Ed(C){if(C==null)return 2;if(11>C.S){var D=C.f.RGBA;D.fb+=(C.height-1)*D.A,D.A=-D.A}else D=C.f.kb,C=C.height,D.O+=(C-1)*D.fa,D.fa=-D.fa,D.N+=(C-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(C-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(C-1)*D.lb,D.lb=-D.lb);return 0}function bu(C,D,z,G){if(G==null||0>=C||0>=D)return 2;if(z!=null){if(z.Da){var te=z.cd,ae=z.bd,ue=-2&z.v,pe=-2&z.j;if(0>ue||0>pe||0>=te||0>=ae||ue+te>C||pe+ae>D)return 2;C=te,D=ae}if(z.da){if(!Je(C,D,te=[z.ib],ae=[z.hb]))return 2;C=te[0],D=ae[0]}}G.width=C,G.height=D;e:{var ve=G.width,xe=G.height;if(C=G.S,0>=ve||0>=xe||!(C>=Pp&&13>C))C=2;else{if(0>=G.Rd&&G.sd==null){ue=ae=te=D=0;var Pe=(pe=ve*mh[C])*xe;if(11>C||(ae=(xe+1)/2*(D=(ve+1)/2),C==12&&(ue=(te=ve)*xe)),(xe=s(Pe+2*ae+ue))==null){C=1;break e}G.sd=xe,11>C?((ve=G.f.RGBA).eb=xe,ve.fb=0,ve.A=pe,ve.size=Pe):((ve=G.f.kb).y=xe,ve.O=0,ve.fa=pe,ve.Fd=Pe,ve.f=xe,ve.N=0+Pe,ve.Ab=D,ve.Cd=ae,ve.ea=xe,ve.W=0+Pe+ae,ve.Db=D,ve.Ed=ae,C==12&&(ve.F=xe,ve.J=0+Pe+2*ae),ve.Tc=ue,ve.lb=te)}if(D=1,te=G.S,ae=G.width,ue=G.height,te>=Pp&&13>te)if(11>te)C=G.f.RGBA,D&=(pe=Math.abs(C.A))*(ue-1)+ae<=C.size,D&=pe>=ae*mh[te],D&=C.eb!=null;else{C=G.f.kb,pe=(ae+1)/2,Pe=(ue+1)/2,ve=Math.abs(C.fa),xe=Math.abs(C.Ab);var ze=Math.abs(C.Db),Ue=Math.abs(C.lb),Fe=Ue*(ue-1)+ae;D&=ve*(ue-1)+ae<=C.Fd,D&=xe*(Pe-1)+pe<=C.Cd,D=(D&=ze*(Pe-1)+pe<=C.Ed)&ve>=ae&xe>=pe&ze>=pe,D&=C.y!=null,D&=C.f!=null,D&=C.ea!=null,te==12&&(D&=Ue>=ae,D&=Fe<=C.Tc,D&=C.F!=null)}else D=0;C=D?0:2}}return C!=0||z!=null&&z.fd&&(C=Ed(G)),C}var Dr=64,Sd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cd=24,Ad=32,_d=8,fs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(C){return C},S.Predictor2=function(C,D,z){return D[z+0]},S.Predictor3=function(C,D,z){return D[z+1]},S.Predictor4=function(C,D,z){return D[z-1]},S.Predictor5=function(C,D,z){return de(de(C,D[z+1]),D[z+0])},S.Predictor6=function(C,D,z){return de(C,D[z-1])},S.Predictor7=function(C,D,z){return de(C,D[z+0])},S.Predictor8=function(C,D,z){return de(D[z-1],D[z+0])},S.Predictor9=function(C,D,z){return de(D[z+0],D[z+1])},S.Predictor10=function(C,D,z){return de(de(C,D[z-1]),de(D[z+0],D[z+1]))},S.Predictor11=function(C,D,z){var G=D[z+0];return 0>=Ye(G>>24&255,C>>24&255,(D=D[z-1])>>24&255)+Ye(G>>16&255,C>>16&255,D>>16&255)+Ye(G>>8&255,C>>8&255,D>>8&255)+Ye(255&G,255&C,255&D)?G:C},S.Predictor12=function(C,D,z){var G=D[z+0];return(we((C>>24&255)+(G>>24&255)-((D=D[z-1])>>24&255))<<24|we((C>>16&255)+(G>>16&255)-(D>>16&255))<<16|we((C>>8&255)+(G>>8&255)-(D>>8&255))<<8|we((255&C)+(255&G)-(255&D)))>>>0},S.Predictor13=function(C,D,z){var G=D[z-1];return(ke((C=de(C,D[z+0]))>>24&255,G>>24&255)<<24|ke(C>>16&255,G>>16&255)<<16|ke(C>>8&255,G>>8&255)<<8|ke(C>>0&255,G>>0&255))>>>0};var wu=S.PredictorAdd0;S.PredictorAdd1=$e,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var Al=S.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var kp,hs=S.ColorIndexInverseTransform,Td=S.MapARGB,sh=S.VP8LColorIndexInverseTransformAlpha,kd=S.MapAlpha,qa=S.VP8LPredictorsAdd=[];qa.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Ec,ps,zi,Sc,_l,Tl,Pd,kl,Un,Pl,Ui,ho,Eu,oh,Su,Cu,Au,po,Nl,Ha,Ll,Il,Cc,Ai,Is,cr,tr,Rr,Wr=s(511),Wa=s(2041),Nd=s(225),_u=s(767),ah=0,Ga=Wa,Ld=Nd,ms=_u,$o=Wr,Pp=0,Ac=1,Py=2,lh=3,ch=4,ur=5,Np=6,Id=7,Tu=8,uh=9,dh=10,fh=[2,3,7],Lp=[3,3,11],ku=[280,256,256,256,40],Ny=[0,1,1,1,0],r5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],i5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ly=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ip=8,Dd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Pu=null,Rg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Mg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Iy=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],s5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],o5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Og=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gs=[],zo=[],Ds=[],Ka=1,Rd=2,qi=[],Rs=[];et("UpsampleRgbLinePair",me,3),et("UpsampleBgrLinePair",Oe,3),et("UpsampleRgbaLinePair",an,4),et("UpsampleBgraLinePair",Cn,4),et("UpsampleArgbLinePair",on,4),et("UpsampleRgba4444LinePair",ft,2),et("UpsampleRgb565LinePair",Ke,2);var a5=S.UpsampleRgbLinePair,l5=S.UpsampleBgrLinePair,_c=S.UpsampleRgbaLinePair,Md=S.UpsampleBgraLinePair,Nu=S.UpsampleArgbLinePair,ph=S.UpsampleRgba4444LinePair,Fg=S.UpsampleRgb565LinePair,Dl=16,va=1<<Dl-1,nr=-227,sr=482,Tc=6,_i=0,Ms=s(256),Lu=s(256),Od=s(256),Os=s(256),Dp=s(sr-nr),Ry=s(sr-nr);er("YuvToRgbRow",me,3),er("YuvToBgrRow",Oe,3),er("YuvToRgbaRow",an,4),er("YuvToBgraRow",Cn,4),er("YuvToArgbRow",on,4),er("YuvToRgba4444Row",ft,2),er("YuvToRgb565Row",Ke,2);var jg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Iu=[0,2,8],My=[8,7,6,4,4,2,2,2,1,1,1,1],Rl=1;this.WebPDecodeRGBA=function(C,D,z,G,te){var ae=Ac,ue=new fo,pe=new Qn;ue.ba=pe,pe.S=ae,pe.width=[pe.width],pe.height=[pe.height];var ve=pe.width,xe=pe.height,Pe=new gn;if(Pe==null||C==null)var ze=2;else e(Pe!=null),ze=ga(C,D,z,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(ze!=0?ve=0:(ve!=null&&(ve[0]=Pe.width[0]),xe!=null&&(xe[0]=Pe.height[0]),ve=1),ve){pe.width=pe.width[0],pe.height=pe.height[0],G!=null&&(G[0]=pe.width),te!=null&&(te[0]=pe.height);e:{if(G=new xl,(te=new ha).data=C,te.w=D,te.ha=z,te.kd=1,D=[0],e(te!=null),((C=ga(te.data,te.w,te.ha,null,null,null,D,null,te))==0||C==7)&&D[0]&&(C=4),(D=C)==0){if(e(ue!=null),G.data=te.data,G.w=te.w+te.offset,G.ha=te.ha-te.offset,G.put=Tn,G.ac=hn,G.bc=fr,G.ma=ue,te.xa){if((C=Nr())==null){ue=1;break e}if(function(Ue,Fe){var at=[0],Ze=[0],Le=[0];t:for(;;){if(Ue==null)return 0;if(Fe==null)return Ue.a=2,0;if(Ue.l=Fe,Ue.a=0,Y(Ue.m,Fe.data,Fe.w,Fe.ha),!gt(Ue.m,at,Ze,Le)){Ue.a=3;break t}if(Ue.xb=Rd,Fe.width=at[0],Fe.height=Ze[0],!oo(at[0],Ze[0],1,Ue,null))break t;return 1}return e(Ue.a!=0),0}(C,G)){if(G=(D=bu(G.width,G.height,ue.Oa,ue.ba))==0){t:{G=C;n:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((z=G.l)!=null),e((te=z.ma)!=null),G.xb!=0){if(G.ca=te.ba,G.tb=te.tb,e(G.ca!=null),!wd(te.Oa,z,lh)){G.a=2;break n}if(!sa(G,z.width)||z.da)break n;if((z.da||Kt(G.ca.S))&&Ve(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Ve()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Ae(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!jr(G,G.V,G.Ba,G.c,G.i,z.o,Oi))break n;te.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(D=C.a)}else D=C.a}else{if((C=new xi)==null){ue=1;break e}if(C.Fa=te.na,C.P=te.P,C.qc=te.Sa,mu(C,G)){if((D=bu(G.width,G.height,ue.Oa,ue.ba))==0){if(C.Aa=0,z=ue.Oa,e((te=C)!=null),z!=null){if(0<(ve=0>(ve=z.Md)?0:100<ve?255:255*ve/100)){for(xe=Pe=0;4>xe;++xe)12>(ze=te.pb[xe]).lc&&(ze.ia=ve*My[0>ze.lc?0:ze.lc]>>3),Pe|=ze.ia;Pe&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=z.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}Ma(C,G)||(D=C.a)}}else D=C.a}D==0&&ue.Oa!=null&&ue.Oa.fd&&(D=Ed(ue.ba))}ue=D}ae=ue!=0?null:11>ae?pe.f.RGBA.eb:pe.f.kb.y}else ae=null;return ae};var mh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,k){for(var P="",N=0;N<4;N++)P+=String.fromCharCode(S[k++]);return P}function u(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16)>>>0}function f(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16|S[k+3]<<24)>>>0}new l;var h=[0],p=[0],g=[],v=new l,y=t,w=function(S,k){var P={},N=0,M=!1,O=0,q=0;if(P.frames=[],!function(W,J,Q,re){for(var ce=0;ce<re;ce++)if(W[J+ce]!=Q.charCodeAt(ce))return!0;return!1}(S,k,"RIFF",4)){for(f(S,k+=4),k+=8;k<S.length;){var Z=c(S,k),ne=f(S,k+=4);k+=4;var ee=ne+(1&ne);switch(Z){case"VP8 ":case"VP8L":P.frames[N]===void 0&&(P.frames[N]={}),(se=P.frames[N]).src_off=M?q:k-8,se.src_size=O+ne+8,N++,M&&(M=!1,O=0,q=0);break;case"VP8X":(se=P.header={}).feature_flags=S[k];var Y=k+4;se.canvas_width=1+u(S,Y),Y+=3,se.canvas_height=1+u(S,Y),Y+=3;break;case"ALPH":M=!0,O=ee+8,q=k-8;break;case"ANIM":(se=P.header).bgcolor=f(S,k),Y=k+4,se.loop_count=(K=S)[(V=Y)+0]<<0|K[V+1]<<8,Y+=2;break;case"ANMF":var oe,se;(se=P.frames[N]={}).offset_x=2*u(S,k),k+=3,se.offset_y=2*u(S,k),k+=3,se.width=1+u(S,k),k+=3,se.height=1+u(S,k),k+=3,se.duration=u(S,k),k+=3,oe=S[k++],se.dispose=1&oe,se.blend=oe>>1&1}Z!="ANMF"&&(k+=ee)}var K,V;return P}}(y,0);w.response=y,w.rgbaoutput=!0,w.dataurl=!1;var E=w.header?w.header:null,T=w.frames?w.frames:null;if(E){E.loop_counter=E.loop_count,h=[E.canvas_height],p=[E.canvas_width];for(var I=0;I<T.length&&T[I].blend!=0;I++);}var F=T[0],B=v.WebPDecodeRGBA(y,F.src_off,F.src_size,p,h);F.rgba=B,F.imgwidth=p[0],F.imgheight=h[0];for(var R=0;R<p[0]*h[0]*4;R++)g[R]=B[R];return this.width=p,this.height=h,this.data=g,this}(function(t){var e=function(){return typeof u_=="function"},n=function(h,p,g,v){var y=4,w=o;switch(v){case t.image_compression.FAST:y=1,w=s;break;case t.image_compression.MEDIUM:y=6,w=a;break;case t.image_compression.SLOW:y=9,w=l}h=r(h,p,g,w);var E=u_(h,{level:y});return t.__addimage__.arrayBufferToBinaryString(E)},r=function(h,p,g,v){for(var y,w,E,T=h.length/p,I=new Uint8Array(h.length+T),F=u(),B=0;B<T;B+=1){if(E=B*p,y=h.subarray(E,E+p),v)I.set(v(y,g,w),E+B);else{for(var R,S=F.length,k=[];R<S;R+=1)k[R]=F[R](y,g,w);var P=f(k.concat());I.set(k[P],E+B)}w=y}return I},i=function(h){var p=Array.apply([],h);return p.unshift(0),p},s=function(h,p){var g,v=[],y=h.length;v[0]=1;for(var w=0;w<y;w+=1)g=h[w-p]||0,v[w+1]=h[w]-g+256&255;return v},o=function(h,p,g){var v,y=[],w=h.length;y[0]=2;for(var E=0;E<w;E+=1)v=g&&g[E]||0,y[E+1]=h[E]-v+256&255;return y},a=function(h,p,g){var v,y,w=[],E=h.length;w[0]=3;for(var T=0;T<E;T+=1)v=h[T-p]||0,y=g&&g[T]||0,w[T+1]=h[T]+256-(v+y>>>1)&255;return w},l=function(h,p,g){var v,y,w,E,T=[],I=h.length;T[0]=4;for(var F=0;F<I;F+=1)v=h[F-p]||0,y=g&&g[F]||0,w=g&&g[F-p]||0,E=c(v,y,w),T[F+1]=h[F]-E+256&255;return T},c=function(h,p,g){if(h===p&&p===g)return h;var v=Math.abs(p-g),y=Math.abs(h-g),w=Math.abs(h+p-g-g);return v<=y&&v<=w?h:y<=w?p:g},u=function(){return[i,s,o,a,l]},f=function(h){var p=h.map(function(g){return g.reduce(function(v,y){return v+Math.abs(y)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(h,p,g,v){var y,w,E,T,I,F,B,R,S,k,P,N,M,O,q,Z=this.decode.FLATE_DECODE,ne="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(E=new owe(h)).imgData,w=E.bits,y=E.colorSpace,I=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){S=(R=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,P=new Uint8Array(S*E.colors),k=new Uint8Array(S);var ee,Y=E.pixelBitlength-E.bits;for(O=0,q=0;O<S;O++){for(M=R[O],ee=0;ee<Y;)P[q++]=M>>>ee&255,ee+=E.bits;k[O]=M>>>ee&255}}if(E.bits===16){S=(R=new Uint32Array(E.decodePixels().buffer)).length,P=new Uint8Array(S*(32/E.pixelBitlength)*E.colors),k=new Uint8Array(S*(32/E.pixelBitlength)),N=E.colors>1,O=0,q=0;for(var oe=0;O<S;)M=R[O++],P[q++]=M>>>0&255,N&&(P[q++]=M>>>16&255,M=R[O++],P[q++]=M>>>0&255),k[oe++]=M>>>16&255;w=8}v!==t.image_compression.NONE&&e()?(h=n(P,E.width*E.colors,E.colors,v),B=n(k,E.width,1,v)):(h=P,B=k,Z=void 0)}if(E.colorType===3&&(y=this.color_spaces.INDEXED,F=E.palette,E.transparency.indexed)){var se=E.transparency.indexed,K=0;for(O=0,S=se.length;O<S;++O)K+=se[O];if((K/=255)===S-1&&se.indexOf(0)!==-1)T=[se.indexOf(0)];else if(K!==S){for(R=E.decodePixels(),k=new Uint8Array(R.length),O=0,S=R.length;O<S;O++)k[O]=se[R[O]];B=n(k,E.width,1)}}var V=function(W){var J;switch(W){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(v);return Z===this.decode.FLATE_DECODE&&(ne="/Predictor "+V+" "),ne+="/Colors "+I+" /BitsPerComponent "+w+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:g,data:h,index:p,filter:Z,decodeParameters:ne,transparency:T,palette:F,sMask:B,predictor:V,width:E.width,height:E.height,bitsPerComponent:w,colorSpace:y}}}})(Jt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new awe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new _S(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Jt.API),Hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){gr.log("bit decode error:"+n)}},Hl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Hl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Hl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Hl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Hl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Hl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Hl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Hl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Hl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new _S(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Jt.API),YM.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new YM(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new _S(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Jt.API),Jt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],h=r[c+2],p=r[c+3];s[a++]=u,s[a++]=f,s[a++]=h,o[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Jt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rm=Jt.API,U1=rm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,h=0,p=t.length,g=0,v=a[0]||l,y=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=f&&dr(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,y.push((a[r]||v)/l+h)),g=r;return y},HM=rm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rm.processArabic&&(t=rm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:U1.apply(this,arguments).reduce(function(s,o){return s+o},0)},WM=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},GM=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],f=[u],h=n.textIndent||0,p=0,g=0,v=t.split(" "),y=U1.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),E=[];v.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(F,B){return(B&&F.length?`
`:"")+F})):E.push(I[0])}),v=E,l=HM.apply(this,[w,n])}for(s=0,o=v.length;s<o;s++){var T=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),T=1),h+p+(g=(i=U1.apply(this,[r,n])).reduce(function(I,F){return I+F},0))>e||T){if(g>e){for(a=WM.apply(this,[r,i,e-(h+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)f.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(I,F){return I+F},0)}else u=[r];f.push(u),h=g+l,p=y}else u.push(r),h+=p+g,p=y}return c=l?function(I,F){return(F?w:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(c)},rm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(GM.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var h,p,g,v,y=["{"];for(var w in f){if(h=f[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof h=="number")h<0?(g=s(h).slice(3),v="-"):(g=s(h).slice(2),v=""),g=v+g.slice(0,-1)+r[g.slice(-1)];else{if(dr(h)!=="object")throw new Error("Don't know what to do with value type "+dr(h)+".");g=o(h)}y.push(p+g)}return y.push("}"),y.join("")},a=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,g,v,y={},w=1,E=y,T=[],I="",F="",B=f.length-1,R=1;R<B;R+=1)(v=f[R])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(T.push([E,g]),E={},g=void 0):v=="}"?((p=T.pop())[0][p[1]]=E,g=void 0,E=p[0]):v=="-"?w=-1:g===void 0?n.hasOwnProperty(v)?(I+=n[v],g=parseInt(I,16)*w,w=1,I=""):I+=v:n.hasOwnProperty(v)?(F+=n[v],E[g]=parseInt(F,16)*w,w=1,g=void 0,F=""):F+=v;return y},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Jt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Z0(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Jt),function(t){function e(){return(Qt.canvg?Promise.resolve(Qt.canvg):s_(()=>import("./index.es-CTk8rT-J.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Jt.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(g){return g.fromString(f,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),Jt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Jt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,f=0;function h(g,v){var y,w=!1;for(y=0;y<g.length;y+=1)g[y]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)n[a[f]].value=n[a[f]].defaultValue,n[a[f]].explicitSet=!1}if(dr(t)==="object"){for(i in t)if(s=t[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?v.push("/"+g+" /"+n[g].value):v.push("/"+g+" "+n[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Jt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=s.length;f<h;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(a=Object.keys(s).sort(function(p,g){return p-g})).length;f<h;f++)o=a[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+fm(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+fm(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+fm(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+fm(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+fm(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,g=f.fonts,v=p,y="",w=0,E="",T=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:f};for(E=a,v=p,Array.isArray(a)&&(E=a[0]),w=0;w<E.length;w+=1)g[v].metadata.hasOwnProperty("cmap")&&(o=g[v].metadata.cmap.unicode.codeMap[E[w].charCodeAt(0)]),o||E[w].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?y+=E[w]:y+="";var I="";return parseInt(v.slice(1))<14||T==="WinAnsiEncoding"?I=h(y,v).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(I=n(y,g[v])),f.isHex=!0,{text:I,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Jt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Jt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var I=function(N){var M=N.charCodeAt(),O=M>>8,q=v[O];return q!==void 0?f[256*q+(255&M)]:O===252||O===253?"AL":w.test(O)?"L":O===8?"R":"N"},F=function(N){for(var M,O=0;O<N.length;O++){if((M=I(N.charAt(O)))==="L")return!1;if(M==="R")return!0}return!1},B=function(N,M,O,q){var Z,ne,ee,Y,oe=M[q];switch(oe){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":oe="N";break;case"CS":q<1||q+1>=M.length||(Z=O[q-1])!=="EN"&&Z!=="AN"||(ne=M[q+1])!=="EN"&&ne!=="AN"?oe="N":E&&(ne="AN"),oe=ne===Z?ne:"N";break;case"ES":oe=(Z=q>0?O[q-1]:"B")==="EN"&&q+1<M.length&&M[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&O[q-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(ee=q+1,Y=M.length;ee<Y&&M[ee]==="ET";)ee++;oe=ee<Y&&M[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=M.length,ee=q+1;ee<Y&&M[ee]==="NSM";)ee++;if(ee<Y){var se=N[q],K=se>=1425&&se<=2303||se===64286;if(Z=M[ee],K&&(Z==="R"||Z==="AL")){oe="R";break}}}oe=q<1||(Z=M[q-1])==="B"?"N":O[q-1];break;case"B":E=!1,i=!0,oe=T;break;case"S":s=!0,oe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":oe="N"}return oe},R=function(N,M,O){var q=N.split("");return O&&S(q,O,{hiLevel:T}),q.reverse(),M&&M.reverse(),q.join("")},S=function(N,M,O){var q,Z,ne,ee,Y,oe=-1,se=N.length,K=0,V=[],W=T?p:h,J=[];for(E=!1,i=!1,s=!1,Z=0;Z<se;Z++)J[Z]=I(N[Z]);for(ne=0;ne<se;ne++){if(Y=K,V[ne]=B(N,J,V,ne),q=240&(K=W[Y][g[V[ne]]]),K&=15,M[ne]=ee=W[K][5],q>0)if(q===16){for(Z=oe;Z<ne;Z++)M[Z]=1;oe=-1}else oe=-1;if(W[K][6])oe===-1&&(oe=ne);else if(oe>-1){for(Z=oe;Z<ne;Z++)M[Z]=ee;oe=-1}J[ne]==="B"&&(M[ne]=0),O.hiLevel|=ee}s&&function(Q,re,ce){for(var fe=0;fe<ce;fe++)if(Q[fe]==="S"){re[fe]=T;for(var be=fe-1;be>=0&&Q[be]==="WS";be--)re[be]=T}}(J,M,se)},k=function(N,M,O,q,Z){if(!(Z.hiLevel<N)){if(N===1&&T===1&&!i)return M.reverse(),void(O&&O.reverse());for(var ne,ee,Y,oe,se=M.length,K=0;K<se;){if(q[K]>=N){for(Y=K+1;Y<se&&q[Y]>=N;)Y++;for(oe=K,ee=Y-1;oe<ee;oe++,ee--)ne=M[oe],M[oe]=M[ee],M[ee]=ne,O&&(ne=O[oe],O[oe]=O[ee],O[ee]=ne);K=Y}K++}}},P=function(N,M,O){var q=N.split(""),Z={hiLevel:T};return O||(O=[]),S(q,O,Z),function(ne,ee,Y){if(Y.hiLevel!==0&&u)for(var oe,se=0;se<ne.length;se++)ee[se]===1&&(oe=y.indexOf(ne[se]))>=0&&(ne[se]=y[oe+1])}(q,O,Z),k(2,q,M,O,Z),k(1,q,M,O,Z),q.join("")};return this.__bidiEngine__.doBidiReorder=function(N,M,O){if(function(Z,ne){if(ne)for(var ee=0;ee<Z.length;ee++)ne[ee]=ee;a===void 0&&(a=F(Z)),c===void 0&&(c=F(Z))}(N,M),o||!l||c)if(o&&l&&a^c)T=a?1:0,N=R(N,M,O);else if(!o&&l&&c)T=a?1:0,N=P(N,M,O),N=R(N,M);else if(!o||a||l||c){if(o&&!l&&a^c)N=R(N,M),a?(T=0,N=P(N,M,O)):(T=1,N=P(N,M,O),N=R(N,M));else if(o&&a&&!l&&c)T=1,N=P(N,M,O),N=R(N,M);else if(!o&&!l&&a^c){var q=u;a?(T=1,N=P(N,M,O),T=0,u=!1,N=P(N,M,O),u=q):(T=0,N=P(N,M,O),N=R(N,M),T=1,u=!1,N=P(N,M,O),u=q,N=R(N,M))}}else T=0,N=P(N,M,O);else T=a?1:0,N=P(N,M,O);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Jt),Jt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Hf(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ewe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lwe(this.contents),this.head=new uwe(this),this.name=new mwe(this),this.cmap=new aU(this),this.toUnicode={},this.hhea=new dwe(this),this.maxp=new gwe(this),this.hmtx=new vwe(this),this.post=new hwe(this),this.os2=new fwe(this),this.loca=new wwe(this),this.glyf=new ywe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(n=i>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var fc,Hf=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),lwe=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,f,h,p,g,v;for(v in p=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),u=16*p-f,(i=new Hf).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(u),s=16*p,c=i.pos+s,a=null,g=[],n)for(h=n[v],i.writeString(v),i.writeInt(t(h)),i.writeInt(c),i.writeInt(h.length),g=g.concat(h),v==="head"&&(a=c),c+=h.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=lU.call(n);n.length%4;)n.push(0);for(s=new Hf(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),cwe={}.hasOwnProperty,fu=function(t,e){for(var n in e)cwe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};fc=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var uwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Hf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),XM=function(){function t(e,n){var r,i,s,o,a,l,c,u,f,h,p,g,v,y,w,E,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,s=function(){var I,F;for(F=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)F.push(e.readUInt16());return F}(),e.pos+=2,v=function(){var I,F;for(F=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)F.push(e.readUInt16());return F}(),c=function(){var I,F;for(F=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)F.push(e.readUInt16());return F}(),u=function(){var I,F;for(F=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,a=function(){var I,F;for(F=[],l=I=0;0<=i?I<i:I>i;l=0<=i?++I:--I)F.push(e.readUInt16());return F}(),l=w=0,T=s.length;w<T;l=++w)for(y=s[l],r=E=g=v[l];g<=y?E<=y:E>=y;r=g<=y?++E:--E)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-g)-(h-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=f}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,f,h,p,g,v,y,w,E,T,I,F,B,R,S,k,P,N,M,O,q,Z,ne,ee,Y,oe,se,K,V,W,J,Q,re,ce,fe,be,ge,Se,Be;switch(q=new Hf,o=Object.keys(e).sort(function(_e,Ae){return _e-Ae}),n){case"macroman":for(v=0,y=function(){var _e=[];for(g=0;g<256;++g)_e.push(0);return _e}(),E={0:0},s={},Z=0,oe=o.length;Z<oe;Z++)E[be=e[i=o[Z]]]==null&&(E[be]=++v),s[i]={old:e[i],new:E[e[i]]},y[i]=E[e[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(y),{charMap:s,subtable:q.data,maxGlyphID:v+1};case"unicode":for(M=[],f=[],T=0,E={},r={},w=c=null,ne=0,se=o.length;ne<se;ne++)E[F=e[i=o[ne]]]==null&&(E[F]=++T),r[i]={old:F,new:E[F]},a=E[F]-i,w!=null&&a===c||(w&&f.push(w),M.push(i),c=a),w=i;for(w&&f.push(w),f.push(65535),M.push(65535),P=2*(k=M.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,R=2*k-S,l=[],B=[],p=[],g=ee=0,K=M.length;ee<K;g=++ee){if(N=M[g],u=f[g],N===65535){l.push(0),B.push(0);break}if(N-(O=r[N].new)>=32768)for(l.push(0),B.push(2*(p.length+k-g)),i=Y=N;N<=u?Y<=u:Y>=u;i=N<=u?++Y:--Y)p.push(r[i].new);else l.push(O-N),B.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*k+2*p.length),q.writeUInt16(0),q.writeUInt16(P),q.writeUInt16(S),q.writeUInt16(h),q.writeUInt16(R),ce=0,V=f.length;ce<V;ce++)i=f[ce],q.writeUInt16(i);for(q.writeUInt16(0),fe=0,W=M.length;fe<W;fe++)i=M[fe],q.writeUInt16(i);for(ge=0,J=l.length;ge<J;ge++)a=l[ge],q.writeUInt16(a);for(Se=0,Q=B.length;Se<Q;Se++)I=B[Se],q.writeUInt16(I);for(Be=0,re=p.length;Be<re;Be++)v=p[Be],q.writeUInt16(v);return{charMap:r,subtable:q.data,maxGlyphID:T+1}}},t}(),aU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new XM(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=XM.encode(n,r),(s=new Hf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),dwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),fwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),hwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),pwe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,f,h,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=f=0,h=i.length;f<h;o=++f)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new pwe(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),gwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),vwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(n.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)o=h[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),lU=[].slice,ywe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,f,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Hf(r.read(s))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=a===-1?new bwe(l,u,h,c,f):new xwe(l,a,u,h,c,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),xwe=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),bwe=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Hf(lU.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),wwe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fu(e,fc),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e}(),Ewe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,f,h,p,g,v,y,w;for(i in r=aU.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(g in h=r.maxGlyphID,o)g in p||(p[g]=h++);return u=function(E){var T,I;for(T in I={},E)I[E[T]]=T;return I}(p),f=Object.keys(u).sort(function(E,T){return E-T}),v=function(){var E,T,I;for(I=[],E=0,T=f.length;E<T;E++)a=f[E],I.push(u[a]);return I}(),s=this.font.glyf.encode(o,v,p),c=this.font.loca.encode(s.offsets,v),y={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t}();Jt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();var im={},TS,JM;function Swe(){return JM||(JM=1,TS=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),TS}var kS={},Zd={},QM;function Ap(){if(QM)return Zd;QM=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Zd.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Zd.getSymbolTotalCodewords=function(r){return e[r]},Zd.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Zd.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Zd.isKanjiModeEnabled=function(){return typeof t<"u"},Zd.toSJIS=function(r){return t(r)},Zd}var PS={},ZM;function v4(){return ZM||(ZM=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}}(PS)),PS}var NS,eO;function Cwe(){if(eO)return NS;eO=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},NS=t,NS}var LS,tO;function Awe(){if(tO)return LS;tO=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},LS=t,LS}var IS={},nO;function _we(){return nO||(nO=1,function(t){const e=Ap().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}}(IS)),IS}var DS={},rO;function Twe(){if(rO)return DS;rO=1;const t=Ap().getSymbolSize,e=7;return DS.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},DS}var RS={},iO;function kwe(){return iO||(iO=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<s;f++){a=l=0,c=u=null;for(let h=0;h<s;h++){let p=i.get(f,h);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(h,f),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,n(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}}(RS)),RS}var q1={},sO;function cU(){if(sO)return q1;sO=1;const t=v4(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return q1.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},q1.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},q1}var MS={},m0={},oO;function Pwe(){if(oO)return m0;oO=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]}(),m0.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},m0.exp=function(r){return t[r]},m0.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},m0}var aO;function Nwe(){return aO||(aO=1,function(t){const e=Pwe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(MS)),MS}var OS,lO;function Lwe(){if(lO)return OS;lO=1;const t=Nwe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},OS=e,OS}var FS={},jS={},BS={},cO;function uU(){return cO||(cO=1,BS.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),BS}var Ic={},uO;function dU(){if(uO)return Ic;uO=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Ic.KANJI=new RegExp(n,"g"),Ic.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ic.BYTE=new RegExp(r,"g"),Ic.NUMERIC=new RegExp(t,"g"),Ic.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ic.testKanji=function(l){return i.test(l)},Ic.testNumeric=function(l){return s.test(l)},Ic.testAlphanumeric=function(l){return o.test(l)},Ic}var dO;function _p(){return dO||(dO=1,function(t){const e=uU(),n=dU();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}}(jS)),jS}var fO;function Iwe(){return fO||(fO=1,function(t){const e=Ap(),n=cU(),r=v4(),i=_p(),s=uU(),o=7973,a=e.getBCHDigit(o);function l(h,p,g){for(let v=1;v<=40;v++)if(p<=t.getCapacity(v,g,h))return v}function c(h,p){return i.getCharCountIndicator(h,p)+4}function u(h,p){let g=0;return h.forEach(function(v){const y=c(v.mode,p);g+=y+v.getBitsLength()}),g}function f(h,p){for(let g=1;g<=40;g++)if(u(h,g)<=t.getCapacity(g,p,i.MIXED))return g}t.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},t.getCapacity=function(p,g,v){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const y=e.getSymbolTotalCodewords(p),w=n.getTotalCodewordsCount(p,g),E=(y-w)*8;if(v===i.MIXED)return E;const T=E-c(v,p);switch(v){case i.NUMERIC:return Math.floor(T/10*3);case i.ALPHANUMERIC:return Math.floor(T/11*2);case i.KANJI:return Math.floor(T/13);case i.BYTE:default:return Math.floor(T/8)}},t.getBestVersionForData=function(p,g){let v;const y=r.from(g,r.M);if(Array.isArray(p)){if(p.length>1)return f(p,y);if(p.length===0)return 1;v=p[0]}else v=p;return l(v.mode,v.getLength(),y)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}}(FS)),FS}var VS={},hO;function Dwe(){if(hO)return VS;hO=1;const t=Ap(),e=1335,n=21522,r=t.getBCHDigit(e);return VS.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;t.getBCHDigit(l)-r>=0;)l^=e<<t.getBCHDigit(l)-r;return(a<<10|l)^n},VS}var $S={},zS,pO;function Rwe(){if(pO)return zS;pO=1;const t=_p();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},zS=e,zS}var US,mO;function Mwe(){if(mO)return US;mO=1;const t=_p(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},US=n,US}var qS,gO;function Owe(){if(gO)return qS;gO=1;const t=_p();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},qS=e,qS}var HS,vO;function Fwe(){if(vO)return HS;vO=1;const t=_p(),e=Ap();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},HS=n,HS}var WS={exports:{}},yO;function jwe(){return yO||(yO=1,function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,f,h,p,g,v,y;!a.empty();){l=a.pop(),c=l.value,f=l.cost,h=n[c]||{};for(u in h)h.hasOwnProperty(u)&&(p=h[u],g=f+p,v=o[u],y=typeof o[u]>"u",(y||v>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var w=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(w)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(WS)),WS.exports}var xO;function Bwe(){return xO||(xO=1,function(t){const e=_p(),n=Rwe(),r=Mwe(),i=Owe(),s=Fwe(),o=dU(),a=Ap(),l=jwe();function c(w){return unescape(encodeURIComponent(w)).length}function u(w,E,T){const I=[];let F;for(;(F=w.exec(T))!==null;)I.push({data:F[0],index:F.index,mode:E,length:F[0].length});return I}function f(w){const E=u(o.NUMERIC,e.NUMERIC,w),T=u(o.ALPHANUMERIC,e.ALPHANUMERIC,w);let I,F;return a.isKanjiModeEnabled()?(I=u(o.BYTE,e.BYTE,w),F=u(o.KANJI,e.KANJI,w)):(I=u(o.BYTE_KANJI,e.BYTE,w),F=[]),E.concat(T,I,F).sort(function(R,S){return R.index-S.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function h(w,E){switch(E){case e.NUMERIC:return n.getBitsLength(w);case e.ALPHANUMERIC:return r.getBitsLength(w);case e.KANJI:return s.getBitsLength(w);case e.BYTE:return i.getBitsLength(w)}}function p(w){return w.reduce(function(E,T){const I=E.length-1>=0?E[E.length-1]:null;return I&&I.mode===T.mode?(E[E.length-1].data+=T.data,E):(E.push(T),E)},[])}function g(w){const E=[];for(let T=0;T<w.length;T++){const I=w[T];switch(I.mode){case e.NUMERIC:E.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:E.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:E.push([I,{data:I.data,mode:e.BYTE,length:c(I.data)}]);break;case e.BYTE:E.push([{data:I.data,mode:e.BYTE,length:c(I.data)}])}}return E}function v(w,E){const T={},I={start:{}};let F=["start"];for(let B=0;B<w.length;B++){const R=w[B],S=[];for(let k=0;k<R.length;k++){const P=R[k],N=""+B+k;S.push(N),T[N]={node:P,lastCount:0},I[N]={};for(let M=0;M<F.length;M++){const O=F[M];T[O]&&T[O].node.mode===P.mode?(I[O][N]=h(T[O].lastCount+P.length,P.mode)-h(T[O].lastCount,P.mode),T[O].lastCount+=P.length):(T[O]&&(T[O].lastCount=P.length),I[O][N]=h(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,E))}}F=S}for(let B=0;B<F.length;B++)I[F[B]].end=0;return{map:I,table:T}}function y(w,E){let T;const I=e.getBestModeForData(w);if(T=e.from(E,I),T!==e.BYTE&&T.bit<I.bit)throw new Error('"'+w+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(I));switch(T===e.KANJI&&!a.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new n(w);case e.ALPHANUMERIC:return new r(w);case e.KANJI:return new s(w);case e.BYTE:return new i(w)}}t.fromArray=function(E){return E.reduce(function(T,I){return typeof I=="string"?T.push(y(I,null)):I.data&&T.push(y(I.data,I.mode)),T},[])},t.fromString=function(E,T){const I=f(E,a.isKanjiModeEnabled()),F=g(I),B=v(F,T),R=l.find_path(B.map,"start","end"),S=[];for(let k=1;k<R.length-1;k++)S.push(B.table[R[k]].node);return t.fromArray(p(S))},t.rawSplit=function(E){return t.fromArray(f(E,a.isKanjiModeEnabled()))}}($S)),$S}var bO;function Vwe(){if(bO)return kS;bO=1;const t=Ap(),e=v4(),n=Cwe(),r=Awe(),i=_we(),s=Twe(),o=kwe(),a=cU(),l=Lwe(),c=Iwe(),u=Dwe(),f=_p(),h=Bwe();function p(B,R){const S=B.size,k=s.getPositions(R);for(let P=0;P<k.length;P++){const N=k[P][0],M=k[P][1];for(let O=-1;O<=7;O++)if(!(N+O<=-1||S<=N+O))for(let q=-1;q<=7;q++)M+q<=-1||S<=M+q||(O>=0&&O<=6&&(q===0||q===6)||q>=0&&q<=6&&(O===0||O===6)||O>=2&&O<=4&&q>=2&&q<=4?B.set(N+O,M+q,!0,!0):B.set(N+O,M+q,!1,!0))}}function g(B){const R=B.size;for(let S=8;S<R-8;S++){const k=S%2===0;B.set(S,6,k,!0),B.set(6,S,k,!0)}}function v(B,R){const S=i.getPositions(R);for(let k=0;k<S.length;k++){const P=S[k][0],N=S[k][1];for(let M=-2;M<=2;M++)for(let O=-2;O<=2;O++)M===-2||M===2||O===-2||O===2||M===0&&O===0?B.set(P+M,N+O,!0,!0):B.set(P+M,N+O,!1,!0)}}function y(B,R){const S=B.size,k=c.getEncodedBits(R);let P,N,M;for(let O=0;O<18;O++)P=Math.floor(O/3),N=O%3+S-8-3,M=(k>>O&1)===1,B.set(P,N,M,!0),B.set(N,P,M,!0)}function w(B,R,S){const k=B.size,P=u.getEncodedBits(R,S);let N,M;for(N=0;N<15;N++)M=(P>>N&1)===1,N<6?B.set(N,8,M,!0):N<8?B.set(N+1,8,M,!0):B.set(k-15+N,8,M,!0),N<8?B.set(8,k-N-1,M,!0):N<9?B.set(8,15-N-1+1,M,!0):B.set(8,15-N-1,M,!0);B.set(k-8,8,1,!0)}function E(B,R){const S=B.size;let k=-1,P=S-1,N=7,M=0;for(let O=S-1;O>0;O-=2)for(O===6&&O--;;){for(let q=0;q<2;q++)if(!B.isReserved(P,O-q)){let Z=!1;M<R.length&&(Z=(R[M]>>>N&1)===1),B.set(P,O-q,Z),N--,N===-1&&(M++,N=7)}if(P+=k,P<0||S<=P){P-=k,k=-k;break}}}function T(B,R,S){const k=new n;S.forEach(function(q){k.put(q.mode.bit,4),k.put(q.getLength(),f.getCharCountIndicator(q.mode,B)),q.write(k)});const P=t.getSymbolTotalCodewords(B),N=a.getTotalCodewordsCount(B,R),M=(P-N)*8;for(k.getLengthInBits()+4<=M&&k.put(0,4);k.getLengthInBits()%8!==0;)k.putBit(0);const O=(M-k.getLengthInBits())/8;for(let q=0;q<O;q++)k.put(q%2?17:236,8);return I(k,B,R)}function I(B,R,S){const k=t.getSymbolTotalCodewords(R),P=a.getTotalCodewordsCount(R,S),N=k-P,M=a.getBlocksCount(R,S),O=k%M,q=M-O,Z=Math.floor(k/M),ne=Math.floor(N/M),ee=ne+1,Y=Z-ne,oe=new l(Y);let se=0;const K=new Array(M),V=new Array(M);let W=0;const J=new Uint8Array(B.buffer);for(let be=0;be<M;be++){const ge=be<q?ne:ee;K[be]=J.slice(se,se+ge),V[be]=oe.encode(K[be]),se+=ge,W=Math.max(W,ge)}const Q=new Uint8Array(k);let re=0,ce,fe;for(ce=0;ce<W;ce++)for(fe=0;fe<M;fe++)ce<K[fe].length&&(Q[re++]=K[fe][ce]);for(ce=0;ce<Y;ce++)for(fe=0;fe<M;fe++)Q[re++]=V[fe][ce];return Q}function F(B,R,S,k){let P;if(Array.isArray(B))P=h.fromArray(B);else if(typeof B=="string"){let Z=R;if(!Z){const ne=h.rawSplit(B);Z=c.getBestVersionForData(ne,S)}P=h.fromString(B,Z||40)}else throw new Error("Invalid data");const N=c.getBestVersionForData(P,S);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=N;else if(R<N)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+N+`.
`);const M=T(R,S,P),O=t.getSymbolSize(R),q=new r(O);return p(q,R),g(q),v(q,R),w(q,S,0),R>=7&&y(q,R),E(q,M),isNaN(k)&&(k=o.getBestMask(q,w.bind(null,q,S))),o.applyMask(k,q),w(q,S,k),{modules:q,version:R,errorCorrectionLevel:S,maskPattern:k,segments:P}}return kS.create=function(R,S){if(typeof R>"u"||R==="")throw new Error("No input text");let k=e.M,P,N;return typeof S<"u"&&(k=e.from(S.errorCorrectionLevel,e.M),P=c.from(S.version),N=o.from(S.maskPattern),S.toSJISFunc&&t.setToSJISFunction(S.toSJISFunc)),F(R,P,k,N)},kS}var GS={},KS={},wO;function fU(){return wO||(wO=1,function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,f=[s.color.light,s.color.dark];for(let h=0;h<c;h++)for(let p=0;p<c;p++){let g=(h*c+p)*4,v=s.color.light;if(h>=u&&p>=u&&h<c-u&&p<c-u){const y=Math.floor((h-u)/l),w=Math.floor((p-u)/l);v=f[a[y*o+w]?1:0]}r[g++]=v.r,r[g++]=v.g,r[g++]=v.b,r[g]=v.a}}}(KS)),KS}var EO;function $we(){return EO||(EO=1,function(t){const e=fU();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),h=f.createImageData(u,u);return e.qrToImageData(h.data,s,l),n(f,c,u),f.putImageData(h,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}}(GS)),GS}var YS={},SO;function zwe(){if(SO)return YS;SO=1;const t=fU();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",l=0,c=!1,u=0;for(let f=0;f<i.length;f++){const h=Math.floor(f%s),p=Math.floor(f/s);!h&&!c&&(c=!0),i[f]?(u++,f>0&&h>0&&i[f-1]||(a+=c?n("M",h+o,.5+p+o):n("m",l,0),l=0,c=!1),h+1<s&&i[f+1]||(a+=n("h",u),u=0)):l++}return a}return YS.render=function(s,o,a){const l=t.getOptions(o),c=s.modules.size,u=s.modules.data,f=c+l.margin*2,h=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+e(l.color.dark,"stroke")+' d="'+r(u,c,l.margin)+'"/>',g='viewBox="0 0 '+f+" "+f+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+g+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof a=="function"&&a(null,y),y},YS}var CO;function Uwe(){if(CO)return im;CO=1;const t=Swe(),e=Vwe(),n=$we(),r=zwe();function i(s,o,a,l,c){const u=[].slice.call(arguments,1),f=u.length,h=typeof u[f-1]=="function";if(!h&&!t())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(c=a,a=o,o=l=void 0):f===3&&(o.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=l=void 0):f===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(p,g){try{const v=e.create(a,l);p(s(v,o,l))}catch(v){g(v)}})}try{const p=e.create(a,l);c(null,s(p,o,l))}catch(p){c(p)}}return im.create=e.create,im.toCanvas=i.bind(null,n.render),im.toDataURL=i.bind(null,n.renderToDataURL),im.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),im}var qwe=Uwe();const Hwe=uu(qwe);function Wwe(){var v,y,w,E,T,I,F,B,R;const[t,e]=b.useState([]),[n,r]=b.useState(null),[i,s]=b.useState("Todos"),[o,a]=b.useState(""),[l,c]=b.useState(null);b.useEffect(()=>{(async()=>{const P=(await nu(ta(hr,"orders"))).docs.map(N=>{var q,Z;const M=N.data(),O=M.cliente||{};return{id:N.id,client:{name:O.nombre||M.client||"-",email:O.email||M.email||"-",phone:O.telefono||M.phone||"-"},address:O.direccion||M.address||"-",city:O.ciudad||M.city||"-",department:O.departamento||M.department||"-",postalCode:O.codigoPostal||M.postalCode||"-",items:M.items,total:M.total,amountPaid:M.amountPaid||M.total||0,status:M.status,createdAt:((Z=(q=M.createdAt)==null?void 0:q.toDate)==null?void 0:Z.call(q))??new Date,shippingInfo:M.shippingInfo||null,totalAmount:M.totalAmount||M.total||0}});e(P)})()},[]);const u=async S=>{console.log("[Etiqueta] Generando para:",S);const k=new Jt({orientation:"landscape",unit:"in",format:[4,6]}),N=await(await fetch("/logo-etiqueta.png")).blob(),M=new FileReader;M.onloadend=async()=>{var oe,se;const O=M.result;k.setDrawColor(200),k.rect(.2,.2,5.6,3.6),k.setFontSize(14),k.setFont(void 0,"bold"),k.text("Etiqueta de Envo",3,.6,{align:"center"}),k.addImage(O,"PNG",.4,1,1.6,1.6),k.setFontSize(12);let q=1;const Z=2.4,ne=3.8,ee=(K,V)=>{k.setFont(void 0,"bold"),k.text(`${K}:`,Z,q),k.setFont(void 0,"normal"),k.text(V,ne,q),q+=.35};ee("Orden",`${S.id??"-"}`),ee("Nombre",typeof S.client=="object"?((oe=S.client)==null?void 0:oe.name)||"-":S.client),ee("Telfono",typeof S.client=="object"&&((se=S.client)==null?void 0:se.phone)||"-"),ee("Direccin",S.address),ee("Ciudad",S.city),ee("Departamento",S.department),ee("Cdigo Postal",S.postalCode);const Y=await Hwe.toDataURL(`ID-${S.id}`);k.addImage(Y,"PNG",5,2.8,.8,.8),k.save(`Etiqueta-${S.client}.pdf`)},M.readAsDataURL(N)},f=t.filter(S=>{var Z,ne,ee,Y;const k=i==="Todos"?!0:S.status===i,P=((Z=S.shippingInfo)==null?void 0:Z.name)??(typeof S.client=="object"?(ne=S.client)==null?void 0:ne.name:S.client),N=typeof P=="string"?P:"",M=((ee=S.shippingInfo)==null?void 0:ee.email)??(typeof S.client=="object"?(Y=S.client)==null?void 0:Y.email:""),O=typeof M=="string"?M:"",q=N.toLowerCase().includes(o.toLowerCase())||O.toLowerCase().includes(o.toLowerCase());return k&&q});function h(S){return S?(typeof S=="string"?new Date(S):S).toLocaleDateString():"-"}function p(S){r(S)}function g(S){u(S)}return Array.isArray(t)?(console.log("[PEDIDOS RENDERIZADOS]",t),A.jsxs("div",{className:"p-4",children:[A.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Historial de Pedidos"}),A.jsxs("div",{className:"mb-4 flex flex-wrap gap-4",children:[A.jsxs("select",{value:i,onChange:S=>s(S.target.value),className:"border border-gray-300 rounded px-3 py-2",children:[A.jsx("option",{value:"Todos",children:"Todos"}),A.jsx("option",{value:"En proceso",children:"En proceso"}),A.jsx("option",{value:"Confirmado",children:"Confirmado"}),A.jsx("option",{value:"Entregado",children:"Entregado"}),A.jsx("option",{value:"Cancelado",children:"Cancelado"})]}),A.jsx("input",{type:"text",placeholder:"Buscar por nombre o email",value:o,onChange:S=>a(S.target.value),className:"border border-gray-300 rounded px-3 py-2 flex-1 min-w-[200px]"})]}),A.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-100",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Fecha"}),A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Cliente"}),A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Email"}),A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Total"}),A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Estado"}),A.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:f.map(S=>{var k,P;return A.jsxs("tr",{children:[A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:h(S.createdAt)}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:((k=S.shippingInfo)==null?void 0:k.name)||"Sin nombre"}),A.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:(P=S.shippingInfo)==null?void 0:P.email}),A.jsxs("td",{className:"px-4 py-2 text-sm text-gray-800",children:["$",(S.totalAmount??S.amountPaid??S.total??0).toFixed(2)]}),A.jsx("td",{className:"px-4 py-2 text-sm",children:A.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${S.status==="Entregado"?"bg-green-500":S.status==="En Proceso"?"bg-yellow-500":S.status==="Cancelado"?"bg-red-500":"bg-gray-500"}`,children:S.status})}),A.jsxs("td",{className:"px-4 py-2 text-sm text-gray-800 flex gap-2",children:[A.jsx("button",{onClick:()=>p(S),className:"text-blue-600 hover:underline text-sm",children:"Ver detalle"}),A.jsx("button",{onClick:()=>g(S),className:"text-green-600 hover:underline text-sm",children:"Imprimir"}),A.jsx("button",{onClick:()=>{window.confirm(`Ests seguro que deseas eliminar la orden ${S.id}?`)&&(sy(ko(hr,"orders",S.id.toString())),e(t.filter(N=>N.id!==S.id)))},className:"text-red-600 hover:underline text-sm",children:"Eliminar"})]})]},S.id)})})]})}),n&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:A.jsxs("div",{className:"bg-white p-6 rounded shadow-lg max-w-2xl w-full",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Detalle del Pedido"}),A.jsxs("div",{className:"mb-4",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"ID:"})," ",n.id]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Nombre:"})," ",((v=n.shippingInfo)==null?void 0:v.name)||"-"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Email:"})," ",((y=n.shippingInfo)==null?void 0:y.email)||"-"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Telfono:"})," ",((w=n.shippingInfo)==null?void 0:w.phone)||"-"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Direccin:"})," ",((E=n.shippingInfo)==null?void 0:E.address)||"-",((T=n.shippingInfo)==null?void 0:T.address2)&&`, ${n.shippingInfo.address2}`,", ",((I=n.shippingInfo)==null?void 0:I.city)||"-",", ",((F=n.shippingInfo)==null?void 0:F.state)||"-",", ",((B=n.shippingInfo)==null?void 0:B.postalCode)||"-"]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("h3",{className:"font-bold mb-2",children:"Productos:"}),A.jsxs("table",{className:"w-full border text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"border px-2 py-1",children:"Producto"}),A.jsx("th",{className:"border px-2 py-1",children:"Variante"}),A.jsx("th",{className:"border px-2 py-1",children:"Cantidad"}),A.jsx("th",{className:"border px-2 py-1",children:"Precio Unitario"}),A.jsx("th",{className:"border px-2 py-1",children:"Subtotal"})]})}),A.jsx("tbody",{children:Array.isArray(n.items)&&n.items.map((S,k)=>{var Z,ne;if(typeof S=="string")return null;const P=((Z=S.title)==null?void 0:Z.es)||((ne=S.name)==null?void 0:ne.es)||"Producto",N=S.size||S.options||"-",M=S.quantity??0,O=S.price??0,q=(O*M).toFixed(2);return A.jsxs("tr",{children:[A.jsx("td",{className:"border px-2 py-1",children:P}),A.jsx("td",{className:"border px-2 py-1",children:N}),A.jsx("td",{className:"border px-2 py-1",children:M}),A.jsxs("td",{className:"border px-2 py-1",children:["$",O.toFixed(2)]}),A.jsxs("td",{className:"border px-2 py-1",children:["$",q]})]},k)})})]})]}),A.jsxs("div",{className:"mt-4 text-right",children:[A.jsx("strong",{children:"Total:"})," $",((R=n.totalAmount)==null?void 0:R.toFixed(2))||"0.00"]}),A.jsx("button",{onClick:()=>r(null),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Cerrar"})]})})]})):(console.error("Error: orders no es un array",t),A.jsx("div",{className:"p-4 text-red-600 font-semibold",children:"Error al cargar los pedidos."}))}function hU({clientId:t,onBack:e}){const[n,r]=b.useState(null),[i,s]=b.useState(!1),[o,a]=b.useState([]),[l,c]=b.useState("personal");b.useEffect(()=>{async function h(){try{if(console.log(" clientId recibido:",t),typeof t!="string"||t.trim()===""){console.error(" ID del cliente invlido:",t);return}const p=ko(hr,"clients",t),g=await iy(p);if(g.exists()){const v=g.data();r({...v,id:g.id})}}catch(p){console.error("Error al obtener cliente desde Firestore:",p)}}t&&h()},[t]),b.useEffect(()=>{if(!n)return;async function h(){try{const g=(await nu(Pee(ta(hr,"orders"),Nee("client.email","==",(n==null?void 0:n.email)||"")))).docs.map(v=>{var w;const y=v.data();return((w=y==null?void 0:y.client)==null?void 0:w.email)===(n==null?void 0:n.email)?{id:v.id,total:y.total,fecha:y.fecha,estado:y.estado,cliente:y.client}:null}).filter(v=>v!==null);a(g)}catch(p){console.error("Error al cargar pedidos del cliente:",p)}}h()},[n]);const u=h=>{if(!n)return;const{name:p,value:g}=h.target;r({...n,[p]:g})},f=async()=>{if(n)try{const h=ko(hr,"clients",n.id);await Mj(h,{name:n.name,email:n.email,phone:n.phone,address:n.address,city:n.city,department:n.department,postalCode:n.postalCode,country:n.country,...n.password?{password:n.password}:{}}),s(!1),r({...n})}catch(h){console.error("Error al actualizar cliente:",h)}};return n?A.jsxs("div",{className:"p-6 bg-white rounded shadow max-w-5xl mx-auto",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Perfil del Cliente"}),A.jsxs("div",{className:"flex border-b mb-4",children:[A.jsx("button",{onClick:()=>c("personal"),className:`px-4 py-2 font-medium ${l==="personal"?"border-b-2 border-black":"text-gray-500"}`,children:"Datos Personales"}),A.jsx("button",{onClick:()=>c("orders"),className:`px-4 py-2 font-medium ${l==="orders"?"border-b-2 border-black":"text-gray-500"}`,children:"Historial de Pedidos"})]}),l==="personal"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Nombre"}),A.jsx("input",{type:"text",name:"name",value:n.name,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Email"}),A.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Telfono"}),A.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Direccin"}),A.jsx("input",{type:"text",name:"address",value:n.address,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Ciudad"}),A.jsx("input",{type:"text",name:"city",value:n.city,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Departamento"}),A.jsx("input",{type:"text",name:"department",value:n.department,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Cdigo Postal"}),A.jsx("input",{type:"text",name:"postalCode",value:n.postalCode,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Pas"}),A.jsx("input",{type:"text",name:"country",value:n.country||"Uruguay",onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),i&&A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block font-semibold",children:"Nueva Contrasea"}),A.jsx("input",{type:"password",name:"password",value:n.password||"",onChange:u,className:"w-full border rounded px-3 py-2"})]})]}),A.jsx("div",{className:"flex gap-4",children:i?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Guardar cambios"}),A.jsx("button",{onClick:()=>s(!1),className:"bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400",children:"Cancelar"})]}):A.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Editar datos"})})]}),l==="orders"&&A.jsx("div",{children:o.length===0?A.jsx("p",{className:"text-gray-500 italic",children:"Este cliente an no tiene pedidos registrados."}):A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"ID"}),A.jsx("th",{className:"py-2 text-left",children:"Total"}),A.jsx("th",{className:"py-2 text-left",children:"Estado"}),A.jsx("th",{className:"py-2 text-left",children:"Fecha"})]})}),A.jsx("tbody",{children:o.map(h=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:h.id}),A.jsxs("td",{className:"py-2",children:[h.total," USD"]}),A.jsx("td",{className:"py-2",children:h.estado}),A.jsx("td",{className:"py-2",children:new Date(h.fecha).toLocaleDateString()})]},h.id))})]})})]}):A.jsx("p",{className:"text-red-600 p-6 font-bold",children:"Cliente no encontrado."})}function Gwe({clientId:t,onBack:e}){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:e}),A.jsx("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:A.jsxs("div",{className:"bg-white rounded shadow-lg max-w-5xl w-full mx-4 p-6 overflow-y-auto max-h-[90vh] relative",children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-black text-2xl",children:""}),A.jsx(hU,{clientId:t,onBack:e})]})})]})}function Kwe(){const t=cc(),e=gl(),[n,r]=b.useState("clients"),[i,s]=b.useState(null);b.useEffect(()=>{const a=e.pathname.split("/").pop()||"clients";r(a)},[e]);const o=a=>{r(a),t(`/admin/${a}`)};return A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx(Upe,{activeView:n,onChangeView:o}),A.jsxs("main",{className:"flex-1 p-6 bg-gray-100 overflow-y-auto",children:[A.jsxs(g8,{children:[A.jsx(Tr,{index:!0,element:A.jsx(db,{to:"/admin/clients",replace:!0})}),A.jsx(Tr,{path:"clients",element:A.jsx(qpe,{onSelectClient:a=>s(a)})}),A.jsx(Tr,{path:"productList",element:A.jsx(Xbe,{})}),A.jsx(Tr,{path:"productForm",element:A.jsx(PM,{})}),A.jsx(Tr,{path:"orders",element:A.jsx(Wwe,{})}),A.jsx(Tr,{path:"users",element:A.jsx(S2e,{})}),A.jsx(Tr,{path:"categories",element:A.jsx($z,{})}),A.jsx(Tr,{path:"editar/:id",element:A.jsx(PM,{})}),A.jsx(Tr,{path:"*",element:A.jsx(db,{to:"/admin/clients",replace:!0})})]}),i&&A.jsx(Gwe,{clientId:i||"",onBack:()=>s(null)})]})]})}const Ywe=()=>{const{t,i18n:e}=Zr();return A.jsx("section",{className:"bg-white py-24 px-6 shadow-sm","data-aos":"fade-up",children:A.jsxs("div",{className:"max-w-2xl mx-auto text-center text-gray-800",children:[A.jsx("h1",{className:"text-4xl font-bold mb-10 tracking-tight",children:t("about.title")}),A.jsx("p",{className:"text-lg leading-relaxed mb-5",children:t("about.description").split(`
`)[0]}),A.jsx("p",{className:"text-lg leading-relaxed mb-8",children:t("about.description").split(`
`)[1]}),A.jsx("p",{className:"text-lg leading-relaxed mb-10",children:t("about.mission")}),A.jsxs("div",{className:"text-left mt-12",children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:t("about.addressLabel")}),A.jsxs("p",{className:"mb-6",children:["20200 NW 2nd Ave, STE 108",A.jsx("br",{}),"Miami Gardens, FL 33169",A.jsx("br",{}),e.language==="es"?"Estados Unidos":"United States"]}),A.jsx("h2",{className:"text-xl font-semibold mb-2",children:t("about.emailLabel")}),A.jsx("p",{className:"text-blue-600 mb-10",children:t("about.email")})]}),A.jsx("a",{href:"/shop",className:"inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md hover:bg-blue-700 transition",children:t("about.cta")})]})})},Xwe=()=>{const{t,i18n:e}=Zr();return A.jsx("section",{className:"bg-white py-24 px-6 shadow-sm","data-aos":"fade-up",children:A.jsxs("div",{className:"max-w-2xl mx-auto text-center text-gray-800",children:[A.jsx("h1",{className:"text-4xl font-bold mb-8 tracking-tight",children:t("contact.title")}),A.jsx("p",{className:"text-lg leading-relaxed mb-8",children:t("contact.description")}),A.jsxs("div",{className:"text-left mt-10",children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:t("about.addressLabel")}),A.jsxs("p",{className:"mb-6",children:["20200 NW 2nd Ave, STE 108",A.jsx("br",{}),"Miami Gardens, FL 33169",A.jsx("br",{}),e.language==="es"?"Estados Unidos":"United States"]}),A.jsx("h2",{className:"text-xl font-semibold mb-2",children:t("about.emailLabel")}),A.jsx("p",{className:"text-blue-600 mb-10",children:t("about.email")})]}),A.jsx("a",{href:"mailto:info@getbionova.com",className:"inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md hover:bg-blue-700 transition",children:t("contact.cta")})]})})},Jwe={apiKey:"AIzaSyAH24DEyVBICPK6DcIUpQtj9pkegj54ip8",authDomain:"looma-store.firebaseapp.com",projectId:"looma-store",storageBucket:"looma-store.appspot.com",messagingSenderId:"76702168220",appId:"1:76702168220:web:6c226b493c3ddc5f44a959"},pU=JN().length===0?G_(Jwe):JN()[0];Ej(pU);const Qwe=m7(pU);function Zwe(){const[t,e]=b.useState(""),[n,r]=b.useState(""),i=cc(),{login:s}=O2(),o=async a=>{a.preventDefault();try{const c=(await Ite(Qwe,t,n)).user;s({id:c.uid,email:c.email||"",name:"",password:n}),alert("Inicio de sesin exitoso"),i("/admin",{replace:!0})}catch{alert("Usuario o contrasea incorrectos")}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-10",children:[A.jsx("img",{src:"/logo1.png",alt:"Looma",className:"w-24 h-24 object-contain mb-4"}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bienvenido al panel"}),A.jsx("p",{className:"text-gray-500 text-sm mb-8 text-center",children:"Ingres tus credenciales para acceder a la administracin."}),A.jsxs("form",{onSubmit:o,className:"w-full max-w-md bg-white shadow-lg rounded-xl px-8 pt-8 pb-6",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Correo electrnico"}),A.jsx("input",{type:"email",value:t,required:!0,onChange:a=>e(a.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Contrasea"}),A.jsx("input",{type:"password",value:n,required:!0,onChange:a=>r(a.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-4 rounded-md font-semibold hover:bg-gray-900 transition-all",children:"Iniciar sesin"})]}),A.jsxs("p",{className:"text-gray-400 text-xs mt-6",children:[" ",new Date().getFullYear()," Looma. Todos los derechos reservados."]})]})}function XS({children:t}){const{user:e}=O2();return e?A.jsx(A.Fragment,{children:t}):A.jsx(db,{to:"/login",replace:!0})}function e5e(){const{items:t}=pl(),e=t.reduce((c,u)=>c+u.quantity,0),{t:n}=Zr(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState("");return A.jsxs("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-50 shadow-sm py-0.5",children:[A.jsxs("div",{className:"flex sm:hidden items-center justify-between px-4 py-0.5",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>o(!s),children:A.jsx(I7,{className:"text-[#004AAD] w-5 h-5"})}),A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"max-h-[2.25rem] w-auto object-contain"})})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-xs px-1 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-xs px-1 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]}),A.jsx("button",{className:"text-[#004AAD]",onClick:()=>i(!r),children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),s&&A.jsx("div",{className:"sm:hidden px-4 pb-1",children:A.jsx("input",{type:"text",placeholder:n("search.placeholder","Buscar productos..."),className:"w-full border border-[#004AAD] rounded px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-[#004AAD]",autoFocus:!0,value:a,onChange:c=>{const u=c.target.value;l(u),window.dispatchEvent(new CustomEvent("mobileSearch",{detail:u}))}})}),r&&A.jsx("div",{className:"sm:hidden px-4 pb-2",children:A.jsxs("nav",{className:"flex flex-col gap-2 text-sm items-center text-center",children:[A.jsx(Zt,{to:"/",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.home","Inicio")}),A.jsx(Zt,{to:"/about",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.about","Nosotros")}),A.jsx(Zt,{to:"/contact",onClick:()=>i(!1),className:"text-[#004AAD] font-semibold",children:n("nav.contact","Contacto")})]})}),A.jsxs("div",{className:"hidden sm:flex max-w-7xl mx-auto px-4 py-1 items-center justify-between",children:[A.jsx(Zt,{to:"/",className:"flex items-center",children:A.jsx("img",{src:ru,alt:"Bionova",className:"h-12 w-auto object-contain"})}),A.jsxs("nav",{className:"flex items-center gap-6 text-base",children:[A.jsx(Zt,{to:"/",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.home","Inicio")}),A.jsx(Zt,{to:"/about",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.about","Nosotros")}),A.jsx(Zt,{to:"/contact",className:"text-[#004AAD] hover:text-[#003B85] font-semibold",children:n("nav.contact","Contacto")})]}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(iu,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("es"),className:`text-sm px-2 py-0.5 ${Ft.language==="es"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"ES"}),A.jsx("button",{onClick:()=>Ft.changeLanguage("en"),className:`text-sm px-2 py-0.5 ${Ft.language==="en"?"font-semibold text-[#004AAD]":"text-[#004AAD]"}`,children:"EN"})]}),A.jsxs(Zt,{to:"/carrito",className:"relative text-[#004AAD]",children:[A.jsx(Vf,{className:"w-5 h-5"}),e>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1.5 py-0.5 rounded-full",children:e})]})]})]})]})}const mU=typeof document<"u"?Me.useLayoutEffect:()=>{};function t5e(t){const e=b.useRef(null);return mU(()=>{e.current=t},[t]),b.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}const rh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Uh=t=>t&&"window"in t&&t.window===t?t:rh(t).defaultView||window;function n5e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function r5e(t){return n5e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let i5e=!1;function y4(){return i5e}function gU(t,e){if(!y4())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:r5e(n)?n=n.host:n=n.parentNode}return!1}const v_=(t=document)=>{var e;if(!y4())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function vU(t){return y4()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function s5e(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function o5e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function yU(t){let e=null;return()=>(e==null&&(e=t()),e)}const a5e=yU(function(){return o5e(/^Mac/i)}),l5e=yU(function(){return s5e(/Android/i)});function xU(){let t=b.useRef(new Map),e=b.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),n=b.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),r=b.useCallback(()=>{t.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return b.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function c5e(t){return t.mozInputSource===0&&t.isTrusted?!0:l5e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function bU(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function u5e(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function wU(t){let e=b.useRef({isFocused:!1,observer:null});mU(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=t5e(r=>{t==null||t(r)});return b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=bU(o);n(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let d5e=!1,Ey=null,y_=new Set,ev=new Map,fp=!1,x_=!1;const f5e={Tab:!0,Escape:!0};function x4(t,e){for(let n of y_)n(t,e)}function h5e(t){return!(t.metaKey||!a5e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function T2(t){fp=!0,h5e(t)&&(Ey="keyboard",x4("keyboard",t))}function Vm(t){Ey="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(fp=!0,x4("pointer",t))}function EU(t){c5e(t)&&(fp=!0,Ey="virtual")}function SU(t){t.target===window||t.target===document||d5e||!t.isTrusted||(!fp&&!x_&&(Ey="virtual",x4("virtual",t)),fp=!1,x_=!1)}function CU(){fp=!1,x_=!0}function b_(t){if(typeof window>"u"||typeof document>"u"||ev.get(Uh(t)))return;const e=Uh(t),n=rh(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){fp=!0,r.apply(this,arguments)},n.addEventListener("keydown",T2,!0),n.addEventListener("keyup",T2,!0),n.addEventListener("click",EU,!0),e.addEventListener("focus",SU,!0),e.addEventListener("blur",CU,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Vm,!0),n.addEventListener("pointermove",Vm,!0),n.addEventListener("pointerup",Vm,!0)),e.addEventListener("beforeunload",()=>{AU(t)},{once:!0}),ev.set(e,{focus:r})}const AU=(t,e)=>{const n=Uh(t),r=rh(t);e&&r.removeEventListener("DOMContentLoaded",e),ev.has(n)&&(n.HTMLElement.prototype.focus=ev.get(n).focus,r.removeEventListener("keydown",T2,!0),r.removeEventListener("keyup",T2,!0),r.removeEventListener("click",EU,!0),n.removeEventListener("focus",SU,!0),n.removeEventListener("blur",CU,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Vm,!0),r.removeEventListener("pointermove",Vm,!0),r.removeEventListener("pointerup",Vm,!0)),ev.delete(n))};function p5e(t){const e=rh(t);let n;return e.readyState!=="loading"?b_(t):(n=()=>{b_(t)},e.addEventListener("DOMContentLoaded",n)),()=>AU(t,n)}typeof document<"u"&&p5e();function _U(){return Ey!=="pointer"}const m5e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function g5e(t,e,n){let r=rh(n==null?void 0:n.target);const i=typeof window<"u"?Uh(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Uh(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Uh(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?Uh(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof i&&!m5e.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof a&&!f5e[n.key])}function v5e(t,e,n){b_(),b.useEffect(()=>{let r=(i,s)=>{g5e(!!(n!=null&&n.isTextInput),i,s)&&t(_U())};return y_.add(r),()=>{y_.delete(r)}},e)}function y5e(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const s=b.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=wU(s),a=b.useCallback(l=>{const c=rh(l.target),u=c?v_(c):v_();l.target===l.currentTarget&&u===vU(l.nativeEvent)&&(n&&n(l),i&&i(!0),o(l))},[i,n,o]);return{focusProps:{onFocus:!e&&(n||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function x5e(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,s=b.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=xU(),l=b.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,a(),n&&n(f),i&&i(!1))},[n,i,s,a]),c=wU(l),u=b.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const h=rh(f.target),p=v_(h);if(!s.current.isFocusWithin&&p===vU(f.nativeEvent)){r&&r(f),i&&i(!0),s.current.isFocusWithin=!0,c(f);let g=f.currentTarget;o(h,"focus",v=>{if(s.current.isFocusWithin&&!gU(g,v.target)){let y=new h.defaultView.FocusEvent("blur",{relatedTarget:v.target});u5e(y,g);let w=bU(y);l(w)}},{capture:!0})}},[r,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let w_=!1,JS=0;function b5e(){w_=!0,setTimeout(()=>{w_=!1},50)}function AO(t){t.pointerType==="touch"&&b5e()}function w5e(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",AO),JS++,()=>{JS--,!(JS>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",AO)}}function E5e(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[s,o]=b.useState(!1),a=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(w5e,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=xU(),{hoverProps:u,triggerHoverEnd:f}=b.useMemo(()=>{let h=(v,y)=>{if(a.pointerType=y,i||y==="touch"||a.isHovered||!v.currentTarget.contains(v.target))return;a.isHovered=!0;let w=v.currentTarget;a.target=w,l(rh(v.target),"pointerover",E=>{a.isHovered&&a.target&&!gU(a.target,E.target)&&p(E,E.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:w,pointerType:y}),n&&n(!0),o(!0)},p=(v,y)=>{let w=a.target;a.pointerType="",a.target=null,!(y==="touch"||!a.isHovered||!w)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:w,pointerType:y}),n&&n(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{w_&&v.pointerType==="mouse"||h(v,v.pointerType)},g.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[e,n,r,i,a,l,c]);return b.useEffect(()=>{i&&f({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function S5e(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=b.useRef({isFocused:!1,isFocusVisible:e||_U()}),[s,o]=b.useState(!1),[a,l]=b.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=b.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=b.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);v5e(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:n});let{focusProps:f}=y5e({isDisabled:r,onFocusChange:u}),{focusWithinProps:h}=x5e({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?h:f}}var C5e=Object.defineProperty,A5e=(t,e,n)=>e in t?C5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QS=(t,e,n)=>(A5e(t,typeof e!="symbol"?e+"":e,n),n);let _5e=class{constructor(){QS(this,"current",this.detect()),QS(this,"handoffState","pending"),QS(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ep=new _5e;function Ng(t){var e,n;return ep.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Uw(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function hc(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Uw(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=hc();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function Tp(){let[t]=b.useState(hc);return b.useEffect(()=>()=>t.dispose(),[t]),t}let wr=(t,e)=>{ep.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function ih(t){let e=b.useRef(t);return wr(()=>{e.current=t},[t]),e}let cn=function(t){let e=ih(t);return Me.useCallback((...n)=>e.current(...n),[e])};function T5e(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function k5e(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function P5e({disabled:t=!1}={}){let e=b.useRef(null),[n,r]=b.useState(!1),i=Tp(),s=cn(()=>{e.current=null,r(!1),i.dispose()}),o=cn(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=Ng(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=T5e(c);r(k5e(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let N5e=b.createContext(void 0);function b4(){return b.useContext(N5e)}function E_(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Io(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Io),r}var lg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(lg||{}),Sf=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Sf||{});function ss(){let t=I5e();return b.useCallback(e=>L5e({mergeRefs:t,...e}),[t])}function L5e({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??D5e;let l=TU(e,t);if(s)return H1(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...f}=l;if(u)return H1(f,n,r,o,a)}if(c&1){let{unmount:u=!0,...f}=l;return Io(u?0:1,{0(){return null},1(){return H1({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return H1(l,n,r,o,a)}function H1(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=ZS(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let h=!1,p=[];for(let[g,v]of Object.entries(e))typeof v=="boolean"&&(h=!0),v===!0&&p.push(g.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=p.join(" ");for(let g of p)f[`data-${g}`]=""}}if(s===b.Fragment&&(Object.keys(lf(l)).length>0||Object.keys(lf(f)).length>0))if(!b.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(lf(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(lf(l)).concat(Object.keys(lf(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=u.props,p=h==null?void 0:h.className,g=typeof p=="function"?(...w)=>E_(p(...w),l.className):E_(p,l.className),v=g?{className:g}:{},y=TU(u.props,lf(ZS(l,["ref"])));for(let w in f)w in y&&delete f[w];return b.cloneElement(u,Object.assign({},y,f,c,{ref:i(R5e(u),c.ref)},v))}return b.createElement(s,Object.assign({},ZS(l,["ref"]),s!==b.Fragment&&c,s!==b.Fragment&&f),u)}function I5e(){let t=b.useRef([]),e=b.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function D5e(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function TU(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function kU(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];for(let r in n)Object.assign(e,{[r](...i){let s=n[r];for(let o of s)o==null||o(...i)}});return e}function yi(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function lf(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ZS(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function R5e(t){return Me.version.split(".")[0]>="19"?t.props.ref:t.ref}function M5e(t,e,n){let[r,i]=b.useState(n),s=t!==void 0,o=b.useRef(s),a=b.useRef(!1),l=b.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,cn(c=>(s||i(c),e==null?void 0:e(c)))]}function O5e(t){let[e]=b.useState(t);return e}function PU(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))LU(n,NU(e,r),i);return n}function NU(t,e){return t?t+"["+e+"]":e}function LU(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())LU(t,NU(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):PU(n,e,t)}function F5e(t){var e,n;let r=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(r){for(let i of r.elements)if(i!==t&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let j5e="span";var cg=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(cg||{});function B5e(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ss()({ourProps:s,theirProps:i,slot:{},defaultTag:j5e,name:"Hidden"})}let Uv=yi(B5e),V5e=b.createContext(null);function $5e({children:t}){let e=b.useContext(V5e);if(!e)return Me.createElement(Me.Fragment,null,t);let{target:n}=e;return n?Ur.createPortal(Me.createElement(Me.Fragment,null,t),n):null}function z5e({data:t,form:e,disabled:n,onReset:r,overrides:i}){let[s,o]=b.useState(null),a=Tp();return b.useEffect(()=>{if(r&&s)return a.addEventListener(s,"reset",r)},[s,e,r]),Me.createElement($5e,null,Me.createElement(U5e,{setForm:o,formId:e}),PU(t).map(([l,c])=>Me.createElement(Uv,{features:cg.Hidden,...lf({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:l,value:c,...i})})))}function U5e({setForm:t,formId:e}){return b.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Me.createElement(Uv,{features:cg.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&t(r)}})}let q5e=b.createContext(void 0);function IU(){return b.useContext(q5e)}function w4(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function nd(t){return w4(t)&&"tagName"in t}function La(t){return nd(t)&&"accessKey"in t}function Xu(t){return nd(t)&&"tabIndex"in t}function H5e(t){return nd(t)&&"style"in t}function W5e(t){return La(t)&&t.nodeName==="IFRAME"}function DU(t){return La(t)&&t.nodeName==="INPUT"}function _O(t){return La(t)&&t.nodeName==="LABEL"}function G5e(t){return La(t)&&t.nodeName==="FIELDSET"}function RU(t){return La(t)&&t.nodeName==="LEGEND"}function K5e(t){return nd(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Y5e(t){let e=t.parentElement,n=null;for(;e&&!G5e(e);)RU(e)&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&X5e(n)?!1:r}function X5e(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(RU(e))return!1;e=e.previousElementSibling}return!0}let MU=Symbol();function J5e(t,e=!0){return Object.assign(t,{[MU]:e})}function so(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let n=cn(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[MU]))?void 0:n}let qw=b.createContext(null);qw.displayName="DescriptionContext";function OU(){let t=b.useContext(qw);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,OU),e}return t}function Q5e(){var t,e;return(e=(t=b.useContext(qw))==null?void 0:t.value)!=null?e:void 0}function Z5e(){let[t,e]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(n){let r=cn(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Me.createElement(qw.Provider,{value:i},n.children)},[e])]}let eEe="p";function tEe(t,e){let n=b.useId(),r=b4(),{id:i=`headlessui-description-${n}`,...s}=t,o=OU(),a=so(e);wr(()=>o.register(i),[i,o.register]);let l=r||!1,c=b.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),u={ref:a,...o.props,id:i};return ss()({ourProps:u,theirProps:s,slot:c,defaultTag:eEe,name:o.name||"Description"})}let nEe=yi(tEe),rEe=Object.assign(nEe,{});var Ni=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ni||{});let Hw=b.createContext(null);Hw.displayName="LabelContext";function FU(){let t=b.useContext(Hw);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,FU),e}return t}function jU(t){var e,n,r;let i=(n=(e=b.useContext(Hw))==null?void 0:e.value)!=null?n:void 0;return((r=t==null?void 0:t.length)!=null?r:0)>0?[i,...t].filter(Boolean).join(" "):i}function iEe({inherit:t=!1}={}){let e=jU(),[n,r]=b.useState([]),i=t?[e,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,b.useMemo(()=>function(s){let o=cn(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),f=u.indexOf(l);return f!==-1&&u.splice(f,1),u}))),a=b.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return Me.createElement(Hw.Provider,{value:a},s.children)},[r])]}let sEe="label";function oEe(t,e){var n;let r=b.useId(),i=FU(),s=IU(),o=b4(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((n=i.props)==null?void 0:n.htmlFor),passive:c=!1,...u}=t,f=so(e);wr(()=>i.register(a),[a,i.register]);let h=cn(y=>{let w=y.currentTarget;if(!(y.target!==y.currentTarget&&K5e(y.target))&&(_O(w)&&y.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(y),_O(w))){let E=document.getElementById(w.htmlFor);if(E){let T=E.getAttribute("disabled");if(T==="true"||T==="")return;let I=E.getAttribute("aria-disabled");if(I==="true"||I==="")return;(DU(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),p=o||!1,g=b.useMemo(()=>({...i.slot,disabled:p}),[i.slot,p]),v={ref:f,...i.props,id:a,htmlFor:l,onClick:h};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in u&&delete u.onClick),ss()({ourProps:v,theirProps:u,slot:g,defaultTag:l?sEe:"div",name:i.name||"Label"})}let aEe=yi(oEe),lEe=Object.assign(aEe,{}),cEe=b.createContext(()=>{});function uEe({value:t,children:e}){return Me.createElement(cEe.Provider,{value:t},e)}function dEe(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function fEe(t=dEe){return b.useCallback((e,n)=>{if(typeof t=="string"){let r=t;return(e==null?void 0:e[r])===(n==null?void 0:n[r])}return t(e,n)},[t])}function hEe(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function pEe(t,e=!1){let[n,r]=b.useReducer(()=>({}),{}),i=b.useMemo(()=>hEe(t),[t,n]);return wr(()=>{if(!t)return;let s=new ResizeObserver(r);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let BU=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var mEe=Object.defineProperty,gEe=(t,e,n)=>e in t?mEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vEe=(t,e,n)=>(gEe(t,e+"",n),n),VU=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},nl=(t,e,n)=>(VU(t,e,"read from private field"),n?n.call(t):e.get(t)),eC=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},TO=(t,e,n,r)=>(VU(t,e,"write to private field"),e.set(t,n),n),Rc,k0,P0;let $U=class{constructor(e){eC(this,Rc,{}),eC(this,k0,new BU(()=>new Set)),eC(this,P0,new Set),vEe(this,"disposables",hc()),TO(this,Rc,e)}dispose(){this.disposables.dispose()}get state(){return nl(this,Rc)}subscribe(e,n){let r={selector:e,callback:n,current:e(nl(this,Rc))};return nl(this,P0).add(r),this.disposables.add(()=>{nl(this,P0).delete(r)})}on(e,n){return nl(this,k0).get(e).add(n),this.disposables.add(()=>{nl(this,k0).get(e).delete(n)})}send(e){let n=this.reduce(nl(this,Rc),e);if(n!==nl(this,Rc)){TO(this,Rc,n);for(let r of nl(this,P0)){let i=r.selector(nl(this,Rc));zU(r.current,i)||(r.current=i,r.callback(i))}for(let r of nl(this,k0).get(e.type))r(nl(this,Rc),e)}}};Rc=new WeakMap,k0=new WeakMap,P0=new WeakMap;function zU(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:tC(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:tC(t.entries(),e.entries()):kO(t)&&kO(e)?tC(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function tC(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function kO(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function nC(t){let[e,n]=t(),r=hc();return(...i)=>{e(...i),r.dispose(),r.microTask(n)}}var yEe=Object.defineProperty,xEe=(t,e,n)=>e in t?yEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,PO=(t,e,n)=>(xEe(t,typeof e!="symbol"?e+"":e,n),n),UU=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(UU||{});let bEe={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},wEe=class qU extends $U{constructor(){super(...arguments),PO(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),PO(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new qU({stack:[]})}reduce(e,n){return Io(n.type,bEe,e,n)}};const Ww=new BU(()=>wEe.new());var rC={exports:{}},iC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function EEe(){if(NO)return iC;NO=1;var t=Wv();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return iC.useSyncExternalStoreWithSelector=function(l,c,u,f,h){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(F){if(!w){if(w=!0,E=F,F=f(F),h!==void 0&&g.hasValue){var B=g.value;if(h(B,F))return T=B}return T=F}if(B=T,n(E,F))return B;var R=f(F);return h!==void 0&&h(B,R)?(E=F,B):(E=F,T=R)}var w=!1,E,T,I=u===void 0?null:u;return[function(){return y(c())},I===null?void 0:function(){return y(I())}]},[c,u,f,h]);var v=r(l,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=v},[v]),a(v),v},iC}var LO;function SEe(){return LO||(LO=1,rC.exports=EEe()),rC.exports}var CEe=SEe();function ka(t,e,n=zU){return CEe.useSyncExternalStoreWithSelector(cn(r=>t.subscribe(AEe,r)),cn(()=>t.state),cn(()=>t.state),cn(e),n)}function AEe(t){return t}function Sy(t,e){let n=b.useId(),r=Ww.get(e),[i,s]=ka(r,b.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return wr(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let S_=new Map,tv=new Map;function IO(t){var e;let n=(e=tv.get(t))!=null?e:0;return tv.set(t,n+1),n!==0?()=>DO(t):(S_.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>DO(t))}function DO(t){var e;let n=(e=tv.get(t))!=null?e:1;if(n===1?tv.delete(t):tv.set(t,n-1),n!==1)return;let r=S_.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,S_.delete(t))}function HU(t,{allowed:e,disallowed:n}={}){let r=Sy(t,"inert-others");wr(()=>{var i,s;if(!r)return;let o=hc();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(IO(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=Ng(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let f of u.children)a.some(h=>f.contains(h))||o.add(IO(f));u=u.parentElement}}return o.dispose},[r,e,n])}function WU(t,e,n){let r=ih(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});b.useEffect(()=>{if(!t)return;let i=e===null?null:La(e)?e:e.current;if(!i)return;let s=hc();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let k2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),_Ee=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ql=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ql||{}),C_=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(C_||{}),TEe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(TEe||{});function GU(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(k2)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function kEe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_Ee)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var E4=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(E4||{});function KU(t,e=0){var n;return t===((n=Ng(t))==null?void 0:n.body)?!1:Io(e,{0(){return t.matches(k2)},1(){let r=t;for(;r!==null;){if(r.matches(k2))return!0;r=r.parentElement}return!1}})}var PEe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(PEe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function rd(t){t==null||t.focus({preventScroll:!0})}let NEe=["textarea","input"].join(",");function LEe(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,NEe))!=null?n:!1}function YU(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function IEe(t,e){return $m(GU(),e,{relativeTo:t})}function $m(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?YU(t):t:e&64?kEe(t):GU(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,f=o.length,h;do{if(u>=f||u+f<=0)return 0;let p=l+u;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=o[p],h==null||h.focus(c),u+=a}while(h!==s.activeElement);return e&6&&LEe(h)&&h.select(),2}function XU(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function DEe(){return/Android/gi.test(window.navigator.userAgent)}function RO(){return XU()||DEe()}function Cm(t,e,n,r){let i=ih(n);b.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function JU(t,e,n,r){let i=ih(n);b.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const MO=30;function QU(t,e,n){let r=ih(n),i=b.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(h){return typeof h=="function"?f(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let f of u)if(f!==null&&(f.contains(c)||a.composed&&a.composedPath().includes(f)))return;return!KU(c,E4.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,e]),s=b.useRef(null);Cm(t,"pointerdown",a=>{var l,c;RO()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),Cm(t,"pointerup",a=>{if(RO()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=b.useRef({x:0,y:0});Cm(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),Cm(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=MO||Math.abs(l.y-o.current.y)>=MO))return i(a,()=>Xu(a.target)?a.target:null)},!0),JU(t,"blur",a=>i(a,()=>W5e(window.document.activeElement)?window.document.activeElement:null),!0)}function ug(...t){return b.useMemo(()=>Ng(...t),[...t])}var REe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(REe||{});const W1={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},MEe=200;function OEe(t,{trigger:e,action:n,close:r,select:i}){let s=b.useRef(null);Cm(t&&e!==null,"pointerdown",o=>{w4(o==null?void 0:o.target)&&e!=null&&e.contains(o.target)&&(s.current=new Date)}),Cm(t&&e!==null,"pointerup",o=>{if(s.current===null||!Xu(o.target))return;let a=n(o),l=new Date().getTime()-s.current.getTime();switch(s.current=null,a.kind){case 0:return;case 1:{l>MEe&&(i(a.target),r());break}case 2:{r();break}}},{capture:!0})}function ZU(t,e,n,r){let i=ih(n);b.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function FEe(t,e){return b.useMemo(()=>{var n;if(t.type)return t.type;let r=(n=t.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function jEe(t){return b.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function BEe(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function VEe(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function $Ee(){return XU()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=hc();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Xu(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Xu(u)&&!r(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(Xu(a.target)&&H5e(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(Xu(a.target)){if(DU(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function zEe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function UEe(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let qh=BEe(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:hc(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:UEe(n)},i=[$Ee(),VEe(),zEe()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});qh.subscribe(()=>{let t=qh.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&qh.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&qh.dispatch("TEARDOWN",n)}});function qEe(t,e,n=()=>({containers:[]})){let r=jEe(qh),i=e?r.get(e):void 0,s=i?i.count>0:!1;return wr(()=>{if(!(!e||!t))return qh.dispatch("PUSH",e,n),()=>qh.dispatch("POP",e,n)},[t,e]),s}function eq(t,e,n=()=>[document.body]){let r=Sy(t,"scroll-lock");qEe(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function OO(t){return[t.screenX,t.screenY]}function HEe(){let t=b.useRef([-1,-1]);return{wasMoved(e){let n=OO(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=OO(e)}}}function WEe(t=0){let[e,n]=b.useState(t),r=b.useCallback(l=>n(l),[e]),i=b.useCallback(l=>n(c=>c|l),[e]),s=b.useCallback(l=>(e&l)===l,[e]),o=b.useCallback(l=>n(c=>c&~l),[n]),a=b.useCallback(l=>n(c=>c^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var GEe={},FO,jO;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((FO=process==null?void 0:GEe)==null?void 0:FO.NODE_ENV)==="test"&&typeof((jO=Element==null?void 0:Element.prototype)==null?void 0:jO.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var KEe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(KEe||{});function tq(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function nq(t,e,n,r){let[i,s]=b.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=WEe(t&&i?3:0),c=b.useRef(!1),u=b.useRef(!1),f=Tp();return wr(()=>{var h;if(t){if(n&&s(!0),!e){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),YEe(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){u.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,f]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function YEe(t,{prepare:e,run:n,done:r,inFlight:i}){let s=hc();return JEe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(XEe(t,r))})}),s.dispose}function XEe(t,e){var n,r;let i=hc();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function JEe(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function S4(t,e){let n=b.useRef([]),r=cn(t);b.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function Gw(){return typeof window<"u"}function Lg(t){return rq(t)?(t.nodeName||"").toLowerCase():"#document"}function Na(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hu(t){var e;return(e=(rq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rq(t){return Gw()?t instanceof Node||t instanceof Na(t).Node:!1}function Ao(t){return Gw()?t instanceof Element||t instanceof Na(t).Element:!1}function cu(t){return Gw()?t instanceof HTMLElement||t instanceof Na(t).HTMLElement:!1}function BO(t){return!Gw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Na(t).ShadowRoot}function Cy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ac(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function QEe(t){return["table","td","th"].includes(Lg(t))}function Kw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function C4(t){const e=A4(),n=Ao(t)?ac(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ZEe(t){let e=Wf(t);for(;cu(e)&&!dg(e);){if(C4(e))return e;if(Kw(e))return null;e=Wf(e)}return null}function A4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dg(t){return["html","body","#document"].includes(Lg(t))}function ac(t){return Na(t).getComputedStyle(t)}function Yw(t){return Ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Wf(t){if(Lg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BO(t)&&t.host||hu(t);return BO(e)?e.host:e}function iq(t){const e=Wf(t);return dg(e)?t.ownerDocument?t.ownerDocument.body:t.body:cu(e)&&Cy(e)?e:iq(e)}function qv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=iq(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Na(i);if(s){const a=A_(o);return e.concat(o,o.visualViewport||[],Cy(i)?i:[],a&&n?qv(a):[])}return e.concat(i,qv(i,[],n))}function A_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eSe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}const hp=Math.min,Xs=Math.max,Hv=Math.round,G1=Math.floor,eu=t=>({x:t,y:t}),tSe={left:"right",right:"left",bottom:"top",top:"bottom"},nSe={start:"end",end:"start"};function VO(t,e,n){return Xs(t,hp(e,n))}function Ig(t,e){return typeof t=="function"?t(e):t}function Gf(t){return t.split("-")[0]}function Ay(t){return t.split("-")[1]}function sq(t){return t==="x"?"y":"x"}function oq(t){return t==="y"?"height":"width"}function Ju(t){return["top","bottom"].includes(Gf(t))?"y":"x"}function aq(t){return sq(Ju(t))}function rSe(t,e,n){n===void 0&&(n=!1);const r=Ay(t),i=aq(t),s=oq(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=P2(o)),[o,P2(o)]}function iSe(t){const e=P2(t);return[__(t),e,__(e)]}function __(t){return t.replace(/start|end/g,e=>nSe[e])}function sSe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function oSe(t,e,n,r){const i=Ay(t);let s=sSe(Gf(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(__)))),s}function P2(t){return t.replace(/left|right|bottom|top/g,e=>tSe[e])}function aSe(t){return{top:0,right:0,bottom:0,left:0,...t}}function lSe(t){return typeof t!="number"?aSe(t):{top:t,right:t,bottom:t,left:t}}function N2(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $O(t,e,n){let{reference:r,floating:i}=t;const s=Ju(e),o=aq(e),a=oq(o),l=Gf(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ay(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const cSe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=$O(c,r,l),h=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:w}=a[v],{x:E,y:T,data:I,reset:F}=await w({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=E??u,f=T??f,p={...p,[y]:{...p[y],...I}},F&&g<=50&&(g++,typeof F=="object"&&(F.placement&&(h=F.placement),F.rects&&(c=F.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):F.rects),{x:u,y:f}=$O(c,h,l)),v=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function Xw(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ig(e,t),g=lSe(p),y=a[h?f==="floating"?"reference":"floating":f],w=N2(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),I=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},F=N2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:T,strategy:l}):E);return{top:(w.top-F.top+g.top)/I.y,bottom:(F.bottom-w.bottom+g.bottom)/I.y,left:(w.left-F.left+g.left)/I.x,right:(F.right-w.right+g.right)/I.x}}const uSe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=Ig(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=Gf(i),E=Ju(a),T=Gf(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),F=h||(T||!v?[P2(a)]:iSe(a)),B=g!=="none";!h&&B&&F.push(...oSe(a,v,g,I));const R=[a,...F],S=await Xw(e,y),k=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&k.push(S[w]),f){const q=rSe(i,o,I);k.push(S[q[0]],S[q[1]])}if(P=[...P,{placement:i,overflows:k}],!k.every(q=>q<=0)){var N,M;const q=(((N=s.flip)==null?void 0:N.index)||0)+1,Z=R[q];if(Z&&(!(f==="alignment"?E!==Ju(Z):!1)||P.every(Y=>Y.overflows[0]>0&&Ju(Y.placement)===E)))return{data:{index:q,overflows:P},reset:{placement:Z}};let ne=(M=P.filter(ee=>ee.overflows[0]<=0).sort((ee,Y)=>ee.overflows[1]-Y.overflows[1])[0])==null?void 0:M.placement;if(!ne)switch(p){case"bestFit":{var O;const ee=(O=P.filter(Y=>{if(B){const oe=Ju(Y.placement);return oe===E||oe==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(oe=>oe>0).reduce((oe,se)=>oe+se,0)]).sort((Y,oe)=>Y[1]-oe[1])[0])==null?void 0:O[0];ee&&(ne=ee);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};async function dSe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gf(n),a=Ay(n),l=Ju(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Ig(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const fSe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await dSe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},hSe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:E}=y;return{x:w,y:E}}},...l}=Ig(t,e),c={x:n,y:r},u=await Xw(e,l),f=Ju(Gf(i)),h=sq(f);let p=c[h],g=c[f];if(s){const y=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=p+u[y],T=p-u[w];p=VO(E,p,T)}if(o){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=g+u[y],T=g-u[w];g=VO(E,g,T)}const v=a.fn({...e,[h]:p,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:s,[f]:o}}}}}},pSe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ig(t,e),u=await Xw(e,c),f=Gf(i),h=Ay(i),p=Ju(i)==="y",{width:g,height:v}=s.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,y=h==="end"?"top":"bottom");const E=v-u.top-u.bottom,T=g-u.left-u.right,I=hp(v-u[y],E),F=hp(g-u[w],T),B=!e.middlewareData.shift;let R=I,S=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=E),B&&!h){const P=Xs(u.left,0),N=Xs(u.right,0),M=Xs(u.top,0),O=Xs(u.bottom,0);p?S=g-2*(P!==0||N!==0?P+N:Xs(u.left,u.right)):R=v-2*(M!==0||O!==0?M+O:Xs(u.top,u.bottom))}await l({...e,availableWidth:S,availableHeight:R});const k=await o.getDimensions(a.floating);return g!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function lq(t){const e=ac(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=cu(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Hv(n)!==s||Hv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function _4(t){return Ao(t)?t:t.contextElement}function zm(t){const e=_4(t);if(!cu(e))return eu(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=lq(e);let o=(s?Hv(n.width):n.width)/r,a=(s?Hv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mSe=eu(0);function cq(t){const e=Na(t);return!A4()||!e.visualViewport?mSe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gSe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Na(t)?!1:e}function pp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=_4(t);let o=eu(1);e&&(r?Ao(r)&&(o=zm(r)):o=zm(t));const a=gSe(s,n,r)?cq(s):eu(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=Na(s),p=r&&Ao(r)?Na(r):r;let g=h,v=A_(g);for(;v&&r&&p!==g;){const y=zm(v),w=v.getBoundingClientRect(),E=ac(v),T=w.left+(v.clientLeft+parseFloat(E.paddingLeft))*y.x,I=w.top+(v.clientTop+parseFloat(E.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=T,c+=I,g=Na(v),v=A_(g)}}return N2({width:u,height:f,x:l,y:c})}function T4(t,e){const n=Yw(t).scrollLeft;return e?e.left+n:pp(hu(t)).left+n}function uq(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:T4(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function vSe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=hu(r),a=e?Kw(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=eu(1);const u=eu(0),f=cu(r);if((f||!f&&!s)&&((Lg(r)!=="body"||Cy(o))&&(l=Yw(r)),cu(r))){const p=pp(r);c=zm(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=o&&!f&&!s?uq(o,l,!0):eu(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function ySe(t){return Array.from(t.getClientRects())}function xSe(t){const e=hu(t),n=Yw(t),r=t.ownerDocument.body,i=Xs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+T4(t);const a=-n.scrollTop;return ac(r).direction==="rtl"&&(o+=Xs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function bSe(t,e){const n=Na(t),r=hu(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=A4();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function wSe(t,e){const n=pp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=cu(t)?zm(t):eu(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function zO(t,e,n){let r;if(e==="viewport")r=bSe(t,n);else if(e==="document")r=xSe(hu(t));else if(Ao(e))r=wSe(e,n);else{const i=cq(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return N2(r)}function dq(t,e){const n=Wf(t);return n===e||!Ao(n)||dg(n)?!1:ac(n).position==="fixed"||dq(n,e)}function ESe(t,e){const n=e.get(t);if(n)return n;let r=qv(t,[],!1).filter(a=>Ao(a)&&Lg(a)!=="body"),i=null;const s=ac(t).position==="fixed";let o=s?Wf(t):t;for(;Ao(o)&&!dg(o);){const a=ac(o),l=C4(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cy(o)&&!l&&dq(t,o))?r=r.filter(u=>u!==o):i=a,o=Wf(o)}return e.set(t,r),r}function SSe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Kw(e)?[]:ESe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=zO(e,u,i);return c.top=Xs(f.top,c.top),c.right=hp(f.right,c.right),c.bottom=hp(f.bottom,c.bottom),c.left=Xs(f.left,c.left),c},zO(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CSe(t){const{width:e,height:n}=lq(t);return{width:e,height:n}}function ASe(t,e,n){const r=cu(e),i=hu(e),s=n==="fixed",o=pp(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=eu(0);function c(){l.x=T4(i)}if(r||!r&&!s)if((Lg(e)!=="body"||Cy(i))&&(a=Yw(e)),r){const p=pp(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?uq(i,a):eu(0),f=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function sC(t){return ac(t).position==="static"}function UO(t,e){if(!cu(t)||ac(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hu(t)===n&&(n=n.ownerDocument.body),n}function fq(t,e){const n=Na(t);if(Kw(t))return n;if(!cu(t)){let i=Wf(t);for(;i&&!dg(i);){if(Ao(i)&&!sC(i))return i;i=Wf(i)}return n}let r=UO(t,e);for(;r&&QEe(r)&&sC(r);)r=UO(r,e);return r&&dg(r)&&sC(r)&&!C4(r)?n:r||ZEe(t)||n}const _Se=async function(t){const e=this.getOffsetParent||fq,n=this.getDimensions,r=await n(t.floating);return{reference:ASe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TSe(t){return ac(t).direction==="rtl"}const kSe={convertOffsetParentRelativeRectToViewportRelativeRect:vSe,getDocumentElement:hu,getClippingRect:SSe,getOffsetParent:fq,getElementRects:_Se,getClientRects:ySe,getDimensions:CSe,getScale:zm,isElement:Ao,isRTL:TSe};function hq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PSe(t,e){let n=null,r;const i=hu(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(a||e(),!h||!p)return;const g=G1(f),v=G1(i.clientWidth-(u+h)),y=G1(i.clientHeight-(f+p)),w=G1(u),T={rootMargin:-g+"px "+-v+"px "+-y+"px "+-w+"px",threshold:Xs(0,hp(1,l))||1};let I=!0;function F(B){const R=B[0].intersectionRatio;if(R!==l){if(!I)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!hq(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(F,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(F,T)}n.observe(t)}return o(!0),s}function NSe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=_4(t),u=i||s?[...c?qv(c):[],...qv(e)]:[];u.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const f=c&&a?PSe(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[E]=w;E&&E.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,v=l?pp(t):null;l&&y();function y(){const w=pp(t);v&&!hq(v,w)&&n(),v=w,g=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const oC=Xw,LSe=fSe,ISe=hSe,DSe=uSe,RSe=pSe,MSe=(t,e,n)=>{const r=new Map,i={platform:kSe,...n},s={...i.platform,_c:r};return cSe(t,e,{...i,platform:s})};var OSe=typeof document<"u",FSe=function(){},cb=OSe?b.useLayoutEffect:FSe;function L2(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!L2(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!L2(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function pq(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qO(t,e){const n=pq(t);return Math.round(e*n)/n}function aC(t){const e=b.useRef(t);return cb(()=>{e.current=t}),e}function jSe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=b.useState(r);L2(h,r)||p(r);const[g,v]=b.useState(null),[y,w]=b.useState(null),E=b.useCallback(Y=>{Y!==B.current&&(B.current=Y,v(Y))},[]),T=b.useCallback(Y=>{Y!==R.current&&(R.current=Y,w(Y))},[]),I=s||g,F=o||y,B=b.useRef(null),R=b.useRef(null),S=b.useRef(u),k=l!=null,P=aC(l),N=aC(i),M=aC(c),O=b.useCallback(()=>{if(!B.current||!R.current)return;const Y={placement:e,strategy:n,middleware:h};N.current&&(Y.platform=N.current),MSe(B.current,R.current,Y).then(oe=>{const se={...oe,isPositioned:M.current!==!1};q.current&&!L2(S.current,se)&&(S.current=se,Ur.flushSync(()=>{f(se)}))})},[h,e,n,N,M]);cb(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(Y=>({...Y,isPositioned:!1})))},[c]);const q=b.useRef(!1);cb(()=>(q.current=!0,()=>{q.current=!1}),[]),cb(()=>{if(I&&(B.current=I),F&&(R.current=F),I&&F){if(P.current)return P.current(I,F,O);O()}},[I,F,O,P,k]);const Z=b.useMemo(()=>({reference:B,floating:R,setReference:E,setFloating:T}),[E,T]),ne=b.useMemo(()=>({reference:I,floating:F}),[I,F]),ee=b.useMemo(()=>{const Y={position:n,left:0,top:0};if(!ne.floating)return Y;const oe=qO(ne.floating,u.x),se=qO(ne.floating,u.y);return a?{...Y,transform:"translate("+oe+"px, "+se+"px)",...pq(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:se}},[n,a,ne.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:O,refs:Z,elements:ne,floatingStyles:ee}),[u,O,Z,ne,ee])}const mq=(t,e)=>({...LSe(t),options:[t,e]}),BSe=(t,e)=>({...ISe(t),options:[t,e]}),VSe=(t,e)=>({...DSe(t),options:[t,e]}),$Se=(t,e)=>({...RSe(t),options:[t,e]}),gq={...fC},zSe=gq.useInsertionEffect,USe=zSe||(t=>t());function vq(t){const e=b.useRef(()=>{});return USe(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var T_=typeof document<"u"?b.useLayoutEffect:b.useEffect;let HO=!1,qSe=0;const WO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qSe++;function HSe(){const[t,e]=b.useState(()=>HO?WO():void 0);return T_(()=>{t==null&&e(WO())},[]),b.useEffect(()=>{HO=!0},[]),t}const WSe=gq.useId,GSe=WSe||HSe;function KSe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const YSe=b.createContext(null),XSe=b.createContext(null),JSe=()=>{var t;return((t=b.useContext(YSe))==null?void 0:t.id)||null},QSe=()=>b.useContext(XSe),ZSe="data-floating-ui-focusable";function eCe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=GSe(),s=b.useRef({}),[o]=b.useState(()=>KSe()),a=JSe()!=null,[l,c]=b.useState(r.reference),u=vq((p,g,v)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:v,nested:a}),n==null||n(p,g,v)}),f=b.useMemo(()=>({setPositionReference:c}),[]),h=b.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return b.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:h,events:o,floatingId:i,refs:f}),[e,u,h,o,i,f])}function tCe(t){t===void 0&&(t={});const{nodeId:e}=t,n=eCe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=b.useState(null),[a,l]=b.useState(null),u=(i==null?void 0:i.domReference)||s,f=b.useRef(null),h=QSe();T_(()=>{u&&(f.current=u)},[u]);const p=jSe({...t,elements:{...i,...a&&{reference:a}}}),g=b.useCallback(T=>{const I=Ao(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;l(I),p.refs.setReference(I)},[p.refs]),v=b.useCallback(T=>{(Ao(T)||T===null)&&(f.current=T,o(T)),(Ao(p.refs.reference.current)||p.refs.reference.current===null||T!==null&&!Ao(T))&&p.refs.setReference(T)},[p.refs]),y=b.useMemo(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:f}),[p.refs,v,g]),w=b.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),E=b.useMemo(()=>({...p,...r,refs:y,elements:w,nodeId:e}),[p,y,w,e,r]);return T_(()=>{r.dataRef.current.floatingContext=E;const T=h==null?void 0:h.nodesRef.current.find(I=>I.id===e);T&&(T.context=E)}),b.useMemo(()=>({...p,context:E,refs:y,elements:w}),[p,y,w,E])}const GO="active",KO="selected";function lC(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[GO]:o,[KO]:a,...l}=t;s=l}return{...n==="floating"&&{tabIndex:-1,[ZSe]:""},...s,...e.map(o=>{const a=o?o[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[GO,KO].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),o[c]=function(){for(var h,p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return(h=r.get(c))==null?void 0:h.map(y=>y(...g)).find(y=>y!==void 0)}}}else o[c]=u}),o),{})}}function nCe(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=b.useCallback(a=>lC(a,t,"reference"),e),s=b.useCallback(a=>lC(a,t,"floating"),n),o=b.useCallback(a=>lC(a,t,"item"),r);return b.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function YO(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const rCe=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=Ig(t,e),{rects:f,elements:{floating:h}}=e,p=n.current[o],g=(c==null?void 0:c.current)||h,v=h.clientTop||g.clientTop,y=h.clientTop!==0,w=g.clientTop!==0,E=h===g;if(!p)return{};const T={...e,...await mq(-p.offsetTop-h.clientTop-f.reference.height/2-p.offsetHeight/2-s).fn(e)},I=await oC(YO(T,g.scrollHeight+v+h.clientTop),u),F=await oC(T,{...u,elementContext:"reference"}),B=Xs(0,I.top),R=T.y+B,P=(g.scrollHeight>g.clientHeight?N=>N:Hv)(Xs(0,g.scrollHeight+(y&&E||w?v*2:0)-B-Xs(0,I.bottom)));if(g.style.maxHeight=P+"px",g.scrollTop=B,i){const N=g.offsetHeight<p.offsetHeight*hp(a,n.current.length)-1||F.top>=-l||F.bottom>=-l;Ur.flushSync(()=>i(N))}return r&&(r.current=await oC(YO({...T,y:R},g.offsetHeight+v+h.clientTop),u)),{y:R}}});function iCe(t,e){const{open:n,elements:r}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=vq(a),c=b.useRef(!1),u=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{if(!i)return;function p(v){if(v.ctrlKey||!g||s.current==null)return;const y=v.deltaY,w=s.current.top>=-.5,E=s.current.bottom>=-.5,T=g.scrollHeight-g.clientHeight,I=y<0?-1:1,F=y<0?"max":"min";g.scrollHeight<=g.clientHeight||(!w&&y>0||!E&&y<0?(v.preventDefault(),Ur.flushSync(()=>{l(B=>B+Math[F](y,T*I))})):/firefox/i.test(eSe())&&(g.scrollTop+=y))}const g=(o==null?void 0:o.current)||r.floating;if(n&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{u.current=null,f.current=null,g.removeEventListener("wheel",p)}},[i,n,r.floating,s,o,l]);const h=b.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&Ur.flushSync(()=>l(v=>v+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,s,o]);return b.useMemo(()=>i?{floating:h}:{},[i,h])}let Dg=b.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Dg.displayName="FloatingContext";let k4=b.createContext(null);k4.displayName="PlacementContext";function sCe(t){return b.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function oCe(){return b.useContext(Dg).setReference}function aCe(){return b.useContext(Dg).getReferenceProps}function lCe(){let{getFloatingProps:t,slot:e}=b.useContext(Dg);return b.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function cCe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=b.useContext(k4),n=b.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);wr(()=>{e==null||e(n??null)},[e,n]);let r=b.useContext(Dg);return b.useMemo(()=>[r.setFloating,t?r.styles:{}],[r.setFloating,t,r.styles])}let XO=4;function uCe({children:t,enabled:e=!0}){let[n,r]=b.useState(null),[i,s]=b.useState(0),o=b.useRef(null),[a,l]=b.useState(null);dCe(a);let c=e&&n!==null&&a!==null,{to:u="bottom",gap:f=0,offset:h=0,padding:p=0,inner:g}=fCe(n,a),[v,y="center"]=u.split(" ");wr(()=>{c&&s(0)},[c]);let{refs:w,floatingStyles:E,context:T}=tCe({open:c,placement:v==="selection"?y==="center"?"bottom":`bottom-${y}`:y==="center"?`${v}`:`${v}-${y}`,strategy:"absolute",transform:!1,middleware:[mq({mainAxis:v==="selection"?0:f,crossAxis:h}),BSe({padding:p}),v!=="selection"&&VSe({padding:p}),v==="selection"&&g?rCe({...g,padding:p,overflowRef:o,offset:i,minItemsVisible:XO,referenceOverflowThreshold:p,onFallbackChange(N){var M,O;if(!N)return;let q=T.elements.floating;if(!q)return;let Z=parseFloat(getComputedStyle(q).scrollPaddingBottom)||0,ne=Math.min(XO,q.childElementCount),ee=0,Y=0;for(let oe of(O=(M=T.elements.floating)==null?void 0:M.childNodes)!=null?O:[])if(La(oe)){let se=oe.offsetTop,K=se+oe.clientHeight+Z,V=q.scrollTop,W=V+q.clientHeight;if(se>=V&&K<=W)ne--;else{Y=Math.max(0,Math.min(K,W)-Math.max(se,V)),ee=oe.clientHeight;break}}ne>=1&&s(oe=>{let se=ee*ne-Y+Z;return oe>=se?oe:se})}}):null,$Se({padding:p,apply({availableWidth:N,availableHeight:M,elements:O}){Object.assign(O.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${M}px)`})}})].filter(Boolean),whileElementsMounted:NSe}),[I=v,F=y]=T.placement.split("-");v==="selection"&&(I="selection");let B=b.useMemo(()=>({anchor:[I,F].filter(Boolean).join(" ")}),[I,F]),R=iCe(T,{overflowRef:o,onChange:s}),{getReferenceProps:S,getFloatingProps:k}=nCe([R]),P=cn(N=>{l(N),w.setFloating(N)});return b.createElement(k4.Provider,{value:r},b.createElement(Dg.Provider,{value:{setFloating:P,setReference:w.setReference,styles:E,getReferenceProps:S,getFloatingProps:k,slot:B}},t))}function dCe(t){wr(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(t.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function fCe(t,e){var n,r,i;let s=cC((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),o=cC((r=t==null?void 0:t.offset)!=null?r:"var(--anchor-offset, 0)",e),a=cC((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function cC(t,e,n=void 0){let r=Tp(),i=cn((l,c)=>{if(l==null)return[n,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[n,null];let u=JO(l,c);return[u,f=>{let h=yq(l);{let p=h.map(g=>window.getComputedStyle(c).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let v=!1;for(let[w,E]of h.entries()){let T=window.getComputedStyle(c).getPropertyValue(E);if(p[w]!==T){p[w]=T,v=!0;break}}if(!v)return;let y=JO(l,c);u!==y&&(f(y),u=y)})}return r.dispose}]}return[n,null]}),s=b.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=b.useState();return wr(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function yq(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let r=e[1].slice(0,n).trim(),i=e[1].slice(n+1).trim();return i?[r,...yq(i)]:[r]}return[]}function JO(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),r}function hCe(t,e){let[n,r]=b.useState(e);return!t&&n!==e&&r(e),t?n:e}let Jw=b.createContext(null);Jw.displayName="OpenClosedContext";var _o=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(_o||{});function _y(){return b.useContext(Jw)}function xq({value:t,children:e}){return Me.createElement(Jw.Provider,{value:t},e)}function pCe({children:t}){return Me.createElement(Jw.Provider,{value:null},t)}function mCe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let gf=[];mCe(()=>{function t(e){if(!Xu(e.target)||e.target===document.body||gf[0]===e.target)return;let n=e.target;n=n.closest(k2),gf.unshift(n??e.target),gf=gf.filter(r=>r!=null&&r.isConnected),gf.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function gCe(t){throw new Error("Unexpected object: "+t)}var Mr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Mr||{});function K1(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(t.focus){case 0:{for(let s=0;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!e.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(e.resolveId(n[s],s,n)===t.id)return s;return r}case 5:return null;default:gCe(t)}}function P4(t){let e=cn(t),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,Uw(()=>{n.current&&e()})}),[e])}function vCe(){let t=typeof document>"u";return"useSyncExternalStore"in fC?(e=>e.useSyncExternalStore)(fC)(()=>()=>{},()=>!1,()=>!t):!1}function Ty(){let t=vCe(),[e,n]=b.useState(ep.isHandoffComplete);return e&&ep.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{e!==!0&&n(!0)},[e]),b.useEffect(()=>ep.handoff(),[]),t?!1:e}let bq=b.createContext(!1);function yCe(){return b.useContext(bq)}function QO(t){return Me.createElement(bq.Provider,{value:t.force},t.children)}function xCe(t){let e=yCe(),n=b.useContext(Eq),[r,i]=b.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(ep.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return b.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),b.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let wq=b.Fragment,bCe=yi(function(t,e){let{ownerDocument:n=null,...r}=t,i=b.useRef(null),s=so(J5e(p=>{i.current=p}),e),o=ug(i),a=n??o,l=xCe(a),[c]=b.useState(()=>{var p;return ep.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),u=b.useContext(k_),f=Ty();wr(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),wr(()=>{if(c&&u)return u.register(c)},[u,c]),P4(()=>{var p;!l||!c||(w4(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let h=ss();return f?!l||!c?null:Ur.createPortal(h({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:wq,name:"Portal"}),c):null});function wCe(t,e){let n=so(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=ss();return r?Me.createElement(bCe,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:wq,name:"Portal"})}let ECe=b.Fragment,Eq=b.createContext(null);function SCe(t,e){let{target:n,...r}=t,i={ref:so(e)},s=ss();return Me.createElement(Eq.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:ECe,name:"Popover.Group"}))}let k_=b.createContext(null);function CCe(){let t=b.useContext(k_),e=b.useRef([]),n=cn(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=cn(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=b.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,b.useMemo(()=>function({children:s}){return Me.createElement(k_.Provider,{value:i},s)},[i])]}let ACe=yi(wCe),Sq=yi(SCe),Cq=Object.assign(ACe,{Group:Sq});function _Ce(t,e=typeof document<"u"?document.defaultView:null,n){let r=Sy(t,"escape");ZU(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Ni.Escape&&n(i))})}function TCe(){var t;let[e]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=b.useState((t=e==null?void 0:e.matches)!=null?t:!1);return wr(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function kCe({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=ug(n),i=cn(()=>{var s,o;let a=[];for(let l of t)l!==null&&(nd(l)?a.push(l):"current"in l&&nd(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&nd(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:i,contains:cn(s=>i().some(o=>o.contains(s)))}}let Aq=b.createContext(null);function ZO({children:t,node:e}){let[n,r]=b.useState(null),i=_q(e??n);return Me.createElement(Aq.Provider,{value:i},t,i===null&&Me.createElement(Uv,{features:cg.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Ng(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&nd(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function _q(t=null){var e;return(e=b.useContext(Aq))!=null?e:t}function N4(){let t=b.useRef(!1);return wr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var N0=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(N0||{});function PCe(){let t=b.useRef(0);return JU(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Tq(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)nd(n.current)&&e.add(n.current);return e}let NCe="div";var Ih=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Ih||{});function LCe(t,e){let n=b.useRef(null),r=so(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;Ty()||(a=0);let c=ug(n);MCe(a,{ownerDocument:c});let u=OCe(a,{ownerDocument:c,container:n,initialFocus:i,initialFocusFallback:s});FCe(a,{ownerDocument:c,container:n,containers:o,previousActiveElement:u});let f=PCe(),h=cn(E=>{if(!La(n.current))return;let T=n.current;(I=>I())(()=>{Io(f.current,{[N0.Forwards]:()=>{$m(T,Ql.First,{skipElements:[E.relatedTarget,s]})},[N0.Backwards]:()=>{$m(T,Ql.Last,{skipElements:[E.relatedTarget,s]})}})})}),p=Sy(!!(a&2),"focus-trap#tab-lock"),g=Tp(),v=b.useRef(!1),y={ref:r,onKeyDown(E){E.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(E){if(!(a&4))return;let T=Tq(o);La(n.current)&&T.add(n.current);let I=E.relatedTarget;Xu(I)&&I.dataset.headlessuiFocusGuard!=="true"&&(kq(T,I)||(v.current?$m(n.current,Io(f.current,{[N0.Forwards]:()=>Ql.Next,[N0.Backwards]:()=>Ql.Previous})|Ql.WrapAround,{relativeTo:E.target}):Xu(E.target)&&rd(E.target)))}},w=ss();return Me.createElement(Me.Fragment,null,p&&Me.createElement(Uv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:cg.Focusable}),w({ourProps:y,theirProps:l,defaultTag:NCe,name:"FocusTrap"}),p&&Me.createElement(Uv,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:cg.Focusable}))}let ICe=yi(LCe),DCe=Object.assign(ICe,{features:Ih});function RCe(t=!0){let e=b.useRef(gf.slice());return S4(([n],[r])=>{r===!0&&n===!1&&Uw(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=gf.slice())},[t,gf,e]),cn(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function MCe(t,{ownerDocument:e}){let n=!!(t&8),r=RCe(n);S4(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&rd(r())},[n]),P4(()=>{n&&rd(r())})}function OCe(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=b.useRef(null),o=Sy(!!(t&1),"focus-trap#initial-focus"),a=N4();return S4(()=>{if(t===0)return;if(!o){i!=null&&i.current&&rd(i.current);return}let l=n.current;l&&Uw(()=>{if(!a.current)return;let c=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(r!=null&&r.current)rd(r.current);else{if(t&16){if($m(l,Ql.First|Ql.AutoFocus)!==C_.Error)return}else if($m(l,Ql.First)!==C_.Error)return;if(i!=null&&i.current&&(rd(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function FCe(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=N4(),o=!!(t&4);ZU(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Tq(r);La(n.current)&&l.add(n.current);let c=i.current;if(!c)return;let u=a.target;La(u)?kq(l,u)?(i.current=u,rd(u)):(a.preventDefault(),a.stopPropagation(),rd(c)):rd(i.current)},!0)}function kq(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function Pq(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:Lq)!==b.Fragment||Me.Children.count(t.children)===1}let Qw=b.createContext(null);Qw.displayName="TransitionContext";var jCe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(jCe||{});function BCe(){let t=b.useContext(Qw);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function VCe(){let t=b.useContext(Zw);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Zw=b.createContext(null);Zw.displayName="NestingContext";function e5(t){return"children"in t?e5(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Nq(t,e){let n=ih(t),r=b.useRef([]),i=N4(),s=Tp(),o=cn((p,g=Sf.Hidden)=>{let v=r.current.findIndex(({el:y})=>y===p);v!==-1&&(Io(g,{[Sf.Unmount](){r.current.splice(v,1)},[Sf.Hidden](){r.current[v].state="hidden"}}),s.microTask(()=>{var y;!e5(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=cn(p=>{let g=r.current.find(({el:v})=>v===p);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Sf.Unmount)}),l=b.useRef([]),c=b.useRef(Promise.resolve()),u=b.useRef({enter:[],leave:[]}),f=cn((p,g,v)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([y])=>y!==p)),e==null||e.chains.current[g].push([p,new Promise(y=>{l.current.push(y)})]),e==null||e.chains.current[g].push([p,new Promise(y=>{Promise.all(u.current[g].map(([w,E])=>E)).then(()=>y())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>v(g)):v(g)}),h=cn((p,g,v)=>{Promise.all(u.current[g].splice(0).map(([y,w])=>w)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>v(g))});return b.useMemo(()=>({children:r,register:a,unregister:o,onStart:f,onStop:h,wait:c,chains:u}),[a,o,r,f,h,u,c])}let Lq=b.Fragment,Iq=lg.RenderStrategy;function $Ce(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:h,leave:p,leaveFrom:g,leaveTo:v,...y}=t,[w,E]=b.useState(null),T=b.useRef(null),I=Pq(t),F=so(...I?[T,e,E]:e===null?[]:[e]),B=(n=y.unmount)==null||n?Sf.Unmount:Sf.Hidden,{show:R,appear:S,initial:k}=BCe(),[P,N]=b.useState(R?"visible":"hidden"),M=VCe(),{register:O,unregister:q}=M;wr(()=>O(T),[O,T]),wr(()=>{if(B===Sf.Hidden&&T.current){if(R&&P!=="visible"){N("visible");return}return Io(P,{hidden:()=>q(T),visible:()=>O(T)})}},[P,T,O,q,R,B]);let Z=Ty();wr(()=>{if(I&&Z&&P==="visible"&&T.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[T,P,Z,I]);let ne=k&&!S,ee=S&&R&&k,Y=b.useRef(!1),oe=Nq(()=>{Y.current||(N("hidden"),q(T))},M),se=cn(ce=>{Y.current=!0;let fe=ce?"enter":"leave";oe.onStart(T,fe,be=>{be==="enter"?s==null||s():be==="leave"&&(a==null||a())})}),K=cn(ce=>{let fe=ce?"enter":"leave";Y.current=!1,oe.onStop(T,fe,be=>{be==="enter"?o==null||o():be==="leave"&&(l==null||l())}),fe==="leave"&&!e5(oe)&&(N("hidden"),q(T))});b.useEffect(()=>{I&&i||(se(R),K(R))},[R,I,i]);let V=!(!i||!I||!Z||ne),[,W]=nq(V,w,R,{start:se,end:K}),J=lf({ref:F,className:((r=E_(y.className,ee&&c,ee&&u,W.enter&&c,W.enter&&W.closed&&u,W.enter&&!W.closed&&f,W.leave&&p,W.leave&&!W.closed&&g,W.leave&&W.closed&&v,!W.transition&&R&&h))==null?void 0:r.trim())||void 0,...tq(W)}),Q=0;P==="visible"&&(Q|=_o.Open),P==="hidden"&&(Q|=_o.Closed),R&&P==="hidden"&&(Q|=_o.Opening),!R&&P==="visible"&&(Q|=_o.Closing);let re=ss();return Me.createElement(Zw.Provider,{value:oe},Me.createElement(xq,{value:Q},re({ourProps:J,theirProps:y,defaultTag:Lq,features:Iq,visible:P==="visible",name:"Transition.Child"})))}function zCe(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=b.useRef(null),a=Pq(t),l=so(...a?[o,e]:e===null?[]:[e]);Ty();let c=_y();if(n===void 0&&c!==null&&(n=(c&_o.Open)===_o.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=b.useState(n?"visible":"hidden"),h=Nq(()=>{n||f("hidden")}),[p,g]=b.useState(!0),v=b.useRef([n]);wr(()=>{p!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let y=b.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);wr(()=>{n?f("visible"):!e5(h)&&o.current!==null&&f("hidden")},[n,h]);let w={unmount:i},E=cn(()=>{var F;p&&g(!1),(F=t.beforeEnter)==null||F.call(t)}),T=cn(()=>{var F;p&&g(!1),(F=t.beforeLeave)==null||F.call(t)}),I=ss();return Me.createElement(Zw.Provider,{value:h},Me.createElement(Qw.Provider,{value:y},I({ourProps:{...w,as:b.Fragment,children:Me.createElement(Dq,{ref:l,...w,...s,beforeEnter:E,beforeLeave:T})},theirProps:{},defaultTag:b.Fragment,features:Iq,visible:u==="visible",name:"Transition"})))}function UCe(t,e){let n=b.useContext(Qw)!==null,r=_y()!==null;return Me.createElement(Me.Fragment,null,!n&&r?Me.createElement(P_,{ref:e,...t}):Me.createElement(Dq,{ref:e,...t}))}let P_=yi(zCe),Dq=yi($Ce),L4=yi(UCe),Rq=Object.assign(P_,{Child:L4,Root:P_});var qCe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(qCe||{}),HCe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(HCe||{});let WCe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},I4=b.createContext(null);I4.displayName="DialogContext";function t5(t){let e=b.useContext(I4);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,t5),n}return e}function GCe(t,e){return Io(e.type,WCe,t,e)}let e8=yi(function(t,e){let n=b.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...f}=t,h=b.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=_y();i===void 0&&p!==null&&(i=(p&_o.Open)===_o.Open);let g=b.useRef(null),v=so(g,e),y=ug(g),w=i?0:1,[E,T]=b.useReducer(GCe,{titleId:null,descriptionId:null,panelRef:b.createRef()}),I=cn(()=>s(!1)),F=cn(W=>T({type:0,id:W})),B=Ty()?w===0:!1,[R,S]=CCe(),k={get current(){var W;return(W=E.panelRef.current)!=null?W:g.current}},P=_q(),{resolveContainers:N}=kCe({mainTreeNode:P,portals:R,defaultContainers:[k]}),M=p!==null?(p&_o.Closing)===_o.Closing:!1;HU(c||M?!1:B,{allowed:cn(()=>{var W,J;return[(J=(W=g.current)==null?void 0:W.closest("[data-headlessui-portal]"))!=null?J:null]}),disallowed:cn(()=>{var W;return[(W=P==null?void 0:P.closest("body > *:not(#headlessui-portal-root)"))!=null?W:null]})});let O=Ww.get(null);wr(()=>{if(B)return O.actions.push(r),()=>O.actions.pop(r)},[O,r,B]);let q=ka(O,b.useCallback(W=>O.selectors.isTop(W,r),[O,r]));QU(q,N,W=>{W.preventDefault(),I()}),_Ce(q,y==null?void 0:y.defaultView,W=>{W.preventDefault(),W.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),I()}),eq(c||M?!1:B,y,N),WU(B,g,I);let[Z,ne]=Z5e(),ee=b.useMemo(()=>[{dialogState:w,close:I,setTitleId:F,unmount:u},E],[w,E,I,F,u]),Y=b.useMemo(()=>({open:w===0}),[w]),oe={ref:v,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:w===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":Z,unmount:u},se=!TCe(),K=Ih.None;B&&!c&&(K|=Ih.RestoreFocus,K|=Ih.TabLock,l&&(K|=Ih.AutoFocus),se&&(K|=Ih.InitialFocus));let V=ss();return Me.createElement(pCe,null,Me.createElement(QO,{force:!0},Me.createElement(Cq,null,Me.createElement(I4.Provider,{value:ee},Me.createElement(Sq,{target:g},Me.createElement(QO,{force:!1},Me.createElement(ne,{slot:Y},Me.createElement(S,null,Me.createElement(DCe,{initialFocus:o,initialFocusFallback:g,containers:N,features:K},Me.createElement(uEe,{value:I},V({ourProps:oe,theirProps:f,slot:Y,defaultTag:KCe,features:YCe,visible:w===0,name:"Dialog"})))))))))))}),KCe="div",YCe=lg.RenderStrategy|lg.Static;function XCe(t,e){let{transition:n=!1,open:r,...i}=t,s=_y(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Me.createElement(ZO,null,Me.createElement(Rq,{show:r,transition:n,unmount:i.unmount},Me.createElement(e8,{ref:e,...i}))):Me.createElement(ZO,null,Me.createElement(e8,{ref:e,open:r,...i}))}let JCe="div";function QCe(t,e){let n=b.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=t5("Dialog.Panel"),c=so(e,l.panelRef),u=b.useMemo(()=>({open:o===0}),[o]),f=cn(y=>{y.stopPropagation()}),h={ref:c,id:r,onClick:f},p=i?L4:b.Fragment,g=i?{unmount:a}:{},v=ss();return Me.createElement(p,{...g},v({ourProps:h,theirProps:s,slot:u,defaultTag:JCe,name:"Dialog.Panel"}))}let ZCe="div";function eAe(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=t5("Dialog.Backdrop"),o=b.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?L4:b.Fragment,c=n?{unmount:s}:{},u=ss();return Me.createElement(l,{...c},u({ourProps:a,theirProps:r,slot:o,defaultTag:ZCe,name:"Dialog.Backdrop"}))}let tAe="h2";function nAe(t,e){let n=b.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=t5("Dialog.Title"),a=so(e);b.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=b.useMemo(()=>({open:s===0}),[s]),c={ref:a,id:r};return ss()({ourProps:c,theirProps:i,slot:l,defaultTag:tAe,name:"Dialog.Title"})}let rAe=yi(XCe),iAe=yi(QCe);yi(eAe);let sAe=yi(nAe),oAe=Object.assign(rAe,{Panel:iAe,Title:sAe,Description:rEe});function aAe(t,e){let n=b.useRef({left:0,top:0});if(wr(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(n.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let t8=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function n8(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!La(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return t8.test(o)&&(o=o.replace(t8,"")),o}function lAe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():n8(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return n8(t).trim()}function cAe(t){let e=b.useRef(""),n=b.useRef("");return cn(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=lAe(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var uAe=Object.defineProperty,dAe=(t,e,n)=>e in t?uAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r8=(t,e,n)=>(dAe(t,typeof e!="symbol"?e+"":e,n),n),Zi=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Zi||{}),Uc=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Uc||{}),N_=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(N_||{}),Mq=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOptions=5]="RegisterOptions",t[t.UnregisterOptions=6]="UnregisterOptions",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetOptionsElement=8]="SetOptionsElement",t[t.SortOptions=9]="SortOptions",t))(Mq||{});function i8(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=YU(e(t.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let fAe={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,pendingFocus:{focus:Mr.Nothing},listboxState:1,__demoMode:!1}},0(t,e){if(t.dataRef.current.disabled||t.listboxState===0)return t;let n=t.activeOptionIndex,{isSelected:r}=t.dataRef.current,i=t.options.findIndex(s=>r(s.dataRef.current.value));return i!==-1&&(n=i),{...t,pendingFocus:e.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(t,e){var n,r,i,s,o;if(t.dataRef.current.disabled||t.listboxState===1)return t;let a={...t,searchQuery:"",activationTrigger:(n=e.trigger)!=null?n:1,__demoMode:!1};if(e.focus===Mr.Nothing)return{...a,activeOptionIndex:null};if(e.focus===Mr.Specific)return{...a,activeOptionIndex:t.options.findIndex(u=>u.id===e.id)};if(e.focus===Mr.Previous){let u=t.activeOptionIndex;if(u!==null){let f=t.options[u].dataRef.current.domRef,h=K1(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.options[h].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:h}}}}else if(e.focus===Mr.Next){let u=t.activeOptionIndex;if(u!==null){let f=t.options[u].dataRef.current.domRef,h=K1(e,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(h!==null){let p=t.options[h].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeOptionIndex:h}}}}let l=i8(t),c=K1(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeOptionIndex:c}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?t.options.indexOf(i):-1;return s===-1||s===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n=t.options.concat(e.options),r=t.activeOptionIndex;if(t.pendingFocus.focus!==Mr.Nothing&&(r=K1(t.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),t.activeOptionIndex===null){let{isSelected:i}=t.dataRef.current;if(i){let s=n.findIndex(o=>i==null?void 0:i(o.dataRef.current.value));s!==-1&&(r=s)}}return{...t,options:n,activeOptionIndex:r,pendingFocus:{focus:Mr.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let n=t.options,r=[],i=new Set(e.options);for(let[s,o]of n.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){n=n.slice();for(let s of r.reverse())n.splice(s,1)}return{...t,options:n,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element},9:t=>t.pendingShouldSort?{...t,...i8(t),pendingShouldSort:!1}:t};class D4 extends $U{constructor(e){super(e),r8(this,"actions",{onChange:n=>{let{onChange:r,compare:i,mode:s,value:o}=this.state.dataRef.current;return Io(s,{0:()=>r==null?void 0:r(n),1:()=>{let a=o.slice(),l=a.findIndex(c=>i(c,n));return l===-1?a.push(n):a.splice(l,1),r==null?void 0:r(a)}})},registerOption:nC(()=>{let n=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),n.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:nC(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:nC(()=>{let n=null;return[(r,i)=>{n={type:2,...r,trigger:i}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:Mr.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(i=>i.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),r8(this,"selectors",{activeDescendantId(n){var r;let i=n.activeOptionIndex,s=n.options;return i===null||(r=s[i])==null?void 0:r.id},isActive(n,r){var i;let s=n.activeOptionIndex,o=n.options;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Ww.get(null);this.disposables.add(r.on(UU.Push,i=>{!r.selectors.isTop(i,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:e,__demoMode:n=!1}){return new D4({id:e,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:Mr.Nothing},__demoMode:n})}reduce(e,n){return Io(n.type,fAe,e,n)}}const Oq=b.createContext(null);function R4(t){let e=b.useContext(Oq);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Fq),n}return e}function Fq({id:t,__demoMode:e=!1}){let n=b.useMemo(()=>D4.new({id:t,__demoMode:e}),[]);return P4(()=>n.dispose()),n}let n5=b.createContext(null);n5.displayName="ListboxDataContext";function ky(t){let e=b.useContext(n5);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ky),n}return e}let hAe=b.Fragment;function pAe(t,e){let n=b.useId(),r=b4(),{value:i,defaultValue:s,form:o,name:a,onChange:l,by:c,invalid:u=!1,disabled:f=r||!1,horizontal:h=!1,multiple:p=!1,__demoMode:g=!1,...v}=t;const y=h?"horizontal":"vertical";let w=so(e),E=O5e(s),[T=p?[]:void 0,I]=M5e(i,l,E),F=Fq({id:n,__demoMode:g}),B=b.useRef({static:!1,hold:!1}),R=b.useRef(new Map),S=fEe(c),k=b.useCallback(V=>Io(P.mode,{[Uc.Multi]:()=>T.some(W=>S(W,V)),[Uc.Single]:()=>S(T,V)}),[T]),P=b.useMemo(()=>({value:T,disabled:f,invalid:u,mode:p?Uc.Multi:Uc.Single,orientation:y,onChange:I,compare:S,isSelected:k,optionsPropsRef:B,listRef:R}),[T,f,u,p,y,I,S,k,B,R]);wr(()=>{F.state.dataRef.current=P},[P]);let N=ka(F,V=>V.listboxState),M=Ww.get(null),O=ka(M,b.useCallback(V=>M.selectors.isTop(V,n),[M,n])),[q,Z]=ka(F,V=>[V.buttonElement,V.optionsElement]);QU(O,[q,Z],(V,W)=>{F.send({type:Mq.CloseListbox}),KU(W,E4.Loose)||(V.preventDefault(),q==null||q.focus())});let ne=b.useMemo(()=>({open:N===Zi.Open,disabled:f,invalid:u,value:T}),[N,f,u,T]),[ee,Y]=iEe({inherit:!0}),oe={ref:w},se=b.useCallback(()=>{if(E!==void 0)return I==null?void 0:I(E)},[I,E]),K=ss();return Me.createElement(Y,{value:ee,props:{htmlFor:q==null?void 0:q.id},slot:{open:N===Zi.Open,disabled:f}},Me.createElement(uCe,null,Me.createElement(Oq.Provider,{value:F},Me.createElement(n5.Provider,{value:P},Me.createElement(xq,{value:Io(N,{[Zi.Open]:_o.Open,[Zi.Closed]:_o.Closed})},a!=null&&T!=null&&Me.createElement(z5e,{disabled:f,data:{[a]:T},form:o,onReset:se}),K({ourProps:oe,theirProps:v,slot:ne,defaultTag:hAe,name:"Listbox"}))))))}let mAe="button";function gAe(t,e){let n=b.useId(),r=IU(),i=ky("Listbox.Button"),s=R4("Listbox.Button"),{id:o=r||`headlessui-listbox-button-${n}`,disabled:a=i.disabled||!1,autoFocus:l=!1,...c}=t,u=so(e,oCe(),s.actions.setButtonElement),f=aCe(),[h,p,g]=ka(s,Z=>[Z.listboxState,Z.buttonElement,Z.optionsElement]),v=h===Zi.Open;OEe(v,{trigger:p,action:b.useCallback(Z=>{if(p!=null&&p.contains(Z.target))return W1.Ignore;let ne=Z.target.closest('[role="option"]:not([data-disabled])');return La(ne)?W1.Select(ne):g!=null&&g.contains(Z.target)?W1.Ignore:W1.Close},[p,g]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let y=cn(Z=>{switch(Z.key){case Ni.Enter:F5e(Z.currentTarget);break;case Ni.Space:case Ni.ArrowDown:Z.preventDefault(),s.actions.openListbox({focus:i.value?Mr.Nothing:Mr.First});break;case Ni.ArrowUp:Z.preventDefault(),s.actions.openListbox({focus:i.value?Mr.Nothing:Mr.Last});break}}),w=cn(Z=>{switch(Z.key){case Ni.Space:Z.preventDefault();break}}),E=cn(Z=>{var ne;if(Z.button===0){if(Y5e(Z.currentTarget))return Z.preventDefault();s.state.listboxState===Zi.Open?(Ur.flushSync(()=>s.actions.closeListbox()),(ne=s.state.buttonElement)==null||ne.focus({preventScroll:!0})):(Z.preventDefault(),s.actions.openListbox({focus:Mr.Nothing}))}}),T=cn(Z=>Z.preventDefault()),I=jU([o]),F=Q5e(),{isFocusVisible:B,focusProps:R}=S5e({autoFocus:l}),{isHovered:S,hoverProps:k}=E5e({isDisabled:a}),{pressed:P,pressProps:N}=P5e({disabled:a}),M=b.useMemo(()=>({open:h===Zi.Open,active:P||h===Zi.Open,disabled:a,invalid:i.invalid,value:i.value,hover:S,focus:B,autofocus:l}),[h,i.value,a,S,B,P,i.invalid,l]),O=ka(s,Z=>Z.listboxState===Zi.Open),q=kU(f(),{ref:u,id:o,type:FEe(t,p),"aria-haspopup":"listbox","aria-controls":g==null?void 0:g.id,"aria-expanded":O,"aria-labelledby":I,"aria-describedby":F,disabled:a||void 0,autoFocus:l,onKeyDown:y,onKeyUp:w,onKeyPress:T,onPointerDown:E},R,k,N);return ss()({ourProps:q,theirProps:c,slot:M,defaultTag:mAe,name:"Listbox.Button"})}let jq=b.createContext(!1),vAe="div",yAe=lg.RenderStrategy|lg.Static;function xAe(t,e){let n=b.useId(),{id:r=`headlessui-listbox-options-${n}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=sCe(i),[u,f]=b.useState(null);c&&(s=!0);let h=ky("Listbox.Options"),p=R4("Listbox.Options"),[g,v,y,w]=ka(p,ce=>[ce.listboxState,ce.buttonElement,ce.optionsElement,ce.__demoMode]),E=ug(v),T=ug(y),I=_y(),[F,B]=nq(a,u,I!==null?(I&_o.Open)===_o.Open:g===Zi.Open);WU(F,v,p.actions.closeListbox);let R=w?!1:o&&g===Zi.Open;eq(R,T);let S=w?!1:o&&g===Zi.Open;HU(S,{allowed:b.useCallback(()=>[v,y],[v,y])});let k=g!==Zi.Open,P=aAe(k,v)?!1:F,N=F&&g===Zi.Closed,M=hCe(N,h.value),O=cn(ce=>h.compare(M,ce)),q=ka(p,ce=>{var fe;if(c==null||!((fe=c==null?void 0:c.to)!=null&&fe.includes("selection")))return null;let be=ce.options.findIndex(ge=>O(ge.dataRef.current.value));return be===-1&&(be=0),be}),Z=(()=>{if(c==null)return;if(q===null)return{...c,inner:void 0};let ce=Array.from(h.listRef.current.values());return{...c,inner:{listRef:{current:ce},index:q}}})(),[ne,ee]=cCe(Z),Y=lCe(),oe=so(e,c?ne:null,p.actions.setOptionsElement,f),se=Tp();b.useEffect(()=>{var ce;let fe=y;fe&&g===Zi.Open&&fe!==((ce=Ng(fe))==null?void 0:ce.activeElement)&&(fe==null||fe.focus({preventScroll:!0}))},[g,y]);let K=cn(ce=>{var fe,be;switch(se.dispose(),ce.key){case Ni.Space:if(p.state.searchQuery!=="")return ce.preventDefault(),ce.stopPropagation(),p.actions.search(ce.key);case Ni.Enter:if(ce.preventDefault(),ce.stopPropagation(),p.state.activeOptionIndex!==null){let{dataRef:ge}=p.state.options[p.state.activeOptionIndex];p.actions.onChange(ge.current.value)}h.mode===Uc.Single&&(Ur.flushSync(()=>p.actions.closeListbox()),(fe=p.state.buttonElement)==null||fe.focus({preventScroll:!0}));break;case Io(h.orientation,{vertical:Ni.ArrowDown,horizontal:Ni.ArrowRight}):return ce.preventDefault(),ce.stopPropagation(),p.actions.goToOption({focus:Mr.Next});case Io(h.orientation,{vertical:Ni.ArrowUp,horizontal:Ni.ArrowLeft}):return ce.preventDefault(),ce.stopPropagation(),p.actions.goToOption({focus:Mr.Previous});case Ni.Home:case Ni.PageUp:return ce.preventDefault(),ce.stopPropagation(),p.actions.goToOption({focus:Mr.First});case Ni.End:case Ni.PageDown:return ce.preventDefault(),ce.stopPropagation(),p.actions.goToOption({focus:Mr.Last});case Ni.Escape:ce.preventDefault(),ce.stopPropagation(),Ur.flushSync(()=>p.actions.closeListbox()),(be=p.state.buttonElement)==null||be.focus({preventScroll:!0});return;case Ni.Tab:ce.preventDefault(),ce.stopPropagation(),Ur.flushSync(()=>p.actions.closeListbox()),IEe(p.state.buttonElement,ce.shiftKey?Ql.Previous:Ql.Next);break;default:ce.key.length===1&&(p.actions.search(ce.key),se.setTimeout(()=>p.actions.clearSearch(),350));break}}),V=ka(p,ce=>{var fe;return(fe=ce.buttonElement)==null?void 0:fe.id}),W=b.useMemo(()=>({open:g===Zi.Open}),[g]),J=kU(c?Y():{},{id:r,ref:oe,"aria-activedescendant":ka(p,p.selectors.activeDescendantId),"aria-multiselectable":h.mode===Uc.Multi?!0:void 0,"aria-labelledby":V,"aria-orientation":h.orientation,onKeyDown:K,role:"listbox",tabIndex:g===Zi.Open?0:void 0,style:{...l.style,...ee,"--button-width":pEe(v,!0).width},...tq(B)}),Q=ss(),re=b.useMemo(()=>h.mode===Uc.Multi?h:{...h,isSelected:O},[h,O]);return Me.createElement(Cq,{enabled:s?t.static||F:!1,ownerDocument:E},Me.createElement(n5.Provider,{value:re},Q({ourProps:J,theirProps:l,slot:W,defaultTag:vAe,features:yAe,visible:P,name:"Listbox.Options"})))}let bAe="div";function wAe(t,e){let n=b.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=t,a=b.useContext(jq)===!0,l=ky("Listbox.Option"),c=R4("Listbox.Option"),u=ka(c,P=>c.selectors.isActive(P,r)),f=l.isSelected(s),h=b.useRef(null),p=cAe(h),g=ih({disabled:i,value:s,domRef:h,get textValue(){return p()}}),v=so(e,h,P=>{P?l.listRef.current.set(r,P):l.listRef.current.delete(r)}),y=ka(c,P=>c.selectors.shouldScrollIntoView(P,r));wr(()=>{if(y)return hc().requestAnimationFrame(()=>{var P,N;(N=(P=h.current)==null?void 0:P.scrollIntoView)==null||N.call(P,{block:"nearest"})})},[y,h]),wr(()=>{if(!a)return c.actions.registerOption(r,g),()=>c.actions.unregisterOption(r)},[g,r,a]);let w=cn(P=>{var N;if(i)return P.preventDefault();c.actions.onChange(s),l.mode===Uc.Single&&(Ur.flushSync(()=>c.actions.closeListbox()),(N=c.state.buttonElement)==null||N.focus({preventScroll:!0}))}),E=cn(()=>{if(i)return c.actions.goToOption({focus:Mr.Nothing});c.actions.goToOption({focus:Mr.Specific,id:r})}),T=HEe(),I=cn(P=>{T.update(P),!i&&(u||c.actions.goToOption({focus:Mr.Specific,id:r},N_.Pointer))}),F=cn(P=>{T.wasMoved(P)&&(i||u||c.actions.goToOption({focus:Mr.Specific,id:r},N_.Pointer))}),B=cn(P=>{T.wasMoved(P)&&(i||u&&c.actions.goToOption({focus:Mr.Nothing}))}),R=b.useMemo(()=>({active:u,focus:u,selected:f,disabled:i,selectedOption:f&&a}),[u,f,i,a]),S=a?{}:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:w,onFocus:E,onPointerEnter:I,onMouseEnter:I,onPointerMove:F,onMouseMove:F,onPointerLeave:B,onMouseLeave:B},k=ss();return!f&&a?null:k({ourProps:S,theirProps:o,slot:R,defaultTag:bAe,name:"Listbox.Option"})}let EAe=b.Fragment;function SAe(t,e){let{options:n,placeholder:r,...i}=t,s={ref:so(e)},o=ky("ListboxSelectedOption"),a=b.useMemo(()=>({}),[]),l=o.value===void 0||o.value===null||o.mode===Uc.Multi&&Array.isArray(o.value)&&o.value.length===0,c=ss();return Me.createElement(jq.Provider,{value:!0},c({ourProps:s,theirProps:{...i,children:Me.createElement(Me.Fragment,null,r&&l?r:n)},slot:a,defaultTag:EAe,name:"ListboxSelectedOption"}))}let CAe=yi(pAe),AAe=yi(gAe),_Ae=lEe,TAe=yi(xAe),kAe=yi(wAe),PAe=yi(SAe),Uu=Object.assign(CAe,{Button:AAe,Label:_Ae,Options:TAe,Option:kAe,SelectedOption:PAe});function NAe({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const LAe=b.forwardRef(NAe);function IAe({title:t,titleId:e,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?b.createElement("title",{id:e},t):null,b.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const uC=b.forwardRef(IAe);function s8(){return A.jsxs("div",{className:"animate-pulse bg-white rounded-lg shadow p-4",children:[A.jsx("div",{className:"h-40 bg-gray-200 rounded mb-4"}),A.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),A.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}function L_({categories:t,selectedCategory:e,setSelectedCategory:n,selectedSubcategory:r,setSelectedSubcategory:i,renderCategoryName:s}){const{t:o}=Zr(),{i18n:a}=Zr(),l=a.language||"es";return!t||t.length===0?A.jsx("aside",{className:"mb-10 md:mb-0 md:mr-8",children:A.jsxs("div",{className:"sticky top-24",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:o("shop.filterBy")}),A.jsx("p",{className:"text-sm text-gray-500",children:"No hay categoras disponibles."})]})}):A.jsx("aside",{className:"mb-10 md:mb-0 md:mr-8",children:A.jsxs("div",{className:"sticky top-24",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:o("shop.filterBy")}),A.jsx("ul",{className:"space-y-2 text-sm",children:t.map(c=>A.jsxs("li",{children:[A.jsx("button",{onClick:()=>{n(c.id),i("")},className:`block w-full text-left px-2 py-1 rounded transition ${e===c.id?"bg-white text-gray-900 font-medium border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:outline-none transition-all relative before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:w-1.5 before:h-1.5 before:rounded-full before:bg-blue-500":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:s?s(c):A.jsx("span",{className:"font-bold",children:typeof c.name=="object"?c.name[l]:c.name||""})}),Array.isArray(c.subcategories)&&c.subcategories.length>0&&A.jsx("ul",{className:"ml-4 mt-1 space-y-1 text-sm text-gray-600",children:c.subcategories.map(u=>A.jsx("li",{children:A.jsx("button",{onClick:()=>{i(u.id),n("")},className:`block w-full text-left px-2 py-0.5 rounded text-sm transition ${r===u.id?"bg-white text-gray-900 font-medium border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:outline-none transition-all relative before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:w-1.5 before:h-1.5 before:rounded-full before:bg-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:u.name&&typeof u.name=="object"?u.name[l]||u.name.es||"":u.name||""})},u.id))})]},c.id))}),A.jsxs("div",{className:"mt-6 space-y-2",children:[A.jsx("button",{onClick:()=>{n(""),i("")},className:"w-full text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded transition",children:o("shop.clearFilters")}),A.jsx("button",{onClick:()=>{n(""),i("")},className:"w-full text-sm bg-blue-600 text-white hover:bg-blue-700 py-2 px-4 rounded transition",children:o("shop.showAll")})]})]})})}function DAe({isOpen:t,onClose:e,categories:n,selectedCategory:r,setSelectedCategory:i,selectedSubcategory:s,setSelectedSubcategory:o,renderCategoryName:a}){const{t:l}=Zr();return A.jsxs(oAe,{open:t,onClose:e,className:"relative z-50 md:hidden",children:[A.jsx("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true",onClick:e}),A.jsxs("div",{className:"fixed inset-y-0 right-0 w-full bg-white shadow-xl overflow-y-auto",children:[A.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[A.jsx("h2",{className:"text-lg font-bold",children:l("shop.filterBy")}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-sm",children:l("shop.close")})]}),A.jsx("div",{className:"p-4 pb-10",children:A.jsx(L_,{categories:n,selectedCategory:r,setSelectedCategory:i,selectedSubcategory:s,setSelectedSubcategory:o,renderCategoryName:a,isMobile:!0})})]})]})}function RAe(){var _e;const{t}=Zr(),[e,n]=b.useState([]),[r,i]=b.useState(!0),s=gl(),o=cc(),a=((_e=s.state)==null?void 0:_e.category)||"",[l,c]=b.useState(a),[u,f]=b.useState(""),[h,p]=b.useState(""),[g,v]=b.useState(!1),[y,w]=b.useState(""),E=[{value:"az",label:t("shop.sort.az")},{value:"za",label:t("shop.sort.za")},{value:"priceAsc",label:t("shop.sort.priceAsc")},{value:"priceDesc",label:t("shop.sort.priceDesc")}],T=E.find(Ae=>Ae.value===y)||E[0],I=Ae=>{w(Ae.value)},F=new URLSearchParams(s.search),B=F.get("filter"),R=B?B.toUpperCase():"";b.useEffect(()=>{const Ae=ye=>{const he=ye.detail.toLowerCase();p(he)};return window.addEventListener("mobileSearch",Ae),()=>window.removeEventListener("mobileSearch",Ae)},[]);const[S,k]=b.useState([]),[P,N]=b.useState(!1),[M,O]=b.useState([]),[q,Z]=b.useState([]),[ne,ee]=b.useState({}),[Y,oe]=b.useState(""),[se,K]=b.useState(""),[V,W]=b.useState(!1),[J,Q]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const he=(await bm()).filter(Je=>Je.active!==!1);n(he),i(!1),console.log(`[Shop] Productos de ftbol cargados: ${he.length}`)}catch(ye){console.error("[Shop] Error al cargar productos:",ye),n([]),i(!1)}})()},[]),b.useEffect(()=>{async function Ae(){try{const ye=await pde();console.log("[Shop] Ligas tradas desde Firebase:",ye);const he=ye.map(async De=>{const de=(await _v(De.id)).map(()=>Promise.resolve([])),ke=(await Promise.all(de)).flat().map(Ye=>typeof Ye=="string"?Ye:Ye.name||"");return{id:De.id,name:De.name,teams:ke}}),Je=await Promise.all(he),qe=R.toLowerCase();k(Je);const je=Je.filter(De=>{const We=(typeof De.name=="string"?De.name:De.name[fe.language]||"").trim().toLowerCase();return qe==="nba"?We==="nba":qe==="futbol"?!["nba","zapatos","otros"].includes(We):!0});console.log("[Shop] Ligas filtradas:",je),k(je.map(De=>({id:De.id,name:De.name,teams:De.teams||[]}))),!l&&je.length>0&&c(""),N(je.length===0),i(!1)}catch(ye){console.error("[Shop] Error al cargar ligas:",ye),N(!0),i(!1)}}Ae()},[R]),b.useEffect(()=>{(async()=>{try{const he=(await pw()).map(qe=>({...qe,subcategories:qe.subcategories||[]}));Z(he);const Je=he.flatMap(qe=>qe.subcategories);O(Je)}catch(ye){console.error("[Shop] Error al cargar categoras y subcategoras:",ye),Z([])}})()},[]),b.useEffect(()=>{var he;const Ae=F.get("stock")==="true",ye=sessionStorage.getItem("stockScrollDone");Ae?(c("STOCK_EXPRESS"),f(""),p(""),ye||setTimeout(()=>{const Je=document.getElementById("stock-express");Je&&(Je.scrollIntoView({behavior:"smooth"}),sessionStorage.setItem("stockScrollDone","true"))},300)):(he=s.state)!=null&&he.category?(c(s.state.category),f(""),p(""),window.history.replaceState&&window.history.replaceState({...window.history.state,usr:void 0,state:void 0},document.title,window.location.pathname+window.location.search)):sessionStorage.removeItem("stockScrollDone")},[F]),b.useEffect(()=>{const Ae=()=>{v(window.scrollY>300)};return window.addEventListener("scroll",Ae),()=>window.removeEventListener("scroll",Ae)},[]),b.useEffect(()=>{h.trim().length>0&&(c(""),f(""))},[h]);const re=()=>{window.scrollTo({top:0,behavior:"smooth"})},ce=Ae=>{c(Ae),f(""),p(""),W(!1)},{i18n:fe}=Zr(),be=b.useMemo(()=>{const Ae=e.filter(ye=>{var je,De,We,de;const he=Y?((je=ye.category)==null?void 0:je.id)===Y:!0,Je=se?((De=ye.subcategory)==null?void 0:De.id)===se:!0,qe=h?(de=(We=ye.title)==null?void 0:We[fe.language])==null?void 0:de.toLowerCase().includes(h.toLowerCase()):!0;return he&&Je&&qe});switch(console.log("Selected category:",Y),console.log("Selected subcategory:",se),Ae.forEach(ye=>{var he,Je,qe;console.log("",(he=ye.title)==null?void 0:he[fe.language],"| category.id:",(Je=ye.category)==null?void 0:Je.id,"| subcategory.id:",(qe=ye.subcategory)==null?void 0:qe.id)}),y){case"priceAsc":return Ae.sort((ye,he)=>(ye.priceUSD||0)-(he.priceUSD||0));case"priceDesc":return Ae.sort((ye,he)=>(he.priceUSD||0)-(ye.priceUSD||0));case"az":return Ae.sort((ye,he)=>{var Je,qe;return(((Je=ye.title)==null?void 0:Je[fe.language])||"").localeCompare(((qe=he.title)==null?void 0:qe[fe.language])||"")});case"za":return Ae.sort((ye,he)=>{var Je,qe;return(((Je=he.title)==null?void 0:Je[fe.language])||"").localeCompare(((qe=ye.title)==null?void 0:qe[fe.language])||"")});default:return Ae}},[e,Y,se,h,y,fe.language]),ge=l==="STOCK_EXPRESS",Se=be.filter(Ae=>{var ye,he;return R==="NBA"?((ye=Ae.category)==null?void 0:ye.name)==="NBA":R==="FUTBOL"?((he=Ae.category)==null?void 0:he.name)!=="NBA":!0}),Be=S.find(Ae=>Ae.name===l);return M.filter(Ae=>Be&&Ae.categoryId===Be.id),console.log("[Shop] Productos a mostrar:",Se),R.toUpperCase(),r?A.jsxs("section",{className:"bg-[#f9f9f9] text-black min-h-screen flex flex-col",children:[A.jsx("div",{className:"relative w-full h-64 sm:h-96 overflow-hidden",children:A.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})}),A.jsx("div",{className:"max-w-7xl mx-auto p-6",children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8 mt-6",children:Array.from({length:8}).map((Ae,ye)=>A.jsx(s8,{},ye))})})]}):A.jsxs("section",{className:"bg-[#f9f9f9] text-black flex flex-col min-h-screen pt-[90px] md:pt-[110px]",children:[A.jsx(e5e,{}),A.jsxs($_,{children:[A.jsx("title",{children:"Tienda Online | Looma"}),A.jsx("meta",{name:"description",content:"Descubr productos innovadores de tecnologa, fitness y estilo de vida. Envos rpidos desde USA. Compra con confianza en Looma."}),A.jsx("meta",{name:"keywords",content:"productos, tecnologa, fitness, dropshipping, Looma, gadgets, tienda online"}),A.jsx("link",{rel:"canonical",href:"https://looma.store/shop"})]}),A.jsxs("div",{className:"md:grid md:grid-cols-[250px_1fr] max-w-7xl mx-auto px-4 md:px-6 gap-8",children:[A.jsxs(Qo.aside,{className:"hidden md:block space-y-6 pr-6 border-r border-gray-200",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold text-sm mb-2",htmlFor:"search",children:t("shop.searchLabel","Buscar por nombre")}),A.jsx("input",{id:"search",type:"text",placeholder:t("shop.searchPlaceholder","Ej: magnesio"),className:"w-full border px-3 py-2 rounded-lg text-sm",value:h,onChange:Ae=>p(Ae.target.value)})]}),A.jsx(L_,{categories:q,selectedCategory:Y,setSelectedCategory:oe,selectedSubcategory:se,setSelectedSubcategory:K,renderCategoryName:Ae=>A.jsx("p",{className:"font-bold",children:Ae.name})}),A.jsx(nse,{children:V&&A.jsx(Qo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 md:hidden",onClick:()=>W(!1),children:A.jsxs(Qo.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"absolute top-0 left-0 bottom-0 w-[280px] bg-white p-6 overflow-y-auto",onClick:Ae=>Ae.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-xl font-bold",children:t("shop.filters","Filtros")}),A.jsx("button",{onClick:()=>W(!1),className:"p-1 rounded-full hover:bg-gray-100 transition",children:""})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold text-sm mb-2",children:t("shop.searchLabel","Buscar por nombre")}),A.jsx("input",{type:"text",placeholder:t("shop.searchPlaceholder","Ej: magnesio"),className:"w-full border px-3 py-2 rounded-lg text-sm",value:h,onChange:Ae=>p(Ae.target.value)})]}),A.jsx("div",{children:A.jsx(Zt,{to:"/productos",className:`w-full text-left px-3 py-2 rounded-lg transition ring-1 ring-transparent text-[15px] font-semibold ${R?"hover:bg-gray-100 text-gray-800":"bg-black text-white ring-black"}`,children:t("shop.viewAll","Ver todo")})}),A.jsx("div",{children:A.jsx("ul",{className:"space-y-1 text-sm",children:S.filter(Ae=>Ae.name!=="STOCK_EXPRESS").map(Ae=>A.jsxs("li",{children:[A.jsx("button",{onClick:()=>{ce(Ae.name),W(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition ring-1 ring-transparent ${l===Ae.name?"bg-black text-white ring-black":"hover:bg-gray-100 text-gray-800"}`,children:Ae.name}),A.jsx("ul",{className:"space-y-1 ml-2",children:M.filter(ye=>"categoryId"in ye&&typeof ye.categoryId=="string"&&ye.categoryId===Ae.id).map(ye=>A.jsx("li",{children:A.jsx("button",{onClick:()=>{c(Ae.name),f(""),p(ye.name),W(!1)},className:"text-sm text-gray-800 hover:bg-gray-100 px-2 py-1 rounded transition",children:ye.name})},ye.id))})]},Ae.id))})})]})]})})})]}),A.jsxs("main",{children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:h?t("shop.resultsFor",{search:h,defaultValue:'Resultados para "{{search}}"',searchTerm:h}):ge?t("shop.stockExpress","Stock Express"):l&&u?`${l} - ${u}`:l||(R==="NBA"?t("shop.nba","NBA"):R==="FUTBOL"?t("shop.soccer","Ftbol"):t("shop.allProducts","Productos disponibles"))}),A.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:t("shop.productsFound",{count:Se.length,defaultValue:"{{count}} productos encontrados"})}),(h||l||u)&&A.jsx("button",{onClick:()=>{p(""),c(""),f(""),oe(""),K(""),o(".",{replace:!0})},className:"mt-2 text-sm font-semibold text-gray-700 hover:text-black underline",children:t("shop.clearFilters")})]}),ge&&A.jsx("section",{id:"stock-express",className:"mt-4 mb-8",children:A.jsxs("div",{className:"bg-gradient-to-r from-zinc-800 to-zinc-900 rounded-xl p-6 text-white flex items-center",children:[A.jsx("div",{className:"mr-6",children:A.jsx(ure,{className:"h-10 w-10 text-red-500"})}),A.jsxs("div",{children:[A.jsxs("h2",{className:"text-xl font-bold mb-1 flex items-center",children:[t("shop.stockExpress","Stock Express")," ",A.jsx("span",{className:"bg-red-600 text-white text-xs px-2 py-0.5 rounded-full ml-2",children:t("shop.immediateShipping","Envo inmediato!")})]}),A.jsx("p",{className:"text-gray-300 max-w-lg",children:t("shop.stockExpressDescription","Estos productos estn disponibles para envo inmediato. El envo se realiza dentro de las 24 horas hbiles siguientes a la confirmacin de pago.")})]})]})}),A.jsxs("div",{className:"flex gap-2 w-full mb-4 md:hidden",children:[A.jsxs("button",{onClick:()=>Q(!J),className:"w-1/2 min-w-[150px] border rounded-md bg-white text-black text-sm font-medium py-2 px-4 shadow-sm hover:bg-gray-50 transition flex justify-between items-center",children:[A.jsx("span",{children:t("shop.openFilters","Filtros")}),A.jsx(uC,{className:"h-4 w-4 text-gray-500 ml-2"})]}),A.jsx(Uu,{value:T,onChange:I,children:A.jsxs("div",{className:"relative w-1/2",children:[A.jsx(Uu.Label,{className:"sr-only",children:t("shop.sortBy","Ordenar por")}),A.jsxs(Uu.Button,{className:"w-full min-w-[150px] border rounded-md bg-white text-black text-sm font-medium py-2 px-4 shadow-sm hover:bg-gray-50 transition flex justify-between items-center",children:[A.jsxs("span",{className:"mr-2",children:[t("shop.sortBy","Ordenar por"),":"]}),A.jsx("span",{children:T.label}),A.jsx(uC,{className:"h-4 w-4 text-gray-500 ml-2"})]}),A.jsx(Rq,{as:b.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:A.jsx(Uu.Options,{className:"absolute z-20 mt-1 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm",children:E.map(Ae=>A.jsx(Uu.Option,{value:Ae,className:({active:ye})=>`cursor-pointer select-none relative py-2 pl-10 pr-4 ${ye?"bg-blue-100 text-blue-900":"text-gray-900"}`,children:({selected:ye})=>A.jsxs(A.Fragment,{children:[ye&&A.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600",children:""}),A.jsx("span",{children:Ae.label})]})},Ae.value))})})]})})]}),J&&A.jsx("div",{className:"md:hidden mt-4",children:A.jsx(L_,{categories:q,selectedCategory:Y,setSelectedCategory:oe,selectedSubcategory:se,setSelectedSubcategory:K,renderCategoryName:Ae=>A.jsx("p",{className:"font-bold",children:Ae.name})})}),A.jsx("div",{className:"hidden md:flex justify-end items-center mt-4",children:A.jsx(Uu,{value:y,onChange:w,children:({open:Ae})=>A.jsxs("div",{className:"relative w-52",children:[A.jsxs(Uu.Button,{className:"w-full cursor-pointer rounded-md border border-gray-300 bg-white py-2 pl-4 pr-10 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm flex justify-between items-center",children:[A.jsx("span",{children:{"":t("shop.sortBy","Ordenar por"),priceAsc:t("shop.sortPriceAsc","Precio: menor a mayor"),priceDesc:t("shop.sortPriceDesc","Precio: mayor a menor"),az:t("shop.sortNameAZ","Nombre: A a Z"),za:t("shop.sortNameZA","Nombre: Z a A")}[y]||t("shop.sortBy","Ordenar por")}),A.jsx(uC,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${Ae?"rotate-180":""}`})]}),A.jsx(Uu.Options,{className:"absolute mt-1 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 text-sm",children:[{value:"",label:t("shop.sortBy","Ordenar por")},{value:"priceAsc",label:t("shop.sortPriceAsc","Precio: menor a mayor")},{value:"priceDesc",label:t("shop.sortPriceDesc","Precio: mayor a menor")},{value:"az",label:t("shop.sortNameAZ","Nombre: A a Z")},{value:"za",label:t("shop.sortNameZA","Nombre: Z a A")}].map(ye=>A.jsx(Uu.Option,{className:({active:he})=>`cursor-pointer select-none relative py-2 pl-10 pr-4 ${he?"bg-blue-50 text-blue-900":"text-gray-900"}`,value:ye.value,children:({selected:he})=>A.jsxs(A.Fragment,{children:[A.jsx("span",{className:`block truncate ${he?"font-semibold":"font-normal"}`,children:ye.label}),he&&A.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600",children:A.jsx(LAe,{className:"h-4 w-4"})})]})},ye.value))})]})})}),A.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 mt-6",children:A.jsx(b.Suspense,{fallback:Array.from({length:8}).map((Ae,ye)=>A.jsx(s8,{},ye)),children:be.length>0?be.map(Ae=>A.jsx("div",{className:"hover:shadow-md transition-shadow duration-300",children:A.jsx(R9,{product:Ae})},Ae.id)):A.jsx("div",{className:"col-span-full py-16 min-h-[300px] text-center space-y-4",children:A.jsx("p",{className:"text-gray-500 font-medium max-w-xl mx-auto text-center",children:A.jsx(Fre,{i18nKey:"shop.noResultsClickable",components:{showAll:A.jsx("button",{onClick:()=>{p(""),c(""),f(""),oe(""),K(""),o(".",{replace:!0})},className:"text-blue-600 hover:underline font-semibold"})}})})})})})]})]}),g&&A.jsx("button",{onClick:re,className:"fixed bottom-6 right-6 z-30 p-3 bg-black text-white rounded-full shadow-lg hover:bg-gray-800 transition","aria-label":t("shop.scrollToTop","Volver arriba"),children:A.jsx(b7,{className:"h-5 w-5"})}),A.jsx(DAe,{isOpen:V,onClose:()=>W(!1),categories:q,selectedCategory:Y,setSelectedCategory:oe,selectedSubcategory:se,setSelectedSubcategory:K})]})}function MAe(){const{id:t}=M_(),e=cc(),n=t||"";return A.jsx(hU,{clientId:n,onBack:()=>e("/admin")})}function OAe(){return A.jsxs(A.Fragment,{children:[A.jsx(rde,{}),A.jsx(D9,{}),A.jsx(ide,{}),A.jsx(sde,{})]})}function FAe(){return A.jsx(V8,{children:A.jsx(y7,{children:A.jsx("div",{className:"bg-white min-h-screen flex flex-col",children:A.jsxs(g8,{children:[A.jsx(Tr,{path:"/login",element:A.jsx(Zwe,{})}),A.jsx(Tr,{path:"/admin/categorias",element:A.jsx(XS,{children:A.jsx($z,{})})}),A.jsx(Tr,{path:"/admin/clientes/:id",element:A.jsx(XS,{children:A.jsx(MAe,{})})}),A.jsx(Tr,{path:"/admin/*",element:A.jsx(XS,{children:A.jsx(Kwe,{})})}),A.jsx(Tr,{path:"/carrito",element:A.jsx(Jhe,{})}),A.jsx(Tr,{path:"/checkout",element:A.jsx($pe,{})}),A.jsx(Tr,{path:"/success",element:A.jsx(zpe,{})}),A.jsx(Tr,{path:"/producto/:slug",element:A.jsx(Ade,{})}),A.jsxs(Tr,{element:A.jsx(Jie,{}),children:[A.jsx(Tr,{path:"/",element:A.jsx(OAe,{})}),A.jsx(Tr,{path:"/explore",element:A.jsx(D9,{})}),A.jsx(Tr,{path:"/about",element:A.jsx(Ywe,{})}),A.jsx(Tr,{path:"/contact",element:A.jsx(Xwe,{})}),A.jsx(Tr,{path:"/shop",element:A.jsx(RAe,{})})]}),A.jsx(Tr,{path:"*",element:A.jsx(db,{to:"/",replace:!0})})]})})})})}Ft.use(VT).use(T7).init({resources:{en:{translation:j7},es:{translation:F7}},lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});PH.createRoot(document.getElementById("root")).render(A.jsx(Me.StrictMode,{children:A.jsx(wK,{children:A.jsx(k8,{children:A.jsx(V8,{children:A.jsx(y7,{children:A.jsx(WW,{children:A.jsxs(xK,{children:[A.jsx(FAe,{}),A.jsx(yK,{position:"top-center",reverseOrder:!1})," "]})})})})})})}));export{dr as _,U5 as c,uu as g};

var XV=Object.defineProperty;var JV=(n,e,t)=>e in n?XV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var yu=(n,e,t)=>JV(n,typeof e!="symbol"?e+"":e,t);function QV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function ZV(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var xw={exports:{}},um={},bw={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function e$(){if($T)return xn;$T=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=f&&Y[f]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function b(Y,$,K){this.props=Y,this.context=$,this.refs=v,this.updater=K||p}b.prototype.isReactComponent={},b.prototype.setState=function(Y,$){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,$,"setState")},b.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function S(){}S.prototype=b.prototype;function E(Y,$,K){this.props=Y,this.context=$,this.refs=v,this.updater=K||p}var _=E.prototype=new S;_.constructor=E,g(_,b.prototype),_.isPureReactComponent=!0;var R=Array.isArray,B=Object.prototype.hasOwnProperty,U={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(Y,$,K){var J,ee={},ce=null,ue=null;if($!=null)for(J in $.ref!==void 0&&(ue=$.ref),$.key!==void 0&&(ce=""+$.key),$)B.call($,J)&&!O.hasOwnProperty(J)&&(ee[J]=$[J]);var ge=arguments.length-2;if(ge===1)ee.children=K;else if(1<ge){for(var ye=Array(ge),Se=0;Se<ge;Se++)ye[Se]=arguments[Se+2];ee.children=ye}if(Y&&Y.defaultProps)for(J in ge=Y.defaultProps,ge)ee[J]===void 0&&(ee[J]=ge[J]);return{$$typeof:n,type:Y,key:ce,ref:ue,props:ee,_owner:U.current}}function I(Y,$){return{$$typeof:n,type:Y.type,key:$,ref:Y.ref,props:Y.props,_owner:Y._owner}}function P(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===n}function N(Y){var $={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(K){return $[K]})}var D=/\/+/g;function L(Y,$){return typeof Y=="object"&&Y!==null&&Y.key!=null?N(""+Y.key):$.toString(36)}function W(Y,$,K,J,ee){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ue=!1;if(Y===null)ue=!0;else switch(ce){case"string":case"number":ue=!0;break;case"object":switch(Y.$$typeof){case n:case e:ue=!0}}if(ue)return ue=Y,ee=ee(ue),Y=J===""?"."+L(ue,0):J,R(ee)?(K="",Y!=null&&(K=Y.replace(D,"$&/")+"/"),W(ee,$,K,"",function(Se){return Se})):ee!=null&&(P(ee)&&(ee=I(ee,K+(!ee.key||ue&&ue.key===ee.key?"":(""+ee.key).replace(D,"$&/")+"/")+Y)),$.push(ee)),1;if(ue=0,J=J===""?".":J+":",R(Y))for(var ge=0;ge<Y.length;ge++){ce=Y[ge];var ye=J+L(ce,ge);ue+=W(ce,$,K,ye,ee)}else if(ye=m(Y),typeof ye=="function")for(Y=ye.call(Y),ge=0;!(ce=Y.next()).done;)ce=ce.value,ye=J+L(ce,ge++),ue+=W(ce,$,K,ye,ee);else if(ce==="object")throw $=String(Y),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ue}function ie(Y,$,K){if(Y==null)return Y;var J=[],ee=0;return W(Y,J,"","",function(ce){return $.call(K,ce,ee++)}),J}function oe(Y){if(Y._status===-1){var $=Y._result;$=$(),$.then(function(K){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=K)},function(K){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=K)}),Y._status===-1&&(Y._status=0,Y._result=$)}if(Y._status===1)return Y._result.default;throw Y._result}var re={current:null},X={transition:null},de={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:X,ReactCurrentOwner:U};function ae(){throw Error("act(...) is not supported in production builds of React.")}return xn.Children={map:ie,forEach:function(Y,$,K){ie(Y,function(){$.apply(this,arguments)},K)},count:function(Y){var $=0;return ie(Y,function(){$++}),$},toArray:function(Y){return ie(Y,function($){return $})||[]},only:function(Y){if(!P(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},xn.Component=b,xn.Fragment=t,xn.Profiler=i,xn.PureComponent=E,xn.StrictMode=r,xn.Suspense=l,xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,xn.act=ae,xn.cloneElement=function(Y,$,K){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var J=g({},Y.props),ee=Y.key,ce=Y.ref,ue=Y._owner;if($!=null){if($.ref!==void 0&&(ce=$.ref,ue=U.current),$.key!==void 0&&(ee=""+$.key),Y.type&&Y.type.defaultProps)var ge=Y.type.defaultProps;for(ye in $)B.call($,ye)&&!O.hasOwnProperty(ye)&&(J[ye]=$[ye]===void 0&&ge!==void 0?ge[ye]:$[ye])}var ye=arguments.length-2;if(ye===1)J.children=K;else if(1<ye){ge=Array(ye);for(var Se=0;Se<ye;Se++)ge[Se]=arguments[Se+2];J.children=ge}return{$$typeof:n,type:Y.type,key:ee,ref:ce,props:J,_owner:ue}},xn.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},xn.createElement=C,xn.createFactory=function(Y){var $=C.bind(null,Y);return $.type=Y,$},xn.createRef=function(){return{current:null}},xn.forwardRef=function(Y){return{$$typeof:a,render:Y}},xn.isValidElement=P,xn.lazy=function(Y){return{$$typeof:u,_payload:{_status:-1,_result:Y},_init:oe}},xn.memo=function(Y,$){return{$$typeof:c,type:Y,compare:$===void 0?null:$}},xn.startTransition=function(Y){var $=X.transition;X.transition={};try{Y()}finally{X.transition=$}},xn.unstable_act=ae,xn.useCallback=function(Y,$){return re.current.useCallback(Y,$)},xn.useContext=function(Y){return re.current.useContext(Y)},xn.useDebugValue=function(){},xn.useDeferredValue=function(Y){return re.current.useDeferredValue(Y)},xn.useEffect=function(Y,$){return re.current.useEffect(Y,$)},xn.useId=function(){return re.current.useId()},xn.useImperativeHandle=function(Y,$,K){return re.current.useImperativeHandle(Y,$,K)},xn.useInsertionEffect=function(Y,$){return re.current.useInsertionEffect(Y,$)},xn.useLayoutEffect=function(Y,$){return re.current.useLayoutEffect(Y,$)},xn.useMemo=function(Y,$){return re.current.useMemo(Y,$)},xn.useReducer=function(Y,$,K){return re.current.useReducer(Y,$,K)},xn.useRef=function(Y){return re.current.useRef(Y)},xn.useState=function(Y){return re.current.useState(Y)},xn.useSyncExternalStore=function(Y,$,K){return re.current.useSyncExternalStore(Y,$,K)},xn.useTransition=function(){return re.current.useTransition()},xn.version="18.3.1",xn}var zT;function Xg(){return zT||(zT=1,bw.exports=e$()),bw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT;function t$(){if(UT)return um;UT=1;var n=Xg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,f={},m=null,p=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:a,key:m,ref:p,props:f,_owner:i.current}}return um.Fragment=t,um.jsx=o,um.jsxs=o,um}var qT;function n$(){return qT||(qT=1,xw.exports=t$()),xw.exports}var A=n$(),F=Xg();const dt=Vu(F),DS=QV({__proto__:null,default:dt},[F]);var cy={},ww={exports:{}},Lo={},Sw={exports:{}},Ew={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function r$(){return HT||(HT=1,function(n){function e(X,de){var ae=X.length;X.push(de);e:for(;0<ae;){var Y=ae-1>>>1,$=X[Y];if(0<i($,de))X[Y]=de,X[ae]=$,ae=Y;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var de=X[0],ae=X.pop();if(ae!==de){X[0]=ae;e:for(var Y=0,$=X.length,K=$>>>1;Y<K;){var J=2*(Y+1)-1,ee=X[J],ce=J+1,ue=X[ce];if(0>i(ee,ae))ce<$&&0>i(ue,ee)?(X[Y]=ue,X[ce]=ae,Y=ce):(X[Y]=ee,X[J]=ae,Y=J);else if(ce<$&&0>i(ue,ae))X[Y]=ue,X[ce]=ae,Y=ce;else break e}}return de}function i(X,de){var ae=X.sortIndex-de.sortIndex;return ae!==0?ae:X.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,m=3,p=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(X){for(var de=t(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=X)r(c),de.sortIndex=de.expirationTime,e(l,de);else break;de=t(c)}}function R(X){if(v=!1,_(X),!g)if(t(l)!==null)g=!0,oe(B);else{var de=t(c);de!==null&&re(R,de.startTime-X)}}function B(X,de){g=!1,v&&(v=!1,S(C),C=-1),p=!0;var ae=m;try{for(_(de),f=t(l);f!==null&&(!(f.expirationTime>de)||X&&!N());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var $=Y(f.expirationTime<=de);de=n.unstable_now(),typeof $=="function"?f.callback=$:f===t(l)&&r(l),_(de)}else r(l);f=t(l)}if(f!==null)var K=!0;else{var J=t(c);J!==null&&re(R,J.startTime-de),K=!1}return K}finally{f=null,m=ae,p=!1}}var U=!1,O=null,C=-1,I=5,P=-1;function N(){return!(n.unstable_now()-P<I)}function D(){if(O!==null){var X=n.unstable_now();P=X;var de=!0;try{de=O(!0,X)}finally{de?L():(U=!1,O=null)}}else U=!1}var L;if(typeof E=="function")L=function(){E(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ie=W.port2;W.port1.onmessage=D,L=function(){ie.postMessage(null)}}else L=function(){b(D,0)};function oe(X){O=X,U||(U=!0,L())}function re(X,de){C=b(function(){X(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,oe(B))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(X){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var ae=m;m=de;try{return X()}finally{m=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=m;m=X;try{return de()}finally{m=ae}},n.unstable_scheduleCallback=function(X,de,ae){var Y=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Y+ae:Y):ae=Y,X){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ae+$,X={id:u++,callback:de,priorityLevel:X,startTime:ae,expirationTime:$,sortIndex:-1},ae>Y?(X.sortIndex=ae,e(c,X),t(l)===null&&X===t(c)&&(v?(S(C),C=-1):v=!0,re(R,ae-Y))):(X.sortIndex=$,e(l,X),g||p||(g=!0,oe(B))),X},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(X){var de=m;return function(){var ae=m;m=de;try{return X.apply(this,arguments)}finally{m=ae}}}}(Ew)),Ew}var WT;function i$(){return WT||(WT=1,Sw.exports=r$()),Sw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function s$(){if(GT)return Lo;GT=1;var n=Xg(),e=i$();function t(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,y=1;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,h){o(d,h),o(d+"Capture",h)}function o(d,h){for(i[d]=h,d=0;d<h.length;d++)r.add(h[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function m(d){return l.call(f,d)?!0:l.call(u,d)?!1:c.test(d)?f[d]=!0:(u[d]=!0,!1)}function p(d,h,y,T){if(y!==null&&y.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return T?!1:y!==null?!y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function g(d,h,y,T){if(h===null||typeof h>"u"||p(d,h,y,T))return!0;if(T)return!1;if(y!==null)switch(y.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function v(d,h,y,T,j,q,ne){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=T,this.attributeNamespace=j,this.mustUseProperty=y,this.propertyName=d,this.type=h,this.sanitizeURL=q,this.removeEmptyString=ne}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var h=d[0];b[h]=new v(h,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function E(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var h=d.replace(S,E);b[h]=new v(h,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var h=d.replace(S,E);b[h]=new v(h,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var h=d.replace(S,E);b[h]=new v(h,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function _(d,h,y,T){var j=b.hasOwnProperty(h)?b[h]:null;(j!==null?j.type!==0:T||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(g(h,y,j,T)&&(y=null),T||j===null?m(h)&&(y===null?d.removeAttribute(h):d.setAttribute(h,""+y)):j.mustUseProperty?d[j.propertyName]=y===null?j.type===3?!1:"":y:(h=j.attributeName,T=j.attributeNamespace,y===null?d.removeAttribute(h):(j=j.type,y=j===3||j===4&&y===!0?"":""+y,T?d.setAttributeNS(T,h,y):d.setAttribute(h,y))))}var R=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),U=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),X=Symbol.iterator;function de(d){return d===null||typeof d!="object"?null:(d=X&&d[X]||d["@@iterator"],typeof d=="function"?d:null)}var ae=Object.assign,Y;function $(d){if(Y===void 0)try{throw Error()}catch(y){var h=y.stack.trim().match(/\n( *(at )?)/);Y=h&&h[1]||""}return`
`+Y+d}var K=!1;function J(d,h){if(!d||K)return"";K=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Xe){var T=Xe}Reflect.construct(d,[],h)}else{try{h.call()}catch(Xe){T=Xe}d.call(h.prototype)}else{try{throw Error()}catch(Xe){T=Xe}d()}}catch(Xe){if(Xe&&T&&typeof Xe.stack=="string"){for(var j=Xe.stack.split(`
`),q=T.stack.split(`
`),ne=j.length-1,Ee=q.length-1;1<=ne&&0<=Ee&&j[ne]!==q[Ee];)Ee--;for(;1<=ne&&0<=Ee;ne--,Ee--)if(j[ne]!==q[Ee]){if(ne!==1||Ee!==1)do if(ne--,Ee--,0>Ee||j[ne]!==q[Ee]){var ke=`
`+j[ne].replace(" at new "," at ");return d.displayName&&ke.includes("<anonymous>")&&(ke=ke.replace("<anonymous>",d.displayName)),ke}while(1<=ne&&0<=Ee);break}}}finally{K=!1,Error.prepareStackTrace=y}return(d=d?d.displayName||d.name:"")?$(d):""}function ee(d){switch(d.tag){case 5:return $(d.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return d=J(d.type,!1),d;case 11:return d=J(d.type.render,!1),d;case 1:return d=J(d.type,!0),d;default:return""}}function ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case U:return"Portal";case I:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case N:return(d.displayName||"Context")+".Consumer";case P:return(d._context.displayName||"Context")+".Provider";case D:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ie:return h=d.displayName||null,h!==null?h:ce(d.type)||"Memo";case oe:h=d._payload,d=d._init;try{return ce(d(h))}catch{}}return null}function ue(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(h);case 8:return h===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ge(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ye(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Se(d){var h=ye(d)?"checked":"value",y=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),T=""+d[h];if(!d.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var j=y.get,q=y.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return j.call(this)},set:function(ne){T=""+ne,q.call(this,ne)}}),Object.defineProperty(d,h,{enumerable:y.enumerable}),{getValue:function(){return T},setValue:function(ne){T=""+ne},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function Ae(d){d._valueTracker||(d._valueTracker=Se(d))}function je(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var y=h.getValue(),T="";return d&&(T=ye(d)?d.checked?"true":"false":d.value),d=T,d!==y?(h.setValue(d),!0):!1}function $e(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function st(d,h){var y=h.checked;return ae({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??d._wrapperState.initialChecked})}function we(d,h){var y=h.defaultValue==null?"":h.defaultValue,T=h.checked!=null?h.checked:h.defaultChecked;y=ge(h.value!=null?h.value:y),d._wrapperState={initialChecked:T,initialValue:y,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function pe(d,h){h=h.checked,h!=null&&_(d,"checked",h,!1)}function qe(d,h){pe(d,h);var y=ge(h.value),T=h.type;if(y!=null)T==="number"?(y===0&&d.value===""||d.value!=y)&&(d.value=""+y):d.value!==""+y&&(d.value=""+y);else if(T==="submit"||T==="reset"){d.removeAttribute("value");return}h.hasOwnProperty("value")?Oe(d,h.type,y):h.hasOwnProperty("defaultValue")&&Oe(d,h.type,ge(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(d.defaultChecked=!!h.defaultChecked)}function Fe(d,h,y){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var T=h.type;if(!(T!=="submit"&&T!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+d._wrapperState.initialValue,y||h===d.value||(d.value=h),d.defaultValue=h}y=d.name,y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,y!==""&&(d.name=y)}function Oe(d,h,y){(h!=="number"||$e(d.ownerDocument)!==d)&&(y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+y&&(d.defaultValue=""+y))}var Ie=Array.isArray;function Ge(d,h,y,T){if(d=d.options,h){h={};for(var j=0;j<y.length;j++)h["$"+y[j]]=!0;for(y=0;y<d.length;y++)j=h.hasOwnProperty("$"+d[y].value),d[y].selected!==j&&(d[y].selected=j),j&&T&&(d[y].defaultSelected=!0)}else{for(y=""+ge(y),h=null,j=0;j<d.length;j++){if(d[j].value===y){d[j].selected=!0,T&&(d[j].defaultSelected=!0);return}h!==null||d[j].disabled||(h=d[j])}h!==null&&(h.selected=!0)}}function le(d,h){if(h.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},h,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function be(d,h){var y=h.value;if(y==null){if(y=h.children,h=h.defaultValue,y!=null){if(h!=null)throw Error(t(92));if(Ie(y)){if(1<y.length)throw Error(t(93));y=y[0]}h=y}h==null&&(h=""),y=h}d._wrapperState={initialValue:ge(y)}}function _e(d,h){var y=ge(h.value),T=ge(h.defaultValue);y!=null&&(y=""+y,y!==d.value&&(d.value=y),h.defaultValue==null&&d.defaultValue!==y&&(d.defaultValue=y)),T!=null&&(d.defaultValue=""+T)}function Ke(d){var h=d.textContent;h===d._wrapperState.initialValue&&h!==""&&h!==null&&(d.value=h)}function ze(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(d,h){return d==null||d==="http://www.w3.org/1999/xhtml"?ze(h):d==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var nt,ht=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,y,T,j){MSApp.execUnsafeLocalFunction(function(){return d(h,y,T,j)})}:d}(function(d,h){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=h;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=nt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;h.firstChild;)d.appendChild(h.firstChild)}});function vt(d,h){if(h){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=h;return}}d.textContent=h}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jt=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(d){jt.forEach(function(h){h=h+d.charAt(0).toUpperCase()+d.substring(1),it[h]=it[d]})});function qt(d,h,y){return h==null||typeof h=="boolean"||h===""?"":y||typeof h!="number"||h===0||it.hasOwnProperty(d)&&it[d]?(""+h).trim():h+"px"}function Qn(d,h){d=d.style;for(var y in h)if(h.hasOwnProperty(y)){var T=y.indexOf("--")===0,j=qt(y,h[y],T);y==="float"&&(y="cssFloat"),T?d.setProperty(y,j):d[y]=j}}var Kt=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(d,h){if(h){if(Kt[d]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(t(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(t(61))}if(h.style!=null&&typeof h.style!="object")throw Error(t(62))}}function xr(d,h){if(d.indexOf("-")===-1)return typeof h.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xt=null;function vi(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Tn=null,nr=null,hn=null;function rn(d){if(d=ud(d)){if(typeof Tn!="function")throw Error(t(280));var h=d.stateNode;h&&(h=Bf(h),Tn(d.stateNode,d.type,h))}}function Et(d){nr?hn?hn.push(d):hn=[d]:nr=d}function Jt(){if(nr){var d=nr,h=hn;if(hn=nr=null,rn(d),h)for(d=0;d<h.length;d++)rn(h[d])}}function $n(d,h){return d(h)}function pn(){}var Rn=!1;function ar(d,h,y){if(Rn)return d(h,y);Rn=!0;try{return $n(d,h,y)}finally{Rn=!1,(nr!==null||hn!==null)&&(pn(),Jt())}}function gt(d,h){var y=d.stateNode;if(y===null)return null;var T=Bf(y);if(T===null)return null;y=T[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(d=d.type,T=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!T;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(t(231,h,typeof y));return y}var Gn=!1;if(a)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{Gn=!1}function dn(d,h,y,T,j,q,ne,Ee,ke){var Xe=Array.prototype.slice.call(arguments,3);try{h.apply(y,Xe)}catch(ft){this.onError(ft)}}var bn=!1,Cn=null,kn=!1,xi=null,Wi={onError:function(d){bn=!0,Cn=d}};function bi(d,h,y,T,j,q,ne,Ee,ke){bn=!1,Cn=null,dn.apply(Wi,arguments)}function ms(d,h,y,T,j,q,ne,Ee,ke){if(bi.apply(this,arguments),bn){if(bn){var Xe=Cn;bn=!1,Cn=null}else throw Error(t(198));kn||(kn=!0,xi=Xe)}}function Tr(d){var h=d,y=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(y=h.return),d=h.return;while(d)}return h.tag===3?y:null}function wi(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function br(d){if(Tr(d)!==d)throw Error(t(188))}function Ws(d){var h=d.alternate;if(!h){if(h=Tr(d),h===null)throw Error(t(188));return h!==d?null:d}for(var y=d,T=h;;){var j=y.return;if(j===null)break;var q=j.alternate;if(q===null){if(T=j.return,T!==null){y=T;continue}break}if(j.child===q.child){for(q=j.child;q;){if(q===y)return br(j),d;if(q===T)return br(j),h;q=q.sibling}throw Error(t(188))}if(y.return!==T.return)y=j,T=q;else{for(var ne=!1,Ee=j.child;Ee;){if(Ee===y){ne=!0,y=j,T=q;break}if(Ee===T){ne=!0,T=j,y=q;break}Ee=Ee.sibling}if(!ne){for(Ee=q.child;Ee;){if(Ee===y){ne=!0,y=q,T=j;break}if(Ee===T){ne=!0,T=q,y=j;break}Ee=Ee.sibling}if(!ne)throw Error(t(189))}}if(y.alternate!==T)throw Error(t(190))}if(y.tag!==3)throw Error(t(188));return y.stateNode.current===y?d:h}function zo(d){return d=Ws(d),d!==null?Uo(d):null}function Uo(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Uo(d);if(h!==null)return h;d=d.sibling}return null}var qo=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Xa=e.unstable_shouldYield,Uu=e.unstable_requestPaint,Kn=e.unstable_now,qu=e.unstable_getCurrentPriorityLevel,yo=e.unstable_ImmediatePriority,Ho=e.unstable_UserBlockingPriority,gs=e.unstable_NormalPriority,Ja=e.unstable_LowPriority,Hu=e.unstable_IdlePriority,ha=null,Gi=null;function Qa(d){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(ha,d,void 0,(d.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:Kc,rr=Math.log,Gc=Math.LN2;function Kc(d){return d>>>=0,d===0?32:31-(rr(d)/Gc|0)|0}var Za=64,pa=4194304;function ma(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function si(d,h){var y=d.pendingLanes;if(y===0)return 0;var T=0,j=d.suspendedLanes,q=d.pingedLanes,ne=y&268435455;if(ne!==0){var Ee=ne&~j;Ee!==0?T=ma(Ee):(q&=ne,q!==0&&(T=ma(q)))}else ne=y&~j,ne!==0?T=ma(ne):q!==0&&(T=ma(q));if(T===0)return 0;if(h!==0&&h!==T&&(h&j)===0&&(j=T&-T,q=h&-h,j>=q||j===16&&(q&4194240)!==0))return h;if((T&4)!==0&&(T|=y&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=T;0<h;)y=31-ii(h),j=1<<y,T|=d[y],h&=~j;return T}function Kl(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(d,h){for(var y=d.suspendedLanes,T=d.pingedLanes,j=d.expirationTimes,q=d.pendingLanes;0<q;){var ne=31-ii(q),Ee=1<<ne,ke=j[ne];ke===-1?((Ee&y)===0||(Ee&T)!==0)&&(j[ne]=Kl(Ee,h)):ke<=h&&(d.expiredLanes|=Ee),q&=~Ee}}function oi(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ga(){var d=Za;return Za<<=1,(Za&4194240)===0&&(Za=64),d}function ya(d){for(var h=[],y=0;31>y;y++)h.push(d);return h}function Wo(d,h,y){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-ii(h),d[h]=y}function zn(d,h){var y=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<y;){var j=31-ii(y),q=1<<j;h[j]=0,T[j]=-1,d[j]=-1,y&=~q}}function Go(d,h){var y=d.entangledLanes|=h;for(d=d.entanglements;y;){var T=31-ii(y),j=1<<T;j&h|d[T]&h&&(d[T]|=h),y&=~j}}var mn=0;function vo(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Wu,Yl,Gu,xo,el,va=!1,Gs=[],Nn=null,Ks=null,ys=null,Mt=new Map,vs=new Map,bo=[],wo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yc(d,h){switch(d){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Mt.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":vs.delete(h.pointerId)}}function ai(d,h,y,T,j,q){return d===null||d.nativeEvent!==q?(d={blockedOn:h,domEventName:y,eventSystemFlags:T,nativeEvent:q,targetContainers:[j]},h!==null&&(h=ud(h),h!==null&&Yl(h)),d):(d.eventSystemFlags|=T,h=d.targetContainers,j!==null&&h.indexOf(j)===-1&&h.push(j),d)}function Xl(d,h,y,T,j){switch(h){case"focusin":return Nn=ai(Nn,d,h,y,T,j),!0;case"dragenter":return Ks=ai(Ks,d,h,y,T,j),!0;case"mouseover":return ys=ai(ys,d,h,y,T,j),!0;case"pointerover":var q=j.pointerId;return Mt.set(q,ai(Mt.get(q)||null,d,h,y,T,j)),!0;case"gotpointercapture":return q=j.pointerId,vs.set(q,ai(vs.get(q)||null,d,h,y,T,j)),!0}return!1}function Jl(d){var h=oc(d.target);if(h!==null){var y=Tr(h);if(y!==null){if(h=y.tag,h===13){if(h=wi(y),h!==null){d.blockedOn=h,el(d.priority,function(){Gu(y)});return}}else if(h===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Ko(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var y=nl(d.domEventName,d.eventSystemFlags,h[0],d.nativeEvent);if(y===null){y=d.nativeEvent;var T=new y.constructor(y.type,y);Xt=T,y.target.dispatchEvent(T),Xt=null}else return h=ud(y),h!==null&&Yl(h),d.blockedOn=y,!1;h.shift()}return!0}function tl(d,h,y){Ko(d)&&y.delete(h)}function Ku(){va=!1,Nn!==null&&Ko(Nn)&&(Nn=null),Ks!==null&&Ko(Ks)&&(Ks=null),ys!==null&&Ko(ys)&&(ys=null),Mt.forEach(tl),vs.forEach(tl)}function Ki(d,h){d.blockedOn===h&&(d.blockedOn=null,va||(va=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ku)))}function li(d){function h(j){return Ki(j,d)}if(0<Gs.length){Ki(Gs[0],d);for(var y=1;y<Gs.length;y++){var T=Gs[y];T.blockedOn===d&&(T.blockedOn=null)}}for(Nn!==null&&Ki(Nn,d),Ks!==null&&Ki(Ks,d),ys!==null&&Ki(ys,d),Mt.forEach(h),vs.forEach(h),y=0;y<bo.length;y++)T=bo[y],T.blockedOn===d&&(T.blockedOn=null);for(;0<bo.length&&(y=bo[0],y.blockedOn===null);)Jl(y),y.blockedOn===null&&bo.shift()}var Si=R.ReactCurrentBatchConfig,xa=!0;function Mn(d,h,y,T){var j=mn,q=Si.transition;Si.transition=null;try{mn=1,ba(d,h,y,T)}finally{mn=j,Si.transition=q}}function Xc(d,h,y,T){var j=mn,q=Si.transition;Si.transition=null;try{mn=4,ba(d,h,y,T)}finally{mn=j,Si.transition=q}}function ba(d,h,y,T){if(xa){var j=nl(d,h,y,T);if(j===null)Mf(d,h,T,wa,y),Yc(d,T);else if(Xl(j,d,h,y,T))T.stopPropagation();else if(Yc(d,T),h&4&&-1<wo.indexOf(d)){for(;j!==null;){var q=ud(j);if(q!==null&&Wu(q),q=nl(d,h,y,T),q===null&&Mf(d,h,T,wa,y),q===j)break;j=q}j!==null&&T.stopPropagation()}else Mf(d,h,T,null,y)}}var wa=null;function nl(d,h,y,T){if(wa=null,d=vi(T),d=oc(d),d!==null)if(h=Tr(d),h===null)d=null;else if(y=h.tag,y===13){if(d=wi(h),d!==null)return d;d=null}else if(y===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null);return wa=d,null}function Ql(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qu()){case yo:return 1;case Ho:return 4;case gs:case Ja:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var Ei=null,Yi=null,Sr=null;function Jc(){if(Sr)return Sr;var d,h=Yi,y=h.length,T,j="value"in Ei?Ei.value:Ei.textContent,q=j.length;for(d=0;d<y&&h[d]===j[d];d++);var ne=y-d;for(T=1;T<=ne&&h[y-T]===j[q-T];T++);return Sr=j.slice(d,1<T?1-T:void 0)}function Ys(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Rr(){return!0}function rl(){return!1}function ur(d){function h(y,T,j,q,ne){this._reactName=y,this._targetInst=j,this.type=T,this.nativeEvent=q,this.target=ne,this.currentTarget=null;for(var Ee in d)d.hasOwnProperty(Ee)&&(y=d[Ee],this[Ee]=y?y(q):q[Ee]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?Rr:rl,this.isPropagationStopped=rl,this}return ae(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),h}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=ur(Xs),So=ae({},Xs,{view:0,detail:0}),Qc=ur(So),Sa,Eo,Js,Xo=ae({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Js&&(Js&&d.type==="mousemove"?(Sa=d.screenX-Js.screenX,Eo=d.screenY-Js.screenY):Eo=Sa=0,Js=d),Sa)},movementY:function(d){return"movementY"in d?d.movementY:Eo}}),Ea=ur(Xo),Zl=ae({},Xo,{dataTransfer:0}),Yu=ur(Zl),Jo=ae({},So,{relatedTarget:0}),Co=ur(Jo),ec=ae({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ci=ur(ec),tc=ae({},Xs,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),M=ur(tc),Z=ae({},Xs,{data:0}),xe=ur(Z),Ce={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Me={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lt(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=Qe[d])?!!h[d]:!1}function xt(){return lt}var w=ae({},So,{key:function(d){if(d.key){var h=Ce[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Ys(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Me[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(d){return d.type==="keypress"?Ys(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ys(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),z=ur(w),G=ae({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),he=ur(G),Re=ae({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),We=ur(Re),ct=ae({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),en=ur(ct),vn=ae({},Xo,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),tn=ur(vn),Fn=[9,13,27,32],Un=a&&"CompositionEvent"in window,Xi=null;a&&"documentMode"in document&&(Xi=document.documentMode);var ci=a&&"TextEvent"in window&&!Xi,Qo=a&&(!Un||Xi&&8<Xi&&11>=Xi),Zo=" ",Xu=!1;function Ju(d,h){switch(d){case"keyup":return Fn.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Er=!1;function Qu(d,h){switch(d){case"compositionend":return Zc(h);case"keypress":return h.which!==32?null:(Xu=!0,Zo);case"textInput":return d=h.data,d===Zo&&Xu?null:d;default:return null}}function Zu(d,h){if(Er)return d==="compositionend"||!Un&&Ju(d,h)?(d=Jc(),Sr=Yi=Ei=null,Er=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Qo&&h.locale!=="ko"?null:h.data;default:return null}}var ed={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!ed[d.type]:h==="textarea"}function Ji(d,h,y,T){Et(T),h=Jh(h,"onChange"),0<h.length&&(y=new Yo("onChange","change",null,y,T),d.push({event:y,listeners:h}))}var eu=null,il=null;function Kh(d){Lf(d,0)}function Qi(d){var h=cu(d);if(je(h))return d}function nd(d,h){if(d==="change")return h}var Pf=!1;if(a){var rd;if(a){var Ca="oninput"in document;if(!Ca){var nc=document.createElement("div");nc.setAttribute("oninput","return;"),Ca=typeof nc.oninput=="function"}rd=Ca}else rd=!1;Pf=rd&&(!document.documentMode||9<document.documentMode)}function Zi(){eu&&(eu.detachEvent("onpropertychange",Ai),il=eu=null)}function Ai(d){if(d.propertyName==="value"&&Qi(il)){var h=[];Ji(h,il,d,vi(d)),ar(Kh,h)}}function rc(d,h,y){d==="focusin"?(Zi(),eu=h,il=y,eu.attachEvent("onpropertychange",Ai)):d==="focusout"&&Zi()}function sl(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Qi(il)}function ol(d,h){if(d==="click")return Qi(h)}function id(d,h){if(d==="input"||d==="change")return Qi(h)}function al(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Ln=typeof Object.is=="function"?Object.is:al;function ll(d,h){if(Ln(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var y=Object.keys(d),T=Object.keys(h);if(y.length!==T.length)return!1;for(T=0;T<y.length;T++){var j=y[T];if(!l.call(h,j)||!Ln(d[j],h[j]))return!1}return!0}function _i(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Qs(d,h){var y=_i(d);d=0;for(var T;y;){if(y.nodeType===3){if(T=d+y.textContent.length,d<=h&&T>=h)return{node:y,offset:h-d};d=T}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=_i(y)}}function tu(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?tu(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function If(){for(var d=window,h=$e();h instanceof d.HTMLIFrameElement;){try{var y=typeof h.contentWindow.location.href=="string"}catch{y=!1}if(y)d=h.contentWindow;else break;h=$e(d.document)}return h}function nu(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function ru(d){var h=If(),y=d.focusedElem,T=d.selectionRange;if(h!==y&&y&&y.ownerDocument&&tu(y.ownerDocument.documentElement,y)){if(T!==null&&nu(y)){if(h=T.start,d=T.end,d===void 0&&(d=h),"selectionStart"in y)y.selectionStart=h,y.selectionEnd=Math.min(d,y.value.length);else if(d=(h=y.ownerDocument||document)&&h.defaultView||window,d.getSelection){d=d.getSelection();var j=y.textContent.length,q=Math.min(T.start,j);T=T.end===void 0?q:Math.min(T.end,j),!d.extend&&q>T&&(j=T,T=q,q=j),j=Qs(y,q);var ne=Qs(y,T);j&&ne&&(d.rangeCount!==1||d.anchorNode!==j.node||d.anchorOffset!==j.offset||d.focusNode!==ne.node||d.focusOffset!==ne.offset)&&(h=h.createRange(),h.setStart(j.node,j.offset),d.removeAllRanges(),q>T?(d.addRange(h),d.extend(ne.node,ne.offset)):(h.setEnd(ne.node,ne.offset),d.addRange(h)))}}for(h=[],d=y;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<h.length;y++)d=h[y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var iu=a&&"documentMode"in document&&11>=document.documentMode,Zs=null,cl=null,Aa=null,ul=!1;function dl(d,h,y){var T=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;ul||Zs==null||Zs!==$e(T)||(T=Zs,"selectionStart"in T&&nu(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Aa&&ll(Aa,T)||(Aa=T,T=Jh(cl,"onSelect"),0<T.length&&(h=new Yo("onSelect","select",null,h,y),d.push({event:h,listeners:T}),h.target=Zs)))}function ic(d,h){var y={};return y[d.toLowerCase()]=h.toLowerCase(),y["Webkit"+d]="webkit"+h,y["Moz"+d]="moz"+h,y}var ui={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},xs={},Zn={};a&&(Zn=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function qn(d){if(xs[d])return xs[d];if(!ui[d])return d;var h=ui[d],y;for(y in h)if(h.hasOwnProperty(y)&&y in Zn)return xs[d]=h[y];return d}var Cr=qn("animationend"),Lr=qn("animationiteration"),_a=qn("animationstart"),sd=qn("transitionend"),su=new Map,Df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(d,h){su.set(d,h),s(h,[d])}for(var od=0;od<Df.length;od++){var es=Df[od],Ao=es.toLowerCase(),Yh=es[0].toUpperCase()+es.slice(1);Ta(Ao,"on"+Yh)}Ta(Cr,"onAnimationEnd"),Ta(Lr,"onAnimationIteration"),Ta(_a,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(sd,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("cancel close invalid load scroll toggle".split(" ").concat(sc));function Rf(d,h,y){var T=d.type||"unknown-event";d.currentTarget=y,ms(T,h,void 0,d),d.currentTarget=null}function Lf(d,h){h=(h&4)!==0;for(var y=0;y<d.length;y++){var T=d[y],j=T.event;T=T.listeners;e:{var q=void 0;if(h)for(var ne=T.length-1;0<=ne;ne--){var Ee=T[ne],ke=Ee.instance,Xe=Ee.currentTarget;if(Ee=Ee.listener,ke!==q&&j.isPropagationStopped())break e;Rf(j,Ee,Xe),q=ke}else for(ne=0;ne<T.length;ne++){if(Ee=T[ne],ke=Ee.instance,Xe=Ee.currentTarget,Ee=Ee.listener,ke!==q&&j.isPropagationStopped())break e;Rf(j,Ee,Xe),q=ke}}}if(kn)throw d=xi,kn=!1,xi=null,d}function er(d,h){var y=h[ws];y===void 0&&(y=h[ws]=new Set);var T=d+"__bubble";y.has(T)||(Of(h,d,2,!1),y.add(T))}function Xh(d,h,y){var T=0;h&&(T|=4),Of(y,d,T,h)}var ad="_reactListening"+Math.random().toString(36).slice(2);function ou(d){if(!d[ad]){d[ad]=!0,r.forEach(function(y){y!=="selectionchange"&&(N1.has(y)||Xh(y,!1,d),Xh(y,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[ad]||(h[ad]=!0,Xh("selectionchange",!1,h))}}function Of(d,h,y,T){switch(Ql(h)){case 1:var j=Mn;break;case 4:j=Xc;break;default:j=ba}y=j.bind(null,h,y,d),j=void 0,!Gn||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(j=!0),T?j!==void 0?d.addEventListener(h,y,{capture:!0,passive:j}):d.addEventListener(h,y,!0):j!==void 0?d.addEventListener(h,y,{passive:j}):d.addEventListener(h,y,!1)}function Mf(d,h,y,T,j){var q=T;if((h&1)===0&&(h&2)===0&&T!==null)e:for(;;){if(T===null)return;var ne=T.tag;if(ne===3||ne===4){var Ee=T.stateNode.containerInfo;if(Ee===j||Ee.nodeType===8&&Ee.parentNode===j)break;if(ne===4)for(ne=T.return;ne!==null;){var ke=ne.tag;if((ke===3||ke===4)&&(ke=ne.stateNode.containerInfo,ke===j||ke.nodeType===8&&ke.parentNode===j))return;ne=ne.return}for(;Ee!==null;){if(ne=oc(Ee),ne===null)return;if(ke=ne.tag,ke===5||ke===6){T=q=ne;continue e}Ee=Ee.parentNode}}T=T.return}ar(function(){var Xe=q,ft=vi(y),mt=[];e:{var ut=su.get(d);if(ut!==void 0){var At=Yo,Nt=d;switch(d){case"keypress":if(Ys(y)===0)break e;case"keydown":case"keyup":At=z;break;case"focusin":Nt="focus",At=Co;break;case"focusout":Nt="blur",At=Co;break;case"beforeblur":case"afterblur":At=Co;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=We;break;case Cr:case Lr:case _a:At=Ci;break;case sd:At=en;break;case"scroll":At=Qc;break;case"wheel":At=tn;break;case"copy":case"cut":case"paste":At=M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=he}var Dt=(h&4)!==0,Hr=!Dt&&d==="scroll",He=Dt?ut!==null?ut+"Capture":null:ut;Dt=[];for(var De=Xe,Ye;De!==null;){Ye=De;var yt=Ye.stateNode;if(Ye.tag===5&&yt!==null&&(Ye=yt,He!==null&&(yt=gt(De,He),yt!=null&&Dt.push(Ff(De,yt,Ye)))),Hr)break;De=De.return}0<Dt.length&&(ut=new At(ut,Nt,null,y,ft),mt.push({event:ut,listeners:Dt}))}}if((h&7)===0){e:{if(ut=d==="mouseover"||d==="pointerover",At=d==="mouseout"||d==="pointerout",ut&&y!==Xt&&(Nt=y.relatedTarget||y.fromElement)&&(oc(Nt)||Nt[Ti]))break e;if((At||ut)&&(ut=ft.window===ft?ft:(ut=ft.ownerDocument)?ut.defaultView||ut.parentWindow:window,At?(Nt=y.relatedTarget||y.toElement,At=Xe,Nt=Nt?oc(Nt):null,Nt!==null&&(Hr=Tr(Nt),Nt!==Hr||Nt.tag!==5&&Nt.tag!==6)&&(Nt=null)):(At=null,Nt=Xe),At!==Nt)){if(Dt=Ea,yt="onMouseLeave",He="onMouseEnter",De="mouse",(d==="pointerout"||d==="pointerover")&&(Dt=he,yt="onPointerLeave",He="onPointerEnter",De="pointer"),Hr=At==null?ut:cu(At),Ye=Nt==null?ut:cu(Nt),ut=new Dt(yt,De+"leave",At,y,ft),ut.target=Hr,ut.relatedTarget=Ye,yt=null,oc(ft)===Xe&&(Dt=new Dt(He,De+"enter",Nt,y,ft),Dt.target=Ye,Dt.relatedTarget=Hr,yt=Dt),Hr=yt,At&&Nt)t:{for(Dt=At,He=Nt,De=0,Ye=Dt;Ye;Ye=au(Ye))De++;for(Ye=0,yt=He;yt;yt=au(yt))Ye++;for(;0<De-Ye;)Dt=au(Dt),De--;for(;0<Ye-De;)He=au(He),Ye--;for(;De--;){if(Dt===He||He!==null&&Dt===He.alternate)break t;Dt=au(Dt),He=au(He)}Dt=null}else Dt=null;At!==null&&P1(mt,ut,At,Dt,!1),Nt!==null&&Hr!==null&&P1(mt,Hr,Nt,Dt,!0)}}e:{if(ut=Xe?cu(Xe):window,At=ut.nodeName&&ut.nodeName.toLowerCase(),At==="select"||At==="input"&&ut.type==="file")var Lt=nd;else if(td(ut))if(Pf)Lt=id;else{Lt=sl;var Vt=rc}else(At=ut.nodeName)&&At.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(Lt=ol);if(Lt&&(Lt=Lt(d,Xe))){Ji(mt,Lt,y,ft);break e}Vt&&Vt(d,ut,Xe),d==="focusout"&&(Vt=ut._wrapperState)&&Vt.controlled&&ut.type==="number"&&Oe(ut,"number",ut.value)}switch(Vt=Xe?cu(Xe):window,d){case"focusin":(td(Vt)||Vt.contentEditable==="true")&&(Zs=Vt,cl=Xe,Aa=null);break;case"focusout":Aa=cl=Zs=null;break;case"mousedown":ul=!0;break;case"contextmenu":case"mouseup":case"dragend":ul=!1,dl(mt,y,ft);break;case"selectionchange":if(iu)break;case"keydown":case"keyup":dl(mt,y,ft)}var $t;if(Un)e:{switch(d){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else Er?Ju(d,y)&&(Zt="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(Zt="onCompositionStart");Zt&&(Qo&&y.locale!=="ko"&&(Er||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Er&&($t=Jc()):(Ei=ft,Yi="value"in Ei?Ei.value:Ei.textContent,Er=!0)),Vt=Jh(Xe,Zt),0<Vt.length&&(Zt=new xe(Zt,d,null,y,ft),mt.push({event:Zt,listeners:Vt}),$t?Zt.data=$t:($t=Zc(y),$t!==null&&(Zt.data=$t)))),($t=ci?Qu(d,y):Zu(d,y))&&(Xe=Jh(Xe,"onBeforeInput"),0<Xe.length&&(ft=new xe("onBeforeInput","beforeinput",null,y,ft),mt.push({event:ft,listeners:Xe}),ft.data=$t))}Lf(mt,h)})}function Ff(d,h,y){return{instance:d,listener:h,currentTarget:y}}function Jh(d,h){for(var y=h+"Capture",T=[];d!==null;){var j=d,q=j.stateNode;j.tag===5&&q!==null&&(j=q,q=gt(d,y),q!=null&&T.unshift(Ff(d,q,j)),q=gt(d,h),q!=null&&T.push(Ff(d,q,j))),d=d.return}return T}function au(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function P1(d,h,y,T,j){for(var q=h._reactName,ne=[];y!==null&&y!==T;){var Ee=y,ke=Ee.alternate,Xe=Ee.stateNode;if(ke!==null&&ke===T)break;Ee.tag===5&&Xe!==null&&(Ee=Xe,j?(ke=gt(y,q),ke!=null&&ne.unshift(Ff(y,ke,Ee))):j||(ke=gt(y,q),ke!=null&&ne.push(Ff(y,ke,Ee)))),y=y.return}ne.length!==0&&d.push({event:h,listeners:ne})}var Db=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function I1(d){return(typeof d=="string"?d:""+d).replace(Db,`
`).replace(Rb,"")}function Qh(d,h,y){if(h=I1(h),I1(d)!==h&&y)throw Error(t(425))}function ld(){}var jf=null,lu=null;function G0(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var K0=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,R1=typeof Promise=="function"?Promise:void 0,Lb=typeof queueMicrotask=="function"?queueMicrotask:typeof R1<"u"?function(d){return R1.resolve(null).then(d).catch(Ob)}:K0;function Ob(d){setTimeout(function(){throw d})}function Y0(d,h){var y=h,T=0;do{var j=y.nextSibling;if(d.removeChild(y),j&&j.nodeType===8)if(y=j.data,y==="/$"){if(T===0){d.removeChild(j),li(h);return}T--}else y!=="$"&&y!=="$?"&&y!=="$!"||T++;y=j}while(y);li(h)}function ts(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return d}function _o(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"){if(h===0)return d;h--}else y==="/$"&&h++}d=d.previousSibling}return null}var bs=Math.random().toString(36).slice(2),ka="__reactFiber$"+bs,cd="__reactProps$"+bs,Ti="__reactContainer$"+bs,ws="__reactEvents$"+bs,Mb="__reactListeners$"+bs,Fb="__reactHandles$"+bs;function oc(d){var h=d[ka];if(h)return h;for(var y=d.parentNode;y;){if(h=y[Ti]||y[ka]){if(y=h.alternate,h.child!==null||y!==null&&y.child!==null)for(d=_o(d);d!==null;){if(y=d[ka])return y;d=_o(d)}return h}d=y,y=d.parentNode}return null}function ud(d){return d=d[ka]||d[Ti],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function cu(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function Bf(d){return d[cd]||null}var X0=[],fl=-1;function ea(d){return{current:d}}function Hn(d){0>fl||(d.current=X0[fl],X0[fl]=null,fl--)}function Yn(d,h){fl++,X0[fl]=d.current,d.current=h}var ac={},di=ea(ac),Ss=ea(!1),uu=ac;function dd(d,h){var y=d.type.contextTypes;if(!y)return ac;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var j={},q;for(q in y)j[q]=h[q];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=j),j}function Es(d){return d=d.childContextTypes,d!=null}function Zh(){Hn(Ss),Hn(di)}function L1(d,h,y){if(di.current!==ac)throw Error(t(168));Yn(di,h),Yn(Ss,y)}function J0(d,h,y){var T=d.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return y;T=T.getChildContext();for(var j in T)if(!(j in h))throw Error(t(108,ue(d)||"Unknown",j));return ae({},y,T)}function du(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ac,uu=di.current,Yn(di,d),Yn(Ss,Ss.current),!0}function O1(d,h,y){var T=d.stateNode;if(!T)throw Error(t(169));y?(d=J0(d,h,uu),T.__reactInternalMemoizedMergedChildContext=d,Hn(Ss),Hn(di),Yn(di,d)):Hn(Ss),Yn(Ss,y)}var hl=null,Vf=!1,x=!1;function k(d){hl===null?hl=[d]:hl.push(d)}function V(d){Vf=!0,k(d)}function H(){if(!x&&hl!==null){x=!0;var d=0,h=mn;try{var y=hl;for(mn=1;d<y.length;d++){var T=y[d];do T=T(!0);while(T!==null)}hl=null,Vf=!1}catch(j){throw hl!==null&&(hl=hl.slice(d+1)),qo(yo,H),j}finally{mn=h,x=!1}}return null}var Q=[],te=0,se=null,fe=0,me=[],ve=0,Te=null,Be=1,Ve="";function Le(d,h){Q[te++]=fe,Q[te++]=se,se=d,fe=h}function rt(d,h,y){me[ve++]=Be,me[ve++]=Ve,me[ve++]=Te,Te=d;var T=Be;d=Ve;var j=32-ii(T)-1;T&=~(1<<j),y+=1;var q=32-ii(h)+j;if(30<q){var ne=j-j%5;q=(T&(1<<ne)-1).toString(32),T>>=ne,j-=ne,Be=1<<32-ii(h)+j|y<<j|T,Ve=q+d}else Be=1<<q|y<<j|T,Ve=d}function Je(d){d.return!==null&&(Le(d,1),rt(d,1,0))}function Ne(d){for(;d===se;)se=Q[--te],Q[te]=null,fe=Q[--te],Q[te]=null;for(;d===Te;)Te=me[--ve],me[ve]=null,Ve=me[--ve],me[ve]=null,Be=me[--ve],me[ve]=null}var Pe=null,et=null,Ze=!1,tt=null;function St(d,h){var y=La(5,null,null,0);y.elementType="DELETED",y.stateNode=h,y.return=d,h=d.deletions,h===null?(d.deletions=[y],d.flags|=16):h.push(y)}function bt(d,h){switch(d.tag){case 5:var y=d.type;return h=h.nodeType!==1||y.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(d.stateNode=h,Pe=d,et=ts(h.firstChild),!0):!1;case 6:return h=d.pendingProps===""||h.nodeType!==3?null:h,h!==null?(d.stateNode=h,Pe=d,et=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(y=Te!==null?{id:Be,overflow:Ve}:null,d.memoizedState={dehydrated:h,treeContext:y,retryLane:1073741824},y=La(18,null,null,0),y.stateNode=h,y.return=d,d.child=y,Pe=d,et=null,!0):!1;default:return!1}}function Ot(d){return(d.mode&1)!==0&&(d.flags&128)===0}function wt(d){if(Ze){var h=et;if(h){var y=h;if(!bt(d,h)){if(Ot(d))throw Error(t(418));h=ts(y.nextSibling);var T=Pe;h&&bt(d,h)?St(T,y):(d.flags=d.flags&-4097|2,Ze=!1,Pe=d)}}else{if(Ot(d))throw Error(t(418));d.flags=d.flags&-4097|2,Ze=!1,Pe=d}}}function Pn(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Pe=d}function In(d){if(d!==Pe)return!1;if(!Ze)return Pn(d),Ze=!0,!1;var h;if((h=d.tag!==3)&&!(h=d.tag!==5)&&(h=d.type,h=h!=="head"&&h!=="body"&&!G0(d.type,d.memoizedProps)),h&&(h=et)){if(Ot(d))throw wn(),Error(t(418));for(;h;)St(d,h),h=ts(h.nextSibling)}if(Pn(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"){if(h===0){et=ts(d.nextSibling);break e}h--}else y!=="$"&&y!=="$!"&&y!=="$?"||h++}d=d.nextSibling}et=null}}else et=Pe?ts(d.stateNode.nextSibling):null;return!0}function wn(){for(var d=et;d;)d=ts(d.nextSibling)}function cn(){et=Pe=null,Ze=!1}function Wn(d){tt===null?tt=[d]:tt.push(d)}var Xn=R.ReactCurrentBatchConfig;function Yt(d,h,y){if(d=y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(t(309));var T=y.stateNode}if(!T)throw Error(t(147,d));var j=T,q=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===q?h.ref:(h=function(ne){var Ee=j.refs;ne===null?delete Ee[q]:Ee[q]=ne},h._stringRef=q,h)}if(typeof d!="string")throw Error(t(284));if(!y._owner)throw Error(t(290,d))}return d}function dr(d,h){throw d=Object.prototype.toString.call(h),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function ns(d){var h=d._init;return h(d._payload)}function kr(d){function h(He,De){if(d){var Ye=He.deletions;Ye===null?(He.deletions=[De],He.flags|=16):Ye.push(De)}}function y(He,De){if(!d)return null;for(;De!==null;)h(He,De),De=De.sibling;return null}function T(He,De){for(He=new Map;De!==null;)De.key!==null?He.set(De.key,De):He.set(De.index,De),De=De.sibling;return He}function j(He,De){return He=Ed(He,De),He.index=0,He.sibling=null,He}function q(He,De,Ye){return He.index=Ye,d?(Ye=He.alternate,Ye!==null?(Ye=Ye.index,Ye<De?(He.flags|=2,De):Ye):(He.flags|=2,De)):(He.flags|=1048576,De)}function ne(He){return d&&He.alternate===null&&(He.flags|=2),He}function Ee(He,De,Ye,yt){return De===null||De.tag!==6?(De=fw(Ye,He.mode,yt),De.return=He,De):(De=j(De,Ye),De.return=He,De)}function ke(He,De,Ye,yt){var Lt=Ye.type;return Lt===O?ft(He,De,Ye.props.children,yt,Ye.key):De!==null&&(De.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===oe&&ns(Lt)===De.type)?(yt=j(De,Ye.props),yt.ref=Yt(He,De,Ye),yt.return=He,yt):(yt=ty(Ye.type,Ye.key,Ye.props,null,He.mode,yt),yt.ref=Yt(He,De,Ye),yt.return=He,yt)}function Xe(He,De,Ye,yt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ye.containerInfo||De.stateNode.implementation!==Ye.implementation?(De=hw(Ye,He.mode,yt),De.return=He,De):(De=j(De,Ye.children||[]),De.return=He,De)}function ft(He,De,Ye,yt,Lt){return De===null||De.tag!==7?(De=Kf(Ye,He.mode,yt,Lt),De.return=He,De):(De=j(De,Ye),De.return=He,De)}function mt(He,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number")return De=fw(""+De,He.mode,Ye),De.return=He,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case B:return Ye=ty(De.type,De.key,De.props,null,He.mode,Ye),Ye.ref=Yt(He,null,De),Ye.return=He,Ye;case U:return De=hw(De,He.mode,Ye),De.return=He,De;case oe:var yt=De._init;return mt(He,yt(De._payload),Ye)}if(Ie(De)||de(De))return De=Kf(De,He.mode,Ye,null),De.return=He,De;dr(He,De)}return null}function ut(He,De,Ye,yt){var Lt=De!==null?De.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return Lt!==null?null:Ee(He,De,""+Ye,yt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case B:return Ye.key===Lt?ke(He,De,Ye,yt):null;case U:return Ye.key===Lt?Xe(He,De,Ye,yt):null;case oe:return Lt=Ye._init,ut(He,De,Lt(Ye._payload),yt)}if(Ie(Ye)||de(Ye))return Lt!==null?null:ft(He,De,Ye,yt,null);dr(He,Ye)}return null}function At(He,De,Ye,yt,Lt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return He=He.get(Ye)||null,Ee(De,He,""+yt,Lt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case B:return He=He.get(yt.key===null?Ye:yt.key)||null,ke(De,He,yt,Lt);case U:return He=He.get(yt.key===null?Ye:yt.key)||null,Xe(De,He,yt,Lt);case oe:var Vt=yt._init;return At(He,De,Ye,Vt(yt._payload),Lt)}if(Ie(yt)||de(yt))return He=He.get(Ye)||null,ft(De,He,yt,Lt,null);dr(De,yt)}return null}function Nt(He,De,Ye,yt){for(var Lt=null,Vt=null,$t=De,Zt=De=0,Ii=null;$t!==null&&Zt<Ye.length;Zt++){$t.index>Zt?(Ii=$t,$t=null):Ii=$t.sibling;var Vn=ut(He,$t,Ye[Zt],yt);if(Vn===null){$t===null&&($t=Ii);break}d&&$t&&Vn.alternate===null&&h(He,$t),De=q(Vn,De,Zt),Vt===null?Lt=Vn:Vt.sibling=Vn,Vt=Vn,$t=Ii}if(Zt===Ye.length)return y(He,$t),Ze&&Le(He,Zt),Lt;if($t===null){for(;Zt<Ye.length;Zt++)$t=mt(He,Ye[Zt],yt),$t!==null&&(De=q($t,De,Zt),Vt===null?Lt=$t:Vt.sibling=$t,Vt=$t);return Ze&&Le(He,Zt),Lt}for($t=T(He,$t);Zt<Ye.length;Zt++)Ii=At($t,He,Zt,Ye[Zt],yt),Ii!==null&&(d&&Ii.alternate!==null&&$t.delete(Ii.key===null?Zt:Ii.key),De=q(Ii,De,Zt),Vt===null?Lt=Ii:Vt.sibling=Ii,Vt=Ii);return d&&$t.forEach(function(Cd){return h(He,Cd)}),Ze&&Le(He,Zt),Lt}function Dt(He,De,Ye,yt){var Lt=de(Ye);if(typeof Lt!="function")throw Error(t(150));if(Ye=Lt.call(Ye),Ye==null)throw Error(t(151));for(var Vt=Lt=null,$t=De,Zt=De=0,Ii=null,Vn=Ye.next();$t!==null&&!Vn.done;Zt++,Vn=Ye.next()){$t.index>Zt?(Ii=$t,$t=null):Ii=$t.sibling;var Cd=ut(He,$t,Vn.value,yt);if(Cd===null){$t===null&&($t=Ii);break}d&&$t&&Cd.alternate===null&&h(He,$t),De=q(Cd,De,Zt),Vt===null?Lt=Cd:Vt.sibling=Cd,Vt=Cd,$t=Ii}if(Vn.done)return y(He,$t),Ze&&Le(He,Zt),Lt;if($t===null){for(;!Vn.done;Zt++,Vn=Ye.next())Vn=mt(He,Vn.value,yt),Vn!==null&&(De=q(Vn,De,Zt),Vt===null?Lt=Vn:Vt.sibling=Vn,Vt=Vn);return Ze&&Le(He,Zt),Lt}for($t=T(He,$t);!Vn.done;Zt++,Vn=Ye.next())Vn=At($t,He,Zt,Vn.value,yt),Vn!==null&&(d&&Vn.alternate!==null&&$t.delete(Vn.key===null?Zt:Vn.key),De=q(Vn,De,Zt),Vt===null?Lt=Vn:Vt.sibling=Vn,Vt=Vn);return d&&$t.forEach(function(YV){return h(He,YV)}),Ze&&Le(He,Zt),Lt}function Hr(He,De,Ye,yt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===O&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case B:e:{for(var Lt=Ye.key,Vt=De;Vt!==null;){if(Vt.key===Lt){if(Lt=Ye.type,Lt===O){if(Vt.tag===7){y(He,Vt.sibling),De=j(Vt,Ye.props.children),De.return=He,He=De;break e}}else if(Vt.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===oe&&ns(Lt)===Vt.type){y(He,Vt.sibling),De=j(Vt,Ye.props),De.ref=Yt(He,Vt,Ye),De.return=He,He=De;break e}y(He,Vt);break}else h(He,Vt);Vt=Vt.sibling}Ye.type===O?(De=Kf(Ye.props.children,He.mode,yt,Ye.key),De.return=He,He=De):(yt=ty(Ye.type,Ye.key,Ye.props,null,He.mode,yt),yt.ref=Yt(He,De,Ye),yt.return=He,He=yt)}return ne(He);case U:e:{for(Vt=Ye.key;De!==null;){if(De.key===Vt)if(De.tag===4&&De.stateNode.containerInfo===Ye.containerInfo&&De.stateNode.implementation===Ye.implementation){y(He,De.sibling),De=j(De,Ye.children||[]),De.return=He,He=De;break e}else{y(He,De);break}else h(He,De);De=De.sibling}De=hw(Ye,He.mode,yt),De.return=He,He=De}return ne(He);case oe:return Vt=Ye._init,Hr(He,De,Vt(Ye._payload),yt)}if(Ie(Ye))return Nt(He,De,Ye,yt);if(de(Ye))return Dt(He,De,Ye,yt);dr(He,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"?(Ye=""+Ye,De!==null&&De.tag===6?(y(He,De.sibling),De=j(De,Ye),De.return=He,He=De):(y(He,De),De=fw(Ye,He.mode,yt),De.return=He,He=De),ne(He)):y(He,De)}return Hr}var zr=kr(!0),jn=kr(!1),ki=ea(null),Ni=null,fr=null,Ur=null;function fi(){Ur=fr=Ni=null}function Cs(d){var h=ki.current;Hn(ki),d._currentValue=h}function To(d,h,y){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===y)break;d=d.return}}function hr(d,h){Ni=d,Ur=fr=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(Io=!0),d.firstContext=null)}function Or(d){var h=d._currentValue;if(Ur!==d)if(d={context:d,memoizedValue:h,next:null},fr===null){if(Ni===null)throw Error(t(308));fr=d,Ni.dependencies={lanes:0,firstContext:d}}else fr=fr.next=d;return h}var eo=null;function lc(d){eo===null?eo=[d]:eo.push(d)}function pl(d,h,y,T){var j=h.interleaved;return j===null?(y.next=y,lc(h)):(y.next=j.next,j.next=y),h.interleaved=y,Bn(d,T)}function Bn(d,h){d.lanes|=h;var y=d.alternate;for(y!==null&&(y.lanes|=h),y=d,d=d.return;d!==null;)d.childLanes|=h,y=d.alternate,y!==null&&(y.childLanes|=h),y=d,d=d.return;return y.tag===3?y.stateNode:null}var Na=!1;function ep(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q0(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ko(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function No(d,h,y){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(On&2)!==0){var j=T.pending;return j===null?h.next=h:(h.next=j.next,j.next=h),T.pending=h,Bn(d,y)}return j=T.interleaved,j===null?(h.next=h,lc(T)):(h.next=j.next,j.next=h),T.interleaved=h,Bn(d,y)}function fu(d,h,y){if(h=h.updateQueue,h!==null&&(h=h.shared,(y&4194240)!==0)){var T=h.lanes;T&=d.pendingLanes,y|=T,h.lanes=y,Go(d,y)}}function Po(d,h){var y=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,y===T)){var j=null,q=null;if(y=y.firstBaseUpdate,y!==null){do{var ne={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};q===null?j=q=ne:q=q.next=ne,y=y.next}while(y!==null);q===null?j=q=h:q=q.next=h}else j=q=h;y={baseState:T.baseState,firstBaseUpdate:j,lastBaseUpdate:q,shared:T.shared,effects:T.effects},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=h:d.next=h,y.lastBaseUpdate=h}function ml(d,h,y,T){var j=d.updateQueue;Na=!1;var q=j.firstBaseUpdate,ne=j.lastBaseUpdate,Ee=j.shared.pending;if(Ee!==null){j.shared.pending=null;var ke=Ee,Xe=ke.next;ke.next=null,ne===null?q=Xe:ne.next=Xe,ne=ke;var ft=d.alternate;ft!==null&&(ft=ft.updateQueue,Ee=ft.lastBaseUpdate,Ee!==ne&&(Ee===null?ft.firstBaseUpdate=Xe:Ee.next=Xe,ft.lastBaseUpdate=ke))}if(q!==null){var mt=j.baseState;ne=0,ft=Xe=ke=null,Ee=q;do{var ut=Ee.lane,At=Ee.eventTime;if((T&ut)===ut){ft!==null&&(ft=ft.next={eventTime:At,lane:0,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null});e:{var Nt=d,Dt=Ee;switch(ut=h,At=y,Dt.tag){case 1:if(Nt=Dt.payload,typeof Nt=="function"){mt=Nt.call(At,mt,ut);break e}mt=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Dt.payload,ut=typeof Nt=="function"?Nt.call(At,mt,ut):Nt,ut==null)break e;mt=ae({},mt,ut);break e;case 2:Na=!0}}Ee.callback!==null&&Ee.lane!==0&&(d.flags|=64,ut=j.effects,ut===null?j.effects=[Ee]:ut.push(Ee))}else At={eventTime:At,lane:ut,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},ft===null?(Xe=ft=At,ke=mt):ft=ft.next=At,ne|=ut;if(Ee=Ee.next,Ee===null){if(Ee=j.shared.pending,Ee===null)break;ut=Ee,Ee=ut.next,ut.next=null,j.lastBaseUpdate=ut,j.shared.pending=null}}while(!0);if(ft===null&&(ke=mt),j.baseState=ke,j.firstBaseUpdate=Xe,j.lastBaseUpdate=ft,h=j.shared.interleaved,h!==null){j=h;do ne|=j.lane,j=j.next;while(j!==h)}else q===null&&(j.shared.lanes=0);qf|=ne,d.lanes=ne,d.memoizedState=mt}}function hu(d,h,y){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var T=d[h],j=T.callback;if(j!==null){if(T.callback=null,T=y,typeof j!="function")throw Error(t(191,j));j.call(T)}}}var fd={},to=ea(fd),hd=ea(fd),cc=ea(fd);function gl(d){if(d===fd)throw Error(t(174));return d}function pd(d,h){switch(Yn(cc,h),Yn(hd,d),Yn(to,fd),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Ue(null,"");break;default:d=d===8?h.parentNode:h,h=d.namespaceURI||null,d=d.tagName,h=Ue(h,d)}Hn(to),Yn(to,h)}function Pa(){Hn(to),Hn(hd),Hn(cc)}function M1(d){gl(cc.current);var h=gl(to.current),y=Ue(h,d.type);h!==y&&(Yn(hd,d),Yn(to,y))}function Z0(d){hd.current===d&&(Hn(to),Hn(hd))}var ir=ea(0);function ta(d){for(var h=d;h!==null;){if(h.tag===13){var y=h.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var em=[];function tm(){for(var d=0;d<em.length;d++)em[d]._workInProgressVersionPrimary=null;em.length=0}var tp=R.ReactCurrentDispatcher,np=R.ReactCurrentBatchConfig,Ia=0,lr=null,Mr=null,Nr=null,md=!1,yl=!1,gd=0,jb=0;function qr(){throw Error(t(321))}function rp(d,h){if(h===null)return!1;for(var y=0;y<h.length&&y<d.length;y++)if(!Ln(d[y],h[y]))return!1;return!0}function $f(d,h,y,T,j,q){if(Ia=q,lr=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,tp.current=d===null||d.memoizedState===null?wV:SV,d=y(T,j),yl){q=0;do{if(yl=!1,gd=0,25<=q)throw Error(t(301));q+=1,Nr=Mr=null,h.updateQueue=null,tp.current=EV,d=y(T,j)}while(yl)}if(tp.current=$1,h=Mr!==null&&Mr.next!==null,Ia=0,Nr=Mr=lr=null,md=!1,h)throw Error(t(300));return d}function Da(){var d=gd!==0;return gd=0,d}function na(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?lr.memoizedState=Nr=d:Nr=Nr.next=d,Nr}function no(){if(Mr===null){var d=lr.alternate;d=d!==null?d.memoizedState:null}else d=Mr.next;var h=Nr===null?lr.memoizedState:Nr.next;if(h!==null)Nr=h,Mr=d;else{if(d===null)throw Error(t(310));Mr=d,d={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Nr===null?lr.memoizedState=Nr=d:Nr=Nr.next=d}return Nr}function zf(d,h){return typeof h=="function"?h(d):h}function ip(d){var h=no(),y=h.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=d;var T=Mr,j=T.baseQueue,q=y.pending;if(q!==null){if(j!==null){var ne=j.next;j.next=q.next,q.next=ne}T.baseQueue=j=q,y.pending=null}if(j!==null){q=j.next,T=T.baseState;var Ee=ne=null,ke=null,Xe=q;do{var ft=Xe.lane;if((Ia&ft)===ft)ke!==null&&(ke=ke.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),T=Xe.hasEagerState?Xe.eagerState:d(T,Xe.action);else{var mt={lane:ft,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};ke===null?(Ee=ke=mt,ne=T):ke=ke.next=mt,lr.lanes|=ft,qf|=ft}Xe=Xe.next}while(Xe!==null&&Xe!==q);ke===null?ne=T:ke.next=Ee,Ln(T,h.memoizedState)||(Io=!0),h.memoizedState=T,h.baseState=ne,h.baseQueue=ke,y.lastRenderedState=T}if(d=y.interleaved,d!==null){j=d;do q=j.lane,lr.lanes|=q,qf|=q,j=j.next;while(j!==d)}else j===null&&(y.lanes=0);return[h.memoizedState,y.dispatch]}function uc(d){var h=no(),y=h.queue;if(y===null)throw Error(t(311));y.lastRenderedReducer=d;var T=y.dispatch,j=y.pending,q=h.memoizedState;if(j!==null){y.pending=null;var ne=j=j.next;do q=d(q,ne.action),ne=ne.next;while(ne!==j);Ln(q,h.memoizedState)||(Io=!0),h.memoizedState=q,h.baseQueue===null&&(h.baseState=q),y.lastRenderedState=q}return[q,T]}function F1(){}function nm(d,h){var y=lr,T=no(),j=h(),q=!Ln(T.memoizedState,j);if(q&&(T.memoizedState=j,Io=!0),T=T.queue,ap(B1.bind(null,y,T,d),[d]),T.getSnapshot!==h||q||Nr!==null&&Nr.memoizedState.tag&1){if(y.flags|=2048,ro(9,rm.bind(null,y,T,j,h),void 0,null),Pi===null)throw Error(t(349));(Ia&30)!==0||j1(y,h,j)}return j}function j1(d,h,y){d.flags|=16384,d={getSnapshot:h,value:y},h=lr.updateQueue,h===null?(h={lastEffect:null,stores:null},lr.updateQueue=h,h.stores=[d]):(y=h.stores,y===null?h.stores=[d]:y.push(d))}function rm(d,h,y,T){h.value=y,h.getSnapshot=T,yd(h)&&sp(d)}function B1(d,h,y){return y(function(){yd(h)&&sp(d)})}function yd(d){var h=d.getSnapshot;d=d.value;try{var y=h();return!Ln(d,y)}catch{return!0}}function sp(d){var h=Bn(d,1);h!==null&&Sl(h,d,1,-1)}function Uf(d){var h=na();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zf,lastRenderedState:d},h.queue=d,d=d.dispatch=bV.bind(null,lr,d),[h.memoizedState,d]}function ro(d,h,y,T){return d={tag:d,create:h,destroy:y,deps:T,next:null},h=lr.updateQueue,h===null?(h={lastEffect:null,stores:null},lr.updateQueue=h,h.lastEffect=d.next=d):(y=h.lastEffect,y===null?h.lastEffect=d.next=d:(T=y.next,y.next=d,d.next=T,h.lastEffect=d)),d}function vl(){return no().memoizedState}function ra(d,h,y,T){var j=na();lr.flags|=d,j.memoizedState=ro(1|h,y,void 0,T===void 0?null:T)}function pu(d,h,y,T){var j=no();T=T===void 0?null:T;var q=void 0;if(Mr!==null){var ne=Mr.memoizedState;if(q=ne.destroy,T!==null&&rp(T,ne.deps)){j.memoizedState=ro(h,y,q,T);return}}lr.flags|=d,j.memoizedState=ro(1|h,y,q,T)}function op(d,h){return ra(8390656,8,d,h)}function ap(d,h){return pu(2048,8,d,h)}function V1(d,h){return pu(4,2,d,h)}function lp(d,h){return pu(4,4,d,h)}function cp(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function B4(d,h,y){return y=y!=null?y.concat([d]):null,pu(4,4,cp.bind(null,h,d),y)}function Bb(){}function V4(d,h){var y=no();h=h===void 0?null:h;var T=y.memoizedState;return T!==null&&h!==null&&rp(h,T[1])?T[0]:(y.memoizedState=[d,h],d)}function $4(d,h){var y=no();h=h===void 0?null:h;var T=y.memoizedState;return T!==null&&h!==null&&rp(h,T[1])?T[0]:(d=d(),y.memoizedState=[d,h],d)}function z4(d,h,y){return(Ia&21)===0?(d.baseState&&(d.baseState=!1,Io=!0),d.memoizedState=y):(Ln(y,h)||(y=ga(),lr.lanes|=y,qf|=y,d.baseState=!0),h)}function vV(d,h){var y=mn;mn=y!==0&&4>y?y:4,d(!0);var T=np.transition;np.transition={};try{d(!1),h()}finally{mn=y,np.transition=T}}function U4(){return no().memoizedState}function xV(d,h,y){var T=wd(d);if(y={lane:T,action:y,hasEagerState:!1,eagerState:null,next:null},q4(d))H4(h,y);else if(y=pl(d,h,y,T),y!==null){var j=so();Sl(y,d,T,j),W4(y,h,T)}}function bV(d,h,y){var T=wd(d),j={lane:T,action:y,hasEagerState:!1,eagerState:null,next:null};if(q4(d))H4(h,j);else{var q=d.alternate;if(d.lanes===0&&(q===null||q.lanes===0)&&(q=h.lastRenderedReducer,q!==null))try{var ne=h.lastRenderedState,Ee=q(ne,y);if(j.hasEagerState=!0,j.eagerState=Ee,Ln(Ee,ne)){var ke=h.interleaved;ke===null?(j.next=j,lc(h)):(j.next=ke.next,ke.next=j),h.interleaved=j;return}}catch{}finally{}y=pl(d,h,j,T),y!==null&&(j=so(),Sl(y,d,T,j),W4(y,h,T))}}function q4(d){var h=d.alternate;return d===lr||h!==null&&h===lr}function H4(d,h){yl=md=!0;var y=d.pending;y===null?h.next=h:(h.next=y.next,y.next=h),d.pending=h}function W4(d,h,y){if((y&4194240)!==0){var T=h.lanes;T&=d.pendingLanes,y|=T,h.lanes=y,Go(d,y)}}var $1={readContext:Or,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},wV={readContext:Or,useCallback:function(d,h){return na().memoizedState=[d,h===void 0?null:h],d},useContext:Or,useEffect:op,useImperativeHandle:function(d,h,y){return y=y!=null?y.concat([d]):null,ra(4194308,4,cp.bind(null,h,d),y)},useLayoutEffect:function(d,h){return ra(4194308,4,d,h)},useInsertionEffect:function(d,h){return ra(4,2,d,h)},useMemo:function(d,h){var y=na();return h=h===void 0?null:h,d=d(),y.memoizedState=[d,h],d},useReducer:function(d,h,y){var T=na();return h=y!==void 0?y(h):h,T.memoizedState=T.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},T.queue=d,d=d.dispatch=xV.bind(null,lr,d),[T.memoizedState,d]},useRef:function(d){var h=na();return d={current:d},h.memoizedState=d},useState:Uf,useDebugValue:Bb,useDeferredValue:function(d){return na().memoizedState=d},useTransition:function(){var d=Uf(!1),h=d[0];return d=vV.bind(null,d[1]),na().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,y){var T=lr,j=na();if(Ze){if(y===void 0)throw Error(t(407));y=y()}else{if(y=h(),Pi===null)throw Error(t(349));(Ia&30)!==0||j1(T,h,y)}j.memoizedState=y;var q={value:y,getSnapshot:h};return j.queue=q,op(B1.bind(null,T,q,d),[d]),T.flags|=2048,ro(9,rm.bind(null,T,q,y,h),void 0,null),y},useId:function(){var d=na(),h=Pi.identifierPrefix;if(Ze){var y=Ve,T=Be;y=(T&~(1<<32-ii(T)-1)).toString(32)+y,h=":"+h+"R"+y,y=gd++,0<y&&(h+="H"+y.toString(32)),h+=":"}else y=jb++,h=":"+h+"r"+y.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},SV={readContext:Or,useCallback:V4,useContext:Or,useEffect:ap,useImperativeHandle:B4,useInsertionEffect:V1,useLayoutEffect:lp,useMemo:$4,useReducer:ip,useRef:vl,useState:function(){return ip(zf)},useDebugValue:Bb,useDeferredValue:function(d){var h=no();return z4(h,Mr.memoizedState,d)},useTransition:function(){var d=ip(zf)[0],h=no().memoizedState;return[d,h]},useMutableSource:F1,useSyncExternalStore:nm,useId:U4,unstable_isNewReconciler:!1},EV={readContext:Or,useCallback:V4,useContext:Or,useEffect:ap,useImperativeHandle:B4,useInsertionEffect:V1,useLayoutEffect:lp,useMemo:$4,useReducer:uc,useRef:vl,useState:function(){return uc(zf)},useDebugValue:Bb,useDeferredValue:function(d){var h=no();return Mr===null?h.memoizedState=d:z4(h,Mr.memoizedState,d)},useTransition:function(){var d=uc(zf)[0],h=no().memoizedState;return[d,h]},useMutableSource:F1,useSyncExternalStore:nm,useId:U4,unstable_isNewReconciler:!1};function xl(d,h){if(d&&d.defaultProps){h=ae({},h),d=d.defaultProps;for(var y in d)h[y]===void 0&&(h[y]=d[y]);return h}return h}function Vb(d,h,y,T){h=d.memoizedState,y=y(T,h),y=y==null?h:ae({},h,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var z1={isMounted:function(d){return(d=d._reactInternals)?Tr(d)===d:!1},enqueueSetState:function(d,h,y){d=d._reactInternals;var T=so(),j=wd(d),q=ko(T,j);q.payload=h,y!=null&&(q.callback=y),h=No(d,q,j),h!==null&&(Sl(h,d,j,T),fu(h,d,j))},enqueueReplaceState:function(d,h,y){d=d._reactInternals;var T=so(),j=wd(d),q=ko(T,j);q.tag=1,q.payload=h,y!=null&&(q.callback=y),h=No(d,q,j),h!==null&&(Sl(h,d,j,T),fu(h,d,j))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var y=so(),T=wd(d),j=ko(y,T);j.tag=2,h!=null&&(j.callback=h),h=No(d,j,T),h!==null&&(Sl(h,d,T,y),fu(h,d,T))}};function G4(d,h,y,T,j,q,ne){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,q,ne):h.prototype&&h.prototype.isPureReactComponent?!ll(y,T)||!ll(j,q):!0}function K4(d,h,y){var T=!1,j=ac,q=h.contextType;return typeof q=="object"&&q!==null?q=Or(q):(j=Es(h)?uu:di.current,T=h.contextTypes,q=(T=T!=null)?dd(d,j):ac),h=new h(y,q),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=z1,d.stateNode=h,h._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=j,d.__reactInternalMemoizedMaskedChildContext=q),h}function Y4(d,h,y,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(y,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(y,T),h.state!==d&&z1.enqueueReplaceState(h,h.state,null)}function $b(d,h,y,T){var j=d.stateNode;j.props=y,j.state=d.memoizedState,j.refs={},ep(d);var q=h.contextType;typeof q=="object"&&q!==null?j.context=Or(q):(q=Es(h)?uu:di.current,j.context=dd(d,q)),j.state=d.memoizedState,q=h.getDerivedStateFromProps,typeof q=="function"&&(Vb(d,h,q,y),j.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(h=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),h!==j.state&&z1.enqueueReplaceState(j,j.state,null),ml(d,y,j,T),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308)}function up(d,h){try{var y="",T=h;do y+=ee(T),T=T.return;while(T);var j=y}catch(q){j=`
Error generating stack: `+q.message+`
`+q.stack}return{value:d,source:h,stack:j,digest:null}}function zb(d,h,y){return{value:d,source:null,stack:y??null,digest:h??null}}function Ub(d,h){try{console.error(h.value)}catch(y){setTimeout(function(){throw y})}}var CV=typeof WeakMap=="function"?WeakMap:Map;function X4(d,h,y){y=ko(-1,y),y.tag=3,y.payload={element:null};var T=h.value;return y.callback=function(){Y1||(Y1=!0,iw=T),Ub(d,h)},y}function J4(d,h,y){y=ko(-1,y),y.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var j=h.value;y.payload=function(){return T(j)},y.callback=function(){Ub(d,h)}}var q=d.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(y.callback=function(){Ub(d,h),typeof T!="function"&&(xd===null?xd=new Set([this]):xd.add(this));var ne=h.stack;this.componentDidCatch(h.value,{componentStack:ne!==null?ne:""})}),y}function Q4(d,h,y){var T=d.pingCache;if(T===null){T=d.pingCache=new CV;var j=new Set;T.set(h,j)}else j=T.get(h),j===void 0&&(j=new Set,T.set(h,j));j.has(y)||(j.add(y),d=jV.bind(null,d,h,y),h.then(d,d))}function Z4(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function eT(d,h,y,T,j){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(h=ko(-1,1),h.tag=2,No(y,h,1))),y.lanes|=1),d):(d.flags|=65536,d.lanes=j,d)}var AV=R.ReactCurrentOwner,Io=!1;function io(d,h,y,T){h.child=d===null?jn(h,null,y,T):zr(h,d.child,y,T)}function tT(d,h,y,T,j){y=y.render;var q=h.ref;return hr(h,j),T=$f(d,h,y,T,q,j),y=Da(),d!==null&&!Io?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~j,mu(d,h,j)):(Ze&&y&&Je(h),h.flags|=1,io(d,h,T,j),h.child)}function nT(d,h,y,T,j){if(d===null){var q=y.type;return typeof q=="function"&&!dw(q)&&q.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(h.tag=15,h.type=q,rT(d,h,q,T,j)):(d=ty(y.type,null,T,h,h.mode,j),d.ref=h.ref,d.return=h,h.child=d)}if(q=d.child,(d.lanes&j)===0){var ne=q.memoizedProps;if(y=y.compare,y=y!==null?y:ll,y(ne,T)&&d.ref===h.ref)return mu(d,h,j)}return h.flags|=1,d=Ed(q,T),d.ref=h.ref,d.return=h,h.child=d}function rT(d,h,y,T,j){if(d!==null){var q=d.memoizedProps;if(ll(q,T)&&d.ref===h.ref)if(Io=!1,h.pendingProps=T=q,(d.lanes&j)!==0)(d.flags&131072)!==0&&(Io=!0);else return h.lanes=d.lanes,mu(d,h,j)}return qb(d,h,y,T,j)}function iT(d,h,y){var T=h.pendingProps,j=T.children,q=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(fp,ia),ia|=y;else{if((y&1073741824)===0)return d=q!==null?q.baseLanes|y:y,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,Yn(fp,ia),ia|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=q!==null?q.baseLanes:y,Yn(fp,ia),ia|=T}else q!==null?(T=q.baseLanes|y,h.memoizedState=null):T=y,Yn(fp,ia),ia|=T;return io(d,h,j,y),h.child}function sT(d,h){var y=h.ref;(d===null&&y!==null||d!==null&&d.ref!==y)&&(h.flags|=512,h.flags|=2097152)}function qb(d,h,y,T,j){var q=Es(y)?uu:di.current;return q=dd(h,q),hr(h,j),y=$f(d,h,y,T,q,j),T=Da(),d!==null&&!Io?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~j,mu(d,h,j)):(Ze&&T&&Je(h),h.flags|=1,io(d,h,y,j),h.child)}function oT(d,h,y,T,j){if(Es(y)){var q=!0;du(h)}else q=!1;if(hr(h,j),h.stateNode===null)q1(d,h),K4(h,y,T),$b(h,y,T,j),T=!0;else if(d===null){var ne=h.stateNode,Ee=h.memoizedProps;ne.props=Ee;var ke=ne.context,Xe=y.contextType;typeof Xe=="object"&&Xe!==null?Xe=Or(Xe):(Xe=Es(y)?uu:di.current,Xe=dd(h,Xe));var ft=y.getDerivedStateFromProps,mt=typeof ft=="function"||typeof ne.getSnapshotBeforeUpdate=="function";mt||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ee!==T||ke!==Xe)&&Y4(h,ne,T,Xe),Na=!1;var ut=h.memoizedState;ne.state=ut,ml(h,T,ne,j),ke=h.memoizedState,Ee!==T||ut!==ke||Ss.current||Na?(typeof ft=="function"&&(Vb(h,y,ft,T),ke=h.memoizedState),(Ee=Na||G4(h,y,Ee,T,ut,ke,Xe))?(mt||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=ke),ne.props=T,ne.state=ke,ne.context=Xe,T=Ee):(typeof ne.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{ne=h.stateNode,Q0(d,h),Ee=h.memoizedProps,Xe=h.type===h.elementType?Ee:xl(h.type,Ee),ne.props=Xe,mt=h.pendingProps,ut=ne.context,ke=y.contextType,typeof ke=="object"&&ke!==null?ke=Or(ke):(ke=Es(y)?uu:di.current,ke=dd(h,ke));var At=y.getDerivedStateFromProps;(ft=typeof At=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Ee!==mt||ut!==ke)&&Y4(h,ne,T,ke),Na=!1,ut=h.memoizedState,ne.state=ut,ml(h,T,ne,j);var Nt=h.memoizedState;Ee!==mt||ut!==Nt||Ss.current||Na?(typeof At=="function"&&(Vb(h,y,At,T),Nt=h.memoizedState),(Xe=Na||G4(h,y,Xe,T,ut,Nt,ke)||!1)?(ft||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(T,Nt,ke),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(T,Nt,ke)),typeof ne.componentDidUpdate=="function"&&(h.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Ee===d.memoizedProps&&ut===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ee===d.memoizedProps&&ut===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=Nt),ne.props=T,ne.state=Nt,ne.context=ke,T=Xe):(typeof ne.componentDidUpdate!="function"||Ee===d.memoizedProps&&ut===d.memoizedState||(h.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Ee===d.memoizedProps&&ut===d.memoizedState||(h.flags|=1024),T=!1)}return Hb(d,h,y,T,q,j)}function Hb(d,h,y,T,j,q){sT(d,h);var ne=(h.flags&128)!==0;if(!T&&!ne)return j&&O1(h,y,!1),mu(d,h,q);T=h.stateNode,AV.current=h;var Ee=ne&&typeof y.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,d!==null&&ne?(h.child=zr(h,d.child,null,q),h.child=zr(h,null,Ee,q)):io(d,h,Ee,q),h.memoizedState=T.state,j&&O1(h,y,!0),h.child}function aT(d){var h=d.stateNode;h.pendingContext?L1(d,h.pendingContext,h.pendingContext!==h.context):h.context&&L1(d,h.context,!1),pd(d,h.containerInfo)}function lT(d,h,y,T,j){return cn(),Wn(j),h.flags|=256,io(d,h,y,T),h.child}var Wb={dehydrated:null,treeContext:null,retryLane:0};function Gb(d){return{baseLanes:d,cachePool:null,transitions:null}}function cT(d,h,y){var T=h.pendingProps,j=ir.current,q=!1,ne=(h.flags&128)!==0,Ee;if((Ee=ne)||(Ee=d!==null&&d.memoizedState===null?!1:(j&2)!==0),Ee?(q=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(j|=1),Yn(ir,j&1),d===null)return wt(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:d.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(ne=T.children,d=T.fallback,q?(T=h.mode,q=h.child,ne={mode:"hidden",children:ne},(T&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=ne):q=ny(ne,T,0,null),d=Kf(d,T,y,null),q.return=h,d.return=h,q.sibling=d,h.child=q,h.child.memoizedState=Gb(y),h.memoizedState=Wb,d):Kb(h,ne));if(j=d.memoizedState,j!==null&&(Ee=j.dehydrated,Ee!==null))return _V(d,h,ne,T,Ee,j,y);if(q){q=T.fallback,ne=h.mode,j=d.child,Ee=j.sibling;var ke={mode:"hidden",children:T.children};return(ne&1)===0&&h.child!==j?(T=h.child,T.childLanes=0,T.pendingProps=ke,h.deletions=null):(T=Ed(j,ke),T.subtreeFlags=j.subtreeFlags&14680064),Ee!==null?q=Ed(Ee,q):(q=Kf(q,ne,y,null),q.flags|=2),q.return=h,T.return=h,T.sibling=q,h.child=T,T=q,q=h.child,ne=d.child.memoizedState,ne=ne===null?Gb(y):{baseLanes:ne.baseLanes|y,cachePool:null,transitions:ne.transitions},q.memoizedState=ne,q.childLanes=d.childLanes&~y,h.memoizedState=Wb,T}return q=d.child,d=q.sibling,T=Ed(q,{mode:"visible",children:T.children}),(h.mode&1)===0&&(T.lanes=y),T.return=h,T.sibling=null,d!==null&&(y=h.deletions,y===null?(h.deletions=[d],h.flags|=16):y.push(d)),h.child=T,h.memoizedState=null,T}function Kb(d,h){return h=ny({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function U1(d,h,y,T){return T!==null&&Wn(T),zr(h,d.child,null,y),d=Kb(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function _V(d,h,y,T,j,q,ne){if(y)return h.flags&256?(h.flags&=-257,T=zb(Error(t(422))),U1(d,h,ne,T)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(q=T.fallback,j=h.mode,T=ny({mode:"visible",children:T.children},j,0,null),q=Kf(q,j,ne,null),q.flags|=2,T.return=h,q.return=h,T.sibling=q,h.child=T,(h.mode&1)!==0&&zr(h,d.child,null,ne),h.child.memoizedState=Gb(ne),h.memoizedState=Wb,q);if((h.mode&1)===0)return U1(d,h,ne,null);if(j.data==="$!"){if(T=j.nextSibling&&j.nextSibling.dataset,T)var Ee=T.dgst;return T=Ee,q=Error(t(419)),T=zb(q,T,void 0),U1(d,h,ne,T)}if(Ee=(ne&d.childLanes)!==0,Io||Ee){if(T=Pi,T!==null){switch(ne&-ne){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(T.suspendedLanes|ne))!==0?0:j,j!==0&&j!==q.retryLane&&(q.retryLane=j,Bn(d,j),Sl(T,d,j,-1))}return uw(),T=zb(Error(t(421))),U1(d,h,ne,T)}return j.data==="$?"?(h.flags|=128,h.child=d.child,h=BV.bind(null,d),j._reactRetry=h,null):(d=q.treeContext,et=ts(j.nextSibling),Pe=h,Ze=!0,tt=null,d!==null&&(me[ve++]=Be,me[ve++]=Ve,me[ve++]=Te,Be=d.id,Ve=d.overflow,Te=h),h=Kb(h,T.children),h.flags|=4096,h)}function uT(d,h,y){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),To(d.return,h,y)}function Yb(d,h,y,T,j){var q=d.memoizedState;q===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:y,tailMode:j}:(q.isBackwards=h,q.rendering=null,q.renderingStartTime=0,q.last=T,q.tail=y,q.tailMode=j)}function dT(d,h,y){var T=h.pendingProps,j=T.revealOrder,q=T.tail;if(io(d,h,T.children,y),T=ir.current,(T&2)!==0)T=T&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&uT(d,y,h);else if(d.tag===19)uT(d,y,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(Yn(ir,T),(h.mode&1)===0)h.memoizedState=null;else switch(j){case"forwards":for(y=h.child,j=null;y!==null;)d=y.alternate,d!==null&&ta(d)===null&&(j=y),y=y.sibling;y=j,y===null?(j=h.child,h.child=null):(j=y.sibling,y.sibling=null),Yb(h,!1,j,y,q);break;case"backwards":for(y=null,j=h.child,h.child=null;j!==null;){if(d=j.alternate,d!==null&&ta(d)===null){h.child=j;break}d=j.sibling,j.sibling=y,y=j,j=d}Yb(h,!0,y,null,q);break;case"together":Yb(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function q1(d,h){(h.mode&1)===0&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function mu(d,h,y){if(d!==null&&(h.dependencies=d.dependencies),qf|=h.lanes,(y&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(t(153));if(h.child!==null){for(d=h.child,y=Ed(d,d.pendingProps),h.child=y,y.return=h;d.sibling!==null;)d=d.sibling,y=y.sibling=Ed(d,d.pendingProps),y.return=h;y.sibling=null}return h.child}function TV(d,h,y){switch(h.tag){case 3:aT(h),cn();break;case 5:M1(h);break;case 1:Es(h.type)&&du(h);break;case 4:pd(h,h.stateNode.containerInfo);break;case 10:var T=h.type._context,j=h.memoizedProps.value;Yn(ki,T._currentValue),T._currentValue=j;break;case 13:if(T=h.memoizedState,T!==null)return T.dehydrated!==null?(Yn(ir,ir.current&1),h.flags|=128,null):(y&h.child.childLanes)!==0?cT(d,h,y):(Yn(ir,ir.current&1),d=mu(d,h,y),d!==null?d.sibling:null);Yn(ir,ir.current&1);break;case 19:if(T=(y&h.childLanes)!==0,(d.flags&128)!==0){if(T)return dT(d,h,y);h.flags|=128}if(j=h.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Yn(ir,ir.current),T)break;return null;case 22:case 23:return h.lanes=0,iT(d,h,y)}return mu(d,h,y)}var fT,Xb,hT,pT;fT=function(d,h){for(var y=h.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Xb=function(){},hT=function(d,h,y,T){var j=d.memoizedProps;if(j!==T){d=h.stateNode,gl(to.current);var q=null;switch(y){case"input":j=st(d,j),T=st(d,T),q=[];break;case"select":j=ae({},j,{value:void 0}),T=ae({},T,{value:void 0}),q=[];break;case"textarea":j=le(d,j),T=le(d,T),q=[];break;default:typeof j.onClick!="function"&&typeof T.onClick=="function"&&(d.onclick=ld)}un(y,T);var ne;y=null;for(Xe in j)if(!T.hasOwnProperty(Xe)&&j.hasOwnProperty(Xe)&&j[Xe]!=null)if(Xe==="style"){var Ee=j[Xe];for(ne in Ee)Ee.hasOwnProperty(ne)&&(y||(y={}),y[ne]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(i.hasOwnProperty(Xe)?q||(q=[]):(q=q||[]).push(Xe,null));for(Xe in T){var ke=T[Xe];if(Ee=j!=null?j[Xe]:void 0,T.hasOwnProperty(Xe)&&ke!==Ee&&(ke!=null||Ee!=null))if(Xe==="style")if(Ee){for(ne in Ee)!Ee.hasOwnProperty(ne)||ke&&ke.hasOwnProperty(ne)||(y||(y={}),y[ne]="");for(ne in ke)ke.hasOwnProperty(ne)&&Ee[ne]!==ke[ne]&&(y||(y={}),y[ne]=ke[ne])}else y||(q||(q=[]),q.push(Xe,y)),y=ke;else Xe==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,Ee=Ee?Ee.__html:void 0,ke!=null&&Ee!==ke&&(q=q||[]).push(Xe,ke)):Xe==="children"?typeof ke!="string"&&typeof ke!="number"||(q=q||[]).push(Xe,""+ke):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Xe)?(ke!=null&&Xe==="onScroll"&&er("scroll",d),q||Ee===ke||(q=[])):(q=q||[]).push(Xe,ke))}y&&(q=q||[]).push("style",y);var Xe=q;(h.updateQueue=Xe)&&(h.flags|=4)}},pT=function(d,h,y,T){y!==T&&(h.flags|=4)};function im(d,h){if(!Ze)switch(d.tailMode){case"hidden":h=d.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var T=null;y!==null;)y.alternate!==null&&(T=y),y=y.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function As(d){var h=d.alternate!==null&&d.alternate.child===d.child,y=0,T=0;if(h)for(var j=d.child;j!==null;)y|=j.lanes|j.childLanes,T|=j.subtreeFlags&14680064,T|=j.flags&14680064,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)y|=j.lanes|j.childLanes,T|=j.subtreeFlags,T|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=T,d.childLanes=y,h}function kV(d,h,y){var T=h.pendingProps;switch(Ne(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return As(h),null;case 1:return Es(h.type)&&Zh(),As(h),null;case 3:return T=h.stateNode,Pa(),Hn(Ss),Hn(di),tm(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(In(h)?h.flags|=4:d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,tt!==null&&(aw(tt),tt=null))),Xb(d,h),As(h),null;case 5:Z0(h);var j=gl(cc.current);if(y=h.type,d!==null&&h.stateNode!=null)hT(d,h,y,T,j),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(t(166));return As(h),null}if(d=gl(to.current),In(h)){T=h.stateNode,y=h.type;var q=h.memoizedProps;switch(T[ka]=h,T[cd]=q,d=(h.mode&1)!==0,y){case"dialog":er("cancel",T),er("close",T);break;case"iframe":case"object":case"embed":er("load",T);break;case"video":case"audio":for(j=0;j<sc.length;j++)er(sc[j],T);break;case"source":er("error",T);break;case"img":case"image":case"link":er("error",T),er("load",T);break;case"details":er("toggle",T);break;case"input":we(T,q),er("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!q.multiple},er("invalid",T);break;case"textarea":be(T,q),er("invalid",T)}un(y,q),j=null;for(var ne in q)if(q.hasOwnProperty(ne)){var Ee=q[ne];ne==="children"?typeof Ee=="string"?T.textContent!==Ee&&(q.suppressHydrationWarning!==!0&&Qh(T.textContent,Ee,d),j=["children",Ee]):typeof Ee=="number"&&T.textContent!==""+Ee&&(q.suppressHydrationWarning!==!0&&Qh(T.textContent,Ee,d),j=["children",""+Ee]):i.hasOwnProperty(ne)&&Ee!=null&&ne==="onScroll"&&er("scroll",T)}switch(y){case"input":Ae(T),Fe(T,q,!0);break;case"textarea":Ae(T),Ke(T);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(T.onclick=ld)}T=j,h.updateQueue=T,T!==null&&(h.flags|=4)}else{ne=j.nodeType===9?j:j.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=ze(y)),d==="http://www.w3.org/1999/xhtml"?y==="script"?(d=ne.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof T.is=="string"?d=ne.createElement(y,{is:T.is}):(d=ne.createElement(y),y==="select"&&(ne=d,T.multiple?ne.multiple=!0:T.size&&(ne.size=T.size))):d=ne.createElementNS(d,y),d[ka]=h,d[cd]=T,fT(d,h,!1,!1),h.stateNode=d;e:{switch(ne=xr(y,T),y){case"dialog":er("cancel",d),er("close",d),j=T;break;case"iframe":case"object":case"embed":er("load",d),j=T;break;case"video":case"audio":for(j=0;j<sc.length;j++)er(sc[j],d);j=T;break;case"source":er("error",d),j=T;break;case"img":case"image":case"link":er("error",d),er("load",d),j=T;break;case"details":er("toggle",d),j=T;break;case"input":we(d,T),j=st(d,T),er("invalid",d);break;case"option":j=T;break;case"select":d._wrapperState={wasMultiple:!!T.multiple},j=ae({},T,{value:void 0}),er("invalid",d);break;case"textarea":be(d,T),j=le(d,T),er("invalid",d);break;default:j=T}un(y,j),Ee=j;for(q in Ee)if(Ee.hasOwnProperty(q)){var ke=Ee[q];q==="style"?Qn(d,ke):q==="dangerouslySetInnerHTML"?(ke=ke?ke.__html:void 0,ke!=null&&ht(d,ke)):q==="children"?typeof ke=="string"?(y!=="textarea"||ke!=="")&&vt(d,ke):typeof ke=="number"&&vt(d,""+ke):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?ke!=null&&q==="onScroll"&&er("scroll",d):ke!=null&&_(d,q,ke,ne))}switch(y){case"input":Ae(d),Fe(d,T,!1);break;case"textarea":Ae(d),Ke(d);break;case"option":T.value!=null&&d.setAttribute("value",""+ge(T.value));break;case"select":d.multiple=!!T.multiple,q=T.value,q!=null?Ge(d,!!T.multiple,q,!1):T.defaultValue!=null&&Ge(d,!!T.multiple,T.defaultValue,!0);break;default:typeof j.onClick=="function"&&(d.onclick=ld)}switch(y){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return As(h),null;case 6:if(d&&h.stateNode!=null)pT(d,h,d.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(t(166));if(y=gl(cc.current),gl(to.current),In(h)){if(T=h.stateNode,y=h.memoizedProps,T[ka]=h,(q=T.nodeValue!==y)&&(d=Pe,d!==null))switch(d.tag){case 3:Qh(T.nodeValue,y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Qh(T.nodeValue,y,(d.mode&1)!==0)}q&&(h.flags|=4)}else T=(y.nodeType===9?y:y.ownerDocument).createTextNode(T),T[ka]=h,h.stateNode=T}return As(h),null;case 13:if(Hn(ir),T=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Ze&&et!==null&&(h.mode&1)!==0&&(h.flags&128)===0)wn(),cn(),h.flags|=98560,q=!1;else if(q=In(h),T!==null&&T.dehydrated!==null){if(d===null){if(!q)throw Error(t(318));if(q=h.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(t(317));q[ka]=h}else cn(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;As(h),q=!1}else tt!==null&&(aw(tt),tt=null),q=!0;if(!q)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=y,h):(T=T!==null,T!==(d!==null&&d.memoizedState!==null)&&T&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(ir.current&1)!==0?hi===0&&(hi=3):uw())),h.updateQueue!==null&&(h.flags|=4),As(h),null);case 4:return Pa(),Xb(d,h),d===null&&ou(h.stateNode.containerInfo),As(h),null;case 10:return Cs(h.type._context),As(h),null;case 17:return Es(h.type)&&Zh(),As(h),null;case 19:if(Hn(ir),q=h.memoizedState,q===null)return As(h),null;if(T=(h.flags&128)!==0,ne=q.rendering,ne===null)if(T)im(q,!1);else{if(hi!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(ne=ta(d),ne!==null){for(h.flags|=128,im(q,!1),T=ne.updateQueue,T!==null&&(h.updateQueue=T,h.flags|=4),h.subtreeFlags=0,T=y,y=h.child;y!==null;)q=y,d=T,q.flags&=14680066,ne=q.alternate,ne===null?(q.childLanes=0,q.lanes=d,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=ne.childLanes,q.lanes=ne.lanes,q.child=ne.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=ne.memoizedProps,q.memoizedState=ne.memoizedState,q.updateQueue=ne.updateQueue,q.type=ne.type,d=ne.dependencies,q.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),y=y.sibling;return Yn(ir,ir.current&1|2),h.child}d=d.sibling}q.tail!==null&&Kn()>hp&&(h.flags|=128,T=!0,im(q,!1),h.lanes=4194304)}else{if(!T)if(d=ta(ne),d!==null){if(h.flags|=128,T=!0,y=d.updateQueue,y!==null&&(h.updateQueue=y,h.flags|=4),im(q,!0),q.tail===null&&q.tailMode==="hidden"&&!ne.alternate&&!Ze)return As(h),null}else 2*Kn()-q.renderingStartTime>hp&&y!==1073741824&&(h.flags|=128,T=!0,im(q,!1),h.lanes=4194304);q.isBackwards?(ne.sibling=h.child,h.child=ne):(y=q.last,y!==null?y.sibling=ne:h.child=ne,q.last=ne)}return q.tail!==null?(h=q.tail,q.rendering=h,q.tail=h.sibling,q.renderingStartTime=Kn(),h.sibling=null,y=ir.current,Yn(ir,T?y&1|2:y&1),h):(As(h),null);case 22:case 23:return cw(),T=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(h.flags|=8192),T&&(h.mode&1)!==0?(ia&1073741824)!==0&&(As(h),h.subtreeFlags&6&&(h.flags|=8192)):As(h),null;case 24:return null;case 25:return null}throw Error(t(156,h.tag))}function NV(d,h){switch(Ne(h),h.tag){case 1:return Es(h.type)&&Zh(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Pa(),Hn(Ss),Hn(di),tm(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return Z0(h),null;case 13:if(Hn(ir),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(t(340));cn()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Hn(ir),null;case 4:return Pa(),null;case 10:return Cs(h.type._context),null;case 22:case 23:return cw(),null;case 24:return null;default:return null}}var H1=!1,_s=!1,PV=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function dp(d,h){var y=d.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(T){Fr(d,h,T)}else y.current=null}function Jb(d,h,y){try{y()}catch(T){Fr(d,h,T)}}var mT=!1;function IV(d,h){if(jf=xa,d=If(),nu(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var T=y.getSelection&&y.getSelection();if(T&&T.rangeCount!==0){y=T.anchorNode;var j=T.anchorOffset,q=T.focusNode;T=T.focusOffset;try{y.nodeType,q.nodeType}catch{y=null;break e}var ne=0,Ee=-1,ke=-1,Xe=0,ft=0,mt=d,ut=null;t:for(;;){for(var At;mt!==y||j!==0&&mt.nodeType!==3||(Ee=ne+j),mt!==q||T!==0&&mt.nodeType!==3||(ke=ne+T),mt.nodeType===3&&(ne+=mt.nodeValue.length),(At=mt.firstChild)!==null;)ut=mt,mt=At;for(;;){if(mt===d)break t;if(ut===y&&++Xe===j&&(Ee=ne),ut===q&&++ft===T&&(ke=ne),(At=mt.nextSibling)!==null)break;mt=ut,ut=mt.parentNode}mt=At}y=Ee===-1||ke===-1?null:{start:Ee,end:ke}}else y=null}y=y||{start:0,end:0}}else y=null;for(lu={focusedElem:d,selectionRange:y},xa=!1,Tt=h;Tt!==null;)if(h=Tt,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Tt=d;else for(;Tt!==null;){h=Tt;try{var Nt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var Dt=Nt.memoizedProps,Hr=Nt.memoizedState,He=h.stateNode,De=He.getSnapshotBeforeUpdate(h.elementType===h.type?Dt:xl(h.type,Dt),Hr);He.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var Ye=h.stateNode.containerInfo;Ye.nodeType===1?Ye.textContent="":Ye.nodeType===9&&Ye.documentElement&&Ye.removeChild(Ye.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(yt){Fr(h,h.return,yt)}if(d=h.sibling,d!==null){d.return=h.return,Tt=d;break}Tt=h.return}return Nt=mT,mT=!1,Nt}function sm(d,h,y){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var j=T=T.next;do{if((j.tag&d)===d){var q=j.destroy;j.destroy=void 0,q!==void 0&&Jb(h,y,q)}j=j.next}while(j!==T)}}function W1(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&d)===d){var T=y.create;y.destroy=T()}y=y.next}while(y!==h)}}function Qb(d){var h=d.ref;if(h!==null){var y=d.stateNode;switch(d.tag){case 5:d=y;break;default:d=y}typeof h=="function"?h(d):h.current=d}}function gT(d){var h=d.alternate;h!==null&&(d.alternate=null,gT(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&(delete h[ka],delete h[cd],delete h[ws],delete h[Mb],delete h[Fb])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function yT(d){return d.tag===5||d.tag===3||d.tag===4}function vT(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||yT(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Zb(d,h,y){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?y.nodeType===8?y.parentNode.insertBefore(d,h):y.insertBefore(d,h):(y.nodeType===8?(h=y.parentNode,h.insertBefore(d,y)):(h=y,h.appendChild(d)),y=y._reactRootContainer,y!=null||h.onclick!==null||(h.onclick=ld));else if(T!==4&&(d=d.child,d!==null))for(Zb(d,h,y),d=d.sibling;d!==null;)Zb(d,h,y),d=d.sibling}function ew(d,h,y){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?y.insertBefore(d,h):y.appendChild(d);else if(T!==4&&(d=d.child,d!==null))for(ew(d,h,y),d=d.sibling;d!==null;)ew(d,h,y),d=d.sibling}var rs=null,bl=!1;function vd(d,h,y){for(y=y.child;y!==null;)xT(d,h,y),y=y.sibling}function xT(d,h,y){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(ha,y)}catch{}switch(y.tag){case 5:_s||dp(y,h);case 6:var T=rs,j=bl;rs=null,vd(d,h,y),rs=T,bl=j,rs!==null&&(bl?(d=rs,y=y.stateNode,d.nodeType===8?d.parentNode.removeChild(y):d.removeChild(y)):rs.removeChild(y.stateNode));break;case 18:rs!==null&&(bl?(d=rs,y=y.stateNode,d.nodeType===8?Y0(d.parentNode,y):d.nodeType===1&&Y0(d,y),li(d)):Y0(rs,y.stateNode));break;case 4:T=rs,j=bl,rs=y.stateNode.containerInfo,bl=!0,vd(d,h,y),rs=T,bl=j;break;case 0:case 11:case 14:case 15:if(!_s&&(T=y.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){j=T=T.next;do{var q=j,ne=q.destroy;q=q.tag,ne!==void 0&&((q&2)!==0||(q&4)!==0)&&Jb(y,h,ne),j=j.next}while(j!==T)}vd(d,h,y);break;case 1:if(!_s&&(dp(y,h),T=y.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=y.memoizedProps,T.state=y.memoizedState,T.componentWillUnmount()}catch(Ee){Fr(y,h,Ee)}vd(d,h,y);break;case 21:vd(d,h,y);break;case 22:y.mode&1?(_s=(T=_s)||y.memoizedState!==null,vd(d,h,y),_s=T):vd(d,h,y);break;default:vd(d,h,y)}}function bT(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var y=d.stateNode;y===null&&(y=d.stateNode=new PV),h.forEach(function(T){var j=VV.bind(null,d,T);y.has(T)||(y.add(T),T.then(j,j))})}}function wl(d,h){var y=h.deletions;if(y!==null)for(var T=0;T<y.length;T++){var j=y[T];try{var q=d,ne=h,Ee=ne;e:for(;Ee!==null;){switch(Ee.tag){case 5:rs=Ee.stateNode,bl=!1;break e;case 3:rs=Ee.stateNode.containerInfo,bl=!0;break e;case 4:rs=Ee.stateNode.containerInfo,bl=!0;break e}Ee=Ee.return}if(rs===null)throw Error(t(160));xT(q,ne,j),rs=null,bl=!1;var ke=j.alternate;ke!==null&&(ke.return=null),j.return=null}catch(Xe){Fr(j,h,Xe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)wT(h,d),h=h.sibling}function wT(d,h){var y=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(wl(h,d),dc(d),T&4){try{sm(3,d,d.return),W1(3,d)}catch(Dt){Fr(d,d.return,Dt)}try{sm(5,d,d.return)}catch(Dt){Fr(d,d.return,Dt)}}break;case 1:wl(h,d),dc(d),T&512&&y!==null&&dp(y,y.return);break;case 5:if(wl(h,d),dc(d),T&512&&y!==null&&dp(y,y.return),d.flags&32){var j=d.stateNode;try{vt(j,"")}catch(Dt){Fr(d,d.return,Dt)}}if(T&4&&(j=d.stateNode,j!=null)){var q=d.memoizedProps,ne=y!==null?y.memoizedProps:q,Ee=d.type,ke=d.updateQueue;if(d.updateQueue=null,ke!==null)try{Ee==="input"&&q.type==="radio"&&q.name!=null&&pe(j,q),xr(Ee,ne);var Xe=xr(Ee,q);for(ne=0;ne<ke.length;ne+=2){var ft=ke[ne],mt=ke[ne+1];ft==="style"?Qn(j,mt):ft==="dangerouslySetInnerHTML"?ht(j,mt):ft==="children"?vt(j,mt):_(j,ft,mt,Xe)}switch(Ee){case"input":qe(j,q);break;case"textarea":_e(j,q);break;case"select":var ut=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!q.multiple;var At=q.value;At!=null?Ge(j,!!q.multiple,At,!1):ut!==!!q.multiple&&(q.defaultValue!=null?Ge(j,!!q.multiple,q.defaultValue,!0):Ge(j,!!q.multiple,q.multiple?[]:"",!1))}j[cd]=q}catch(Dt){Fr(d,d.return,Dt)}}break;case 6:if(wl(h,d),dc(d),T&4){if(d.stateNode===null)throw Error(t(162));j=d.stateNode,q=d.memoizedProps;try{j.nodeValue=q}catch(Dt){Fr(d,d.return,Dt)}}break;case 3:if(wl(h,d),dc(d),T&4&&y!==null&&y.memoizedState.isDehydrated)try{li(h.containerInfo)}catch(Dt){Fr(d,d.return,Dt)}break;case 4:wl(h,d),dc(d);break;case 13:wl(h,d),dc(d),j=d.child,j.flags&8192&&(q=j.memoizedState!==null,j.stateNode.isHidden=q,!q||j.alternate!==null&&j.alternate.memoizedState!==null||(rw=Kn())),T&4&&bT(d);break;case 22:if(ft=y!==null&&y.memoizedState!==null,d.mode&1?(_s=(Xe=_s)||ft,wl(h,d),_s=Xe):wl(h,d),dc(d),T&8192){if(Xe=d.memoizedState!==null,(d.stateNode.isHidden=Xe)&&!ft&&(d.mode&1)!==0)for(Tt=d,ft=d.child;ft!==null;){for(mt=Tt=ft;Tt!==null;){switch(ut=Tt,At=ut.child,ut.tag){case 0:case 11:case 14:case 15:sm(4,ut,ut.return);break;case 1:dp(ut,ut.return);var Nt=ut.stateNode;if(typeof Nt.componentWillUnmount=="function"){T=ut,y=ut.return;try{h=T,Nt.props=h.memoizedProps,Nt.state=h.memoizedState,Nt.componentWillUnmount()}catch(Dt){Fr(T,y,Dt)}}break;case 5:dp(ut,ut.return);break;case 22:if(ut.memoizedState!==null){CT(mt);continue}}At!==null?(At.return=ut,Tt=At):CT(mt)}ft=ft.sibling}e:for(ft=null,mt=d;;){if(mt.tag===5){if(ft===null){ft=mt;try{j=mt.stateNode,Xe?(q=j.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(Ee=mt.stateNode,ke=mt.memoizedProps.style,ne=ke!=null&&ke.hasOwnProperty("display")?ke.display:null,Ee.style.display=qt("display",ne))}catch(Dt){Fr(d,d.return,Dt)}}}else if(mt.tag===6){if(ft===null)try{mt.stateNode.nodeValue=Xe?"":mt.memoizedProps}catch(Dt){Fr(d,d.return,Dt)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===d)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===d)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===d)break e;ft===mt&&(ft=null),mt=mt.return}ft===mt&&(ft=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:wl(h,d),dc(d),T&4&&bT(d);break;case 21:break;default:wl(h,d),dc(d)}}function dc(d){var h=d.flags;if(h&2){try{e:{for(var y=d.return;y!==null;){if(yT(y)){var T=y;break e}y=y.return}throw Error(t(160))}switch(T.tag){case 5:var j=T.stateNode;T.flags&32&&(vt(j,""),T.flags&=-33);var q=vT(d);ew(d,q,j);break;case 3:case 4:var ne=T.stateNode.containerInfo,Ee=vT(d);Zb(d,Ee,ne);break;default:throw Error(t(161))}}catch(ke){Fr(d,d.return,ke)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function DV(d,h,y){Tt=d,ST(d)}function ST(d,h,y){for(var T=(d.mode&1)!==0;Tt!==null;){var j=Tt,q=j.child;if(j.tag===22&&T){var ne=j.memoizedState!==null||H1;if(!ne){var Ee=j.alternate,ke=Ee!==null&&Ee.memoizedState!==null||_s;Ee=H1;var Xe=_s;if(H1=ne,(_s=ke)&&!Xe)for(Tt=j;Tt!==null;)ne=Tt,ke=ne.child,ne.tag===22&&ne.memoizedState!==null?AT(j):ke!==null?(ke.return=ne,Tt=ke):AT(j);for(;q!==null;)Tt=q,ST(q),q=q.sibling;Tt=j,H1=Ee,_s=Xe}ET(d)}else(j.subtreeFlags&8772)!==0&&q!==null?(q.return=j,Tt=q):ET(d)}}function ET(d){for(;Tt!==null;){var h=Tt;if((h.flags&8772)!==0){var y=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:_s||W1(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!_s)if(y===null)T.componentDidMount();else{var j=h.elementType===h.type?y.memoizedProps:xl(h.type,y.memoizedProps);T.componentDidUpdate(j,y.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var q=h.updateQueue;q!==null&&hu(h,q,T);break;case 3:var ne=h.updateQueue;if(ne!==null){if(y=null,h.child!==null)switch(h.child.tag){case 5:y=h.child.stateNode;break;case 1:y=h.child.stateNode}hu(h,ne,y)}break;case 5:var Ee=h.stateNode;if(y===null&&h.flags&4){y=Ee;var ke=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ke.autoFocus&&y.focus();break;case"img":ke.src&&(y.src=ke.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var Xe=h.alternate;if(Xe!==null){var ft=Xe.memoizedState;if(ft!==null){var mt=ft.dehydrated;mt!==null&&li(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_s||h.flags&512&&Qb(h)}catch(ut){Fr(h,h.return,ut)}}if(h===d){Tt=null;break}if(y=h.sibling,y!==null){y.return=h.return,Tt=y;break}Tt=h.return}}function CT(d){for(;Tt!==null;){var h=Tt;if(h===d){Tt=null;break}var y=h.sibling;if(y!==null){y.return=h.return,Tt=y;break}Tt=h.return}}function AT(d){for(;Tt!==null;){var h=Tt;try{switch(h.tag){case 0:case 11:case 15:var y=h.return;try{W1(4,h)}catch(ke){Fr(h,y,ke)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var j=h.return;try{T.componentDidMount()}catch(ke){Fr(h,j,ke)}}var q=h.return;try{Qb(h)}catch(ke){Fr(h,q,ke)}break;case 5:var ne=h.return;try{Qb(h)}catch(ke){Fr(h,ne,ke)}}}catch(ke){Fr(h,h.return,ke)}if(h===d){Tt=null;break}var Ee=h.sibling;if(Ee!==null){Ee.return=h.return,Tt=Ee;break}Tt=h.return}}var RV=Math.ceil,G1=R.ReactCurrentDispatcher,tw=R.ReactCurrentOwner,Ra=R.ReactCurrentBatchConfig,On=0,Pi=null,Zr=null,is=0,ia=0,fp=ea(0),hi=0,om=null,qf=0,K1=0,nw=0,am=null,Do=null,rw=0,hp=1/0,gu=null,Y1=!1,iw=null,xd=null,X1=!1,bd=null,J1=0,lm=0,sw=null,Q1=-1,Z1=0;function so(){return(On&6)!==0?Kn():Q1!==-1?Q1:Q1=Kn()}function wd(d){return(d.mode&1)===0?1:(On&2)!==0&&is!==0?is&-is:Xn.transition!==null?(Z1===0&&(Z1=ga()),Z1):(d=mn,d!==0||(d=window.event,d=d===void 0?16:Ql(d.type)),d)}function Sl(d,h,y,T){if(50<lm)throw lm=0,sw=null,Error(t(185));Wo(d,y,T),((On&2)===0||d!==Pi)&&(d===Pi&&((On&2)===0&&(K1|=y),hi===4&&Sd(d,is)),Ro(d,T),y===1&&On===0&&(h.mode&1)===0&&(hp=Kn()+500,Vf&&H()))}function Ro(d,h){var y=d.callbackNode;wr(d,h);var T=si(d,d===Pi?is:0);if(T===0)y!==null&&fa(y),d.callbackNode=null,d.callbackPriority=0;else if(h=T&-T,d.callbackPriority!==h){if(y!=null&&fa(y),h===1)d.tag===0?V(TT.bind(null,d)):k(TT.bind(null,d)),Lb(function(){(On&6)===0&&H()}),y=null;else{switch(vo(T)){case 1:y=yo;break;case 4:y=Ho;break;case 16:y=gs;break;case 536870912:y=Hu;break;default:y=gs}y=OT(y,_T.bind(null,d))}d.callbackPriority=h,d.callbackNode=y}}function _T(d,h){if(Q1=-1,Z1=0,(On&6)!==0)throw Error(t(327));var y=d.callbackNode;if(pp()&&d.callbackNode!==y)return null;var T=si(d,d===Pi?is:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||h)h=ey(d,T);else{h=T;var j=On;On|=2;var q=NT();(Pi!==d||is!==h)&&(gu=null,hp=Kn()+500,Wf(d,h));do try{MV();break}catch(Ee){kT(d,Ee)}while(!0);fi(),G1.current=q,On=j,Zr!==null?h=0:(Pi=null,is=0,h=hi)}if(h!==0){if(h===2&&(j=oi(d),j!==0&&(T=j,h=ow(d,j))),h===1)throw y=om,Wf(d,0),Sd(d,T),Ro(d,Kn()),y;if(h===6)Sd(d,T);else{if(j=d.current.alternate,(T&30)===0&&!LV(j)&&(h=ey(d,T),h===2&&(q=oi(d),q!==0&&(T=q,h=ow(d,q))),h===1))throw y=om,Wf(d,0),Sd(d,T),Ro(d,Kn()),y;switch(d.finishedWork=j,d.finishedLanes=T,h){case 0:case 1:throw Error(t(345));case 2:Gf(d,Do,gu);break;case 3:if(Sd(d,T),(T&130023424)===T&&(h=rw+500-Kn(),10<h)){if(si(d,0)!==0)break;if(j=d.suspendedLanes,(j&T)!==T){so(),d.pingedLanes|=d.suspendedLanes&j;break}d.timeoutHandle=K0(Gf.bind(null,d,Do,gu),h);break}Gf(d,Do,gu);break;case 4:if(Sd(d,T),(T&4194240)===T)break;for(h=d.eventTimes,j=-1;0<T;){var ne=31-ii(T);q=1<<ne,ne=h[ne],ne>j&&(j=ne),T&=~q}if(T=j,T=Kn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*RV(T/1960))-T,10<T){d.timeoutHandle=K0(Gf.bind(null,d,Do,gu),T);break}Gf(d,Do,gu);break;case 5:Gf(d,Do,gu);break;default:throw Error(t(329))}}}return Ro(d,Kn()),d.callbackNode===y?_T.bind(null,d):null}function ow(d,h){var y=am;return d.current.memoizedState.isDehydrated&&(Wf(d,h).flags|=256),d=ey(d,h),d!==2&&(h=Do,Do=y,h!==null&&aw(h)),d}function aw(d){Do===null?Do=d:Do.push.apply(Do,d)}function LV(d){for(var h=d;;){if(h.flags&16384){var y=h.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var T=0;T<y.length;T++){var j=y[T],q=j.getSnapshot;j=j.value;try{if(!Ln(q(),j))return!1}catch{return!1}}}if(y=h.child,h.subtreeFlags&16384&&y!==null)y.return=h,h=y;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Sd(d,h){for(h&=~nw,h&=~K1,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var y=31-ii(h),T=1<<y;d[y]=-1,h&=~T}}function TT(d){if((On&6)!==0)throw Error(t(327));pp();var h=si(d,0);if((h&1)===0)return Ro(d,Kn()),null;var y=ey(d,h);if(d.tag!==0&&y===2){var T=oi(d);T!==0&&(h=T,y=ow(d,T))}if(y===1)throw y=om,Wf(d,0),Sd(d,h),Ro(d,Kn()),y;if(y===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Gf(d,Do,gu),Ro(d,Kn()),null}function lw(d,h){var y=On;On|=1;try{return d(h)}finally{On=y,On===0&&(hp=Kn()+500,Vf&&H())}}function Hf(d){bd!==null&&bd.tag===0&&(On&6)===0&&pp();var h=On;On|=1;var y=Ra.transition,T=mn;try{if(Ra.transition=null,mn=1,d)return d()}finally{mn=T,Ra.transition=y,On=h,(On&6)===0&&H()}}function cw(){ia=fp.current,Hn(fp)}function Wf(d,h){d.finishedWork=null,d.finishedLanes=0;var y=d.timeoutHandle;if(y!==-1&&(d.timeoutHandle=-1,D1(y)),Zr!==null)for(y=Zr.return;y!==null;){var T=y;switch(Ne(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Zh();break;case 3:Pa(),Hn(Ss),Hn(di),tm();break;case 5:Z0(T);break;case 4:Pa();break;case 13:Hn(ir);break;case 19:Hn(ir);break;case 10:Cs(T.type._context);break;case 22:case 23:cw()}y=y.return}if(Pi=d,Zr=d=Ed(d.current,null),is=ia=h,hi=0,om=null,nw=K1=qf=0,Do=am=null,eo!==null){for(h=0;h<eo.length;h++)if(y=eo[h],T=y.interleaved,T!==null){y.interleaved=null;var j=T.next,q=y.pending;if(q!==null){var ne=q.next;q.next=j,T.next=ne}y.pending=T}eo=null}return d}function kT(d,h){do{var y=Zr;try{if(fi(),tp.current=$1,md){for(var T=lr.memoizedState;T!==null;){var j=T.queue;j!==null&&(j.pending=null),T=T.next}md=!1}if(Ia=0,Nr=Mr=lr=null,yl=!1,gd=0,tw.current=null,y===null||y.return===null){hi=1,om=h,Zr=null;break}e:{var q=d,ne=y.return,Ee=y,ke=h;if(h=is,Ee.flags|=32768,ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var Xe=ke,ft=Ee,mt=ft.tag;if((ft.mode&1)===0&&(mt===0||mt===11||mt===15)){var ut=ft.alternate;ut?(ft.updateQueue=ut.updateQueue,ft.memoizedState=ut.memoizedState,ft.lanes=ut.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var At=Z4(ne);if(At!==null){At.flags&=-257,eT(At,ne,Ee,q,h),At.mode&1&&Q4(q,Xe,h),h=At,ke=Xe;var Nt=h.updateQueue;if(Nt===null){var Dt=new Set;Dt.add(ke),h.updateQueue=Dt}else Nt.add(ke);break e}else{if((h&1)===0){Q4(q,Xe,h),uw();break e}ke=Error(t(426))}}else if(Ze&&Ee.mode&1){var Hr=Z4(ne);if(Hr!==null){(Hr.flags&65536)===0&&(Hr.flags|=256),eT(Hr,ne,Ee,q,h),Wn(up(ke,Ee));break e}}q=ke=up(ke,Ee),hi!==4&&(hi=2),am===null?am=[q]:am.push(q),q=ne;do{switch(q.tag){case 3:q.flags|=65536,h&=-h,q.lanes|=h;var He=X4(q,ke,h);Po(q,He);break e;case 1:Ee=ke;var De=q.type,Ye=q.stateNode;if((q.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||Ye!==null&&typeof Ye.componentDidCatch=="function"&&(xd===null||!xd.has(Ye)))){q.flags|=65536,h&=-h,q.lanes|=h;var yt=J4(q,Ee,h);Po(q,yt);break e}}q=q.return}while(q!==null)}IT(y)}catch(Lt){h=Lt,Zr===y&&y!==null&&(Zr=y=y.return);continue}break}while(!0)}function NT(){var d=G1.current;return G1.current=$1,d===null?$1:d}function uw(){(hi===0||hi===3||hi===2)&&(hi=4),Pi===null||(qf&268435455)===0&&(K1&268435455)===0||Sd(Pi,is)}function ey(d,h){var y=On;On|=2;var T=NT();(Pi!==d||is!==h)&&(gu=null,Wf(d,h));do try{OV();break}catch(j){kT(d,j)}while(!0);if(fi(),On=y,G1.current=T,Zr!==null)throw Error(t(261));return Pi=null,is=0,hi}function OV(){for(;Zr!==null;)PT(Zr)}function MV(){for(;Zr!==null&&!Xa();)PT(Zr)}function PT(d){var h=LT(d.alternate,d,ia);d.memoizedProps=d.pendingProps,h===null?IT(d):Zr=h,tw.current=null}function IT(d){var h=d;do{var y=h.alternate;if(d=h.return,(h.flags&32768)===0){if(y=kV(y,h,ia),y!==null){Zr=y;return}}else{if(y=NV(y,h),y!==null){y.flags&=32767,Zr=y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{hi=6,Zr=null;return}}if(h=h.sibling,h!==null){Zr=h;return}Zr=h=d}while(h!==null);hi===0&&(hi=5)}function Gf(d,h,y){var T=mn,j=Ra.transition;try{Ra.transition=null,mn=1,FV(d,h,y,T)}finally{Ra.transition=j,mn=T}return null}function FV(d,h,y,T){do pp();while(bd!==null);if((On&6)!==0)throw Error(t(327));y=d.finishedWork;var j=d.finishedLanes;if(y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,y===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var q=y.lanes|y.childLanes;if(zn(d,q),d===Pi&&(Zr=Pi=null,is=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||X1||(X1=!0,OT(gs,function(){return pp(),null})),q=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||q){q=Ra.transition,Ra.transition=null;var ne=mn;mn=1;var Ee=On;On|=4,tw.current=null,IV(d,y),wT(y,d),ru(lu),xa=!!jf,lu=jf=null,d.current=y,DV(y),Uu(),On=Ee,mn=ne,Ra.transition=q}else d.current=y;if(X1&&(X1=!1,bd=d,J1=j),q=d.pendingLanes,q===0&&(xd=null),Qa(y.stateNode),Ro(d,Kn()),h!==null)for(T=d.onRecoverableError,y=0;y<h.length;y++)j=h[y],T(j.value,{componentStack:j.stack,digest:j.digest});if(Y1)throw Y1=!1,d=iw,iw=null,d;return(J1&1)!==0&&d.tag!==0&&pp(),q=d.pendingLanes,(q&1)!==0?d===sw?lm++:(lm=0,sw=d):lm=0,H(),null}function pp(){if(bd!==null){var d=vo(J1),h=Ra.transition,y=mn;try{if(Ra.transition=null,mn=16>d?16:d,bd===null)var T=!1;else{if(d=bd,bd=null,J1=0,(On&6)!==0)throw Error(t(331));var j=On;for(On|=4,Tt=d.current;Tt!==null;){var q=Tt,ne=q.child;if((Tt.flags&16)!==0){var Ee=q.deletions;if(Ee!==null){for(var ke=0;ke<Ee.length;ke++){var Xe=Ee[ke];for(Tt=Xe;Tt!==null;){var ft=Tt;switch(ft.tag){case 0:case 11:case 15:sm(8,ft,q)}var mt=ft.child;if(mt!==null)mt.return=ft,Tt=mt;else for(;Tt!==null;){ft=Tt;var ut=ft.sibling,At=ft.return;if(gT(ft),ft===Xe){Tt=null;break}if(ut!==null){ut.return=At,Tt=ut;break}Tt=At}}}var Nt=q.alternate;if(Nt!==null){var Dt=Nt.child;if(Dt!==null){Nt.child=null;do{var Hr=Dt.sibling;Dt.sibling=null,Dt=Hr}while(Dt!==null)}}Tt=q}}if((q.subtreeFlags&2064)!==0&&ne!==null)ne.return=q,Tt=ne;else e:for(;Tt!==null;){if(q=Tt,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:sm(9,q,q.return)}var He=q.sibling;if(He!==null){He.return=q.return,Tt=He;break e}Tt=q.return}}var De=d.current;for(Tt=De;Tt!==null;){ne=Tt;var Ye=ne.child;if((ne.subtreeFlags&2064)!==0&&Ye!==null)Ye.return=ne,Tt=Ye;else e:for(ne=De;Tt!==null;){if(Ee=Tt,(Ee.flags&2048)!==0)try{switch(Ee.tag){case 0:case 11:case 15:W1(9,Ee)}}catch(Lt){Fr(Ee,Ee.return,Lt)}if(Ee===ne){Tt=null;break e}var yt=Ee.sibling;if(yt!==null){yt.return=Ee.return,Tt=yt;break e}Tt=Ee.return}}if(On=j,H(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(ha,d)}catch{}T=!0}return T}finally{mn=y,Ra.transition=h}}return!1}function DT(d,h,y){h=up(y,h),h=X4(d,h,1),d=No(d,h,1),h=so(),d!==null&&(Wo(d,1,h),Ro(d,h))}function Fr(d,h,y){if(d.tag===3)DT(d,d,y);else for(;h!==null;){if(h.tag===3){DT(h,d,y);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(xd===null||!xd.has(T))){d=up(y,d),d=J4(h,d,1),h=No(h,d,1),d=so(),h!==null&&(Wo(h,1,d),Ro(h,d));break}}h=h.return}}function jV(d,h,y){var T=d.pingCache;T!==null&&T.delete(h),h=so(),d.pingedLanes|=d.suspendedLanes&y,Pi===d&&(is&y)===y&&(hi===4||hi===3&&(is&130023424)===is&&500>Kn()-rw?Wf(d,0):nw|=y),Ro(d,h)}function RT(d,h){h===0&&((d.mode&1)===0?h=1:(h=pa,pa<<=1,(pa&130023424)===0&&(pa=4194304)));var y=so();d=Bn(d,h),d!==null&&(Wo(d,h,y),Ro(d,y))}function BV(d){var h=d.memoizedState,y=0;h!==null&&(y=h.retryLane),RT(d,y)}function VV(d,h){var y=0;switch(d.tag){case 13:var T=d.stateNode,j=d.memoizedState;j!==null&&(y=j.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(t(314))}T!==null&&T.delete(h),RT(d,y)}var LT;LT=function(d,h,y){if(d!==null)if(d.memoizedProps!==h.pendingProps||Ss.current)Io=!0;else{if((d.lanes&y)===0&&(h.flags&128)===0)return Io=!1,TV(d,h,y);Io=(d.flags&131072)!==0}else Io=!1,Ze&&(h.flags&1048576)!==0&&rt(h,fe,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;q1(d,h),d=h.pendingProps;var j=dd(h,di.current);hr(h,y),j=$f(null,h,T,d,j,y);var q=Da();return h.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Es(T)?(q=!0,du(h)):q=!1,h.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,ep(h),j.updater=z1,h.stateNode=j,j._reactInternals=h,$b(h,T,d,y),h=Hb(null,h,T,!0,q,y)):(h.tag=0,Ze&&q&&Je(h),io(null,h,j,y),h=h.child),h;case 16:T=h.elementType;e:{switch(q1(d,h),d=h.pendingProps,j=T._init,T=j(T._payload),h.type=T,j=h.tag=zV(T),d=xl(T,d),j){case 0:h=qb(null,h,T,d,y);break e;case 1:h=oT(null,h,T,d,y);break e;case 11:h=tT(null,h,T,d,y);break e;case 14:h=nT(null,h,T,xl(T.type,d),y);break e}throw Error(t(306,T,""))}return h;case 0:return T=h.type,j=h.pendingProps,j=h.elementType===T?j:xl(T,j),qb(d,h,T,j,y);case 1:return T=h.type,j=h.pendingProps,j=h.elementType===T?j:xl(T,j),oT(d,h,T,j,y);case 3:e:{if(aT(h),d===null)throw Error(t(387));T=h.pendingProps,q=h.memoizedState,j=q.element,Q0(d,h),ml(h,T,null,y);var ne=h.memoizedState;if(T=ne.element,q.isDehydrated)if(q={element:T,isDehydrated:!1,cache:ne.cache,pendingSuspenseBoundaries:ne.pendingSuspenseBoundaries,transitions:ne.transitions},h.updateQueue.baseState=q,h.memoizedState=q,h.flags&256){j=up(Error(t(423)),h),h=lT(d,h,T,y,j);break e}else if(T!==j){j=up(Error(t(424)),h),h=lT(d,h,T,y,j);break e}else for(et=ts(h.stateNode.containerInfo.firstChild),Pe=h,Ze=!0,tt=null,y=jn(h,null,T,y),h.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(cn(),T===j){h=mu(d,h,y);break e}io(d,h,T,y)}h=h.child}return h;case 5:return M1(h),d===null&&wt(h),T=h.type,j=h.pendingProps,q=d!==null?d.memoizedProps:null,ne=j.children,G0(T,j)?ne=null:q!==null&&G0(T,q)&&(h.flags|=32),sT(d,h),io(d,h,ne,y),h.child;case 6:return d===null&&wt(h),null;case 13:return cT(d,h,y);case 4:return pd(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=zr(h,null,T,y):io(d,h,T,y),h.child;case 11:return T=h.type,j=h.pendingProps,j=h.elementType===T?j:xl(T,j),tT(d,h,T,j,y);case 7:return io(d,h,h.pendingProps,y),h.child;case 8:return io(d,h,h.pendingProps.children,y),h.child;case 12:return io(d,h,h.pendingProps.children,y),h.child;case 10:e:{if(T=h.type._context,j=h.pendingProps,q=h.memoizedProps,ne=j.value,Yn(ki,T._currentValue),T._currentValue=ne,q!==null)if(Ln(q.value,ne)){if(q.children===j.children&&!Ss.current){h=mu(d,h,y);break e}}else for(q=h.child,q!==null&&(q.return=h);q!==null;){var Ee=q.dependencies;if(Ee!==null){ne=q.child;for(var ke=Ee.firstContext;ke!==null;){if(ke.context===T){if(q.tag===1){ke=ko(-1,y&-y),ke.tag=2;var Xe=q.updateQueue;if(Xe!==null){Xe=Xe.shared;var ft=Xe.pending;ft===null?ke.next=ke:(ke.next=ft.next,ft.next=ke),Xe.pending=ke}}q.lanes|=y,ke=q.alternate,ke!==null&&(ke.lanes|=y),To(q.return,y,h),Ee.lanes|=y;break}ke=ke.next}}else if(q.tag===10)ne=q.type===h.type?null:q.child;else if(q.tag===18){if(ne=q.return,ne===null)throw Error(t(341));ne.lanes|=y,Ee=ne.alternate,Ee!==null&&(Ee.lanes|=y),To(ne,y,h),ne=q.sibling}else ne=q.child;if(ne!==null)ne.return=q;else for(ne=q;ne!==null;){if(ne===h){ne=null;break}if(q=ne.sibling,q!==null){q.return=ne.return,ne=q;break}ne=ne.return}q=ne}io(d,h,j.children,y),h=h.child}return h;case 9:return j=h.type,T=h.pendingProps.children,hr(h,y),j=Or(j),T=T(j),h.flags|=1,io(d,h,T,y),h.child;case 14:return T=h.type,j=xl(T,h.pendingProps),j=xl(T.type,j),nT(d,h,T,j,y);case 15:return rT(d,h,h.type,h.pendingProps,y);case 17:return T=h.type,j=h.pendingProps,j=h.elementType===T?j:xl(T,j),q1(d,h),h.tag=1,Es(T)?(d=!0,du(h)):d=!1,hr(h,y),K4(h,T,j),$b(h,T,j,y),Hb(null,h,T,!0,d,y);case 19:return dT(d,h,y);case 22:return iT(d,h,y)}throw Error(t(156,h.tag))};function OT(d,h){return qo(d,h)}function $V(d,h,y,T){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(d,h,y,T){return new $V(d,h,y,T)}function dw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function zV(d){if(typeof d=="function")return dw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===D)return 11;if(d===ie)return 14}return 2}function Ed(d,h){var y=d.alternate;return y===null?(y=La(d.tag,h,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=h,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&14680064,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,h=d.dependencies,y.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y}function ty(d,h,y,T,j,q){var ne=2;if(T=d,typeof d=="function")dw(d)&&(ne=1);else if(typeof d=="string")ne=5;else e:switch(d){case O:return Kf(y.children,j,q,h);case C:ne=8,j|=8;break;case I:return d=La(12,y,h,j|2),d.elementType=I,d.lanes=q,d;case L:return d=La(13,y,h,j),d.elementType=L,d.lanes=q,d;case W:return d=La(19,y,h,j),d.elementType=W,d.lanes=q,d;case re:return ny(y,j,q,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case P:ne=10;break e;case N:ne=9;break e;case D:ne=11;break e;case ie:ne=14;break e;case oe:ne=16,T=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return h=La(ne,y,h,j),h.elementType=d,h.type=T,h.lanes=q,h}function Kf(d,h,y,T){return d=La(7,d,T,h),d.lanes=y,d}function ny(d,h,y,T){return d=La(22,d,T,h),d.elementType=re,d.lanes=y,d.stateNode={isHidden:!1},d}function fw(d,h,y){return d=La(6,d,null,h),d.lanes=y,d}function hw(d,h,y){return h=La(4,d.children!==null?d.children:[],d.key,h),h.lanes=y,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function UV(d,h,y,T,j){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=T,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function pw(d,h,y,T,j,q,ne,Ee,ke){return d=new UV(d,h,y,Ee,ke),h===1?(h=1,q===!0&&(h|=8)):h=0,q=La(3,null,null,h),d.current=q,q.stateNode=d,q.memoizedState={element:T,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},ep(q),d}function qV(d,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:T==null?null:""+T,children:d,containerInfo:h,implementation:y}}function MT(d){if(!d)return ac;d=d._reactInternals;e:{if(Tr(d)!==d||d.tag!==1)throw Error(t(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Es(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(t(171))}if(d.tag===1){var y=d.type;if(Es(y))return J0(d,y,h)}return h}function FT(d,h,y,T,j,q,ne,Ee,ke){return d=pw(y,T,!0,d,j,q,ne,Ee,ke),d.context=MT(null),y=d.current,T=so(),j=wd(y),q=ko(T,j),q.callback=h??null,No(y,q,j),d.current.lanes=j,Wo(d,j,T),Ro(d,T),d}function ry(d,h,y,T){var j=h.current,q=so(),ne=wd(j);return y=MT(y),h.context===null?h.context=y:h.pendingContext=y,h=ko(q,ne),h.payload={element:d},T=T===void 0?null:T,T!==null&&(h.callback=T),d=No(j,h,ne),d!==null&&(Sl(d,j,ne,q),fu(d,j,ne)),ne}function iy(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function jT(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<h?y:h}}function mw(d,h){jT(d,h),(d=d.alternate)&&jT(d,h)}function HV(){return null}var BT=typeof reportError=="function"?reportError:function(d){console.error(d)};function gw(d){this._internalRoot=d}sy.prototype.render=gw.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(t(409));ry(d,h,null,null)},sy.prototype.unmount=gw.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;Hf(function(){ry(null,d,null,null)}),h[Ti]=null}};function sy(d){this._internalRoot=d}sy.prototype.unstable_scheduleHydration=function(d){if(d){var h=xo();d={blockedOn:null,target:d,priority:h};for(var y=0;y<bo.length&&h!==0&&h<bo[y].priority;y++);bo.splice(y,0,d),y===0&&Jl(d)}};function yw(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function oy(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function VT(){}function WV(d,h,y,T,j){if(j){if(typeof T=="function"){var q=T;T=function(){var Xe=iy(ne);q.call(Xe)}}var ne=FT(h,T,d,0,null,!1,!1,"",VT);return d._reactRootContainer=ne,d[Ti]=ne.current,ou(d.nodeType===8?d.parentNode:d),Hf(),ne}for(;j=d.lastChild;)d.removeChild(j);if(typeof T=="function"){var Ee=T;T=function(){var Xe=iy(ke);Ee.call(Xe)}}var ke=pw(d,0,!1,null,null,!1,!1,"",VT);return d._reactRootContainer=ke,d[Ti]=ke.current,ou(d.nodeType===8?d.parentNode:d),Hf(function(){ry(h,ke,y,T)}),ke}function ay(d,h,y,T,j){var q=y._reactRootContainer;if(q){var ne=q;if(typeof j=="function"){var Ee=j;j=function(){var ke=iy(ne);Ee.call(ke)}}ry(h,ne,d,j)}else ne=WV(y,h,d,j,T);return iy(ne)}Wu=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var y=ma(h.pendingLanes);y!==0&&(Go(h,y|1),Ro(h,Kn()),(On&6)===0&&(hp=Kn()+500,H()))}break;case 13:Hf(function(){var T=Bn(d,1);if(T!==null){var j=so();Sl(T,d,1,j)}}),mw(d,1)}},Yl=function(d){if(d.tag===13){var h=Bn(d,134217728);if(h!==null){var y=so();Sl(h,d,134217728,y)}mw(d,134217728)}},Gu=function(d){if(d.tag===13){var h=wd(d),y=Bn(d,h);if(y!==null){var T=so();Sl(y,d,h,T)}mw(d,h)}},xo=function(){return mn},el=function(d,h){var y=mn;try{return mn=d,h()}finally{mn=y}},Tn=function(d,h,y){switch(h){case"input":if(qe(d,y),h=y.name,y.type==="radio"&&h!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<y.length;h++){var T=y[h];if(T!==d&&T.form===d.form){var j=Bf(T);if(!j)throw Error(t(90));je(T),qe(T,j)}}}break;case"textarea":_e(d,y);break;case"select":h=y.value,h!=null&&Ge(d,!!y.multiple,h,!1)}},$n=lw,pn=Hf;var GV={usingClientEntryPoint:!1,Events:[ud,cu,Bf,Et,Jt,lw]},cm={findFiberByHostInstance:oc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:cm.bundleType,version:cm.version,rendererPackageName:cm.rendererPackageName,rendererConfig:cm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=zo(d),d===null?null:d.stateNode},findFiberByHostInstance:cm.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ly.isDisabled&&ly.supportsFiber)try{ha=ly.inject(KV),Gi=ly}catch{}}return Lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GV,Lo.createPortal=function(d,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yw(h))throw Error(t(200));return qV(d,h,null,y)},Lo.createRoot=function(d,h){if(!yw(d))throw Error(t(299));var y=!1,T="",j=BT;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onRecoverableError!==void 0&&(j=h.onRecoverableError)),h=pw(d,1,!1,null,null,y,!1,T,j),d[Ti]=h.current,ou(d.nodeType===8?d.parentNode:d),new gw(h)},Lo.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=zo(h),d=d===null?null:d.stateNode,d},Lo.flushSync=function(d){return Hf(d)},Lo.hydrate=function(d,h,y){if(!oy(h))throw Error(t(200));return ay(null,d,h,!0,y)},Lo.hydrateRoot=function(d,h,y){if(!yw(d))throw Error(t(405));var T=y!=null&&y.hydratedSources||null,j=!1,q="",ne=BT;if(y!=null&&(y.unstable_strictMode===!0&&(j=!0),y.identifierPrefix!==void 0&&(q=y.identifierPrefix),y.onRecoverableError!==void 0&&(ne=y.onRecoverableError)),h=FT(h,null,d,1,y??null,j,!1,q,ne),d[Ti]=h.current,ou(d),T)for(d=0;d<T.length;d++)y=T[d],j=y._getVersion,j=j(y._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[y,j]:h.mutableSourceEagerHydrationData.push(y,j);return new sy(h)},Lo.render=function(d,h,y){if(!oy(h))throw Error(t(200));return ay(null,d,h,!1,y)},Lo.unmountComponentAtNode=function(d){if(!oy(d))throw Error(t(40));return d._reactRootContainer?(Hf(function(){ay(null,null,d,!1,function(){d._reactRootContainer=null,d[Ti]=null})}),!0):!1},Lo.unstable_batchedUpdates=lw,Lo.unstable_renderSubtreeIntoContainer=function(d,h,y,T){if(!oy(y))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return ay(d,h,y,!1,T)},Lo.version="18.3.1-next-f1338f8080-20240426",Lo}var KT;function MR(){if(KT)return ww.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ww.exports=s$(),ww.exports}var YT;function o$(){if(YT)return cy;YT=1;var n=MR();return cy.createRoot=n.createRoot,cy.hydrateRoot=n.hydrateRoot,cy}var a$=o$();const l$=Vu(a$);var dm={},XT;function c$(){if(XT)return dm;XT=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.parse=o,dm.serialize=c;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function o(m,p){const g=new s,v=m.length;if(v<2)return g;const b=(p==null?void 0:p.decode)||u;let S=0;do{const E=m.indexOf("=",S);if(E===-1)break;const _=m.indexOf(";",S),R=_===-1?v:_;if(E>R){S=m.lastIndexOf(";",E-1)+1;continue}const B=a(m,S,E),U=l(m,E,B),O=m.slice(B,U);if(g[O]===void 0){let C=a(m,E+1,R),I=l(m,R,C);const P=b(m.slice(C,I));g[O]=P}S=R+1}while(S<v);return g}function a(m,p,g){do{const v=m.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<g);return g}function l(m,p,g){for(;p>g;){const v=m.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return g}function c(m,p,g){const v=(g==null?void 0:g.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const b=v(p);if(!e.test(b))throw new TypeError(`argument val is invalid: ${p}`);let S=m+"="+b;if(!g)return S;if(g.maxAge!==void 0){if(!Number.isInteger(g.maxAge))throw new TypeError(`option maxAge is invalid: ${g.maxAge}`);S+="; Max-Age="+g.maxAge}if(g.domain){if(!t.test(g.domain))throw new TypeError(`option domain is invalid: ${g.domain}`);S+="; Domain="+g.domain}if(g.path){if(!r.test(g.path))throw new TypeError(`option path is invalid: ${g.path}`);S+="; Path="+g.path}if(g.expires){if(!f(g.expires)||!Number.isFinite(g.expires.valueOf()))throw new TypeError(`option expires is invalid: ${g.expires}`);S+="; Expires="+g.expires.toUTCString()}if(g.httpOnly&&(S+="; HttpOnly"),g.secure&&(S+="; Secure"),g.partitioned&&(S+="; Partitioned"),g.priority)switch(typeof g.priority=="string"?g.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${g.priority}`)}if(g.sameSite)switch(typeof g.sameSite=="string"?g.sameSite.toLowerCase():g.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${g.sameSite}`)}return S}function u(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function f(m){return i.call(m)==="[object Date]"}return dm}c$();var JT="popstate";function u$(n={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return RS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:lg(i)}return f$(e,t,null,n)}function _r(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function d$(){return Math.random().toString(36).substring(2,10)}function QT(n,e){return{usr:n.state,key:n.key,idx:e}}function RS(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_0(e):e,state:t,key:e&&e.key||r||d$()}}function lg({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function _0(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function f$(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function f(){a="POP";let b=u(),S=b==null?null:b-c;c=b,l&&l({action:a,location:v.location,delta:S})}function m(b,S){a="PUSH";let E=RS(v.location,b,S);c=u()+1;let _=QT(E,c),R=v.createHref(E);try{o.pushState(_,"",R)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(R)}s&&l&&l({action:a,location:v.location,delta:1})}function p(b,S){a="REPLACE";let E=RS(v.location,b,S);c=u();let _=QT(E,c),R=v.createHref(E);o.replaceState(_,"",R),s&&l&&l({action:a,location:v.location,delta:0})}function g(b){return h$(b)}let v={get action(){return a},get location(){return n(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JT,f),l=b,()=>{i.removeEventListener(JT,f),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let S=g(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:p,go(b){return o.go(b)}};return v}function h$(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_r(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:lg(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function FR(n,e,t="/"){return p$(n,e,t,!1)}function p$(n,e,t,r){let i=typeof e=="string"?_0(e):e,s=Ru(i.pathname||"/",t);if(s==null)return null;let o=jR(n);m$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_$(s);a=C$(o[l],c,r)}return a}function jR(n,e=[],t=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(_r(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Nu([r,l.relativePath]),u=t.concat(l);s.children&&s.children.length>0&&(_r(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),jR(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:S$(c,s.index),routesMeta:u})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of BR(s.path))i(s,o,l)}),e}function BR(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function m$(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:E$(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var g$=/^:[\w-]+$/,y$=3,v$=2,x$=1,b$=10,w$=-2,ZT=n=>n==="*";function S$(n,e){let t=n.split("/"),r=t.length;return t.some(ZT)&&(r+=w$),e&&(r+=v$),t.filter(i=>!ZT(i)).reduce((i,s)=>i+(g$.test(s)?y$:s===""?x$:b$),r)}function E$(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function C$(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=lx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!f&&c&&t&&!r[r.length-1].route.index&&(f=lx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Nu([s,f.pathname]),pathnameBase:P$(Nu([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Nu([s,f.pathnameBase]))}return o}function lx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=A$(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},m)=>{if(u==="*"){let g=a[m]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[m];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function A$(n,e=!1,t=!0){Rl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _$(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ru(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function T$(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?_0(n):n;return{pathname:t?t.startsWith("/")?t:k$(t,e):e,search:I$(r),hash:D$(i)}}function k$(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Cw(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N$(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $C(n){let e=N$(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zC(n,e,t,r=!1){let i;typeof n=="string"?i=_0(n):(i={...n},_r(!i.pathname||!i.pathname.includes("?"),Cw("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),Cw("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),Cw("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=T$(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Nu=n=>n.join("/").replace(/\/\/+/g,"/"),P$=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I$=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,D$=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function R$(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var VR=["POST","PUT","PATCH","DELETE"];new Set(VR);var L$=["GET",...VR];new Set(L$);var T0=F.createContext(null);T0.displayName="DataRouter";var x2=F.createContext(null);x2.displayName="DataRouterState";var $R=F.createContext({isTransitioning:!1});$R.displayName="ViewTransition";var O$=F.createContext(new Map);O$.displayName="Fetchers";var M$=F.createContext(null);M$.displayName="Await";var Vl=F.createContext(null);Vl.displayName="Navigation";var Jg=F.createContext(null);Jg.displayName="Location";var Ka=F.createContext({outlet:null,matches:[],isDataRoute:!1});Ka.displayName="Route";var UC=F.createContext(null);UC.displayName="RouteError";function F$(n,{relative:e}={}){_r(k0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(Vl),{hash:i,pathname:s,search:o}=Qg(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:Nu([t,s])),r.createHref({pathname:a,search:o,hash:i})}function k0(){return F.useContext(Jg)!=null}function $l(){return _r(k0(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Jg).location}var zR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UR(n){F.useContext(Vl).static||F.useLayoutEffect(n)}function zc(){let{isDataRoute:n}=F.useContext(Ka);return n?Q$():j$()}function j$(){_r(k0(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(T0),{basename:e,navigator:t}=F.useContext(Vl),{matches:r}=F.useContext(Ka),{pathname:i}=$l(),s=JSON.stringify($C(r)),o=F.useRef(!1);return UR(()=>{o.current=!0}),F.useCallback((l,c={})=>{if(Rl(o.current,zR),!o.current)return;if(typeof l=="number"){t.go(l);return}let u=zC(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Nu([e,u.pathname])),(c.replace?t.replace:t.push)(u,c.state,c)},[e,t,s,i,n])}var B$=F.createContext(null);function V$(n){let e=F.useContext(Ka).outlet;return e&&F.createElement(B$.Provider,{value:n},e)}function qC(){let{matches:n}=F.useContext(Ka),e=n[n.length-1];return e?e.params:{}}function Qg(n,{relative:e}={}){let{matches:t}=F.useContext(Ka),{pathname:r}=$l(),i=JSON.stringify($C(t));return F.useMemo(()=>zC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function $$(n,e){return qR(n,e)}function qR(n,e,t,r){var E;_r(k0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=F.useContext(Vl),{matches:o}=F.useContext(Ka),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";HR(c,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let m=$l(),p;if(e){let _=typeof e=="string"?_0(e):e;_r(u==="/"||((E=_.pathname)==null?void 0:E.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${_.pathname}" was given in the \`location\` prop.`),p=_}else p=m;let g=p.pathname||"/",v=g;if(u!=="/"){let _=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=!s&&t&&t.matches&&t.matches.length>0?t.matches:FR(n,{pathname:v});Rl(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Rl(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=W$(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Nu([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:Nu([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,t,r);return e&&S?F.createElement(Jg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},S):S}function z$(){let n=J$(),e=R$(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:s},"ErrorBoundary")," or"," ",F.createElement("code",{style:s},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,o)}var U$=F.createElement(z$,null),q$=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Ka.Provider,{value:this.props.routeContext},F.createElement(UC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H$({routeContext:n,match:e,children:t}){let r=F.useContext(T0);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Ka.Provider,{value:n},t)}function W$(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);_r(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(t)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=t,m=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||m){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,m=!1,p=null,g=null;t&&(f=s&&c.route.id?s[c.route.id]:void 0,p=c.route.errorElement||U$,o&&(a<0&&u===0?(HR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,g=null):a===u&&(m=!0,g=c.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,u+1)),b=()=>{let S;return f?S=p:m?S=g:c.route.Component?S=F.createElement(c.route.Component,null):c.route.element?S=c.route.element:S=l,F.createElement(H$,{match:c,routeContext:{outlet:l,matches:v,isDataRoute:t!=null},children:S})};return t&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?F.createElement(q$,{location:t.location,revalidation:t.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}function HC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G$(n){let e=F.useContext(T0);return _r(e,HC(n)),e}function K$(n){let e=F.useContext(x2);return _r(e,HC(n)),e}function Y$(n){let e=F.useContext(Ka);return _r(e,HC(n)),e}function WC(n){let e=Y$(n),t=e.matches[e.matches.length-1];return _r(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function X$(){return WC("useRouteId")}function J$(){var r;let n=F.useContext(UC),e=K$("useRouteError"),t=WC("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Q$(){let{router:n}=G$("useNavigate"),e=WC("useNavigate"),t=F.useRef(!1);return UR(()=>{t.current=!0}),F.useCallback(async(i,s={})=>{Rl(t.current,zR),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var ek={};function HR(n,e,t){!e&&!ek[n]&&(ek[n]=!0,Rl(!1,t))}F.memo(Z$);function Z$({routes:n,future:e,state:t}){return qR(n,void 0,t,e)}function cx({to:n,replace:e,state:t,relative:r}){_r(k0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(Vl);Rl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=F.useContext(Ka),{pathname:o}=$l(),a=zc(),l=zC(n,$C(s),o,r==="path"),c=JSON.stringify(l);return F.useEffect(()=>{a(JSON.parse(c),{replace:e,state:t,relative:r})},[a,c,r,e,t]),null}function ez(n){return V$(n.context)}function Pr(n){_r(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tz({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){_r(!k0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),a=F.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=_0(t));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:m="default"}=t,p=F.useMemo(()=>{let g=Ru(l,o);return g==null?null:{location:{pathname:g,search:c,hash:u,state:f,key:m},navigationType:r}},[o,l,c,u,f,m,r]);return Rl(p!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:F.createElement(Vl.Provider,{value:a},F.createElement(Jg.Provider,{children:e,value:p}))}function WR({children:n,location:e}){return $$(LS(n),e)}function LS(n,e=[]){let t=[];return F.Children.forEach(n,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){t.push.apply(t,LS(r.props.children,s));return}_r(r.type===Pr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_r(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=LS(r.props.children,s)),t.push(o)}),t}var Wy="get",Gy="application/x-www-form-urlencoded";function b2(n){return n!=null&&typeof n.tagName=="string"}function nz(n){return b2(n)&&n.tagName.toLowerCase()==="button"}function rz(n){return b2(n)&&n.tagName.toLowerCase()==="form"}function iz(n){return b2(n)&&n.tagName.toLowerCase()==="input"}function sz(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oz(n,e){return n.button===0&&(!e||e==="_self")&&!sz(n)}var uy=null;function az(){if(uy===null)try{new FormData(document.createElement("form"),0),uy=!1}catch{uy=!0}return uy}var lz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Aw(n){return n!=null&&!lz.has(n)?(Rl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gy}"`),null):n}function cz(n,e){let t,r,i,s,o;if(rz(n)){let a=n.getAttribute("action");r=a?Ru(a,e):null,t=n.getAttribute("method")||Wy,i=Aw(n.getAttribute("enctype"))||Gy,s=new FormData(n)}else if(nz(n)||iz(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ru(l,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Wy,i=Aw(n.getAttribute("formenctype"))||Aw(a.getAttribute("enctype"))||Gy,s=new FormData(a,n),!az()){let{name:c,type:u,value:f}=n;if(u==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,f)}}else{if(b2(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wy,r=null,i=Gy,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function GC(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uz(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dz(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fz(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await uz(s,t);return o.links?o.links():[]}return[]}));return gz(r.flat(1).filter(dz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function tk(n,e,t,r,i,s){let o=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,a=(l,c)=>{var u;return t[c].pathname!==l.pathname||((u=t[c].route.path)==null?void 0:u.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=t[0])==null?void 0:f.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function hz(n,e,{includeHydrateFallback:t}={}){return pz(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pz(n){return[...new Set(n)]}function mz(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gz(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(mz(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yz=new Set([100,101,204,205]);function vz(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Ru(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function GR(){let n=F.useContext(T0);return GC(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xz(){let n=F.useContext(x2);return GC(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var KC=F.createContext(void 0);KC.displayName="FrameworkContext";function KR(){let n=F.useContext(KC);return GC(n,"You must render this element inside a <HydratedRouter> element"),n}function bz(n,e){let t=F.useContext(KC),[r,i]=F.useState(!1),[s,o]=F.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=e,m=F.useRef(null);F.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let v=S=>{S.forEach(E=>{o(E.isIntersecting)})},b=new IntersectionObserver(v,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[n]),F.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:fm(a,p),onBlur:fm(l,g),onMouseEnter:fm(c,p),onMouseLeave:fm(u,g),onTouchStart:fm(f,p)}]:[!1,m,{}]}function fm(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wz({page:n,...e}){let{router:t}=GR(),r=F.useMemo(()=>FR(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(Ez,{page:n,matches:r,...e}):null}function Sz(n){let{manifest:e,routeModules:t}=KR(),[r,i]=F.useState([]);return F.useEffect(()=>{let s=!1;return fz(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function Ez({page:n,matches:e,...t}){let r=$l(),{manifest:i,routeModules:s}=KR(),{basename:o}=GR(),{loaderData:a,matches:l}=xz(),c=F.useMemo(()=>tk(n,e,l,i,r,"data"),[n,e,l,i,r]),u=F.useMemo(()=>tk(n,e,l,i,r,"assets"),[n,e,l,i,r]),f=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let g=new Set,v=!1;if(e.forEach(S=>{var _;let E=i.routes[S.route.id];!E||!E.hasLoader||(!c.some(R=>R.route.id===S.route.id)&&S.route.id in a&&((_=s[S.route.id])!=null&&_.shouldRevalidate)||E.hasClientLoader?v=!0:g.add(S.route.id))}),g.size===0)return[];let b=vz(n,o);return v&&g.size>0&&b.searchParams.set("_routes",e.filter(S=>g.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,c,e,n,s]),m=F.useMemo(()=>hz(u,i),[u,i]),p=Sz(u);return F.createElement(F.Fragment,null,f.map(g=>F.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...t})),m.map(g=>F.createElement("link",{key:g,rel:"modulepreload",href:g,...t})),p.map(({key:g,link:v})=>F.createElement("link",{key:g,...v})))}function Cz(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var YR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YR&&(window.__reactRouterVersion="7.6.0")}catch{}function Az({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=u$({window:t,v5Compat:!0}));let i=r.current,[s,o]=F.useState({action:i.action,location:i.location}),a=F.useCallback(l=>{F.startTransition(()=>o(l))},[o]);return F.useLayoutEffect(()=>i.listen(a),[i,a]),F.createElement(tz,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...m},p){let{basename:g}=F.useContext(Vl),v=typeof c=="string"&&XR.test(c),b,S=!1;if(typeof c=="string"&&v&&(b=c,YR))try{let I=new URL(window.location.href),P=c.startsWith("//")?new URL(I.protocol+c):new URL(c),N=Ru(P.pathname,g);P.origin===I.origin&&N!=null?c=N+P.search+P.hash:S=!0}catch{Rl(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=F$(c,{relative:i}),[_,R,B]=bz(r,m),U=Nz(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function O(I){e&&e(I),I.defaultPrevented||U(I)}let C=F.createElement("a",{...m,...B,href:b||E,onClick:S||s?e:O,ref:Cz(p,R),target:l,"data-discover":!v&&t==="render"?"true":void 0});return _&&!v?F.createElement(F.Fragment,null,C,F.createElement(wz,{page:E})):C});Vi.displayName="Link";var _z=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let f=Qg(o,{relative:c.relative}),m=$l(),p=F.useContext(x2),{navigator:g,basename:v}=F.useContext(Vl),b=p!=null&&Lz(f)&&a===!0,S=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,E=m.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(E=E.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&v&&(_=Ru(_,v)||_);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let B=E===S||!i&&E.startsWith(S)&&E.charAt(R)==="/",U=_!=null&&(_===S||!i&&_.startsWith(S)&&_.charAt(S.length)==="/"),O={isActive:B,isPending:U,isTransitioning:b},C=B?e:void 0,I;typeof r=="function"?I=r(O):I=[r,B?"active":null,U?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(O):s;return F.createElement(Vi,{...c,"aria-current":C,className:I,ref:u,style:P,to:o,viewTransition:a},typeof l=="function"?l(O):l)});_z.displayName="NavLink";var Tz=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Wy,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...m},p)=>{let g=Dz(),v=Rz(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&XR.test(a),E=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let R=_.nativeEvent.submitter,B=(R==null?void 0:R.getAttribute("formmethod"))||o;g(R||_.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:f})};return F.createElement("form",{ref:p,method:b,action:v,onSubmit:r?l:E,...m,"data-discover":!S&&n==="render"?"true":void 0})});Tz.displayName="Form";function kz(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JR(n){let e=F.useContext(T0);return _r(e,kz(n)),e}function Nz(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=zc(),l=$l(),c=Qg(n,{relative:s});return F.useCallback(u=>{if(oz(u,e)){u.preventDefault();let f=t!==void 0?t:lg(l)===lg(c);a(n,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,t,r,e,n,i,s,o])}var Pz=0,Iz=()=>`__${String(++Pz)}__`;function Dz(){let{router:n}=JR("useSubmit"),{basename:e}=F.useContext(Vl),t=X$();return F.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=cz(r,e);if(i.navigate===!1){let u=i.fetcherKey||Iz();await n.fetch(u,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function Rz(n,{relative:e}={}){let{basename:t}=F.useContext(Vl),r=F.useContext(Ka);_r(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Qg(n||".",{relative:e})},o=$l();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();s.search=u?`?${u}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Nu([t,s.pathname])),lg(s)}function Lz(n,e={}){let t=F.useContext($R);_r(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=JR("useViewTransitionState"),i=Qg(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ru(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=Ru(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lx(i.pathname,o)!=null||lx(i.pathname,s)!=null}[...yz];var fs=MR();const Oz=Vu(fs);var _w,nk;function Mz(){if(nk)return _w;nk=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&typeof s=="object"&&typeof o=="object"){if(s.constructor!==o.constructor)return!1;var a,l,c;if(Array.isArray(s)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(!i(s[l],o[l]))return!1;return!0}var u;if(e&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=s.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(t&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if(a=s.length,a!=o.length)return!1;for(l=a;l--!==0;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof o.valueOf=="function")return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof o.toString=="function")return s.toString()===o.toString();if(c=Object.keys(s),a=c.length,a!==Object.keys(o).length)return!1;for(l=a;l--!==0;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(n&&s instanceof Element)return!1;for(l=a;l--!==0;)if(!((c[l]==="_owner"||c[l]==="__v"||c[l]==="__o")&&s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!==s&&o!==o}return _w=function(o,a){try{return i(o,a)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},_w}var Fz=Mz();const jz=Vu(Fz);var Tw,rk;function Bz(){if(rk)return Tw;rk=1;var n=function(e,t,r,i,s,o,a,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,s,o,a,l],f=0;c=new Error(t.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return Tw=n,Tw}var Vz=Bz();const ik=Vu(Vz);var kw,sk;function $z(){return sk||(sk=1,kw=function(e,t,r,i){var s=r?r.call(i,e,t):void 0;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var f=e[u],m=t[u];if(s=r?r.call(i,f,m,u):void 0,s===!1||s===void 0&&f!==m)return!1}return!0}),kw}var zz=$z();const Uz=Vu(zz);var QR=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(QR||{}),Nw={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},ok=Object.values(QR),YC={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},qz=Object.entries(YC).reduce((n,[e,t])=>(n[t]=e,n),{}),Il="data-rh",Hp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Wp=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Hz=n=>{let e=Wp(n,"title");const t=Wp(n,Hp.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Wp(n,Hp.DEFAULT_TITLE);return e||r||void 0},Wz=n=>Wp(n,Hp.ON_CHANGE_CLIENT_STATE)||(()=>{}),Pw=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),Gz=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(n.indexOf(a)!==-1&&r[a])return t.concat(r)}}return t},[]),Kz=n=>console&&typeof console.warn=="function"&&console.warn(n),hm=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&Kz(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const u=Object.keys(l);for(let m=0;m<u.length;m+=1){const p=u[m],g=p.toLowerCase();e.indexOf(g)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(g==="rel"&&l[g].toLowerCase()==="stylesheet")&&(c=g),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(c=p)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][f]?!1:(o[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...o[c]};r[c]=u}return i},[]).reverse()},Yz=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},Xz=n=>({baseTag:Gz(["href"],n),bodyAttributes:Pw("bodyAttributes",n),defer:Wp(n,Hp.DEFER),encode:Wp(n,Hp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Pw("htmlAttributes",n),linkTags:hm("link",["rel","href"],n),metaTags:hm("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:hm("noscript",["innerHTML"],n),onChangeClientState:Wz(n),scriptTags:hm("script",["src","innerHTML"],n),styleTags:hm("style",["cssText"],n),title:Hz(n),titleAttributes:Pw("titleAttributes",n),prioritizeSeoTags:Yz(n,Hp.PRIORITIZE_SEO_TAGS)}),ZR=n=>Array.isArray(n)?n.join(""):n,Jz=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Iw=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(Jz(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},ak=(n,e)=>({...n,[e]:void 0}),Qz=["noscript","script","style"],OS=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),eL=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),Zz=(n,e,t,r)=>{const i=eL(t),s=ZR(e);return i?`<${n} ${Il}="true" ${i}>${OS(s,r)}</${n}>`:`<${n} ${Il}="true">${OS(s,r)}</${n}>`},eU=(n,e,t=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const f=typeof s[u]>"u"?u:`${u}="${OS(s[u],t)}"`;return c?`${c} ${f}`:f},""),a=s.innerHTML||s.cssText||"",l=Qz.indexOf(n)===-1;return`${r}<${n} ${Il}="true" ${o}${l?"/>":`>${a}</${n}>`}`},""),tL=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=YC[r];return t[i||r]=n[r],t},e),tU=(n,e,t)=>{const r={key:e,[Il]:!0},i=tL(t,r);return[dt.createElement("title",i,e)]},Ky=(n,e)=>e.map((t,r)=>{const i={key:r,[Il]:!0};return Object.keys(t).forEach(s=>{const a=YC[s]||s;if(a==="innerHTML"||a==="cssText"){const l=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=t[s]}),dt.createElement(n,i)}),ja=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>tU(n,e.title,e.titleAttributes),toString:()=>Zz(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>tL(e),toString:()=>eL(e)};default:return{toComponent:()=>Ky(n,e),toString:()=>eU(n,e,t)}}},nU=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=Iw(n,Nw.meta),s=Iw(e,Nw.link),o=Iw(t,Nw.script);return{priorityMethods:{toComponent:()=>[...Ky("meta",i.priority),...Ky("link",s.priority),...Ky("script",o.priority)],toString:()=>`${ja("meta",i.priority,r)} ${ja("link",s.priority,r)} ${ja("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},rU=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:u,metaTags:f,scriptTags:m}=n,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:f,scriptTags:m}=nU(n)),{priority:p,base:ja("base",e,r),bodyAttributes:ja("bodyAttributes",t,r),htmlAttributes:ja("htmlAttributes",i,r),link:ja("link",u,r),meta:ja("meta",f,r),noscript:ja("noscript",s,r),script:ja("script",m,r),style:ja("style",o,r),title:ja("title",{title:a,titleAttributes:l},r)}},MS=rU,dy=[],nL=!!(typeof window<"u"&&window.document&&window.document.createElement),FS=class{constructor(n,e){yu(this,"instances",[]);yu(this,"canUseDOM",nL);yu(this,"context");yu(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?dy:this.instances,add:n=>{(this.canUseDOM?dy:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?dy:this.instances).indexOf(n);(this.canUseDOM?dy:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=MS({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},iU={},rL=dt.createContext(iU),ph,iL=(ph=class extends F.Component{constructor(t){super(t);yu(this,"helmetData");this.helmetData=new FS(this.props.context||{},ph.canUseDOM)}render(){return dt.createElement(rL.Provider,{value:this.helmetData.value},this.props.children)}},yu(ph,"canUseDOM",nL),ph),mp=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Il}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(n);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,f=typeof a[u]>"u"?"":a[u];l.setAttribute(c,f)}l.setAttribute(Il,"true"),i.some((c,u)=>(o=u,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>t.appendChild(a)),{oldTags:i,newTags:s}},jS=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Il),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";t.getAttribute(a)!==l&&t.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)t.removeAttribute(s[a]);i.length===s.length?t.removeAttribute(Il):t.getAttribute(Il)!==o.join(",")&&t.setAttribute(Il,o.join(","))},sU=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=ZR(n)),jS("title",e)},lk=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:f,titleAttributes:m}=n;jS("body",r),jS("html",i),sU(f,m);const p={baseTag:mp("base",t),linkTags:mp("link",s),metaTags:mp("meta",o),noscriptTags:mp("noscript",a),scriptTags:mp("script",c),styleTags:mp("style",u)},g={},v={};Object.keys(p).forEach(b=>{const{newTags:S,oldTags:E}=p[b];S.length&&(g[b]=S),E.length&&(v[b]=p[b].oldTags)}),e&&e(),l(n,g,v)},pm=null,oU=n=>{pm&&cancelAnimationFrame(pm),n.defer?pm=requestAnimationFrame(()=>{lk(n,()=>{pm=null})}):(lk(n),pm=null)},aU=oU,ck=class extends F.Component{constructor(){super(...arguments);yu(this,"rendered",!1)}shouldComponentUpdate(e){return!Uz(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=Xz(e.get().map(s=>{const o={...s.props};return delete o.context,o}));iL.canUseDOM?aU(i):MS&&(r=MS(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},IS,XC=(IS=class extends F.Component{shouldComponentUpdate(n){return!jz(ak(this.props,"helmetData"),ak(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return ik(ok.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ok.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),ik(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return dt.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[qz[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof FS)){const i=r;r=new FS(i.context,!0),delete t.helmetData}return r?dt.createElement(ck,{...t,context:r.value}):dt.createElement(rL.Consumer,null,i=>dt.createElement(ck,{...t,context:i}))}},yu(IS,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),IS);let lU={data:""},cU=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||lU,uU=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dU=/\/\*[^]*?\*\/|  +/g,uk=/\n+/g,Ld=(n,e)=>{let t="",r="",i="";for(let s in n){let o=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+o+";":r+=s[1]=="f"?Ld(o,s):s+"{"+Ld(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ld(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ld.p?Ld.p(s,o):s+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+r},vu={},sL=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+sL(n[t]);return e}return n},fU=(n,e,t,r,i)=>{let s=sL(n),o=vu[s]||(vu[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!vu[o]){let l=s!==n?n:(c=>{let u,f,m=[{}];for(;u=uU.exec(c.replace(dU,""));)u[4]?m.shift():u[3]?(f=u[3].replace(uk," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][u[1]]=u[2].replace(uk," ").trim();return m[0]})(n);vu[o]=Ld(i?{["@keyframes "+o]:l}:l,t?"":"."+o)}let a=t&&vu.g?vu.g:null;return t&&(vu.g=vu[o]),((l,c,u,f)=>{f?c.data=c.data.replace(f,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(vu[o],e,r,a),o},hU=(n,e,t)=>n.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(t),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ld(a,""):a===!1?"":a}return r+i+(o??"")},"");function w2(n){let e=this||{},t=n.call?n(e.p):n;return fU(t.unshift?t.raw?hU(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,cU(e.target),e.g,e.o,e.k)}let oL,BS,VS;w2.bind({g:1});let Lu=w2.bind({k:1});function pU(n,e,t,r){Ld.p=e,oL=n,BS=t,VS=r}function bf(n,e){let t=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;t.p=Object.assign({theme:BS&&BS()},a),t.o=/ *go\d+/.test(l),a.className=w2.apply(t,r)+(l?" "+l:"");let c=n;return n[0]&&(c=a.as||n,delete a.as),VS&&c[0]&&VS(a),oL(c,a)}return i}}var mU=n=>typeof n=="function",ux=(n,e)=>mU(n)?n(e):n,gU=(()=>{let n=0;return()=>(++n).toString()})(),aL=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),yU=20,lL=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,yU)};case 1:return{...n,toasts:n.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:t}=e;return lL(n,{type:n.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let i=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Yy=[],rh={toasts:[],pausedAt:void 0},Mh=n=>{rh=lL(rh,n),Yy.forEach(e=>{e(rh)})},vU={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xU=(n={})=>{let[e,t]=F.useState(rh),r=F.useRef(rh);F.useEffect(()=>(r.current!==rh&&t(rh),Yy.push(t),()=>{let s=Yy.indexOf(t);s>-1&&Yy.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...n,...n[s.type],...s,removeDelay:s.removeDelay||((o=n[s.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:s.duration||((a=n[s.type])==null?void 0:a.duration)||(n==null?void 0:n.duration)||vU[s.type],style:{...n.style,...(l=n[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},bU=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||gU()}),Zg=n=>(e,t)=>{let r=bU(e,n,t);return Mh({type:2,toast:r}),r.id},Mo=(n,e)=>Zg("blank")(n,e);Mo.error=Zg("error");Mo.success=Zg("success");Mo.loading=Zg("loading");Mo.custom=Zg("custom");Mo.dismiss=n=>{Mh({type:3,toastId:n})};Mo.remove=n=>Mh({type:4,toastId:n});Mo.promise=(n,e,t)=>{let r=Mo.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?ux(e.success,i):void 0;return s?Mo.success(s,{id:r,...t,...t==null?void 0:t.success}):Mo.dismiss(r),i}).catch(i=>{let s=e.error?ux(e.error,i):void 0;s?Mo.error(s,{id:r,...t,...t==null?void 0:t.error}):Mo.dismiss(r)}),n};var wU=(n,e)=>{Mh({type:1,toast:{id:n,height:e}})},SU=()=>{Mh({type:5,time:Date.now()})},jm=new Map,EU=1e3,CU=(n,e=EU)=>{if(jm.has(n))return;let t=setTimeout(()=>{jm.delete(n),Mh({type:4,toastId:n})},e);jm.set(n,t)},AU=n=>{let{toasts:e,pausedAt:t}=xU(n);F.useEffect(()=>{if(t)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Mo.dismiss(a.id);return}return setTimeout(()=>Mo.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,t]);let r=F.useCallback(()=>{t&&Mh({type:6,time:Date.now()})},[t]),i=F.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),f=u.findIndex(p=>p.id===s.id),m=u.filter((p,g)=>g<f&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[m+1]:[0,m]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return F.useEffect(()=>{e.forEach(s=>{if(s.dismissed)CU(s.id,s.removeDelay);else{let o=jm.get(s.id);o&&(clearTimeout(o),jm.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:wU,startPause:SU,endPause:r,calculateOffset:i}}},_U=Lu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,TU=Lu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kU=Lu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NU=bf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_U} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TU} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${kU} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PU=Lu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IU=bf("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${PU} 1s linear infinite;
`,DU=Lu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,RU=Lu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LU=bf("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DU} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${RU} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,OU=bf("div")`
  position: absolute;
`,MU=bf("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FU=Lu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jU=bf("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FU} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,BU=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?F.createElement(jU,null,e):e:t==="blank"?null:F.createElement(MU,null,F.createElement(IU,{...r}),t!=="loading"&&F.createElement(OU,null,t==="error"?F.createElement(NU,{...r}):F.createElement(LU,{...r})))},VU=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$U=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,zU="0%{opacity:0;} 100%{opacity:1;}",UU="0%{opacity:1;} 100%{opacity:0;}",qU=bf("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HU=bf("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WU=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=aL()?[zU,UU]:[VU(t),$U(t)];return{animation:e?`${Lu(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Lu(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GU=F.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?WU(n.position||e||"top-center",n.visible):{opacity:0},s=F.createElement(BU,{toast:n}),o=F.createElement(HU,{...n.ariaProps},ux(n.message,n));return F.createElement(qU,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:o}):F.createElement(F.Fragment,null,s,o))});pU(F.createElement);var KU=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=F.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(n,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return F.createElement("div",{ref:s,className:e,style:t},i)},YU=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:aL()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},XU=w2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fy=16,JU=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=AU(t);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fy,left:fy,right:fy,bottom:fy,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,f=l.calculateOffset(c,{reverseOrder:n,gutter:r,defaultPosition:e}),m=YU(u,f);return F.createElement(KU,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?XU:"",style:m},c.type==="custom"?ux(c.message,c):i?i(c):F.createElement(GU,{toast:c,position:u}))}))};const cL=F.createContext(void 0),QU=({children:n})=>{const[e,t]=F.useState(null),[r,i]=F.useState(()=>()=>{}),[s,o]=F.useState(!1),a=u=>(t(u),o(!0),new Promise(f=>{i(()=>f)})),l=()=>{r(!0),o(!1),t(null)},c=()=>{r(!1),o(!1),t(null)};return A.jsxs(cL.Provider,{value:{confirm:a},children:[n,s&&e&&A.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded p-6 max-w-sm shadow-lg text-center",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:e.title}),A.jsx("p",{className:"text-sm text-gray-600 mb-4",children:typeof e.description=="string"?e.description:JSON.stringify(e.description)}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-200 rounded",children:e.cancelText||"Cancelar"}),A.jsx("button",{onClick:l,className:`px-4 py-2 rounded text-white ${e.variant==="danger"?"bg-red-600 hover:bg-red-700":"bg-black"}`,children:e.confirmText||"Aceptar"})]})]})})]})},ZU=()=>{const n=F.useContext(cL);if(!n)throw new Error("useConfirm must be used within a ConfirmProvider");return n.confirm},uL=F.createContext(void 0);function eq({children:n}){const[e,t]=F.useState(()=>{const o=localStorage.getItem("cartItems");return o?JSON.parse(o):[]});F.useEffect(()=>{localStorage.setItem("cartItems",JSON.stringify(e))},[e]);const r=o=>{t(a=>{const l=a.find(c=>c.id.toString()===o.id.toString()&&c.size===o.size&&c.customName===o.customName&&c.customNumber===o.customNumber&&c.options===o.options);return l?a.map(c=>c===l?{...c,quantity:c.quantity+o.quantity}:c):[...a,o]})},i=(o,a,l)=>{t(c=>c.map(u=>u.id.toString()===o.toString()&&u.size===a?{...u,...l}:u).filter(u=>u.quantity>0))},s=()=>{t([]),localStorage.removeItem("cartItems")};return A.jsx(uL.Provider,{value:{items:e,addToCart:r,updateItem:i,clearCart:s},children:n})}function S2(){const n=F.useContext(uL);if(!n)throw new Error("useCart debe usarse dentro de <CartProvider>");return n}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nq=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),dk=n=>{const e=nq(n);return e.charAt(0).toUpperCase()+e.slice(1)},dL=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>F.createElement("svg",{ref:l,...rq,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:dL("lucide",i),...a},[...o.map(([c,u])=>F.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=(n,e)=>{const t=F.forwardRef(({className:r,...i},s)=>F.createElement(iq,{ref:s,iconNode:e,className:dL(`lucide-${tq(dk(n))}`,`lucide-${n}`,r),...i}));return t.displayName=dk(n),t};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oq=Ya("arrow-left",sq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lq=Ya("arrow-right",aq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cq=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],fL=Ya("arrow-up",cq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hL=Ya("check",uq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$S=Ya("chevron-down",dq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xy=Ya("chevron-left",fq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pq=Ya("chevron-right",hq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M5 12h14",key:"1ays0h"}]],gq=Ya("minus",mq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vq=Ya("plus",yq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],bq=Ya("rocket",xq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],pL=Ya("shopping-cart",wq);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Eq=Ya("trash-2",Sq);function JC(){return A.jsx("footer",{className:"bg-black border-t border-gray-800 py-4 mt-12 text-center text-xs text-gray-400",children:A.jsxs("p",{className:"leading-tight",children:[" 2025 Looma  Made with  by"," ",A.jsx("a",{href:"https://www.devrodri.com",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-white/80 hover:text-white transition",children:"Rodrigo Opalo"})]})})}var Dw,fk;function Cq(){return fk||(fk=1,Dw={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Dw}var Aq=Cq();const _q=Vu(Aq);var Tq=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function hk(n){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},t=n.match(/<\/?([^\s]+?)[/\s>]/);if(t&&(e.name=t[1],(_q[t[1]]||n.charAt(n.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=n.indexOf("-->");return{type:"comment",comment:r!==-1?n.slice(4,r):""}}for(var i=new RegExp(Tq),s=null;(s=i.exec(n))!==null;)if(s[0].trim())if(s[1]){var o=s[1].trim(),a=[o,""];o.indexOf("=")>-1&&(a=o.split("=")),e.attrs[a[0]]=a[1],i.lastIndex--}else s[2]&&(e.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return e}var kq=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Nq=/^\s*$/,Pq=Object.create(null);function mL(n,e){switch(e.type){case"text":return n+e.content;case"tag":return n+="<"+e.name+(e.attrs?function(t){var r=[];for(var i in t)r.push(i+'="'+t[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?n:n+e.children.reduce(mL,"")+"</"+e.name+">";case"comment":return n+"<!--"+e.comment+"-->"}}var Iq={parse:function(n,e){e||(e={}),e.components||(e.components=Pq);var t,r=[],i=[],s=-1,o=!1;if(n.indexOf("<")!==0){var a=n.indexOf("<");r.push({type:"text",content:a===-1?n:n.substring(0,a)})}return n.replace(kq,function(l,c){if(o){if(l!=="</"+t.name+">")return;o=!1}var u,f=l.charAt(1)!=="/",m=l.startsWith("<!--"),p=c+l.length,g=n.charAt(p);if(m){var v=hk(l);return s<0?(r.push(v),r):((u=i[s]).children.push(v),r)}if(f&&(s++,(t=hk(l)).type==="tag"&&e.components[t.name]&&(t.type="component",o=!0),t.voidElement||o||!g||g==="<"||t.children.push({type:"text",content:n.slice(p,n.indexOf("<",p))}),s===0&&r.push(t),(u=i[s-1])&&u.children.push(t),i[s]=t),(!f||t.voidElement)&&(s>-1&&(t.voidElement||t.name===l.slice(2,-1))&&(s--,t=s===-1?r:i[s]),!o&&g!=="<"&&g)){u=s===-1?r:i[s].children;var b=n.indexOf("<",p),S=n.slice(p,b===-1?void 0:b);Nq.test(S)&&(S=" "),(b>-1&&s+u.length>=0||S!==" ")&&u.push({type:"text",content:S})}}),r},stringify:function(n){return n.reduce(function(e,t){return e+mL("",t)},"")}};const Jy=(n,e,t,r)=>{var s,o,a,l;const i=[t,{code:e,...r||{}}];if((o=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&o.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);qa(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},pk={},cg=(n,e,t,r)=>{qa(t)&&pk[t]||(qa(t)&&(pk[t]=new Date),Jy(n,e,t,r))},gL=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},zS=(n,e,t)=>{n.loadNamespaces(e,gL(n,t))},mk=(n,e,t,r)=>{if(qa(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return zS(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,gL(n,r))},Dq=(n,e,t={})=>!e.languages||!e.languages.length?(cg(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var s;if(((s=t.bindI18n)==null?void 0:s.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),qa=n=>typeof n=="string",ih=n=>typeof n=="object"&&n!==null,Rq=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Lq={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Oq=n=>Lq[n],Mq=n=>n.replace(Rq,Oq);let US={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Mq};const Fq=(n={})=>{US={...US,...n}},yL=()=>US;let vL;const jq=n=>{vL=n},QC=()=>vL,Rw=(n,e)=>{var r;if(!n)return!1;const t=((r=n.props)==null?void 0:r.children)??n.children;return e?t.length>0:!!t},Lw=n=>{var t,r;if(!n)return[];const e=((t=n.props)==null?void 0:t.children)??n.children;return(r=n.props)!=null&&r.i18nIsDynamicList?Rp(e):e},Bq=n=>Array.isArray(n)&&n.every(F.isValidElement),Rp=n=>Array.isArray(n)?n:[n],Vq=(n,e)=>{const t={...e};return t.props=Object.assign(n.props,e.props),t},xL=(n,e,t,r)=>{if(!n)return"";let i="";const s=Rp(n),o=e!=null&&e.transSupportBasicHtmlNodes?e.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((a,l)=>{if(qa(a)){i+=`${a}`;return}if(F.isValidElement(a)){const{props:c,type:u}=a,f=Object.keys(c).length,m=o.indexOf(u)>-1,p=c.children;if(!p&&m&&!f){i+=`<${u}/>`;return}if(!p&&(!m||f)||c.i18nIsDynamicList){i+=`<${l}></${l}>`;return}if(m&&f===1&&qa(p)){i+=`<${u}>${p}</${u}>`;return}const g=xL(p,e,t,r);i+=`<${l}>${g}</${l}>`;return}if(a===null){Jy(t,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(ih(a)){const{format:c,...u}=a,f=Object.keys(u);if(f.length===1){const m=c?`${f[0]}, ${c}`:f[0];i+=`{{${m}}}`;return}Jy(t,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:a});return}Jy(t,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:a})}),i},$q=(n,e,t,r,i,s)=>{if(e==="")return[];const o=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(o.map(b=>`<${b}`).join("|")).test(e);if(!n&&!a&&!s)return[e];const l={},c=b=>{Rp(b).forEach(E=>{qa(E)||(Rw(E)?c(Lw(E)):ih(E)&&!F.isValidElement(E)&&Object.assign(l,E))})};c(n);const u=Iq.parse(`<0>${e}</0>`),f={...l,...i},m=(b,S,E)=>{var B;const _=Lw(b),R=g(_,S.children,E);return Bq(_)&&R.length===0||(B=b.props)!=null&&B.i18nIsDynamicList?_:R},p=(b,S,E,_,R)=>{b.dummy?(b.children=S,E.push(F.cloneElement(b,{key:_},R?void 0:S))):E.push(...F.Children.map([b],B=>{const U={...B.props};return delete U.i18nIsDynamicList,F.createElement(B.type,{...U,key:_,ref:B.props.ref??B.ref},R?null:S)}))},g=(b,S,E)=>{const _=Rp(b);return Rp(S).reduce((B,U,O)=>{var I,P;const C=((P=(I=U.children)==null?void 0:I[0])==null?void 0:P.content)&&t.services.interpolator.interpolate(U.children[0].content,f,t.language);if(U.type==="tag"){let N=_[parseInt(U.name,10)];E.length===1&&!N&&(N=E[0][U.name]),N||(N={});const D=Object.keys(U.attrs).length!==0?Vq({props:U.attrs},N):N,L=F.isValidElement(D),W=L&&Rw(U,!0)&&!U.voidElement,ie=a&&ih(D)&&D.dummy&&!L,oe=ih(n)&&Object.hasOwnProperty.call(n,U.name);if(qa(D)){const re=t.services.interpolator.interpolate(D,f,t.language);B.push(re)}else if(Rw(D)||W){const re=m(D,U,E);p(D,re,B,O)}else if(ie){const re=g(_,U.children,E);p(D,re,B,O)}else if(Number.isNaN(parseFloat(U.name)))if(oe){const re=m(D,U,E);p(D,re,B,O,U.voidElement)}else if(r.transSupportBasicHtmlNodes&&o.indexOf(U.name)>-1)if(U.voidElement)B.push(F.createElement(U.name,{key:`${U.name}-${O}`}));else{const re=g(_,U.children,E);B.push(F.createElement(U.name,{key:`${U.name}-${O}`},re))}else if(U.voidElement)B.push(`<${U.name} />`);else{const re=g(_,U.children,E);B.push(`<${U.name}>${re}</${U.name}>`)}else if(ih(D)&&!L){const re=U.children[0]?C:null;re&&B.push(re)}else p(D,C,B,O,U.children.length!==1||!C)}else if(U.type==="text"){const N=r.transWrapTextNodes,D=s?r.unescape(t.services.interpolator.interpolate(U.content,f,t.language)):t.services.interpolator.interpolate(U.content,f,t.language);N?B.push(F.createElement(N,{key:`${U.name}-${O}`},D)):B.push(D)}return B},[])},v=g([{dummy:!0,children:n||[]}],u,Rp(n||[]));return Lw(v[0])},bL=(n,e,t)=>{const r=n.key||e,i=F.cloneElement(n,{key:r});if(!i.props||!i.props.children||t.indexOf(`${e}/>`)<0&&t.indexOf(`${e} />`)<0)return i;function s(){return F.createElement(F.Fragment,null,i)}return F.createElement(s,{key:r})},zq=(n,e)=>n.map((t,r)=>bL(t,r,e)),Uq=(n,e)=>{const t={};return Object.keys(n).forEach(r=>{Object.assign(t,{[r]:bL(n[r],r,e)})}),t},qq=(n,e,t,r)=>n?Array.isArray(n)?zq(n,e):ih(n)?Uq(n,e):(cg(t,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null;function Hq({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:c,i18n:u,t:f,shouldUnescape:m,...p}){var D,L,W,ie,oe,re;const g=u||QC();if(!g)return cg(g,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),n;const v=f||g.t.bind(g)||(X=>X),b={...yL(),...(D=g.options)==null?void 0:D.react};let S=c||v.ns||((L=g.options)==null?void 0:L.defaultNS);S=qa(S)?[S]:S||["translation"];const E=xL(n,b,g,r),_=a||E||b.transEmptyNodeValue||r,{hashTransKey:R}=b,B=r||(R?R(E||_):E||_);(ie=(W=g.options)==null?void 0:W.interpolation)!=null&&ie.defaultVariables&&(o=o&&Object.keys(o).length>0?{...o,...g.options.interpolation.defaultVariables}:{...g.options.interpolation.defaultVariables});const U=o||e!==void 0&&!((re=(oe=g.options)==null?void 0:oe.interpolation)!=null&&re.alwaysFormat)||!n?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},O={...s,context:i||s.context,count:e,...o,...U,defaultValue:_,ns:S},C=B?v(B,O):_,I=qq(l,C,g,r),P=$q(I||n,C,g,b,O,m),N=t??b.defaultTransParent;return N?F.createElement(N,p,P):P}const wL={type:"3rdParty",init(n){Fq(n.options.react),jq(n)}},SL=F.createContext();class Wq{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Gq({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:s={},values:o,defaults:a,components:l,ns:c,i18n:u,t:f,shouldUnescape:m,...p}){var E;const{i18n:g,defaultNS:v}=F.useContext(SL)||{},b=u||g||QC(),S=f||(b==null?void 0:b.t.bind(b));return Hq({children:n,count:e,parent:t,i18nKey:r,context:i,tOptions:s,values:o,defaults:a,components:l,ns:c||(S==null?void 0:S.ns)||v||((E=b==null?void 0:b.options)==null?void 0:E.defaultNS),i18n:b,t:f,shouldUnescape:m,...p})}const Kq=(n,e)=>{const t=F.useRef();return F.useEffect(()=>{t.current=n},[n,e]),t.current},EL=(n,e,t,r)=>n.getFixedT(e,t,r),Yq=(n,e,t,r)=>F.useCallback(EL(n,e,t,r),[n,e,t,r]),ho=(n,e={})=>{var R,B,U,O;const{i18n:t}=e,{i18n:r,defaultNS:i}=F.useContext(SL)||{},s=t||r||QC();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Wq),!s){cg(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const C=(P,N)=>qa(N)?N:ih(N)&&qa(N.defaultValue)?N.defaultValue:Array.isArray(P)?P[P.length-1]:P,I=[C,{},!1];return I.t=C,I.i18n={},I.ready=!1,I}(R=s.options.react)!=null&&R.wait&&cg(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...yL(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let c=i||((B=s.options)==null?void 0:B.defaultNS);c=qa(c)?[c]:c||["translation"],(O=(U=s.reportNamespaces).addUsedNamespaces)==null||O.call(U,c);const u=(s.isInitialized||s.initializedStoreOnce)&&c.every(C=>Dq(C,s,o)),f=Yq(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),m=()=>f,p=()=>EL(s,e.lng||null,o.nsMode==="fallback"?c:c[0],l),[g,v]=F.useState(m);let b=c.join();e.lng&&(b=`${e.lng}${b}`);const S=Kq(b),E=F.useRef(!0);F.useEffect(()=>{const{bindI18n:C,bindI18nStore:I}=o;E.current=!0,!u&&!a&&(e.lng?mk(s,e.lng,c,()=>{E.current&&v(p)}):zS(s,c,()=>{E.current&&v(p)})),u&&S&&S!==b&&E.current&&v(p);const P=()=>{E.current&&v(p)};return C&&(s==null||s.on(C,P)),I&&(s==null||s.store.on(I,P)),()=>{E.current=!1,s&&(C==null||C.split(" ").forEach(N=>s.off(N,P))),I&&s&&I.split(" ").forEach(N=>s.store.off(N,P))}},[s,b]),F.useEffect(()=>{E.current&&u&&v(m)},[s,l,u]);const _=[g,s,u];if(_.t=g,_.i18n=s,_.ready=u,u||!u&&!a)return _;throw new Promise(C=>{e.lng?mk(s,e.lng,c,()=>C()):zS(s,c,()=>C())})},Xq=["https://res.cloudinary.com/ddkyumyw3/video/upload/v1750003770/FUXION2_f6kk4g.mp4","https://res.cloudinary.com/ddkyumyw3/video/upload/v1750000500/PURE2_detyqs.mp4","https://res.cloudinary.com/ddkyumyw3/video/upload/v1750119796/PURE7_l5zvrs.mov"];function Jq(){const{t:n}=ho();return F.useEffect(()=>{const e=new IntersectionObserver(r=>{r.forEach(i=>{i.isIntersecting&&i.target.classList.add("animate-fadeInUp")})},{threshold:.1});return document.querySelectorAll(".video-showcase-title").forEach(r=>e.observe(r)),()=>e.disconnect()},[]),A.jsx("section",{className:"bg-white pb-0 mb-0 pt-16 px-4 text-black",children:A.jsxs("div",{className:"max-w-7xl mx-auto",children:[A.jsxs("div",{className:"animate-fadeIn",children:[A.jsx("h2",{className:"video-showcase-title text-4xl sm:text-6xl font-extrabold text-center mb-1 tracking-tight text-[#365486] drop-shadow-[0_4px_12px_rgba(0,0,0,0.4)] transition-all duration-700",children:n("highlights.title")}),A.jsx("div",{className:"video-showcase-title text-center mt-2 mb-10 transition-opacity duration-700 delay-300",children:A.jsx("p",{className:"text-base sm:text-lg text-gray-700",children:n("highlights.subtitle")})})]}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-3 gap-8",children:Xq.map((e,t)=>A.jsx("div",{className:"overflow-hidden rounded-2xl border border-neutral-200 shadow-lg bg-white aspect-[9/16] transform transition-transform duration-300 hover:scale-105 opacity-0 animate-fadeIn",style:{animationDelay:`${t*.3}s`,animationFillMode:"forwards"},children:A.jsx("video",{src:e,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1/tucasaca/poster-placeholder.jpg",className:"w-full h-full object-cover"})},t))})]})})}const Qq="/logo.png";var CL={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gk=dt.createContext&&dt.createContext(CL),Zq=["attr","size","title"];function eH(n,e){if(n==null)return{};var t=tH(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tH(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dx(){return dx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dx.apply(this,arguments)}function yk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(t),!0).forEach(function(r){nH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nH(n,e,t){return e=rH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rH(n){var e=iH(n,"string");return typeof e=="symbol"?e:e+""}function iH(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AL(n){return n&&n.map((e,t)=>dt.createElement(e.tag,fx({key:t},e.attr),AL(e.child)))}function E2(n){return e=>dt.createElement(sH,dx({attr:fx({},n.attr)},e),AL(n.child))}function sH(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=eH(n,Zq),a=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),dt.createElement("svg",dx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:fx(fx({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&dt.createElement("title",null,s),n.children)};return gk!==void 0?dt.createElement(gk.Consumer,null,t=>e(t)):e(CL)}function oH(n){return E2({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}const nn=n=>typeof n=="string",mm=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},vk=n=>n==null?"":""+n,aH=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},lH=/###/g,xk=n=>n&&n.indexOf("###")>-1?n.replace(lH,"."):n,bk=n=>!n||nn(n),Bm=(n,e,t)=>{const r=nn(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(bk(n))return{};const s=xk(r[i]);!n[s]&&t&&(n[s]=new t),Object.prototype.hasOwnProperty.call(n,s)?n=n[s]:n={},++i}return bk(n)?{}:{obj:n,k:xk(r[i])}},wk=(n,e,t)=>{const{obj:r,k:i}=Bm(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Bm(n,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Bm(n,o,Object),a!=null&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=t},cH=(n,e,t,r)=>{const{obj:i,k:s}=Bm(n,e,Object);i[s]=i[s]||[],i[s].push(t)},hx=(n,e)=>{const{obj:t,k:r}=Bm(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},uH=(n,e,t)=>{const r=hx(n,t);return r!==void 0?r:hx(e,t)},_L=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?nn(n[r])||n[r]instanceof String||nn(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):_L(n[r],e[r],t):n[r]=e[r]);return n},gp=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var dH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fH=n=>nn(n)?n.replace(/[&<>"'\/]/g,e=>dH[e]):n;class hH{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const pH=[" ",",","?","!",";"],mH=new hH(20),gH=(n,e,t)=>{e=e||"",t=t||"";const r=pH.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const i=mH.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(n);if(!s){const o=n.indexOf(t);o>0&&!i.test(n.substring(0,o))&&(s=!0)}return s},qS=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<r.length;++l)if(l!==s&&(a+=t),a+=r[l],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=o}return i},ug=n=>n==null?void 0:n.replace("_","-"),yH={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};let vH=class HS{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||yH,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(nn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new HS(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new HS(this.logger,e)}};var vc=new vH;let C2=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...t])})}};class Sk extends C2{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var c,u;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],r&&(Array.isArray(r)?a.push(...r):nn(r)&&s?a.push(...r.split(s)):a.push(r)));const l=hx(this.data,a);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=a[0],t=a[1],r=a.slice(2).join(".")),l||!o||!nn(r)?l:qS((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[t],r,s)}addResource(e,t,r,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,t];r&&(a=a.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),wk(this.data,a,i),s.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const s in r)(nn(r[s])||Array.isArray(r[s]))&&this.addResource(e,t,s,r[s],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,s,o={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=t,t=a[1]),this.addNamespaces(t);let l=hx(this.data,a)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?_L(l,r,s):l={...l,...r},wk(this.data,a,l),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var TL={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(s=>{var o;e=((o=this.processors[s])==null?void 0:o.process(e,t,r,i))??e}),e}};const Ek={},Ck=n=>!nn(n)&&typeof n!="boolean"&&typeof n!="number";class px extends C2{constructor(e,t={}){super(),aH(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!gH(e,r,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:nn(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:nn(s)?[s]:s}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const f=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return m?s?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${a}`:s?{res:a,usedKey:a,exactUsedKey:a,usedLng:f,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const p=this.resolve(e,i);let g=p==null?void 0:p.res;const v=(p==null?void 0:p.usedKey)||a,b=(p==null?void 0:p.exactUsedKey)||a,S=["[object Number]","[object Function]","[object RegExp]"],E=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,R=i.count!==void 0&&!nn(i.count),B=px.hasDefaultValue(i),U=R?this.pluralResolver.getSuffix(f,i.count,i):"",O=i.ordinal&&R?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",C=R&&!i.ordinal&&i.count===0,I=C&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${U}`]||i[`defaultValue${O}`]||i.defaultValue;let P=g;_&&!g&&B&&(P=I);const N=Ck(P),D=Object.prototype.toString.apply(P);if(_&&P&&N&&S.indexOf(D)<0&&!(nn(E)&&Array.isArray(P))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,P,{...i,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(p.res=L,p.usedParams=this.getUsedParamsDetails(i),p):L}if(o){const L=Array.isArray(P),W=L?[]:{},ie=L?b:v;for(const oe in P)if(Object.prototype.hasOwnProperty.call(P,oe)){const re=`${ie}${o}${oe}`;B&&!g?W[oe]=this.translate(re,{...i,defaultValue:Ck(I)?I[oe]:void 0,joinArrays:!1,ns:l}):W[oe]=this.translate(re,{...i,joinArrays:!1,ns:l}),W[oe]===re&&(W[oe]=P[oe])}g=W}}else if(_&&nn(E)&&Array.isArray(g))g=g.join(E),g&&(g=this.extendTranslation(g,e,i,r));else{let L=!1,W=!1;!this.isValidLookup(g)&&B&&(L=!0,g=I),this.isValidLookup(g)||(W=!0,g=a);const oe=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:g,re=B&&I!==g&&this.options.updateMissing;if(W||L||re){if(this.logger.log(re?"updateKey":"missingKey",f,c,a,re?I:g),o){const Y=this.resolve(a,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let Y=0;Y<de.length;Y++)X.push(de[Y]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(i.lng||this.language):X.push(i.lng||this.language);const ae=(Y,$,K)=>{var ee;const J=B&&K!==g?K:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,c,$,J,re,i):(ee=this.backendConnector)!=null&&ee.saveMissing&&this.backendConnector.saveMissing(Y,c,$,J,re,i),this.emit("missingKey",Y,c,$,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?X.forEach(Y=>{const $=this.pluralResolver.getSuffixes(Y,i);C&&i[`defaultValue${this.options.pluralSeparator}zero`]&&$.indexOf(`${this.options.pluralSeparator}zero`)<0&&$.push(`${this.options.pluralSeparator}zero`),$.forEach(K=>{ae([Y],a+K,i[`defaultValue${K}`]||I)})}):ae(X,a,I))}g=this.extendTranslation(g,e,i,p,r),W&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${c}${u}${a}`),(W||L)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,L?g:void 0,i))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(e,t,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=nn(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const p=e.match(this.interpolator.nestingRegexp);f=p&&p.length}let m=r.replace&&!nn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,r.lng||this.language||i.usedLng,r),u){const p=e.match(this.interpolator.nestingRegexp),g=p&&p.length;f<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${t[0]}`),null):this.translate(...p,t),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,a=nn(o)?[o]:o;return e!=null&&(a!=null&&a.length)&&r.applyPostProcessor!==!1&&(e=TL.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,s,o,a;return nn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,t),u=c.key;i=u;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const m=t.count!==void 0&&!nn(t.count),p=m&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(nn(t.context)||typeof t.context=="number")&&t.context!=="",v=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(b=>{var S,E;this.isValidLookup(r)||(a=b,!Ek[`${v[0]}-${b}`]&&((S=this.utils)!=null&&S.hasLoadedNamespace)&&!((E=this.utils)!=null&&E.hasLoadedNamespace(a))&&(Ek[`${v[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${v.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(_=>{var U;if(this.isValidLookup(r))return;o=_;const R=[u];if((U=this.i18nFormat)!=null&&U.addLookupKeys)this.i18nFormat.addLookupKeys(R,u,_,b,t);else{let O;m&&(O=this.pluralResolver.getSuffix(_,t.count,t));const C=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(R.push(u+O),t.ordinal&&O.indexOf(I)===0&&R.push(u+O.replace(I,this.options.pluralSeparator)),p&&R.push(u+C)),g){const P=`${u}${this.options.contextSeparator}${t.context}`;R.push(P),m&&(R.push(P+O),t.ordinal&&O.indexOf(I)===0&&R.push(P+O.replace(I,this.options.pluralSeparator)),p&&R.push(P+C))}}let B;for(;B=R.pop();)this.isValidLookup(r)||(s=B,r=this.getResource(_,b,B,t))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!nn(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Ak{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vc.create("languageUtils")}getScriptPartFromCode(e){if(e=ug(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=ug(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(nn(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return t=s;t=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),nn(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return nn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):nn(e)&&s(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const _k={zero:0,one:1,two:2,few:3,many:4,other:5},Tk={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class xH{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=vc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=ug(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Tk;if(!e.match(/-|_/))return Tk;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[s]=o,o}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>_k[i]-_k[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const kk=(n,e,t,r=".",i=!0)=>{let s=uH(n,e,t);return!s&&i&&nn(t)&&(s=qS(n,t,r),s===void 0&&(s=qS(e,t,r))),s},Ow=n=>n.replace(/\$/g,"$$$$");class bH{constructor(e={}){var t;this.logger=vc.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:f,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:v,nestingOptionsSeparator:b,maxReplaces:S,alwaysFormat:E}=e.interpolation;this.escape=t!==void 0?t:fH,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?gp(s):o||"{{",this.suffix=a?gp(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?gp(m):p||gp("$t("),this.nestingSuffix=g?gp(g):v||gp(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=S||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var p;let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const E=kk(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(E,void 0,r,{...i,...t,interpolationkey:g}):E}const v=g.split(this.formatSeparator),b=v.shift().trim(),S=v.join(this.formatSeparator).trim();return this.format(kk(t,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...t,interpolationkey:b})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Ow(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Ow(this.escape(g)):Ow(g)}].forEach(g=>{for(a=0;s=g.regex.exec(e);){const v=s[1].trim();if(o=c(v),o===void 0)if(typeof u=="function"){const S=u(e,s,i);o=nn(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!nn(o)&&!this.useRawValueToEscape&&(o=vk(o));const b=g.safeValue(o);if(e=e.replace(s[0],b),f?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,s,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const f=l.split(new RegExp(`${u}[ ]*{`));let m=`{${f[1]}`;l=f[0],m=this.interpolate(m,o);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),c&&(o={...c,...o})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,v),`${l}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...r},o=o.replace&&!nn(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=u.shift(),l=u,c=!0}if(s=t(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!nn(s))return s;nn(s)||(s=vk(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((u,f)=>this.format(u,f,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const wH=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=c),c==="false"&&(t[u]=!1),c==="true"&&(t[u]=!0),isNaN(c)||(t[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},Nk=n=>{const e={};return(t,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=r+JSON.stringify(s);let a=e[o];return a||(a=n(ug(r),i),e[o]=a),a(t)}},SH=n=>(e,t,r)=>n(ug(t),r)(e);class EH{constructor(e={}){this.logger=vc.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Nk:SH;this.formats={number:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return a=>o.format(a)}),currency:r((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return a=>o.format(a)}),datetime:r((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return a=>o.format(a)}),relativetime:r((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return a=>o.format(a,s.range||"day")}),list:r((i,s)=>{const o=new Intl.ListFormat(i,{...s});return a=>o.format(a)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Nk(t)}format(e,t,r,i={}){const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,l)=>{var f;const{formatName:c,formatOptions:u}=wH(l);if(this.formats[c]){let m=a;try{const p=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;m=this.formats[c](a,g,{...u,...i,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const CH=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class AH extends C2{constructor(e,t,r,i={}){var s,o;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=vc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(s=this.backend)==null?void 0:s.init)==null||o.call(s,r,i.backend,i)}queueLoad(e,t,r,i){const s={},o={},a={},l={};return e.forEach(c=>{let u=!0;t.forEach(f=>{const m=`${c}|${f}`;!r.reload&&this.store.hasResourceBundle(c,f)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),s[m]===void 0&&(s[m]=!0),l[f]===void 0&&(l[f]=!0)))}),u||(a[c]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const i=e.split("|"),s=i[0],o=i[1];t&&this.emit("failedLoading",s,o,t),!t&&r&&this.store.addResourceBundle(s,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{cH(l.loaded,[s],o),CH(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(f=>{a[c][f]===void 0&&(a[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,s*2,o)},s);return}o(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();nn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nn(t)&&(t=[t]);const s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,t,r,i,s,o={},a=()=>{}){var l,c,u,f,m;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((f=(u=this.services)==null?void 0:u.utils)!=null&&f.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const p={...o,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let v;g.length===5?v=g(e,t,r,i,p):v=g(e,t,r,i),v&&typeof v.then=="function"?v.then(b=>a(null,b)).catch(a):a(null,v)}catch(v){a(v)}else g(e,t,r,i,a,p)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const Pk=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),nn(n[1])&&(e.defaultValue=n[1]),nn(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ik=n=>{var e,t;return nn(n.ns)&&(n.ns=[n.ns]),nn(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),nn(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},hy=()=>{},_H=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class dg extends C2{constructor(e={},t){if(super(),this.options=Ik(e),this.services={},this.logger=vc,this.modules={external:[]},_H(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(nn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Pk();this.options={...r,...this.options,...Ik(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?vc.init(i(this.modules.logger),this.options):vc.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=EH;const u=new Ak(this.options);this.store=new Sk(this.options.resources,this.options);const f=this.services;f.logger=vc,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new xH(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new bH(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new AH(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new px(this.services,this.options),this.translator.on("*",(m,...p)=>{this.emit(m,...p)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,t||(t=hy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=mm(),l=()=>{const c=(u,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(f),t(u,f)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,t=hy){var s,o;let r=t;const i=nn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const a=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(o=(s=this.options.preload)==null?void 0:s.forEach)==null||o.call(s,c=>l(c)),this.services.backendConnector.load(a,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const i=mm();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=hy),this.services.backendConnector.reload(e,t,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&TL.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=mm();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},s=(a,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),t&&t(a,(...c)=>this.t(...c))},o=a=>{var u,f;!e&&!a&&this.services.languageDetector&&(a=[]);const l=nn(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(nn(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(f=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||f.call(u,c)),this.loadResources(c,m=>{s(m,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,r){const i=(s,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([s,o].concat(a)):l={...o},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(s)?u=s.map(f=>`${l.keyPrefix}${c}${f}`):u=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s,this.t(u,l)};return nn(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(s,e)))}loadNamespaces(e,t){const r=mm();return this.options.ns?(nn(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=mm();nn(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new Ak(Pk());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new dg(e,t)}cloneInstance(e={},t=hy){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new dg(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,f)=>(u[f]={...l[c][f]},u),l[c]),l),{});s.store=new Sk(a,i),s.services.resourceStore=s.store}return s.translator=new px(s.services,i),s.translator.on("*",(a,...l)=>{s.emit(a,...l)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Jr=dg.createInstance();Jr.createInstance=dg.createInstance;Jr.createInstance;Jr.dir;Jr.init;Jr.loadResources;Jr.reloadResources;Jr.use;Jr.changeLanguage;Jr.getFixedT;Jr.t;Jr.exists;Jr.setDefaultNamespace;Jr.hasLoadedNamespace;Jr.loadNamespaces;Jr.loadLanguages;const{slice:TH,forEach:kH}=[];function NH(n){return kH.call(TH.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function PH(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const Dk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,IH=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${n}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!Dk.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!Dk.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},Rk={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=IH(n,encodeURIComponent(e),i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n){this.create(n,"",-1)}};var DH={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Rk.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;t&&typeof document<"u"&&Rk.create(t,n,r,i,s)}},RH={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let a=0;a<o.length;a++){const l=o[a].indexOf("=");l>0&&o[a].substring(0,l)===e&&(t=o[a].substring(l+1))}}return t}};let yp=null;const Lk=()=>{if(yp!==null)return yp;try{if(yp=typeof window<"u"&&window.localStorage!==null,!yp)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{yp=!1}return yp};var LH={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Lk())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Lk()&&window.localStorage.setItem(t,n)}};let vp=null;const Ok=()=>{if(vp!==null)return vp;try{if(vp=typeof window<"u"&&window.sessionStorage!==null,!vp)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{vp=!1}return vp};var OH={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Ok())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Ok()&&window.sessionStorage.setItem(t,n)}},MH={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let s=0;s<t.length;s++)e.push(t[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},FH={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},jH={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},BH={name:"subdomain",lookup(n){var i,s;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let kL=!1;try{document.cookie,kL=!0}catch{}const NL=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];kL||NL.splice(1,1);const VH=()=>({order:NL,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class ZC{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=NH(t,this.options||{},VH()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(DH),this.addDetector(RH),this.addDetector(LH),this.addDetector(OH),this.addDetector(MH),this.addDetector(FH),this.addDetector(jH),this.addDetector(BH)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!PH(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}ZC.type="languageDetector";const $H={tagline:"Soluciones naturales para tu bienestar diario",headline1:"Nutricin celular",headline2:"con respaldo cientfico",description:"Descubr los productos Fuxion seleccionados para transformar tu salud desde adentro.",button:"Ver productos Fuxion"},zH={tagline:"Suplementos Naturales",headline1:"Apoyo Cognitivo",headline2:"y Bienestar Diario",description:"Descubr Double Wood Supplements: salud cerebral, energa y longevidad con respaldo natural.",button:"Ver productos Double Wood"},UH={tagline:"Bienestar Puro",headline1:"Suplementos de Alta Calidad",headline2:"Pure Encapsulations",description:"Descubr nuestra lnea premium de suplementos nutricionales diseados para un bienestar ptimo.",button:"Descubrir Pure"},qH={shop:"Tienda",about:"Nosotros",contact:"Contacto"},HH={relatedProducts:"Productos relacionados",addToCart:"Agregar al carrito",outOfStock:"Agotado",selectSize:"Seleccion un talle",customizationNote:"Las camisetas personalizadas requieren tiempo adicional de entrega.",inStock:"En stock",preOrder:"Por encargue",description:"Descripcin",price:"Precio",backToCatalog:"Volver al catlogo",quantity:"Cantidad",featuredProduct:"Producto destacado"},WH={clearFilters:"Limpiar filtros",showAll:"Mostrar todo",allProducts:"Productos disponibles",searchPlaceholder:"Ej: magnesio",filterBy:"Marcas y lneas",backToHome:"Volver al inicio",searchLabel:"Buscar por nombre",productsFound:"{{count}} producto encontrado",productsFound_plural:"{{count}} productos encontrados",sortBy:"Ordenar por",sortPriceAsc:"Precio: menor a mayor",sortPriceDesc:"Precio: mayor a menor",sortNameAZ:"Nombre: A a Z",sortNameZA:"Nombre: Z a A",noProductsFound:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a Mostrar todo.",noResults:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a Mostrar todo.",noResultsClickable:"No se encontraron productos para esta seleccin. Prob con otros filtros o volv a <showAll>Mostrar todo</showAll>."},GH={slide1:{title:"La ciencia de Fuxion en accin",subtitle:"Innovacin nutricional en cada sorbo"},slide2:{title:"Tu salud, tu eleccin",subtitle:"Productos nutracuticos para un mejor bienestar"},slide3:{title:"Fuxion transforma vidas",subtitle:"Nutricin de vanguardia, resultados reales"},slide4:{title:"Vitalidad desde la raz",subtitle:"Frmulas basadas en ciencia y naturaleza"},slide5:{title:"Pure Encapsulations",subtitle:"Suplementos premium basados en evidencia clnica"},slide6:{title:"Confianza mdica",subtitle:"Formulados sin alrgenos comunes"},slide7:{title:"Pura transparencia",subtitle:"Ingredientes puros, resultados reales"},slide8:{title:"Calidad sin compromisos",subtitle:"Estndares estrictos en cada cpsula"},slide9:{title:"Ciencia natural en accin",subtitle:"Apoyo cognitivo con respaldo herbal"},slide10:{title:"Energa y foco diario",subtitle:"Suplementos que impulsan tu da"},slide11:{title:"Frmulas avanzadas",subtitle:"Pureza y potencia desde la naturaleza"},slide12:{title:"Tu salud, nuestra misin",subtitle:"Confianza respaldada por miles de usuarios"},cta:"COMPRAR AHORA"},KH={title:"Marcas que potencian tu bienestar",eyebrow:"NUTRICIN FUNCIONAL Y BIENESTAR",powerfulBrands:"Marcas que potencian tu bienestar"},YH={title:"Bienestar en accin",subtitle:"Descubr cmo nuestros suplementos mejoran tu salud cada da."},XH={title:"Quines somos",description:"Bionova es una tienda online dedicada a ofrecer suplementos de alta calidad que potencian tu salud y bienestar. Seleccionamos cuidadosamente productos de marcas reconocidas como Fuxion, Pure Encapsulations y Double Wood Supplements, combinando naturaleza y ciencia en cada eleccin. Operamos desde Miami y realizamos envos seguros a todo Estados Unidos.",mission:"Nuestra misin es acercarte soluciones naturales respaldadas por la ciencia, con atencin personalizada, entregas rpidas y una experiencia de compra simple y confiable.",addressLabel:"Direccin comercial",address:`20200 NW 2nd Ave, STE 108
Miami Gardens, FL 33169, USA`,emailLabel:"Email de contacto",email:"info@getbionova.com",cta:"Conoc nuestros productos",subtitle:"NUESTRO COMPROMISO",headline:"Ciencia, naturaleza y bienestar en cada frmula",preview:"En Bionova te acercamos suplementos naturales de alta calidad, cuidadosamente seleccionados de marcas lderes como Fuxion, Pure Encapsulations y Double Wood. Combinamos evidencia cientfica con el poder de la naturaleza para apoyar tu salud de forma integral y confiable."},JH={title:"Necesits ayuda? Estamos para vos.",description:"Pods escribirnos en cualquier momento a nuestro correo electrnico y te responderemos a la brevedad. Nuestro equipo est basado en Miami y te asistir en ingls o espaol, segn prefieras.",cta:"Escribinos por email"},PL={hero:$H,dw:zH,pure:UH,nav:qH,productPage:HH,shop:WH,promoSlider:GH,categories:KH,highlights:YH,about:XH,contact:JH},QH={tagline:"Natural solutions for your daily wellness",headline1:"Cellular nutrition",headline2:"With scientific backing",description:"Discover Fuxion products selected to transform your health from within.",button:"View Fuxion products"},ZH={tagline:"Natural supplements",headline1:"Cognitive Support",headline2:"& Daily Wellness",description:"Discover Double Wood Supplements: brain health, energy, and longevity backed by natural science.",button:"View Double Wood products"},eW={tagline:"Pure Encapsulations",headline1:"Pure Quality",headline2:"Trusted Worldwide",description:"Clinical-grade supplements backed by science.",button:"Discover Pure"},tW={shop:"Shop",about:"About",contact:"Contact"},nW={backToHome:"Back to home",searchLabel:"Search by name",productsFound:"{{count}} product found",productsFound_plural:"{{count}} products found",filterBy:"Brands & Lines",searchPlaceholder:"Ex: magnesium",allProducts:"Available products",sortBy:"Sort by",sortPriceAsc:"Price: Low to High",sortPriceDesc:"Price: High to Low",sortNameAZ:"Name: A to Z",sortNameZA:"Name: Z to A",clearFilters:"Clear filters",showAll:"Show all",noResults:"No products found for this selection. Try other filters or go back to Show all.",noResultsClickable:"No products found for this selection. Try other filters or go back to <showAll>Show all</showAll>."},rW={backToCatalog:"Back to catalog",featuredProduct:"Featured product",option:"Option",quantity:"Quantity",addToCart:"Add to cart",outOfStock:"OUT OF STOCK",viewCart:"View cart",relatedProducts:"You might also like"},iW={slide1:{title:"The science of Fuxion in action",subtitle:"Nutritional innovation in every sip"},slide2:{title:"Your health, your choice",subtitle:"Nutraceutical products for better wellness"},slide3:{title:"Fuxion transforms lives",subtitle:"Cutting-edge nutrition, real results"},slide4:{title:"Vitality from the root",subtitle:"Formulas based on science and nature"},slide5:{title:"Pure Encapsulations",subtitle:"Premium supplements backed by clinical evidence"},slide6:{title:"Medical-grade confidence",subtitle:"Formulated without common allergens"},slide7:{title:"Pure transparency",subtitle:"Clean ingredients, real results"},slide8:{title:"Uncompromising quality",subtitle:"Strict standards in every capsule"},slide9:{title:"Cognitive Support & Daily Vitality",subtitle:"Natural formulas for sharp focus and energy"},slide10:{title:"Your Brains Best Ally",subtitle:"Supplements to protect and energize your mind"},slide11:{title:"Sharper mind, stronger you",subtitle:"Clinically tested ingredients to support brain health"},slide12:{title:"Longevity Starts Here",subtitle:"Support your long-term vitality with natural solutions"},cta:"SHOP NOW"},sW={title:"Brands that empower your wellness",eyebrow:"FUNCTIONAL NUTRITION AND WELLNESS"},oW={title:"Wellness in action",subtitle:"Discover how our supplements enhance your daily health"},aW={title:"About Us",description:"Bionova is an online store dedicated to offering high-quality supplements that enhance your health and wellness. We carefully select products from trusted brands such as Fuxion, Pure Encapsulations, and Double Wood Supplements, combining the power of nature with scientific evidence. Based in Miami, we ship safely across the United States.",mission:"Our mission is to bring you natural solutions backed by science, with personalized service, fast shipping, and a seamless, trustworthy shopping experience.",addressLabel:"Business address",address:`20200 NW 2nd Ave, STE 108
Miami Gardens, FL 33169
United States`,emailLabel:"Contact email",email:"info@getbionova.com",cta:"Discover our products",subtitle:"OUR COMMITMENT",headline:"Science, nature, and wellness in every formula",preview:"At Bionova, we bring you high-quality natural supplements, carefully selected from leading brands like Fuxion, Pure Encapsulations, and Double Wood. We combine scientific evidence with the power of nature to support your health in a comprehensive and trustworthy way."},lW={title:"Need help? We're here for you.",description:"You can email us anytime and well get back to you as soon as possible. Our team is based in Miami and will assist you in English or Spanish, depending on your preference.",cta:"Email us"},IL={hero:QH,dw:ZH,pure:eW,nav:tW,shop:nW,productPage:rW,promoSlider:iW,categories:sW,highlights:oW,about:aW,contact:lW};Jr.use(ZC).use(wL).init({resources:{es:{translation:PL},en:{translation:IL}},fallbackLng:"es",interpolation:{escapeValue:!1}});function cW({children:n}){const{items:e}=S2(),t=$l(),r=e.reduce((a,l)=>a+l.quantity,0),{t:i}=ho(),s=t.pathname.startsWith("/producto/"),o=t.pathname.startsWith("/shop");return A.jsxs("div",{className:"flex flex-col min-h-screen w-full overflow-x-hidden bg-transparent text-black",children:[!s&&!o&&A.jsx("header",{className:"bg-white/50 backdrop-blur-md text-black fixed top-0 w-full z-50 shadow-sm",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-1 sm:py-0.5 flex items-center justify-between",children:[A.jsx(Vi,{to:"/",className:"flex items-center gap-2",children:A.jsx("img",{src:Qq,alt:"Bionova",className:"w-16 h-16 object-contain"})}),A.jsxs("nav",{className:"flex items-center gap-4 sm:gap-6 text-sm sm:text-base",children:[A.jsx(Vi,{to:"/shop",onClick:()=>{t.pathname==="/shop"&&(window.location.href="/shop")},className:"text-[#004AAD] hover:text-[#003B85] font-semibold transition-colors",children:i("nav.shop","Shop")}),A.jsx(Vi,{to:"/about",className:"text-[#004AAD] hover:text-[#003B85] font-semibold transition-colors",children:i("nav.about","About")}),A.jsx(Vi,{to:"/contact",className:"text-[#004AAD] hover:text-[#003B85] font-semibold transition-colors",children:i("nav.contact","Contact")}),A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsx(oH,{className:"text-[#004AAD] w-4 h-4"}),A.jsx("button",{onClick:()=>Jr.changeLanguage("es"),className:`text-xs sm:text-sm px-2 py-0.5 rounded-md transition-colors ${Jr.language==="es","text-[#004AAD] hover:text-[#003B85] font-semibold"}`,children:"ES"}),A.jsx("button",{onClick:()=>Jr.changeLanguage("en"),className:`text-xs sm:text-sm px-2 py-0.5 rounded-md transition-colors ${Jr.language==="en","text-[#004AAD] hover:text-[#003B85] font-semibold"}`,children:"EN"})]})]}),A.jsx("div",{className:"flex items-center gap-4",children:A.jsxs(Vi,{to:"/carrito",className:"relative text-[#004AAD] hover:text-[#003B85] transition-colors",children:[A.jsx(pL,{className:"w-5 h-5"}),r>0&&A.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-semibold px-1.5 py-0.5 rounded-full",children:r})]})})]})}),A.jsxs("main",{className:"flex-grow w-full bg-transparent text-black",children:[n,t.pathname==="/"&&A.jsx(Jq,{})]}),A.jsx(JC,{})]})}function uW(){return A.jsx(cW,{children:A.jsx(ez,{})})}const eA=F.createContext({});function tA(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const nA=typeof window<"u",DL=nA?F.useLayoutEffect:F.useEffect,A2=F.createContext(null),rA=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class dW extends F.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fW({children:n,isPresent:e,anchorX:t}){const r=F.useId(),i=F.useRef(null),s=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=F.useContext(rA);return F.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:f}=s.current;if(e||!i.current||!a||!l)return;const m=t==="left"?`left: ${u}`:`right: ${f}`;i.current.dataset.motionPopId=r;const p=document.createElement("style");return o&&(p.nonce=o),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${m}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[e]),A.jsx(dW,{isPresent:e,childRef:i,sizeRef:s,children:F.cloneElement(n,{ref:i})})}const hW=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=tA(pW),c=F.useId();let u=!0,f=F.useMemo(()=>(u=!1,{id:c,initial:e,isPresent:t,custom:i,onExitComplete:m=>{l.set(m,!0);for(const p of l.values())if(!p)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[t,l,r]);return s&&u&&(f={...f}),F.useMemo(()=>{l.forEach((m,p)=>l.set(p,!1))},[t]),F.useEffect(()=>{!t&&!l.size&&r&&r()},[t]),o==="popLayout"&&(n=A.jsx(fW,{isPresent:t,anchorX:a,children:n})),A.jsx(A2.Provider,{value:f,children:n})};function pW(){return new Map}function RL(n=!0){const e=F.useContext(A2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=F.useId();F.useEffect(()=>{if(n)return i(s)},[n]);const o=F.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,o]:[!0]}const py=n=>n.key||"";function Mk(n){const e=[];return F.Children.forEach(n,t=>{F.isValidElement(t)&&e.push(t)}),e}const mW=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=RL(o),u=F.useMemo(()=>Mk(n),[n]),f=o&&!l?[]:u.map(py),m=F.useRef(!0),p=F.useRef(u),g=tA(()=>new Map),[v,b]=F.useState(u),[S,E]=F.useState(u);DL(()=>{m.current=!1,p.current=u;for(let B=0;B<S.length;B++){const U=py(S[B]);f.includes(U)?g.delete(U):g.get(U)!==!0&&g.set(U,!1)}},[S,f.length,f.join("-")]);const _=[];if(u!==v){let B=[...u];for(let U=0;U<S.length;U++){const O=S[U],C=py(O);f.includes(C)||(B.splice(U,0,O),_.push(O))}return s==="wait"&&_.length&&(B=_),E(Mk(B)),b(u),null}const{forceRender:R}=F.useContext(eA);return A.jsx(A.Fragment,{children:S.map(B=>{const U=py(B),O=o&&!l?!1:u===S||f.includes(U),C=()=>{if(g.has(U))g.set(U,!0);else return;let I=!0;g.forEach(P=>{P||(I=!1)}),I&&(R==null||R(),E(p.current),o&&(c==null||c()),r&&r())};return A.jsx(hW,{isPresent:O,initial:!m.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:O?void 0:C,anchorX:a,children:B},U)})})};function iA(n,e){n.indexOf(e)===-1&&n.push(e)}function sA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let LL=()=>{};const WS={useManualTiming:!1};function oA(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ha=n=>n,fg=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class aA{constructor(){this.subscriptions=[]}add(e){return iA(this.subscriptions,e),()=>sA(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cc=n=>n*1e3,Ac=n=>n/1e3;function OL(n,e){return e?n*(1e3/e):0}const gW=oA(()=>window.ScrollTimeline!==void 0);class yW{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(gW()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class vW extends yW{then(e,t){return this.finished.finally(e).then(()=>{})}}const Fk={value:null},lA=n=>Array.isArray(n)&&typeof n[0]=="number",xW={};function bW(n,e){const t=oA(n);return()=>xW[e]??t()}const hg=bW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ML=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(s/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Cm=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,GS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cm([0,.65,.55,1]),circOut:Cm([.55,0,1,.45]),backIn:Cm([.31,.01,.66,-.59]),backOut:Cm([.33,1.53,.69,.99])};function FL(n,e){if(n)return typeof n=="function"&&hg()?ML(n,e):lA(n)?Cm(n):Array.isArray(n)?n.map(t=>FL(t,e)||GS.easeOut):GS[n]}function wW(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={},c=void 0){const u={[e]:t};l&&(u.offset=l);const f=FL(a,i);return Array.isArray(f)&&(u.easing=f),n.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal",pseudoElement:c})}function cA(n){return typeof n=="function"&&"applyToOptions"in n}function uA(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const mx=2e4;function dA(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<mx;)e+=t,r=n.next(e);return e>=mx?1/0:e}function SW(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(dA(r),mx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ac(i)}}function jL(n){return!!(typeof n=="function"&&hg()||!n||typeof n=="string"&&(n in GS||hg())||lA(n)||Array.isArray(n)&&n.every(jL))}function jk(n,e){n.timeline=e,n.onfinish=null}const my=["read","resolveKeyframes","update","preRender","render","postRender"];function EW(n,e){let t=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),n()),l++,f(a)}const u={schedule:(f,m=!1,p=!1)=>{const v=p&&i?t:r;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(c),e&&Fk.value&&Fk.value.frameloop[e].push(l),l=0,t.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const CW=40;function BL(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,o=my.reduce((S,E)=>(S[E]=EW(s,e?E:void 0),S),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:m}=o,p=()=>{const S=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,CW),1),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),m.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(p))},g=()=>{t=!0,r=!0,i.isProcessing||n(p)};return{schedule:my.reduce((S,E)=>{const _=o[E];return S[E]=(R,B=!1,U=!1)=>(t||g(),_.schedule(R,B,U)),S},{}),cancel:S=>{for(let E=0;E<my.length;E++)o[my[E]].cancel(S)},state:i,steps:o}}const{schedule:fA}=BL(queueMicrotask,!1),{schedule:cr,cancel:of,state:as,steps:Mw}=BL(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ha,!0);let Qy;function AW(){Qy=void 0}const _c={now:()=>(Qy===void 0&&_c.set(as.isProcessing||WS.useManualTiming?as.timestamp:performance.now()),Qy),set:n=>{Qy=n,queueMicrotask(AW)}},Al={x:!1,y:!1};function VL(){return Al.x||Al.y}function _W(n){return n==="x"||n==="y"?Al[n]?null:(Al[n]=!0,()=>{Al[n]=!1}):Al.x||Al.y?null:(Al.x=Al.y=!0,()=>{Al.x=Al.y=!1})}function TW(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}function $L(n,e){const t=TW(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function Bk(n){return!(n.pointerType==="touch"||VL())}function kW(n,e,t={}){const[r,i,s]=$L(n,t),o=a=>{if(!Bk(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{Bk(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const zL=(n,e)=>e?n===e?!0:zL(n,e.parentElement):!1,hA=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,NW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PW(n){return NW.has(n.tagName)||n.tabIndex!==-1}const Am=new WeakSet;function Vk(n){return e=>{e.key==="Enter"&&n(e)}}function Fw(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IW=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=Vk(()=>{if(Am.has(t))return;Fw(t,"down");const i=Vk(()=>{Fw(t,"up")}),s=()=>Fw(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function $k(n){return hA(n)&&!VL()}function DW(n,e,t={}){const[r,i,s]=$L(n,t),o=a=>{const l=a.currentTarget;if(!$k(a)||Am.has(l))return;Am.add(l);const c=e(l,a),u=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!$k(p)||!Am.has(l))&&(Am.delete(l),typeof c=="function"&&c(p,{success:g}))},f=p=>{u(p,l===window||l===document||t.useGlobalTarget||zL(l,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>IW(c,i)),!PW(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}const zk=30,RW=n=>!isNaN(parseFloat(n));class LW{constructor(e,t={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=_c.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=_c.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new aA);const r=this.events[e].add(t);return e==="change"?()=>{r(),cr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_c.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zk)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,zk);return OL(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pg(n,e){return new LW(n,e)}const UL=F.createContext({strict:!1}),Uk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},a0={};for(const n in Uk)a0[n]={isEnabled:e=>Uk[n].some(t=>!!e[t])};function OW(n){for(const e in n)a0[e]={...a0[e],...n[e]}}const MW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gx(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||MW.has(n)}let qL=n=>!gx(n);function FW(n){n&&(qL=e=>e.startsWith("on")?!gx(e):n(e))}try{FW(require("@emotion/is-prop-valid").default)}catch{}function jW(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(qL(i)||t===!0&&gx(i)||!e&&!gx(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function BW(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const _2=F.createContext({});function T2(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function mg(n){return typeof n=="string"||Array.isArray(n)}const pA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mA=["initial",...pA];function k2(n){return T2(n.animate)||mA.some(e=>mg(n[e]))}function HL(n){return!!(k2(n)||n.variants)}function VW(n,e){if(k2(n)){const{initial:t,animate:r}=n;return{initial:t===!1||mg(t)?t:void 0,animate:mg(r)?r:void 0}}return n.inherit!==!1?e:{}}function $W(n){const{initial:e,animate:t}=VW(n,F.useContext(_2));return F.useMemo(()=>({initial:e,animate:t}),[qk(e),qk(t)])}function qk(n){return Array.isArray(n)?n.join(" "):n}const zW=Symbol.for("motionComponentSymbol");function Lp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function UW(n,e,t){return F.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Lp(t)&&(t.current=r))},[e])}const gA=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qW="framerAppearId",WL="data-"+gA(qW),GL=F.createContext({});function HW(n,e,t,r,i){var v,b;const{visualElement:s}=F.useContext(_2),o=F.useContext(UL),a=F.useContext(A2),l=F.useContext(rA).reducedMotion,c=F.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(n,{visualState:e,parent:s,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=F.useContext(GL);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&WW(c.current,t,i,f);const m=F.useRef(!1);F.useInsertionEffect(()=>{u&&m.current&&u.update(t,a)});const p=t[WL],g=F.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return DL(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),fA.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,p)}),g.current=!1))}),u}function WW(n,e,t,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:KL(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Lp(a),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function KL(n){if(n)return n.options.allowProjection!==!1?n.projection:KL(n.parent)}function GW({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&OW(n);function s(a,l){let c;const u={...F.useContext(rA),...a,layoutId:KW(a)},{isStatic:f}=u,m=$W(a),p=r(a,f);if(!f&&nA){YW();const g=XW(u);c=g.MeasureLayout,m.visualElement=HW(i,p,u,e,g.ProjectionNode)}return A.jsxs(_2.Provider,{value:m,children:[c&&m.visualElement?A.jsx(c,{visualElement:m.visualElement,...u}):null,t(i,a,UW(p,m.visualElement,l),p,f,m.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=F.forwardRef(s);return o[zW]=i,o}function KW({layoutId:n}){const e=F.useContext(eA).id;return e&&n!==void 0?e+"-"+n:n}function YW(n,e){F.useContext(UL).strict}function XW(n){const{drag:e,layout:t}=a0;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YL=n=>e=>typeof e=="string"&&e.startsWith(n),yA=YL("--"),JW=YL("var(--"),vA=n=>JW(n)?QW.test(n.split("/*")[0].trim()):!1,QW=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gg={};function ZW(n){for(const e in n)gg[e]=n[e],yA(e)&&(gg[e].isCSSVariable=!0)}const N0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fh=new Set(N0);function XL(n,{layout:e,layoutId:t}){return Fh.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gg[n]||n==="opacity")}const Bs=n=>!!(n&&n.getVelocity),JL=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ou=(n,e,t)=>t>e?e:t<n?n:t,P0={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},yg={...P0,transform:n=>Ou(0,1,n)},gy={...P0,default:1},e1=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Nd=e1("deg"),Tc=e1("%"),zt=e1("px"),eG=e1("vh"),tG=e1("vw"),Hk={...Tc,parse:n=>Tc.parse(n)/100,transform:n=>Tc.transform(n*100)},nG={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt},rG={rotate:Nd,rotateX:Nd,rotateY:Nd,rotateZ:Nd,scale:gy,scaleX:gy,scaleY:gy,scaleZ:gy,skew:Nd,skewX:Nd,skewY:Nd,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:yg,originX:Hk,originY:Hk,originZ:zt},Wk={...P0,transform:Math.round},xA={...nG,...rG,zIndex:Wk,size:zt,fillOpacity:yg,strokeOpacity:yg,numOctaves:Wk},iG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sG=N0.length;function oG(n,e,t){let r="",i=!0;for(let s=0;s<sG;s++){const o=N0[s],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const c=JL(a,xA[o]);if(!l){i=!1;const u=iG[o]||o;r+=`${u}(${c}) `}t&&(e[o]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function bA(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let o=!1,a=!1;for(const l in e){const c=e[l];if(Fh.has(l)){o=!0;continue}else if(yA(l)){i[l]=c;continue}else{const u=JL(c,xA[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||t?r.transform=oG(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const wA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QL(n,e,t){for(const r in e)!Bs(e[r])&&!XL(r,t)&&(n[r]=e[r])}function aG({transformTemplate:n},e){return F.useMemo(()=>{const t=wA();return bA(t,e,n),Object.assign({},t.vars,t.style)},[e])}function lG(n,e){const t=n.style||{},r={};return QL(r,t,n),Object.assign(r,aG(n,e)),r}function cG(n,e){const t={},r=lG(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const uG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SA(n){return typeof n!="string"||n.includes("-")?!1:!!(uG.indexOf(n)>-1||/[A-Z]/u.test(n))}const dG={offset:"stroke-dashoffset",array:"stroke-dasharray"},fG={offset:"strokeDashoffset",array:"strokeDasharray"};function hG(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?dG:fG;n[s.offset]=zt.transform(-r);const o=zt.transform(e),a=zt.transform(t);n[s.array]=`${o} ${a}`}function Gk(n,e,t){return typeof n=="string"?n:zt.transform(e+t*n)}function pG(n,e,t){const r=Gk(e,n.x,n.width),i=Gk(t,n.y,n.height);return`${r} ${i}`}function EA(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(bA(n,c,f),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:p,dimensions:g}=n;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=pG(g,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),o!==void 0&&hG(m,o,a,l,!1)}const ZL=()=>({...wA(),attrs:{}}),CA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function mG(n,e,t,r){const i=F.useMemo(()=>{const s=ZL();return EA(s,e,CA(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};QL(s,n.style,n),i.style={...s,...i.style}}return i}function gG(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(SA(t)?mG:cG)(r,s,o,t),c=jW(r,typeof t=="string",n),u=t!==F.Fragment?{...c,...l,ref:i}:{},{children:f}=r,m=F.useMemo(()=>Bs(f)?f.get():f,[f]);return F.createElement(t,{...u,children:m})}}function Kk(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function AA(n,e,t,r){if(typeof e=="function"){const[i,s]=Kk(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=Kk(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const KS=n=>Array.isArray(n),yG=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),vG=n=>KS(n)?n[n.length-1]||0:n;function Zy(n){const e=Bs(n)?n.get():n;return yG(e)?e.toValue():e}function xG({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const o={latestValues:bG(r,i,s,n),renderState:e()};return t&&(o.onMount=a=>t({props:r,current:a,...o}),o.onUpdate=a=>t(a)),o}const e8=n=>(e,t)=>{const r=F.useContext(_2),i=F.useContext(A2),s=()=>xG(n,e,r,i);return t?s():tA(s)};function bG(n,e,t,r){const i={},s=r(n,{});for(const m in s)i[m]=Zy(s[m]);let{initial:o,animate:a}=n;const l=k2(n),c=HL(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!T2(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const g=AA(n,m[p]);if(g){const{transitionEnd:v,transition:b,...S}=g;for(const E in S){let _=S[E];if(Array.isArray(_)){const R=u?_.length-1:0;_=_[R]}_!==null&&(i[E]=_)}for(const E in v)i[E]=v[E]}}}return i}function _A(n,e,t){var s;const{style:r}=n,i={};for(const o in r)(Bs(r[o])||e.style&&Bs(e.style[o])||XL(o,n)||((s=t==null?void 0:t.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const wG={useVisualState:e8({scrapeMotionValuesFromProps:_A,createRenderState:wA})};function t8(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function n8(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const r8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i8(n,e,t,r){n8(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(r8.has(i)?i:gA(i),e.attrs[i])}function s8(n,e,t){const r=_A(n,e,t);for(const i in n)if(Bs(n[i])||Bs(e[i])){const s=N0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}const Yk=["x","y","width","height","cx","cy","r"],SG={useVisualState:e8({scrapeMotionValuesFromProps:s8,createRenderState:ZL,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const a in i)if(Fh.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Yk.length;a++){const l=Yk[a];n[l]!==e[l]&&(o=!0)}o&&cr.read(()=>{t8(t,r),cr.render(()=>{EA(r,i,CA(t.tagName),n.transformTemplate),i8(t,r)})})}})};function EG(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...SA(r)?SG:wG,preloadedFeatures:n,useRender:gG(i),createVisualElement:e,Component:r};return GW(o)}}function vg(n,e,t){const r=n.getProps();return AA(r,e,t!==void 0?t:r.custom,n)}const o8=new Set(["width","height","top","left","right","bottom",...N0]);function CG(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,pg(t))}function AG(n,e){const t=vg(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const o in s){const a=vG(s[o]);CG(n,o,a)}}function _G(n){return!!(Bs(n)&&n.add)}function YS(n,e){const t=n.getValue("willChange");if(_G(t))return t.add(e);if(!t&&WS.WillChange){const r=new WS.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function a8(n){return n.props[WL]}const l8=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,TG=1e-7,kG=12;function NG(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=l8(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>TG&&++a<kG);return o}function t1(n,e,t,r){if(n===e&&t===r)return Ha;const i=s=>NG(s,0,1,n,t);return s=>s===0||s===1?s:l8(i(s),e,r)}const c8=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,u8=n=>e=>1-n(1-e),d8=t1(.33,1.53,.69,.99),TA=u8(d8),f8=c8(TA),h8=n=>(n*=2)<1?.5*TA(n):.5*(2-Math.pow(2,-10*(n-1))),kA=n=>1-Math.sin(Math.acos(n)),p8=u8(kA),m8=c8(kA),g8=n=>/^0[^.\s]+$/u.test(n);function PG(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||g8(n):!0}const Vm=n=>Math.round(n*1e5)/1e5,NA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IG(n){return n==null}const DG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,PA=(n,e)=>t=>!!(typeof t=="string"&&DG.test(t)&&t.startsWith(n)||e&&!IG(t)&&Object.prototype.hasOwnProperty.call(t,e)),y8=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(NA);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RG=n=>Ou(0,255,n),jw={...P0,transform:n=>Math.round(RG(n))},sh={test:PA("rgb","red"),parse:y8("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+jw.transform(n)+", "+jw.transform(e)+", "+jw.transform(t)+", "+Vm(yg.transform(r))+")"};function LG(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const XS={test:PA("#"),parse:LG,transform:sh.transform},Op={test:PA("hsl","hue"),parse:y8("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Tc.transform(Vm(e))+", "+Tc.transform(Vm(t))+", "+Vm(yg.transform(r))+")"},Rs={test:n=>sh.test(n)||XS.test(n)||Op.test(n),parse:n=>sh.test(n)?sh.parse(n):Op.test(n)?Op.parse(n):XS.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?sh.transform(n):Op.transform(n)},OG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MG(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(NA))==null?void 0:e.length)||0)+(((t=n.match(OG))==null?void 0:t.length)||0)>0}const v8="number",x8="color",FG="var",jG="var(",Xk="${}",BG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xg(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(BG,l=>(Rs.test(l)?(r.color.push(s),i.push(x8),t.push(Rs.parse(l))):l.startsWith(jG)?(r.var.push(s),i.push(FG),t.push(l)):(r.number.push(s),i.push(v8),t.push(parseFloat(l))),++s,Xk)).split(Xk);return{values:t,split:a,indexes:r,types:i}}function b8(n){return xg(n).values}function w8(n){const{split:e,types:t}=xg(n),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=t[o];a===v8?s+=Vm(i[o]):a===x8?s+=Rs.transform(i[o]):s+=i[o]}return s}}const VG=n=>typeof n=="number"?0:n;function $G(n){const e=b8(n);return w8(n)(e.map(VG))}const af={test:MG,parse:b8,createTransformer:w8,getAnimatableNone:$G},zG=new Set(["brightness","contrast","saturate","opacity"]);function UG(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(NA)||[];if(!r)return n;const i=t.replace(r,"");let s=zG.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const qG=/\b([a-z-]*)\(.*?\)/gu,JS={...af,getAnimatableNone:n=>{const e=n.match(qG);return e?e.map(UG).join(" "):n}},HG={...xA,color:Rs,backgroundColor:Rs,outlineColor:Rs,fill:Rs,stroke:Rs,borderColor:Rs,borderTopColor:Rs,borderRightColor:Rs,borderBottomColor:Rs,borderLeftColor:Rs,filter:JS,WebkitFilter:JS},S8=n=>HG[n];function E8(n,e){let t=S8(n);return t!==JS&&(t=af),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const WG=new Set(["auto","none","0"]);function GG(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!WG.has(s)&&xg(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=E8(t,i)}const oh=n=>n*180/Math.PI,QS=n=>{const e=oh(Math.atan2(n[1],n[0]));return ZS(e)},KG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:QS,rotateZ:QS,skewX:n=>oh(Math.atan(n[1])),skewY:n=>oh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},ZS=n=>(n=n%360,n<0&&(n+=360),n),Jk=QS,Qk=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Zk=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),YG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qk,scaleY:Zk,scale:n=>(Qk(n)+Zk(n))/2,rotateX:n=>ZS(oh(Math.atan2(n[6],n[5]))),rotateY:n=>ZS(oh(Math.atan2(-n[2],n[0]))),rotateZ:Jk,rotate:Jk,skewX:n=>oh(Math.atan(n[4])),skewY:n=>oh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function e3(n){return n.includes("scale")?1:0}function eE(n,e){if(!n||n==="none")return e3(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=YG,i=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KG,i=a}if(!i)return e3(e);const s=r[e],o=i[1].split(",").map(JG);return typeof s=="function"?s(o):o[s]}const XG=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return eE(t,e)};function JG(n){return parseFloat(n.trim())}const t3=n=>n===P0||n===zt,QG=new Set(["x","y","z"]),ZG=N0.filter(n=>!QG.has(n));function eK(n){const e=[];return ZG.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const l0={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>eE(e,"x"),y:(n,{transform:e})=>eE(e,"y")};l0.translateX=l0.x;l0.translateY=l0.y;const mh=new Set;let tE=!1,nE=!1;function C8(){if(nE){const n=Array.from(mh).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=eK(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nE=!1,tE=!1,mh.forEach(n=>n.complete()),mh.clear()}function A8(){mh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(nE=!0)})}function tK(){A8(),C8()}class IA{constructor(e,t,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(mh.add(this),tE||(tE=!0,cr.read(A8),cr.resolveKeyframes(C8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&t){const l=r.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),mh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,mh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _8=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),nK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rK(n){const e=nK.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function T8(n,e,t=1){const[r,i]=rK(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return _8(o)?parseFloat(o):o}return vA(i)?T8(i,e,t+1):i}const k8=n=>e=>e.test(n),iK={test:n=>n==="auto",parse:n=>n},N8=[P0,zt,Tc,Nd,tG,eG,iK],n3=n=>N8.find(k8(n));class P8 extends IA{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),vA(c))){const u=T8(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!o8.has(r)||e.length!==2)return;const[i,s]=e,o=n3(i),a=n3(s);if(o!==a)if(t3(o)&&t3(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)PG(e[i])&&r.push(i);r.length&&GG(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=l0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=l0[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const r3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(af.test(n)||n==="0")&&!n.startsWith("url("));function sK(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function oK(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],o=r3(i,e),a=r3(s,e);return!o||!a?!1:sK(n)||(t==="spring"||cA(t))&&r}const aK=n=>n!==null;function N2(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(aK),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const lK=40;class I8{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=_c.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>lK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tK(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=_c.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!oK(e,r,i,s))if(o)this.options.duration=0;else{l&&l(N2(e,this.options,t)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ir=(n,e,t)=>n+(e-n)*t;function Bw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cK({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=Bw(l,a,n+1/3),s=Bw(l,a,n),o=Bw(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function yx(n,e){return t=>t>0?e:n}const Vw=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},uK=[XS,sh,Op],dK=n=>uK.find(e=>e.test(n));function i3(n){const e=dK(n);if(!e)return!1;let t=e.parse(n);return e===Op&&(t=cK(t)),t}const s3=(n,e)=>{const t=i3(n),r=i3(e);if(!t||!r)return yx(n,e);const i={...t};return s=>(i.red=Vw(t.red,r.red,s),i.green=Vw(t.green,r.green,s),i.blue=Vw(t.blue,r.blue,s),i.alpha=Ir(t.alpha,r.alpha,s),sh.transform(i))},fK=(n,e)=>t=>e(n(t)),n1=(...n)=>n.reduce(fK),rE=new Set(["none","hidden"]);function hK(n,e){return rE.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function pK(n,e){return t=>Ir(n,e,t)}function DA(n){return typeof n=="number"?pK:typeof n=="string"?vA(n)?yx:Rs.test(n)?s3:yK:Array.isArray(n)?D8:typeof n=="object"?Rs.test(n)?s3:mK:yx}function D8(n,e){const t=[...n],r=t.length,i=n.map((s,o)=>DA(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}}function mK(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=DA(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function gK(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=n.indexes[s][r[s]],a=n.values[o]??0;t[i]=a,r[s]++}return t}const yK=(n,e)=>{const t=af.createTransformer(e),r=xg(n),i=xg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rE.has(n)&&!i.values.length||rE.has(e)&&!r.values.length?hK(n,e):n1(D8(gK(r,i),i.values),t):yx(n,e)};function R8(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Ir(n,e,t):DA(n)(n,e)}const vK=5;function L8(n,e,t){const r=Math.max(e-vK,0);return OL(t-n(r),e-r)}const Br={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},o3=.001;function xK({duration:n=Br.duration,bounce:e=Br.bounce,velocity:t=Br.velocity,mass:r=Br.mass}){let i,s,o=1-e;o=Ou(Br.minDamping,Br.maxDamping,o),n=Ou(Br.minDuration,Br.maxDuration,Ac(n)),o<1?(i=c=>{const u=c*o,f=u*n,m=u-t,p=iE(c,o),g=Math.exp(-f);return o3-m/p*g},s=c=>{const f=c*o*n,m=f*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-f),v=iE(Math.pow(c,2),o);return(-i(c)+o3>0?-1:1)*((m-p)*g)/v}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-.001+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=wK(i,s,a);if(n=Cc(n),isNaN(l))return{stiffness:Br.stiffness,damping:Br.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const bK=12;function wK(n,e,t){let r=t;for(let i=1;i<bK;i++)r=r-n(r)/e(r);return r}function iE(n,e){return n*Math.sqrt(1-e*e)}const SK=["duration","bounce"],EK=["stiffness","damping","mass"];function a3(n,e){return e.some(t=>n[t]!==void 0)}function CK(n){let e={velocity:Br.velocity,stiffness:Br.stiffness,damping:Br.damping,mass:Br.mass,isResolvedFromDuration:!1,...n};if(!a3(n,EK)&&a3(n,SK))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Ou(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:Br.mass,stiffness:i,damping:s}}else{const t=xK(n);e={...e,...t,mass:Br.mass},e.isResolvedFromDuration=!0}return e}function vx(n=Br.visualDuration,e=Br.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:m,isResolvedFromDuration:p}=CK({...t,velocity:-Ac(t.velocity||0)}),g=m||0,v=c/(2*Math.sqrt(l*u)),b=o-s,S=Ac(Math.sqrt(l/u)),E=Math.abs(b)<5;r||(r=E?Br.restSpeed.granular:Br.restSpeed.default),i||(i=E?Br.restDelta.granular:Br.restDelta.default);let _;if(v<1){const B=iE(S,v);_=U=>{const O=Math.exp(-v*S*U);return o-O*((g+v*S*b)/B*Math.sin(B*U)+b*Math.cos(B*U))}}else if(v===1)_=B=>o-Math.exp(-S*B)*(b+(g+S*b)*B);else{const B=S*Math.sqrt(v*v-1);_=U=>{const O=Math.exp(-v*S*U),C=Math.min(B*U,300);return o-O*((g+v*S*b)*Math.sinh(C)+B*b*Math.cosh(C))/B}}const R={calculatedDuration:p&&f||null,next:B=>{const U=_(B);if(p)a.done=B>=f;else{let O=0;v<1&&(O=B===0?Cc(g):L8(_,B,U));const C=Math.abs(O)<=r,I=Math.abs(o-U)<=i;a.done=C&&I}return a.value=a.done?o:U,a},toString:()=>{const B=Math.min(dA(R),mx),U=ML(O=>R.next(B*O).value,B,30);return B+"ms "+U},toTransition:()=>{}};return R}vx.applyToOptions=n=>{const e=SW(n,100,vx);return n.ease=hg()?e.ease:"easeOut",n.duration=Cc(e.duration),n.type="keyframes",n};function l3({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],m={done:!1,value:f},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=t*e;const b=f+v,S=o===void 0?b:o(b);S!==b&&(v=S-f);const E=C=>-v*Math.exp(-C/r),_=C=>S+E(C),R=C=>{const I=E(C),P=_(C);m.done=Math.abs(I)<=c,m.value=m.done?S:P};let B,U;const O=C=>{p(m.value)&&(B=C,U=vx({keyframes:[m.value,g(m.value)],velocity:L8(_,C,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return O(0),{calculatedDuration:null,next:C=>{let I=!1;return!U&&B===void 0&&(I=!0,R(C),O(C)),B!==void 0&&C>=B?U.next(C-B):(!I&&R(C),m)}}}const AK=t1(.42,0,1,1),_K=t1(0,0,.58,1),O8=t1(.42,0,.58,1),TK=n=>Array.isArray(n)&&typeof n[0]!="number",kK={linear:Ha,easeIn:AK,easeInOut:O8,easeOut:_K,circIn:kA,circInOut:m8,circOut:p8,backIn:TA,backInOut:f8,backOut:d8,anticipate:h8},c3=n=>{if(lA(n)){LL(n.length===4);const[e,t,r,i]=n;return t1(e,t,r,i)}else if(typeof n=="string")return kK[n];return n};function NK(n,e,t){const r=[],i=t||R8,s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ha:e;a=n1(l,a)}r.push(a)}return r}function PK(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(LL(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=NK(e,r,i),l=a.length,c=u=>{if(o&&u<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(u<n[f+1]);f++);const m=fg(n[f],n[f+1],u);return a[f](m)};return t?u=>c(Ou(n[0],n[s-1],u)):c}function IK(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=fg(0,e,r);n.push(Ir(t,1,i))}}function DK(n){const e=[0];return IK(e,n.length-1),e}function RK(n,e){return n.map(t=>t*e)}function LK(n,e){return n.map(()=>e||O8).splice(0,n.length-1)}function xx({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=TK(r)?r.map(c3):c3(r),s={done:!1,value:e[0]},o=RK(t&&t.length===e.length?t:DK(e),n),a=PK(o,e,{ease:Array.isArray(i)?i:LK(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}const OK=n=>{const e=({timestamp:t})=>n(t);return{start:()=>cr.update(e,!0),stop:()=>of(e),now:()=>as.isProcessing?as.timestamp:_c.now()}},MK={decay:l3,inertia:l3,tween:xx,keyframes:xx,spring:vx},FK=n=>n/100;class RA extends I8{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||IA,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=cA(t)?t:MK[t]||xx;let l,c;a!==xx&&typeof e[0]!="number"&&(l=n1(FK,R8(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=dA(u));const{calculatedDuration:f}=u,m=f+i,p=m*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:p,repeatType:g,repeatDelay:v,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-m*(this.speed>=0?1:-1),E=this.speed>=0?S<0:S>u;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,R=s;if(p){const C=Math.min(this.currentTime,u)/f;let I=Math.floor(C),P=C%1;!P&&C>=1&&(P=1),P===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(g==="reverse"?(P=1-P,v&&(P-=v/f)):g==="mirror"&&(R=o)),_=Ou(0,1,P)*f}const B=E?{done:!1,value:l[0]}:R.next(_);a&&(B.value=a(B.value));let{done:U}=B;!E&&c!==null&&(U=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return O&&i!==void 0&&(B.value=N2(l,this.options,i)),b&&b(B.value),O&&this.finish(),B}get duration(){const{resolved:e}=this;return e?Ac(e.calculatedDuration):0}get time(){return Ac(this.currentTime)}set time(e){e=Cc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ac(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OK,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const jK=new Set(["opacity","clipPath","filter","transform"]),BK=oA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bx=10,VK=2e4;function $K(n){return cA(n.type)||n.type==="spring"||!jL(n.ease)}function zK(n,e){const t=new RA({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<VK;)r=t.sample(s),i.push(r.value),s+=bx;return{times:void 0,keyframes:i,duration:s-bx,ease:"linear"}}const M8={anticipate:h8,backInOut:f8,circInOut:m8};function UK(n){return n in M8}class u3 extends I8{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new P8(s,(o,a)=>this.onKeyframesResolved(o,a),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&hg()&&UK(s)&&(s=M8[s]),$K(this.options)){const{onComplete:f,onUpdate:m,motionValue:p,element:g,...v}=this.options,b=zK(e,v);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,s=b.ease,o="keyframes"}const u=wW(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(jk(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;a.set(N2(e,this.options,t)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ac(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ac(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Cc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Ha;const{animation:r}=t;jk(r,e)}return Ha}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:m,...p}=this.options,g=new RA({...p,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Cc(this.time);c.setWithVelocity(g.sample(v-bx).value,g.sample(v).value,bx)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return BK()&&r&&jK.has(r)&&(r!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const qK={type:"spring",stiffness:500,damping:25,restSpeed:10},HK=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),WK={type:"keyframes",duration:.8},GK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KK=(n,{keyframes:e})=>e.length>2?WK:Fh.has(n)?n.startsWith("scale")?HK(e[1]):qK:GK;function YK({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const LA=(n,e,t,r={},i,s)=>o=>{const a=uA(r,n)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Cc(l);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:s?void 0:i};YK(a)||(u={...u,...KK(n,u)}),u.duration&&(u.duration=Cc(u.duration)),u.repeatDelay&&(u.repeatDelay=Cc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const m=N2(u.keyframes,a);if(m!==void 0)return cr.update(()=>{u.onUpdate(m),u.onComplete()}),new vW([])}return!s&&u3.supports(u)?new u3(u):new RA(u)};function XK({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function F8(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const l=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const u in a){const f=n.getValue(u,n.latestValues[u]??null),m=a[u];if(m===void 0||c&&XK(c,u))continue;const p={delay:t,...uA(s||{},u)};let g=!1;if(window.MotionHandoffAnimation){const b=a8(n);if(b){const S=window.MotionHandoffAnimation(b,u,cr);S!==null&&(p.startTime=S,g=!0)}}YS(n,u),f.start(LA(u,f,m,n.shouldReduceMotion&&o8.has(u)?{type:!1}:p,n,g));const v=f.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{cr.update(()=>{o&&AG(n,o)})}),l}function sE(n,e,t={}){var l;const r=vg(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(F8(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:m}=i;return JK(n,e,u+c,f,m,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(t.delay)])}function JK(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(QK).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(sE(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function QK(n,e){return n.sortNodePosition(e)}function ZK(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>sE(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=sE(n,e,t);else{const i=typeof e=="function"?vg(n,e,t.custom):e;r=Promise.all(F8(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function j8(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const eY=mA.length;function B8(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?B8(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<eY;t++){const r=mA[t],i=n.props[r];(mg(i)||i===!1)&&(e[r]=i)}return e}const tY=[...pA].reverse(),nY=pA.length;function rY(n){return e=>Promise.all(e.map(({animation:t,options:r})=>ZK(n,t,r)))}function iY(n){let e=rY(n),t=d3(),r=!0;const i=l=>(c,u)=>{var m;const f=vg(n,u,l==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:p,transitionEnd:g,...v}=f;c={...c,...v,...g}}return c};function s(l){e=l(n)}function o(l){const{props:c}=n,u=B8(n.parent)||{},f=[],m=new Set;let p={},g=1/0;for(let b=0;b<nY;b++){const S=tY[b],E=t[S],_=c[S]!==void 0?c[S]:u[S],R=mg(_),B=S===l?E.isActive:null;B===!1&&(g=b);let U=_===u[S]&&_!==c[S]&&R;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),E.protectedKeys={...p},!E.isActive&&B===null||!_&&!E.prevProp||T2(_)||typeof _=="boolean")continue;const O=sY(E.prevProp,_);let C=O||S===l&&E.isActive&&!U&&R||b>g&&R,I=!1;const P=Array.isArray(_)?_:[_];let N=P.reduce(i(S),{});B===!1&&(N={});const{prevResolvedValues:D={}}=E,L={...D,...N},W=re=>{C=!0,m.has(re)&&(I=!0,m.delete(re)),E.needsAnimating[re]=!0;const X=n.getValue(re);X&&(X.liveStyle=!1)};for(const re in L){const X=N[re],de=D[re];if(p.hasOwnProperty(re))continue;let ae=!1;KS(X)&&KS(de)?ae=!j8(X,de):ae=X!==de,ae?X!=null?W(re):m.add(re):X!==void 0&&m.has(re)?W(re):E.protectedKeys[re]=!0}E.prevProp=_,E.prevResolvedValues=N,E.isActive&&(p={...p,...N}),r&&n.blockInitialAnimation&&(C=!1),C&&(!(U&&O)||I)&&f.push(...P.map(re=>({animation:re,options:{type:S}})))}if(m.size){const b={};if(typeof c.initial!="boolean"){const S=vg(n,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(b.transition=S.transition)}m.forEach(S=>{const E=n.getBaseTarget(S),_=n.getValue(S);_&&(_.liveStyle=!0),b[S]=E??null}),f.push({animation:b})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)==null||f.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,c)}),t[l].isActive=c;const u=o(l);for(const m in t)t[m].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t,reset:()=>{t=d3(),r=!0}}}function sY(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!j8(e,n):!1}function Yf(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d3(){return{animate:Yf(!0),whileInView:Yf(),whileHover:Yf(),whileTap:Yf(),whileDrag:Yf(),whileFocus:Yf(),exit:Yf()}}class wf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class oY extends wf{constructor(e){super(e),e.animationState||(e.animationState=iY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();T2(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let aY=0;class lY extends wf{constructor(){super(...arguments),this.id=aY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cY={animation:{Feature:oY},exit:{Feature:lY}};function bg(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function r1(n){return{point:{x:n.pageX,y:n.pageY}}}const uY=n=>e=>hA(e)&&n(e,r1(e));function $m(n,e,t,r){return bg(n,e,uY(t),r)}function V8({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function dY({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function fY(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}const $8=1e-4,hY=1-$8,pY=1+$8,z8=.01,mY=0-z8,gY=0+z8;function lo(n){return n.max-n.min}function yY(n,e,t){return Math.abs(n-e)<=t}function f3(n,e,t,r=.5){n.origin=r,n.originPoint=Ir(e.min,e.max,n.origin),n.scale=lo(t)/lo(e),n.translate=Ir(t.min,t.max,n.origin)-n.originPoint,(n.scale>=hY&&n.scale<=pY||isNaN(n.scale))&&(n.scale=1),(n.translate>=mY&&n.translate<=gY||isNaN(n.translate))&&(n.translate=0)}function zm(n,e,t,r){f3(n.x,e.x,t.x,r?r.originX:void 0),f3(n.y,e.y,t.y,r?r.originY:void 0)}function h3(n,e,t){n.min=t.min+e.min,n.max=n.min+lo(e)}function vY(n,e,t){h3(n.x,e.x,t.x),h3(n.y,e.y,t.y)}function p3(n,e,t){n.min=e.min-t.min,n.max=n.min+lo(e)}function Um(n,e,t){p3(n.x,e.x,t.x),p3(n.y,e.y,t.y)}const m3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mp=()=>({x:m3(),y:m3()}),g3=()=>({min:0,max:0}),Wr=()=>({x:g3(),y:g3()});function Fa(n){return[n("x"),n("y")]}function $w(n){return n===void 0||n===1}function oE({scale:n,scaleX:e,scaleY:t}){return!$w(n)||!$w(e)||!$w(t)}function Xf(n){return oE(n)||U8(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function U8(n){return y3(n.x)||y3(n.y)}function y3(n){return n&&n!=="0%"}function wx(n,e,t){const r=n-t,i=e*r;return t+i}function v3(n,e,t,r,i){return i!==void 0&&(n=wx(n,i,r)),wx(n,t,r)+e}function aE(n,e=0,t=1,r,i){n.min=v3(n.min,e,t,r,i),n.max=v3(n.max,e,t,r,i)}function q8(n,{x:e,y:t}){aE(n.x,e.translate,e.scale,e.originPoint),aE(n.y,t.translate,t.scale,t.originPoint)}const x3=.999999999999,b3=1.0000000000001;function xY(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&jp(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,q8(n,o)),r&&Xf(s.latestValues)&&jp(n,s.latestValues))}e.x<b3&&e.x>x3&&(e.x=1),e.y<b3&&e.y>x3&&(e.y=1)}function Fp(n,e){n.min=n.min+e,n.max=n.max+e}function w3(n,e,t,r,i=.5){const s=Ir(n.min,n.max,i);aE(n,e,t,s,r)}function jp(n,e){w3(n.x,e.x,e.scaleX,e.scale,e.originX),w3(n.y,e.y,e.scaleY,e.scale,e.originY)}function H8(n,e){return V8(fY(n.getBoundingClientRect(),e))}function bY(n,e,t){const r=H8(n,t),{scroll:i}=e;return i&&(Fp(r.x,i.offset.x),Fp(r.y,i.offset.y)),r}const W8=({current:n})=>n?n.ownerDocument.defaultView:null,S3=(n,e)=>Math.abs(n-e);function wY(n,e){const t=S3(n.x,e.x),r=S3(n.y,e.y);return Math.sqrt(t**2+r**2)}class G8{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Uw(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=wY(f.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:g}=f,{timestamp:v}=as;this.history.push({...g,timestamp:v});const{onStart:b,onMove:S}=this.handlers;m||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=zw(m,this.transformPagePoint),cr.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Uw(f.type==="pointercancel"?this.lastMoveEventInfo:zw(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),g&&g(f,b)},!hA(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const o=r1(e),a=zw(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=as;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,Uw(a,this.history)),this.removeListeners=n1($m(this.contextWindow,"pointermove",this.handlePointerMove),$m(this.contextWindow,"pointerup",this.handlePointerUp),$m(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),of(this.updatePoint)}}function zw(n,e){return e?{point:e(n.point)}:n}function E3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uw({point:n},e){return{point:n,delta:E3(n,K8(e)),offset:E3(n,SY(e)),velocity:EY(e,.1)}}function SY(n){return n[0]}function K8(n){return n[n.length-1]}function EY(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=K8(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Cc(e)));)t--;if(!r)return{x:0,y:0};const s=Ac(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function CY(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Ir(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Ir(t,n,r.max):Math.min(n,t)),n}function C3(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function AY(n,{top:e,left:t,bottom:r,right:i}){return{x:C3(n.x,t,i),y:C3(n.y,e,r)}}function A3(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function _Y(n,e){return{x:A3(n.x,e.x),y:A3(n.y,e.y)}}function TY(n,e){let t=.5;const r=lo(n),i=lo(e);return i>r?t=fg(e.min,e.max-r,n.min):r>i&&(t=fg(n.min,n.max-i,e.min)),Ou(0,1,t)}function kY(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const lE=.35;function NY(n=lE){return n===!1?n=0:n===!0&&(n=lE),{x:_3(n,"left","right"),y:_3(n,"top","bottom")}}function _3(n,e,t){return{min:T3(n,e),max:T3(n,t)}}function T3(n,e){return typeof n=="number"?n:n[e]||0}const PY=new WeakMap;class IY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(r1(u).point)},s=(u,f)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_W(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(b=>{let S=this.getAxisMotionValue(b).get()||0;if(Tc.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const _=E.layout.layoutBox[b];_&&(S=lo(_)*(parseFloat(S)/100))}}this.originPoint[b]=S}),g&&cr.postRender(()=>g(u,f)),YS(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,f)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=DY(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(u,f)},a=(u,f)=>this.stop(u,f),l=()=>Fa(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new G8(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:W8(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&cr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!yy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=CY(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Lp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=AY(r.layoutBox,e):this.constraints=!1,this.elastic=NY(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Fa(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kY(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Lp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bY(r,i.root,this.visualElement.getTransformPagePoint());let o=_Y(i.layout.layoutBox,s);if(t){const a=t(dY(o));this.hasMutatedConstraints=!!a,a&&(o=V8(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Fa(u=>{if(!yy(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return YS(this.visualElement,e),r.start(LA(e,r,0,t,this.visualElement,!1))}stopAnimation(){Fa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fa(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fa(t=>{const{drag:r}=this.getProps();if(!yy(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-Ir(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Lp(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fa(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=TY({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(o=>{if(!yy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ir(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;PY.set(this.visualElement,this);const e=this.visualElement.current,t=$m(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Lp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),cr.read(r);const o=bg(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fa(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=lE,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yy(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function DY(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RY extends wf{constructor(e){super(e),this.removeGroupControls=Ha,this.removeListeners=Ha,this.controls=new IY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ha}unmount(){this.removeGroupControls(),this.removeListeners()}}const k3=n=>(e,t)=>{n&&cr.postRender(()=>n(e,t))};class LY extends wf{constructor(){super(...arguments),this.removePointerDownListener=Ha}onPointerDown(e){this.session=new G8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:k3(e),onStart:k3(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&cr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=$m(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ev={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N3(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const gm={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(zt.test(n))n=parseFloat(n);else return n;const t=N3(n,e.target.x),r=N3(n,e.target.y);return`${t}% ${r}%`}},OY={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=af.parse(n);if(i.length>5)return r;const s=af.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ir(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class MY extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ZW(FY),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ev.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||cr.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y8(n){const[e,t]=RL(),r=F.useContext(eA);return A.jsx(MY,{...n,layoutGroup:r,switchLayoutGroup:F.useContext(GL),isPresent:e,safeToRemove:t})}const FY={borderRadius:{...gm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gm,borderTopRightRadius:gm,borderBottomLeftRadius:gm,borderBottomRightRadius:gm,boxShadow:OY};function jY(n,e,t){const r=Bs(n)?n:pg(n);return r.start(LA("",r,e,t)),r.animation}function BY(n){return n instanceof SVGElement&&n.tagName!=="svg"}const VY=(n,e)=>n.depth-e.depth;class $Y{constructor(){this.children=[],this.isDirty=!1}add(e){iA(this.children,e),this.isDirty=!0}remove(e){sA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VY),this.isDirty=!1,this.children.forEach(e)}}function zY(n,e){const t=_c.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(of(r),n(s-e))};return cr.read(r,!0),()=>of(r)}const X8=["TopLeft","TopRight","BottomLeft","BottomRight"],UY=X8.length,P3=n=>typeof n=="string"?parseFloat(n):n,I3=n=>typeof n=="number"||zt.test(n);function qY(n,e,t,r,i,s){i?(n.opacity=Ir(0,t.opacity??1,HY(r)),n.opacityExit=Ir(e.opacity??1,0,WY(r))):s&&(n.opacity=Ir(e.opacity??1,t.opacity??1,r));for(let o=0;o<UY;o++){const a=`border${X8[o]}Radius`;let l=D3(e,a),c=D3(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||I3(l)===I3(c)?(n[a]=Math.max(Ir(P3(l),P3(c),r),0),(Tc.test(c)||Tc.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=Ir(e.rotate||0,t.rotate||0,r))}function D3(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const HY=J8(0,.5,p8),WY=J8(.5,.95,Ha);function J8(n,e,t){return r=>r<n?0:r>e?1:t(fg(n,e,r))}function R3(n,e){n.min=e.min,n.max=e.max}function Oa(n,e){R3(n.x,e.x),R3(n.y,e.y)}function L3(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function O3(n,e,t,r,i){return n-=e,n=wx(n,1/t,r),i!==void 0&&(n=wx(n,1/i,r)),n}function GY(n,e=0,t=1,r=.5,i,s=n,o=n){if(Tc.test(e)&&(e=parseFloat(e),e=Ir(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ir(s.min,s.max,r);n===s&&(a-=e),n.min=O3(n.min,e,t,a,i),n.max=O3(n.max,e,t,a,i)}function M3(n,e,[t,r,i],s,o){GY(n,e[t],e[r],e[i],e.scale,s,o)}const KY=["x","scaleX","originX"],YY=["y","scaleY","originY"];function F3(n,e,t,r){M3(n.x,e,KY,t?t.x:void 0,r?r.x:void 0),M3(n.y,e,YY,t?t.y:void 0,r?r.y:void 0)}function j3(n){return n.translate===0&&n.scale===1}function Q8(n){return j3(n.x)&&j3(n.y)}function B3(n,e){return n.min===e.min&&n.max===e.max}function XY(n,e){return B3(n.x,e.x)&&B3(n.y,e.y)}function V3(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Z8(n,e){return V3(n.x,e.x)&&V3(n.y,e.y)}function $3(n){return lo(n.x)/lo(n.y)}function z3(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class JY{constructor(){this.members=[]}add(e){iA(this.members,e),e.scheduleRender()}remove(e){if(sA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QY(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:m,skewX:p,skewY:g}=t;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qw=["","X","Y","Z"],ZY={visibility:"hidden"},U3=1e3;let eX=0;function Hw(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function eO(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=a8(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",cr,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&eO(r)}function tO({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=eX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rX),this.nodes.forEach(lX),this.nodes.forEach(cX),this.nodes.forEach(iX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new $Y)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=BY(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const m=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=zY(m,250),ev.hasAnimatedSinceResize&&(ev.hasAnimatedSinceResize=!1,this.nodes.forEach(H3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||pX,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=u.getProps(),E=!this.targetLayout||!Z8(this.targetLayout,g),_=!m&&p;if(this.options.layoutRoot||this.resumeFrom||_||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const R={...uA(v,"layout"),onPlay:b,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else m||H3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uX),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(q3);return}this.isUpdating||this.nodes.forEach(oX),this.isUpdating=!1,this.nodes.forEach(aX),this.nodes.forEach(tX),this.nodes.forEach(nX),this.clearAllSnapshots();const a=_c.now();as.delta=Ou(0,1e3/60,a-as.timestamp),as.timestamp=a,as.isProcessing=!0,Mw.update.process(as),Mw.preRender.process(as),Mw.render.process(as),as.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sX),this.sharedNodes.forEach(dX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lo(this.snapshot.measuredBox.x)&&!lo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Q8(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Xf(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),mX(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Wr();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(gX))){const{scroll:u}=this.root;u&&(Fp(a.x,u.offset.x),Fp(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Wr();if(Oa(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:m}=u;u!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Oa(a,o),Fp(a.x,f.offset.x),Fp(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=Wr();Oa(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jp(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xf(u.latestValues)&&jp(l,u.latestValues)}return Xf(this.latestValues)&&jp(l,this.latestValues),l}removeTransform(o){const a=Wr();Oa(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xf(c.latestValues))continue;oE(c.latestValues)&&c.updateSnapshot();const u=Wr(),f=c.measurePageBox();Oa(u,f),F3(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xf(this.latestValues)&&F3(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==as.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=as.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),Um(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oa(this.target,this.layout.layoutBox),q8(this.target,this.targetDelta)):Oa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),Um(this.relativeTargetOrigin,this.target,p.target),Oa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oE(this.parent.latestValues)||U8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===as.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Oa(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;xY(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wr());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L3(this.prevProjectionDelta.x,this.projectionDelta.x),L3(this.prevProjectionDelta.y,this.projectionDelta.y)),zm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!z3(this.projectionDelta.x,this.prevProjectionDelta.x)||!z3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mp(),this.projectionDelta=Mp(),this.projectionDeltaWithTransform=Mp()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Mp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Wr(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,b=this.getStack(),S=!b||b.members.length<=1,E=!!(v&&!S&&this.options.crossfade===!0&&!this.path.some(hX));this.animationProgress=0;let _;this.mixTargetDelta=R=>{const B=R/1e3;W3(f.x,o.x,B),W3(f.y,o.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Um(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fX(this.relativeTarget,this.relativeTargetOrigin,m,B),_&&XY(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Wr()),Oa(_,this.relativeTarget)),v&&(this.animationValues=u,qY(u,c,this.latestValues,B,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cr.update(()=>{ev.hasAnimatedSinceResize=!0,this.currentAnimation=jY(0,U3,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&nO(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Wr();const f=lo(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=lo(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Oa(a,l),jp(a,u),zm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JY),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Hw("z",o,c,this.animationValues);for(let u=0;u<qw.length;u++)Hw(`rotate${qw[u]}`,o,c,this.animationValues),Hw(`skew${qw[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZY;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Zy(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Zy(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Xf(this.latestValues)&&(p.transform=l?l({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=QY(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:f,y:m}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in gg){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:b}=gg[p],S=a.transform==="none"?u[p]:g(u[p],c);if(v){const E=v.length;for(let _=0;_<E;_++)a[v[_]]=S}else b?this.options.visualElement.renderState.vars[p]=S:a[p]=S}return this.options.layoutId&&(a.pointerEvents=c===this?Zy(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(q3),this.root.sharedNodes.clear()}}}function tX(n){n.updateLayout()}function nX(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=e.source!==n.layout.source;s==="size"?Fa(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=lo(m);m.min=r[f].min,m.max=m.min+p}):nO(s,e.layoutBox,r)&&Fa(f=>{const m=o?e.measuredBox[f]:e.layoutBox[f],p=lo(r[f]);m.max=m.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=Mp();zm(a,r,e.layoutBox);const l=Mp();o?zm(l,n.applyTransform(i,!0),e.measuredBox):zm(l,r,e.layoutBox);const c=!Q8(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const g=Wr();Um(g,e.layoutBox,m.layoutBox);const v=Wr();Um(v,r,p.layoutBox),Z8(g,v)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function rX(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function sX(n){n.clearSnapshot()}function q3(n){n.clearMeasurements()}function oX(n){n.isLayoutDirty=!1}function aX(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function H3(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function lX(n){n.resolveTargetDelta()}function cX(n){n.calcProjection()}function uX(n){n.resetSkewAndRotation()}function dX(n){n.removeLeadSnapshot()}function W3(n,e,t){n.translate=Ir(e.translate,0,t),n.scale=Ir(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function G3(n,e,t,r){n.min=Ir(e.min,t.min,r),n.max=Ir(e.max,t.max,r)}function fX(n,e,t,r){G3(n.x,e.x,t.x,r),G3(n.y,e.y,t.y,r)}function hX(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const pX={duration:.45,ease:[.4,0,.1,1]},K3=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Y3=K3("applewebkit/")&&!K3("chrome/")?Math.round:Ha;function X3(n){n.min=Y3(n.min),n.max=Y3(n.max)}function mX(n){X3(n.x),X3(n.y)}function nO(n,e,t){return n==="position"||n==="preserve-aspect"&&!yY($3(e),$3(t),.2)}function gX(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const yX=tO({attachResizeListener:(n,e)=>bg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ww={current:void 0},rO=tO({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ww.current){const n=new yX({});n.mount(window),n.setOptions({layoutScroll:!0}),Ww.current=n}return Ww.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),vX={pan:{Feature:LY},drag:{Feature:RY,ProjectionNode:rO,MeasureLayout:Y8}};function J3(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&cr.postRender(()=>s(e,r1(e)))}class xX extends wf{mount(){const{current:e}=this.node;e&&(this.unmount=kW(e,(t,r)=>(J3(this.node,r,"Start"),i=>J3(this.node,i,"End"))))}unmount(){}}class bX extends wf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=n1(bg(this.node.current,"focus",()=>this.onFocus()),bg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q3(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&cr.postRender(()=>s(e,r1(e)))}class wX extends wf{mount(){const{current:e}=this.node;e&&(this.unmount=DW(e,(t,r)=>(Q3(this.node,r,"Start"),(i,{success:s})=>Q3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cE=new WeakMap,Gw=new WeakMap,SX=n=>{const e=cE.get(n.target);e&&e(n)},EX=n=>{n.forEach(SX)};function CX({root:n,...e}){const t=n||document;Gw.has(t)||Gw.set(t,{});const r=Gw.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(EX,{root:n,...e})),r[i]}function AX(n,e,t){const r=CX(e);return cE.set(n,t),r.observe(n),()=>{cE.delete(n),r.unobserve(n)}}const _X={some:0,all:1};class TX extends wf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:_X[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),m=c?u:f;m&&m(l)};return AX(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(kX(e,t))&&this.startObserver()}unmount(){}}function kX({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const NX={inView:{Feature:TX},tap:{Feature:wX},focus:{Feature:bX},hover:{Feature:xX}},PX={layout:{ProjectionNode:rO,MeasureLayout:Y8}},uE={current:null},iO={current:!1};function IX(){if(iO.current=!0,!!nA)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>uE.current=n.matches;n.addListener(e),e()}else uE.current=!1}const DX=[...N8,Rs,af],RX=n=>DX.find(k8(n)),LX=new WeakMap;function OX(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Bs(i))n.addValue(r,i);else if(Bs(s))n.addValue(r,pg(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(r);n.addValue(r,pg(o!==void 0?o:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Z3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MX{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=_c.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,cr.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=k2(t),this.isVariantNode=HL(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in m){const g=m[p];l[p]!==void 0&&Bs(g)&&g.set(l[p],!1)}}mount(e){this.current=e,LX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),iO.current||IX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),of(this.notifyUpdate),of(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&cr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in a0){const t=a0[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Z3.length;r++){const i=Z3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=OX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=pg(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(_8(r)||g8(r))?r=parseFloat(r):!RX(r)&&af.test(t)&&(r=E8(e,t)),this.setBaseTarget(e,Bs(r)?r.get():r)),Bs(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=AA(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Bs(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new aA),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sO extends MX{constructor(){super(...arguments),this.KeyframeResolver=P8}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function FX(n){return window.getComputedStyle(n)}class jX extends sO{constructor(){super(...arguments),this.type="html",this.renderInstance=n8}readValueFromInstance(e,t){if(Fh.has(t))return XG(e,t);{const r=FX(e),i=(yA(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return H8(e,t)}build(e,t,r){bA(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return _A(e,t,r)}}class BX extends sO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&t8(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Fh.has(t)){const r=S8(t);return r&&r.default||0}return t=r8.has(t)?t:gA(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return s8(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&cr.postRender(this.updateDimensions)}build(e,t,r){EA(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){i8(e,t,r,i)}mount(e){this.isSVGTag=CA(e.tagName),super.mount(e)}}const VX=(n,e)=>SA(n)?new BX(e):new jX(e,{allowProjection:n!==F.Fragment}),$X=EG({...cY,...NX,...vX,...PX},VX),ji=BW($X);function eN(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function OA(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:eN(e[r])&&eN(n[r])&&Object.keys(e[r]).length>0&&OA(n[r],e[r])})}const oO={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function kc(){const n=typeof document<"u"?document:{};return OA(n,oO),n}const zX={document:oO,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function qs(){const n=typeof window<"u"?window:{};return OA(n,zX),n}function UX(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function qX(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function wg(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Cu(){return Date.now()}function HX(n){const e=qs();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function WX(n,e){e===void 0&&(e="x");const t=qs();let r,i,s;const o=HX(n);return t.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function vy(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function GX(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function sa(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!GX(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(r,a);l!==void 0&&l.enumerable&&(vy(n[a])&&vy(r[a])?r[a].__swiper__?n[a]=r[a]:sa(n[a],r[a]):!vy(n[a])&&vy(r[a])?(n[a]={},r[a].__swiper__?n[a]=r[a]:sa(n[a],r[a])):n[a]=r[a])}}}return n}function xy(n,e,t){n.style.setProperty(e,t)}function aO(n){let{swiper:e,targetPosition:t,side:r}=n;const i=qs(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",u=(m,p)=>c==="next"&&m>=p||c==="prev"&&m<=p,f=()=>{a=new Date().getTime(),o===null&&(o=a);const m=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(m*Math.PI)/2;let g=s+p*(t-s);if(u(g,t)&&(g=t),e.wrapperEl.scrollTo({[r]:g}),u(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:g})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(f)};f()}function xc(n,e){e===void 0&&(e="");const t=qs(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(i=>i.matches(e)):r}function KX(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function YX(n,e){const t=qs();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=KX(n,e))),r}function Sx(n){try{console.warn(n);return}catch{}}function Ex(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:UX(e)),t}function XX(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function JX(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function $d(n,e){return qs().getComputedStyle(n,null).getPropertyValue(e)}function Cx(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function lO(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function dE(n,e,t){const r=qs();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ri(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let Kw;function QX(){const n=qs(),e=kc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function cO(){return Kw||(Kw=QX()),Kw}let Yw;function ZX(n){let{userAgent:e}=n===void 0?{}:n;const t=cO(),r=qs(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,l=r.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const f=s.match(/(iPod)(.*OS\s([\d_]+))?/),m=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=i==="Win32";let g=i==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&t.touch&&v.indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(o.os="android",o.android=!0),(u||m||f)&&(o.os="ios",o.ios=!0),o}function uO(n){return n===void 0&&(n={}),Yw||(Yw=ZX(n)),Yw}let Xw;function eJ(){const n=qs(),e=uO();let t=!1;function r(){const a=n.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(n.navigator.userAgent);if(a.includes("Version/")){const[l,c]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));t=l<16||l===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:i}}function dO(){return Xw||(Xw=eJ()),Xw}function tJ(n){let{swiper:e,on:t,emit:r}=n;const i=qs();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(f=>{o=i.requestAnimationFrame(()=>{const{width:m,height:p}=e;let g=m,v=p;f.forEach(b=>{let{contentBoxSize:S,contentRect:E,target:_}=b;_&&_!==e.el||(g=E?E.width:(S[0]||S).inlineSize,v=E?E.height:(S[0]||S).blockSize)}),(g!==m||v!==p)&&a()})}),s.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function nJ(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const s=[],o=qs(),a=function(u,f){f===void 0&&(f={});const m=o.MutationObserver||o.WebkitMutationObserver,p=new m(g=>{if(e.__preventObserver__)return;if(g.length===1){i("observerUpdate",g[0]);return}const v=function(){i("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(v):o.setTimeout(v,0)});p.observe(u,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=lO(e.hostEl);for(let f=0;f<u.length;f+=1)a(u[f])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var rJ={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),r=n):(e=s[0].events,t=s[0].data,r=s[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function iJ(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt($d(r,"padding-left")||0,10)-parseInt($d(r,"padding-right")||0,10),t=t-parseInt($d(r,"padding-top")||0,10)-parseInt($d(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function sJ(){const n=this;function e(P,N){return parseFloat(P.getPropertyValue(n.getDirectionLabel(N))||0)}const t=n.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=n,l=n.virtual&&t.virtual.enabled,c=l?n.virtual.slides.length:n.slides.length,u=xc(i,`.${n.params.slideClass}, swiper-slide`),f=l?n.virtual.slides.length:u.length;let m=[];const p=[],g=[];let v=t.slidesOffsetBefore;typeof v=="function"&&(v=t.slidesOffsetBefore.call(n));let b=t.slidesOffsetAfter;typeof b=="function"&&(b=t.slidesOffsetAfter.call(n));const S=n.snapGrid.length,E=n.slidesGrid.length;let _=t.spaceBetween,R=-v,B=0,U=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),n.virtualSize=-_,u.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(xy(r,"--swiper-centered-offset-before",""),xy(r,"--swiper-centered-offset-after",""));const O=t.grid&&t.grid.rows>1&&n.grid;O?n.grid.initSlides(u):n.grid&&n.grid.unsetSlides();let C;const I=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(P=>typeof t.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<f;P+=1){C=0;let N;if(u[P]&&(N=u[P]),O&&n.grid.updateSlide(P,N,u),!(u[P]&&$d(N,"display")==="none")){if(t.slidesPerView==="auto"){I&&(u[P].style[n.getDirectionLabel("width")]="");const D=getComputedStyle(N),L=N.style.transform,W=N.style.webkitTransform;if(L&&(N.style.transform="none"),W&&(N.style.webkitTransform="none"),t.roundLengths)C=n.isHorizontal()?dE(N,"width"):dE(N,"height");else{const ie=e(D,"width"),oe=e(D,"padding-left"),re=e(D,"padding-right"),X=e(D,"margin-left"),de=e(D,"margin-right"),ae=D.getPropertyValue("box-sizing");if(ae&&ae==="border-box")C=ie+X+de;else{const{clientWidth:Y,offsetWidth:$}=N;C=ie+oe+re+X+de+($-Y)}}L&&(N.style.transform=L),W&&(N.style.webkitTransform=W),t.roundLengths&&(C=Math.floor(C))}else C=(s-(t.slidesPerView-1)*_)/t.slidesPerView,t.roundLengths&&(C=Math.floor(C)),u[P]&&(u[P].style[n.getDirectionLabel("width")]=`${C}px`);u[P]&&(u[P].swiperSlideSize=C),g.push(C),t.centeredSlides?(R=R+C/2+B/2+_,B===0&&P!==0&&(R=R-s/2-_),P===0&&(R=R-s/2-_),Math.abs(R)<1/1e3&&(R=0),t.roundLengths&&(R=Math.floor(R)),U%t.slidesPerGroup===0&&m.push(R),p.push(R)):(t.roundLengths&&(R=Math.floor(R)),(U-Math.min(n.params.slidesPerGroupSkip,U))%n.params.slidesPerGroup===0&&m.push(R),p.push(R),R=R+C+_),n.virtualSize+=C+_,B=C,U+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+b,o&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+_}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+_}px`),O&&n.grid.updateWrapperSize(C,m),!t.centeredSlides){const P=[];for(let N=0;N<m.length;N+=1){let D=m[N];t.roundLengths&&(D=Math.floor(D)),m[N]<=n.virtualSize-s&&P.push(D)}m=P,Math.floor(n.virtualSize-s)-Math.floor(m[m.length-1])>1&&m.push(n.virtualSize-s)}if(l&&t.loop){const P=g[0]+_;if(t.slidesPerGroup>1){const N=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),D=P*t.slidesPerGroup;for(let L=0;L<N;L+=1)m.push(m[m.length-1]+D)}for(let N=0;N<n.virtual.slidesBefore+n.virtual.slidesAfter;N+=1)t.slidesPerGroup===1&&m.push(m[m.length-1]+P),p.push(p[p.length-1]+P),n.virtualSize+=P}if(m.length===0&&(m=[0]),_!==0){const P=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");u.filter((N,D)=>!t.cssMode||t.loop?!0:D!==u.length-1).forEach(N=>{N.style[P]=`${_}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let P=0;g.forEach(D=>{P+=D+(_||0)}),P-=_;const N=P>s?P-s:0;m=m.map(D=>D<=0?-v:D>N?N+b:D)}if(t.centerInsufficientSlides){let P=0;g.forEach(D=>{P+=D+(_||0)}),P-=_;const N=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(P+N<s){const D=(s-P-N)/2;m.forEach((L,W)=>{m[W]=L-D}),p.forEach((L,W)=>{p[W]=L+D})}}if(Object.assign(n,{slides:u,snapGrid:m,slidesGrid:p,slidesSizesGrid:g}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){xy(r,"--swiper-centered-offset-before",`${-m[0]}px`),xy(r,"--swiper-centered-offset-after",`${n.size/2-g[g.length-1]/2}px`);const P=-n.snapGrid[0],N=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(D=>D+P),n.slidesGrid=n.slidesGrid.map(D=>D+N)}if(f!==c&&n.emit("slidesLengthChange"),m.length!==S&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==E&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const P=`${t.containerModifierClass}backface-hidden`,N=n.el.classList.contains(P);f<=t.maxBackfaceHiddenSlides?N||n.el.classList.add(P):N&&n.el.classList.remove(P)}}function oJ(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function aJ(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const tN=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function lJ(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;i&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=r[0].swiperSlideOffset);const f=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),m=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(o-u),g=p+e.slidesSizesGrid[l],v=p>=0&&p<=e.size-e.slidesSizesGrid[l],b=p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size;b&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l)),tN(c,b,t.slideVisibleClass),tN(c,v,t.slideFullyVisibleClass),c.progress=i?-f:f,c.originalProgress=i?-m:m}}function cJ(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(r===0)i=0,s=!0,o=!0;else{i=(n-e.minTranslate())/r;const u=Math.abs(n-e.minTranslate())<1,f=Math.abs(n-e.maxTranslate())<1;s=u||i<=0,o=f||i>=1,u&&(i=0),f&&(i=1)}if(t.loop){const u=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),m=e.slidesGrid[u],p=e.slidesGrid[f],g=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(n);v>=m?a=(v-m)/g:a=(v+g-p)/g,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const Jw=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function uJ(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,s=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,a=f=>xc(r,`.${t.slideClass}${f}, swiper-slide${f}`)[0];let l,c,u;if(s)if(t.loop){let f=i-n.virtual.slidesBefore;f<0&&(f=n.virtual.slides.length+f),f>=n.virtual.slides.length&&(f-=n.virtual.slides.length),l=a(`[data-swiper-slide-index="${f}"]`)}else l=a(`[data-swiper-slide-index="${i}"]`);else o?(l=e.find(f=>f.column===i),u=e.find(f=>f.column===i+1),c=e.find(f=>f.column===i-1)):l=e[i];l&&(o||(u=JX(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u&&(u=e[0]),c=XX(l,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(f=>{Jw(f,f===l,t.slideActiveClass),Jw(f,f===u,t.slideNextClass),Jw(f,f===c,t.slidePrevClass)}),n.emitSlidesClasses()}const tv=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Qw=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},fE=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+r+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&Qw(n,c)});return}const s=i+r-1;if(n.params.rewind||n.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<i||a>s)&&Qw(n,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,t-1);o+=1)o!==i&&(o>s||o<i)&&Qw(n,o)};function dJ(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function fJ(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=n,c;const u=p=>{let g=p-e.virtual.slidesBefore;return g<0&&(g=e.virtual.slides.length+g),g>=e.virtual.slides.length&&(g-=e.virtual.slides.length),g};if(typeof l>"u"&&(l=dJ(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const p=Math.min(i.slidesPerGroupSkip,l);c=p+Math.floor((l-p)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===s&&!e.params.loop){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(l===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(l);return}const f=e.grid&&i.grid&&i.grid.rows>1;let m;if(e.virtual&&i.virtual.enabled&&i.loop)m=u(l);else if(f){const p=e.slides.find(v=>v.column===l);let g=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(g)&&(g=Math.max(e.slides.indexOf(p),0)),m=Math.floor(g/i.grid.rows)}else if(e.slides[l]){const p=e.slides[l].getAttribute("data-swiper-slide-index");p?m=parseInt(p,10):m=l}else m=l;Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:m,previousIndex:s,activeIndex:l}),e.initialized&&fE(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==m&&e.emit("realIndexChange"),e.emit("slideChange"))}function hJ(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===i){s=!0,o=a;break}}if(i&&s)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var pJ={updateSize:iJ,updateSlides:sJ,updateAutoHeight:oJ,updateSlidesOffset:aJ,updateSlidesProgress:lJ,updateProgress:cJ,updateSlidesClasses:uJ,updateActiveIndex:fJ,updateClickedSlide:hJ};function mJ(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let o=WX(s,n);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function gJ(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=r?-n:n:l=n,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,i.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:i.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${c}px)`);let u;const f=t.maxTranslate()-t.minTranslate();f===0?u=0:u=(n-t.minTranslate())/f,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function yJ(){return-this.snapGrid[0]}function vJ(){return-this.snapGrid[this.snapGrid.length-1]}function xJ(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(r&&n>l?u=l:r&&n<c?u=c:u=n,s.updateProgress(u),o.cssMode){const f=s.isHorizontal();if(e===0)a[f?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return aO({swiper:s,targetPosition:-u,side:f?"left":"top"}),!0;a.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(m){!s||s.destroyed||m.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var bJ={getTranslate:mJ,setTranslate:gJ,minTranslate:yJ,maxTranslate:vJ,translateTo:xJ};function wJ(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function fO(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),t&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function SJ(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),fO({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function EJ(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),fO({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var CJ={setTransition:wJ,transitionStart:SJ,transitionEnd:EJ};function AJ(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:f,rtlTranslate:m,wrapperEl:p,enabled:g}=s;if(!g&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const v=Math.min(s.params.slidesPerGroupSkip,o);let b=v+Math.floor((o-v)/s.params.slidesPerGroup);b>=l.length&&(b=l.length-1);const S=-l[b];if(a.normalizeSlideIndex)for(let O=0;O<c.length;O+=1){const C=-Math.floor(S*100),I=Math.floor(c[O]*100),P=Math.floor(c[O+1]*100);typeof c[O+1]<"u"?C>=I&&C<P-(P-I)/2?o=O:C>=I&&C<P&&(o=O+1):C>=I&&(o=O)}if(s.initialized&&o!==f&&(!s.allowSlideNext&&(m?S>s.translate&&S>s.minTranslate():S<s.translate&&S<s.minTranslate())||!s.allowSlidePrev&&S>s.translate&&S>s.maxTranslate()&&(f||0)!==o))return!1;o!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(S);let E;o>f?E="next":o<f?E="prev":E="reset";const _=s.virtual&&s.params.virtual.enabled;if(!(_&&i)&&(m&&-S===s.translate||!m&&S===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(S),E!=="reset"&&(s.transitionStart(t,E),s.transitionEnd(t,E)),!1;if(a.cssMode){const O=s.isHorizontal(),C=m?S:-S;if(e===0)_&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),_&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[O?"scrollLeft":"scrollTop"]=C})):p[O?"scrollLeft":"scrollTop"]=C,_&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return aO({swiper:s,targetPosition:C,side:O?"left":"top"}),!0;p.scrollTo({[O?"left":"top"]:C,behavior:"smooth"})}return!0}const U=dO().isSafari;return _&&!i&&U&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(S),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(t,E),e===0?s.transitionEnd(t,E):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(C){!s||s.destroyed||C.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,E))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function _J(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const m=o*i.params.grid.rows;a=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===m).column}else a=i.getSlideIndexByData(o);const l=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let f=l-a<u;if(c&&(f=f||a<Math.ceil(u/2)),r&&c&&i.params.slidesPerView!=="auto"&&!s&&(f=!1),f){const m=c?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:m,slideTo:!0,activeSlideIndex:m==="next"?a+1:a-l+1,slideRealIndex:m==="next"?i.realIndex:void 0})}if(s){const m=o*i.params.grid.rows;o=i.slides.find(p=>p.getAttribute("data-swiper-slide-index")*1===m).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,t,r)}),i}function TJ(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<s.slidesPerGroupSkip?1:a,c=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function kJ(n,e,t){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=r;if(!l||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=a?r.translate:-r.translate;function m(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const p=m(f),g=s.map(E=>m(E)),v=i.freeMode&&i.freeMode.enabled;let b=s[g.indexOf(p)-1];if(typeof b>"u"&&(i.cssMode||v)){let E;s.forEach((_,R)=>{p>=_&&(E=R)}),typeof E<"u"&&(b=v?s[E]:s[E>0?E-1:E])}let S=0;if(typeof b<"u"&&(S=o.indexOf(b),S<0&&(S=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(S=S-r.slidesPerViewDynamic("previous",!0)+1,S=Math.max(S,0))),i.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(S,n,e,t)}),!0;return r.slideTo(S,n,e,t)}function NJ(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function PJ(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const c=i.snapGrid[a],u=i.snapGrid[a+1];l-c>(u-c)*r&&(s+=i.params.slidesPerGroup)}else{const c=i.snapGrid[a-1],u=i.snapGrid[a];l-c<=(u-c)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,n,e,t)}function IJ(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,s;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(xc(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),wg(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(xc(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),wg(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var DJ={slideTo:AJ,slideToLoop:_J,slideNext:TJ,slidePrev:kJ,slideReset:NJ,slideToClosest:PJ,slideToClickedSlide:IJ};function RJ(n,e){const t=this,{params:r,slidesEl:i}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{xc(i,`.${r.slideClass}, swiper-slide`).forEach((m,p)=>{m.setAttribute("data-swiper-slide-index",p)})},o=t.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(o?r.grid.rows:1),l=t.slides.length%a!==0,c=o&&t.slides.length%r.grid.rows!==0,u=f=>{for(let m=0;m<f;m+=1){const p=t.isElement?Ex("swiper-slide",[r.slideBlankClass]):Ex("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(p)}};if(l){if(r.loopAddBlankSlides){const f=a-t.slides.length%a;u(f),t.recalcSlides(),t.updateSlides()}else Sx("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(c){if(r.loopAddBlankSlides){const f=r.grid.rows-t.slides.length%r.grid.rows;u(f),t.recalcSlides(),t.updateSlides()}else Sx("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function LJ(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:l}=n===void 0?{}:n;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:m,slidesEl:p,params:g}=c,{centeredSlides:v,initialSlide:b}=g;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&g.virtual.enabled){t&&(!g.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):g.centeredSlides&&c.snapIndex<g.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=m,c.emit("loopFix");return}let S=g.slidesPerView;S==="auto"?S=c.slidesPerViewDynamic():(S=Math.ceil(parseFloat(g.slidesPerView,10)),v&&S%2===0&&(S=S+1));const E=g.slidesPerGroupAuto?S:g.slidesPerGroup;let _=E;_%E!==0&&(_+=E-_%E),_+=g.loopAdditionalSlides,c.loopedSlides=_;const R=c.grid&&g.grid&&g.grid.rows>1;u.length<S+_||c.params.effect==="cards"&&u.length<S+_*2?Sx("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):R&&g.grid.fill==="row"&&Sx("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const B=[],U=[],O=R?Math.ceil(u.length/g.grid.rows):u.length,C=o&&O-b<S&&!v;let I=C?b:c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.find(oe=>oe.classList.contains(g.slideActiveClass))):I=s;const P=r==="next"||!r,N=r==="prev"||!r;let D=0,L=0;const ie=(R?u[s].column:s)+(v&&typeof i>"u"?-S/2+.5:0);if(ie<_){D=Math.max(_-ie,E);for(let oe=0;oe<_-ie;oe+=1){const re=oe-Math.floor(oe/O)*O;if(R){const X=O-re-1;for(let de=u.length-1;de>=0;de-=1)u[de].column===X&&B.push(de)}else B.push(O-re-1)}}else if(ie+S>O-_){L=Math.max(ie-(O-_*2),E),C&&(L=Math.max(L,S-O+b+1));for(let oe=0;oe<L;oe+=1){const re=oe-Math.floor(oe/O)*O;R?u.forEach((X,de)=>{X.column===re&&U.push(de)}):U.push(re)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<S+_*2&&(U.includes(s)&&U.splice(U.indexOf(s),1),B.includes(s)&&B.splice(B.indexOf(s),1)),N&&B.forEach(oe=>{u[oe].swiperLoopMoveDOM=!0,p.prepend(u[oe]),u[oe].swiperLoopMoveDOM=!1}),P&&U.forEach(oe=>{u[oe].swiperLoopMoveDOM=!0,p.append(u[oe]),u[oe].swiperLoopMoveDOM=!1}),c.recalcSlides(),g.slidesPerView==="auto"?c.updateSlides():R&&(B.length>0&&N||U.length>0&&P)&&c.slides.forEach((oe,re)=>{c.grid.updateSlide(re,oe,c.slides)}),g.watchSlidesProgress&&c.updateSlidesOffset(),t){if(B.length>0&&N){if(typeof e>"u"){const oe=c.slidesGrid[I],X=c.slidesGrid[I+D]-oe;l?c.setTranslate(c.translate-X):(c.slideTo(I+Math.ceil(D),0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else if(i){const oe=R?B.length/g.grid.rows:B.length;c.slideTo(c.activeIndex+oe,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(U.length>0&&P)if(typeof e>"u"){const oe=c.slidesGrid[I],X=c.slidesGrid[I-L]-oe;l?c.setTranslate(c.translate-X):(c.slideTo(I-L,0,!1,!0),i&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-X,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-X))}else{const oe=R?U.length/g.grid.rows:U.length;c.slideTo(c.activeIndex-oe,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=m,c.controller&&c.controller.control&&!a){const oe={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(re=>{!re.destroyed&&re.params.loop&&re.loopFix({...oe,slideTo:re.params.slidesPerView===g.slidesPerView?t:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...oe,slideTo:c.controller.control.params.slidesPerView===g.slidesPerView?t:!1})}c.emit("loopFix")}function OJ(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var MJ={loopCreate:RJ,loopFix:LJ,loopDestroy:OJ};function FJ(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function jJ(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var BJ={setGrabCursor:FJ,unsetGrabCursor:jJ};function VJ(n,e){e===void 0&&(e=this);function t(r){if(!r||r===kc()||r===qs())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function nN(n,e,t){const r=qs(),{params:i}=n,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(t<=o||t>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function $J(n){const e=this,t=kc();let r=n;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){nN(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=r.target;if(s.touchEventsTarget==="wrapper"&&!YX(l,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;c&&r.target&&r.target.shadowRoot&&u&&(l=u[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,m=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(m?VJ(f,l):l.closest(f))){e.allowClick=!0;return}if(s.swipeHandler&&!l.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,g=o.currentY;if(!nN(e,r,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=g,i.touchStartTime=Cu(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let v=!0;l.matches(i.focusableElements)&&(v=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&t.activeElement.blur();const b=v&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||b)&&!l.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function zJ(n){const e=kc(),t=this,r=t.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(r.touchId!==null||l.pointerId!==r.pointerId))return;let c;if(l.type==="touchmove"){if(c=[...l.changedTouches].find(B=>B.identifier===r.touchId),!c||c.identifier!==r.touchId)return}else c=l;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const u=c.pageX,f=c.pageY;if(l.preventedByNestedSwiper){s.startX=u,s.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f}),r.touchStartTime=Cu());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(f<s.startY&&t.translate<=t.maxTranslate()||f>s.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(u>s.startX&&-t.translate<=t.maxTranslate()||u<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(u<s.startX&&t.translate<=t.maxTranslate()||u>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",l),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=f;const m=s.currentX-s.startX,p=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(m**2+p**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let B;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:m*m+p*p>=25&&(B=Math.atan2(Math.abs(p),Math.abs(m))*180/Math.PI,r.isScrolling=t.isHorizontal()?B>i.touchAngle:90-B>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||l.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let g=t.isHorizontal()?m:p,v=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(g=Math.abs(g)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),s.diff=g,g*=i.touchRatio,o&&(g=-g,v=-v);const b=t.touchesDirection;t.swipeDirection=g>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";const S=t.params.loop&&!i.cssMode,E=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(S&&E&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const B=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(B)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&b!==t.touchesDirection&&S&&E&&Math.abs(g)>=1){Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=g+r.startTranslate;let _=!0,R=i.resistanceRatio;if(i.touchReleaseOnEdges&&(R=0),g>0?(S&&E&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+g)**R))):g<0&&(S&&E&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-g)**R))),_&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(g)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function UJ(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(B=>B.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Cu(),m=f-t.touchStartTime;if(e.allowClick){const B=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(B&&B[0]||r.target,B),e.emit("tap click",r),m<300&&f-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Cu(),wg(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let p;if(o.followFinger?p=l?e.translate:-e.translate:p=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const g=p>=-e.maxTranslate()&&!e.params.loop;let v=0,b=e.slidesSizesGrid[0];for(let B=0;B<c.length;B+=B<o.slidesPerGroupSkip?1:o.slidesPerGroup){const U=B<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[B+U]<"u"?(g||p>=c[B]&&p<c[B+U])&&(v=B,b=c[B+U]-c[B]):(g||p>=c[B])&&(v=B,b=c[c.length-1]-c[c.length-2])}let S=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(S=0));const _=(p-c[v])/b,R=v<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(m>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?S:v+R):e.slideTo(v)),e.swipeDirection==="prev"&&(_>1-o.longSwipesRatio?e.slideTo(v+R):E!==null&&_<0&&Math.abs(_)>o.longSwipesRatio?e.slideTo(E):e.slideTo(v))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(v+R):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(S!==null?S:v+R),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:v))}}function rN(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function qJ(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function HJ(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const s=n.maxTranslate()-n.minTranslate();s===0?i=0:i=(n.translate-n.minTranslate())/s,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function WJ(n){const e=this;tv(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function GJ(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const hO=(n,e)=>{const t=kc(),{params:r,el:i,wrapperEl:s,device:o}=n,a=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(t[l]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:a}),i[l]("touchstart",n.onTouchStart,{passive:!1}),i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("touchmove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("touchend",n.onTouchEnd,{passive:!0}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("touchcancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&s[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",rN,!0):n[c]("observerUpdate",rN,!0),i[l]("load",n.onLoad,{capture:!0}))};function KJ(){const n=this,{params:e}=n;n.onTouchStart=$J.bind(n),n.onTouchMove=zJ.bind(n),n.onTouchEnd=UJ.bind(n),n.onDocumentTouchStart=GJ.bind(n),e.cssMode&&(n.onScroll=HJ.bind(n)),n.onClick=qJ.bind(n),n.onLoad=WJ.bind(n),hO(n,"on")}function YJ(){hO(this,"off")}var XJ={attachEvents:KJ,detachEvents:YJ};const iN=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function JJ(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=kc(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",l=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:o.querySelector(r.breakpointsBase),c=n.getBreakpoint(s,a,l);if(!c||n.currentBreakpoint===c)return;const f=(c in s?s[c]:void 0)||n.originalParams,m=iN(n,r),p=iN(n,f),g=n.params.grabCursor,v=f.grabCursor,b=r.enabled;m&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!m&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),g&&!v?n.unsetGrabCursor():!g&&v&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(U=>{if(typeof f[U]>"u")return;const O=r[U]&&r[U].enabled,C=f[U]&&f[U].enabled;O&&!C&&n[U].disable(),!O&&C&&n[U].enable()});const S=f.direction&&f.direction!==r.direction,E=r.loop&&(f.slidesPerView!==r.slidesPerView||S),_=r.loop;S&&t&&n.changeDirection(),sa(n.params,f);const R=n.params.enabled,B=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),b&&!R?n.disable():!b&&R&&n.enable(),n.currentBreakpoint=c,n.emit("_beforeBreakpoint",f),t&&(E?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!_&&B?(n.loopCreate(e),n.updateSlides()):_&&!B&&n.loopDestroy()),n.emit("breakpoint",f)}function QJ(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=qs(),s=e==="window"?i.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var ZJ={setBreakpoint:JJ,getBreakpoint:QJ};function eQ(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function tQ(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:s}=n,o=eQ(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),i.classList.add(...e),n.emitContainerClasses()}function nQ(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var rQ={addClasses:tQ,removeClasses:nQ};function iQ(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,s=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var sQ={checkOverflow:iQ},hE={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function oQ(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){sa(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in s)){sa(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),sa(e,r)}}const Zw={eventsEmitter:rJ,update:pJ,translate:bJ,transition:CJ,slide:DJ,loop:MJ,grabCursor:BJ,events:XJ,breakpoints:ZJ,checkOverflow:sQ,classes:rQ},e5={};let MA=class Su{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=sa({},t),e&&!t.el&&(t.el=e);const o=kc();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(f=>{const m=sa({},t,{el:f});u.push(new Su(m))}),u}const a=this;a.__swiper__=!0,a.support=cO(),a.device=uO({userAgent:t.userAgent}),a.browser=dO(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:oQ(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=sa({},hE,l);return a.params=sa({},c,e5,t),a.originalParams=sa({},a.params),a.passedParams=sa({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=xc(t,`.${r.slideClass}, swiper-slide`),s=Cx(i[0]);return Cx(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=xc(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=s[c]?Math.ceil(s[c].swiperSlideSize):0,m;for(let p=c+1;p<s.length;p+=1)s[p]&&!m&&(f+=Math.ceil(s[p].swiperSlideSize),u+=1,f>l&&(m=!0));for(let p=c-1;p>=0;p-=1)s[p]&&!m&&(f+=s[p].swiperSlideSize,u+=1,f>l&&(m=!0))}else if(e==="current")for(let f=c+1;f<s.length;f+=1)(t?o[f]+a[f]-o[c]<l:o[f]-o[c]<l)&&(u+=1);else for(let f=c-1;f>=0;f-=1)o[c]-o[f]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&tv(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):xc(r,i())[0];return!o&&t.params.createElements&&(o=Ex("div",t.params.wrapperClass),r.append(o),xc(r,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||$d(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||$d(r,"direction")==="rtl"),wrongRTL:$d(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?tv(t,s):s.addEventListener("load",o=>{tv(t,o.target)})}),fE(t),t.initialized=!0,fE(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),qX(r)),r.destroyed=!0),null}static extendDefaults(e){sa(e5,e)}static get extendedDefaults(){return e5}static get defaults(){return hE}static installModule(e){Su.prototype.__modules__||(Su.prototype.__modules__=[]);const t=Su.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Su.installModule(t)),Su):(Su.installModule(e),Su)}};Object.keys(Zw).forEach(n=>{Object.keys(Zw[n]).forEach(e=>{MA.prototype[e]=Zw[n][e]})});MA.use([tJ,nJ]);const pO=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Eh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Gp(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Eh(e[r])&&Eh(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Gp(n[r],e[r]):n[r]=e[r]})}function mO(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function gO(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function yO(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function vO(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function aQ(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function lQ(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=i.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:u,pagination:f,navigation:m,scrollbar:p,virtual:g,thumbs:v}=e;let b,S,E,_,R,B,U,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(b=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(S=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&f&&!f.el&&(E=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(_=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&m&&!m.prevEl&&!m.nextEl&&(R=!0);const C=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),u[I].prevEl=void 0,u[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),u[I].el=void 0,e[I].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?B=!0:!u.loop&&r.loop?U=!0:O=!0),c.forEach(I=>{if(Eh(u[I])&&Eh(r[I]))Object.assign(u[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&C(I);else{const P=r[I];(P===!0||P===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?P===!1&&C(I):u[I]=r[I]}}),c.includes("controller")&&!S&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&t&&g&&u.virtual.enabled?(g.slides=t,g.update(!0)):i.includes("virtual")&&g&&u.virtual.enabled&&(t&&(g.slides=t),g.update(!0)),i.includes("children")&&t&&u.loop&&(O=!0),b&&v.init()&&v.update(!0),S&&(e.controller.control=u.controller.control),E&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),f.init(),f.render(),f.update()),_&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),R&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),m.init(),m.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(B||O)&&e.loopDestroy(),(U||O)&&e.loopCreate(),e.update()}function cQ(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};Gp(t,hE),t._emitClasses=!0,t.init=!1;const s={},o=pO.map(l=>l.replace(/_/,"")),a=Object.assign({},n);return Object.keys(a).forEach(l=>{typeof n[l]>"u"||(o.indexOf(l)>=0?Eh(n[l])?(t[l]={},i[l]={},Gp(t[l],n[l]),Gp(i[l],n[l])):(t[l]=n[l],i[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:s[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:i,rest:s,events:r}}function uQ(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=n;mO(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),gO(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),yO(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(t)}function dQ(n,e,t,r,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(t&&r){const l=r.map(i),c=t.map(i);l.join("")!==c.join("")&&o("children"),r.length!==t.length&&o("children")}return pO.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(Eh(n[l])&&Eh(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(f=>{n[l][f]!==e[l][f]&&o(l)}),u.forEach(f=>{n[l][f]!==e[l][f]&&o(l)}))}else n[l]!==e[l]&&o(l)}),s}const fQ=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Ax(){return Ax=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ax.apply(this,arguments)}function xO(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function bO(n){const e=[];return dt.Children.toArray(n).forEach(t=>{xO(t)?e.push(t):t.props&&t.props.children&&bO(t.props.children).forEach(r=>e.push(r))}),e}function hQ(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return dt.Children.toArray(n).forEach(r=>{if(xO(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const i=bO(r.props.children);i.length>0?i.forEach(s=>e.push(s)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function pQ(n,e,t){if(!t)return null;const r=u=>{let f=u;return u<0?f=e.length+u:f>=e.length&&(f=f-e.length),f},i=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:s,to:o}=t,a=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[r(u)]);return c.map((u,f)=>dt.cloneElement(u,{swiper:n,style:i,key:u.props.virtualIndex||u.key||`slide-${f}`}))}function qm(n,e){return typeof window>"u"?F.useEffect(n,e):F.useLayoutEffect(n,e)}const sN=F.createContext(null),mQ=F.createContext(null),FA=F.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=n===void 0?{}:n,l=!1;const[c,u]=F.useState("swiper"),[f,m]=F.useState(null),[p,g]=F.useState(!1),v=F.useRef(!1),b=F.useRef(null),S=F.useRef(null),E=F.useRef(null),_=F.useRef(null),R=F.useRef(null),B=F.useRef(null),U=F.useRef(null),O=F.useRef(null),{params:C,passedParams:I,rest:P,events:N}=cQ(a),{slides:D,slots:L}=hQ(s),W=()=>{g(!p)};Object.assign(C.on,{_containerClasses(de,ae){u(ae)}});const ie=()=>{Object.assign(C.on,N),l=!0;const de={...C};if(delete de.wrapperClass,S.current=new MA(de),S.current.virtual&&S.current.params.virtual.enabled){S.current.virtual.slides=D;const ae={cache:!1,slides:D,renderExternal:m,renderExternalUpdate:!1};Gp(S.current.params.virtual,ae),Gp(S.current.originalParams.virtual,ae)}};b.current||ie(),S.current&&S.current.on("_beforeBreakpoint",W);const oe=()=>{l||!N||!S.current||Object.keys(N).forEach(de=>{S.current.on(de,N[de])})},re=()=>{!N||!S.current||Object.keys(N).forEach(de=>{S.current.off(de,N[de])})};F.useEffect(()=>()=>{S.current&&S.current.off("_beforeBreakpoint",W)}),F.useEffect(()=>{!v.current&&S.current&&(S.current.emitSlidesClasses(),v.current=!0)}),qm(()=>{if(e&&(e.current=b.current),!!b.current)return S.current.destroyed&&ie(),uQ({el:b.current,nextEl:R.current,prevEl:B.current,paginationEl:U.current,scrollbarEl:O.current,swiper:S.current},C),o&&!S.current.destroyed&&o(S.current),()=>{S.current&&!S.current.destroyed&&S.current.destroy(!0,!1)}},[]),qm(()=>{oe();const de=dQ(I,E.current,D,_.current,ae=>ae.key);return E.current=I,_.current=D,de.length&&S.current&&!S.current.destroyed&&lQ({swiper:S.current,slides:D,passedParams:I,changedParams:de,nextEl:R.current,prevEl:B.current,scrollbarEl:O.current,paginationEl:U.current}),()=>{re()}}),qm(()=>{fQ(S.current)},[f]);function X(){return C.virtual?pQ(S.current,D,f):D.map((de,ae)=>dt.cloneElement(de,{swiper:S.current,swiperSlideIndex:ae}))}return dt.createElement(r,Ax({ref:b,className:vO(`${c}${t?` ${t}`:""}`)},P),dt.createElement(mQ.Provider,{value:S.current},L["container-start"],dt.createElement(i,{className:aQ(C.wrapperClass)},L["wrapper-start"],X(),L["wrapper-end"]),mO(C)&&dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:B,className:"swiper-button-prev"}),dt.createElement("div",{ref:R,className:"swiper-button-next"})),yO(C)&&dt.createElement("div",{ref:O,className:"swiper-scrollbar"}),gO(C)&&dt.createElement("div",{ref:U,className:"swiper-pagination"}),L["container-end"]))});FA.displayName="Swiper";const Hm=F.forwardRef(function(n,e){let{tag:t="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=n===void 0?{}:n;const f=F.useRef(null),[m,p]=F.useState("swiper-slide"),[g,v]=F.useState(!1);function b(R,B,U){B===f.current&&p(U)}qm(()=>{if(typeof c<"u"&&(f.current.swiperSlideIndex=c),e&&(e.current=f.current),!(!f.current||!s)){if(s.destroyed){m!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",b),()=>{s&&s.off("_slideClass",b)}}}),qm(()=>{s&&f.current&&!s.destroyed&&p(s.getSlideClasses(f.current))},[s]);const S={isActive:m.indexOf("swiper-slide-active")>=0,isVisible:m.indexOf("swiper-slide-visible")>=0,isPrev:m.indexOf("swiper-slide-prev")>=0,isNext:m.indexOf("swiper-slide-next")>=0},E=()=>typeof r=="function"?r(S):r,_=()=>{v(!0)};return dt.createElement(t,Ax({ref:f,className:vO(`${m}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:_},u),o&&dt.createElement(sN.Provider,{value:S},dt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},E(),a&&!g&&dt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&dt.createElement(sN.Provider,{value:S},E(),a&&!g&&dt.createElement("div",{className:"swiper-lazy-preloader"})))});Hm.displayName="SwiperSlide";function wO(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const s=qs();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,a=Cu(),l;const c=[];function u(_){let O=0,C=0,I=0,P=0;return"detail"in _&&(C=_.detail),"wheelDelta"in _&&(C=-_.wheelDelta/120),"wheelDeltaY"in _&&(C=-_.wheelDeltaY/120),"wheelDeltaX"in _&&(O=-_.wheelDeltaX/120),"axis"in _&&_.axis===_.HORIZONTAL_AXIS&&(O=C,C=0),I=O*10,P=C*10,"deltaY"in _&&(P=_.deltaY),"deltaX"in _&&(I=_.deltaX),_.shiftKey&&!I&&(I=P,P=0),(I||P)&&_.deltaMode&&(_.deltaMode===1?(I*=40,P*=40):(I*=800,P*=800)),I&&!O&&(O=I<1?-1:1),P&&!C&&(C=P<1?-1:1),{spinX:O,spinY:C,pixelX:I,pixelY:P}}function f(){e.enabled&&(e.mouseEntered=!0)}function m(){e.enabled&&(e.mouseEntered=!1)}function p(_){return e.params.mousewheel.thresholdDelta&&_.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Cu()-a<e.params.mousewheel.thresholdTime?!1:_.delta>=6&&Cu()-a<60?!0:(_.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),i("scroll",_.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),i("scroll",_.raw)),a=new s.Date().getTime(),!1)}function g(_){const R=e.params.mousewheel;if(_.direction<0){if(e.isEnd&&!e.params.loop&&R.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&R.releaseOnEdges)return!0;return!1}function v(_){let R=_,B=!0;if(!e.enabled||_.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const U=e.params.mousewheel;e.params.cssMode&&R.preventDefault();let O=e.el;e.params.mousewheel.eventsTarget!=="container"&&(O=document.querySelector(e.params.mousewheel.eventsTarget));const C=O&&O.contains(R.target);if(!e.mouseEntered&&!C&&!U.releaseOnEdges)return!0;R.originalEvent&&(R=R.originalEvent);let I=0;const P=e.rtlTranslate?-1:1,N=u(R);if(U.forceToAxis)if(e.isHorizontal())if(Math.abs(N.pixelX)>Math.abs(N.pixelY))I=-N.pixelX*P;else return!0;else if(Math.abs(N.pixelY)>Math.abs(N.pixelX))I=-N.pixelY;else return!0;else I=Math.abs(N.pixelX)>Math.abs(N.pixelY)?-N.pixelX*P:-N.pixelY;if(I===0)return!0;U.invert&&(I=-I);let D=e.getTranslate()+I*U.sensitivity;if(D>=e.minTranslate()&&(D=e.minTranslate()),D<=e.maxTranslate()&&(D=e.maxTranslate()),B=e.params.loop?!0:!(D===e.minTranslate()||D===e.maxTranslate()),B&&e.params.nested&&R.stopPropagation(),!e.params.freeMode||!e.params.freeMode.enabled){const L={time:Cu(),delta:Math.abs(I),direction:Math.sign(I),raw:_};c.length>=2&&c.shift();const W=c.length?c[c.length-1]:void 0;if(c.push(L),W?(L.direction!==W.direction||L.delta>W.delta||L.time>W.time+150)&&p(L):p(L),g(L))return!0}else{const L={time:Cu(),delta:Math.abs(I),direction:Math.sign(I)},W=l&&L.time<l.time+500&&L.delta<=l.delta&&L.direction===l.direction;if(!W){l=void 0;let ie=e.getTranslate()+I*U.sensitivity;const oe=e.isBeginning,re=e.isEnd;if(ie>=e.minTranslate()&&(ie=e.minTranslate()),ie<=e.maxTranslate()&&(ie=e.maxTranslate()),e.setTransition(0),e.setTranslate(ie),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!oe&&e.isBeginning||!re&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:L.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const X=c.length?c[c.length-1]:void 0,de=c[0];if(c.push(L),X&&(L.delta>X.delta||L.direction!==X.direction))c.splice(0);else if(c.length>=15&&L.time-de.time<500&&de.delta-L.delta>=1&&L.delta<=6){const ae=I>0?.8:.2;l=L,c.splice(0),o=wg(()=>{e.destroyed||!e.params||e.slideToClosest(e.params.speed,!0,void 0,ae)},0)}o||(o=wg(()=>{if(e.destroyed||!e.params)return;const ae=.5;l=L,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,ae)},500))}if(W||i("scroll",R),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),U.releaseOnEdges&&(ie===e.minTranslate()||ie===e.maxTranslate()))return!0}}return R.preventDefault?R.preventDefault():R.returnValue=!1,!1}function b(_){let R=e.el;e.params.mousewheel.eventsTarget!=="container"&&(R=document.querySelector(e.params.mousewheel.eventsTarget)),R[_]("mouseenter",f),R[_]("mouseleave",m),R[_]("wheel",v)}function S(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",v),!0):e.mousewheel.enabled?!1:(b("addEventListener"),e.mousewheel.enabled=!0,!0)}function E(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,v),!0):e.mousewheel.enabled?(b("removeEventListener"),e.mousewheel.enabled=!1,!0):!1}r("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&E(),e.params.mousewheel.enabled&&S()}),r("destroy",()=>{e.params.cssMode&&S(),e.mousewheel.enabled&&E()}),Object.assign(e.mousewheel,{enable:S,disable:E})}function SO(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let s=xc(n.el,`.${r[i]}`)[0];s||(s=Ex("div",r[i]),s.className=r[i],n.el.append(s)),t[i]=s,e[i]=s}}),t}function EO(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(g){let v;return g&&typeof g=="string"&&e.isElement&&(v=e.el.querySelector(g)||e.hostEl.querySelector(g),v)?v:(g&&(typeof g=="string"&&(v=[...document.querySelectorAll(g)]),e.params.uniqueNavElements&&typeof g=="string"&&v&&v.length>1&&e.el.querySelectorAll(g).length===1?v=e.el.querySelector(g):v&&v.length===1&&(v=v[0])),g&&!v?g:v)}function o(g,v){const b=e.params.navigation;g=Ri(g),g.forEach(S=>{S&&(S.classList[v?"add":"remove"](...b.disabledClass.split(" ")),S.tagName==="BUTTON"&&(S.disabled=v),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](b.lockClass))})}function a(){const{nextEl:g,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(g,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(g,e.isEnd&&!e.params.rewind)}function l(g){g.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(g){g.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const g=e.params.navigation;if(e.params.navigation=SO(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(g.nextEl||g.prevEl))return;let v=s(g.nextEl),b=s(g.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:b}),v=Ri(v),b=Ri(b);const S=(E,_)=>{E&&E.addEventListener("click",_==="next"?c:l),!e.enabled&&E&&E.classList.add(...g.lockClass.split(" "))};v.forEach(E=>S(E,"next")),b.forEach(E=>S(E,"prev"))}function f(){let{nextEl:g,prevEl:v}=e.navigation;g=Ri(g),v=Ri(v);const b=(S,E)=>{S.removeEventListener("click",E==="next"?c:l),S.classList.remove(...e.params.navigation.disabledClass.split(" "))};g.forEach(S=>b(S,"next")),v.forEach(S=>b(S,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(u(),a())}),r("toEdge fromEdge lock unlock",()=>{a()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:g,prevEl:v}=e.navigation;if(g=Ri(g),v=Ri(v),e.enabled){a();return}[...g,...v].filter(b=>!!b).forEach(b=>b.classList.add(e.params.navigation.lockClass))}),r("click",(g,v)=>{let{nextEl:b,prevEl:S}=e.navigation;b=Ri(b),S=Ri(S);const E=v.target;let _=S.includes(E)||b.includes(E);if(e.isElement&&!_){const R=v.path||v.composedPath&&v.composedPath();R&&(_=R.find(B=>b.includes(B)||S.includes(B)))}if(e.params.navigation.hideOnClick&&!_){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let R;b.length?R=b[0].classList.contains(e.params.navigation.hiddenClass):S.length&&(R=S[0].classList.contains(e.params.navigation.hiddenClass)),i(R===!0?"navigationShow":"navigationHide"),[...b,...S].filter(B=>!!B).forEach(B=>B.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),a()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:m,disable:p,update:a,init:u,destroy:f})}function ym(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function CO(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:E=>E,formatFractionTotal:E=>E,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function l(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function c(E,_){const{bulletActiveClass:R}=e.params.pagination;E&&(E=E[`${_==="prev"?"previous":"next"}ElementSibling`],E&&(E.classList.add(`${R}-${_}`),E=E[`${_==="prev"?"previous":"next"}ElementSibling`],E&&E.classList.add(`${R}-${_}-${_}`)))}function u(E,_,R){if(E=E%R,_=_%R,_===E+1)return"next";if(_===E-1)return"previous"}function f(E){const _=E.target.closest(ym(e.params.pagination.bulletClass));if(!_)return;E.preventDefault();const R=Cx(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===R)return;const B=u(e.realIndex,R,e.slides.length);B==="next"?e.slideNext():B==="previous"?e.slidePrev():e.slideToLoop(R)}else e.slideTo(R)}function m(){const E=e.rtl,_=e.params.pagination;if(l())return;let R=e.pagination.el;R=Ri(R);let B,U;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(U=e.previousRealIndex||0,B=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(B=e.snapIndex,U=e.previousSnapIndex):(U=e.previousIndex||0,B=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let P,N,D;if(_.dynamicBullets&&(o=dE(I[0],e.isHorizontal()?"width":"height"),R.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${o*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&U!==void 0&&(a+=B-(U||0),a>_.dynamicMainBullets-1?a=_.dynamicMainBullets-1:a<0&&(a=0)),P=Math.max(B-a,0),N=P+(Math.min(I.length,_.dynamicMainBullets)-1),D=(N+P)/2),I.forEach(L=>{const W=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ie=>`${_.bulletActiveClass}${ie}`)].map(ie=>typeof ie=="string"&&ie.includes(" ")?ie.split(" "):ie).flat();L.classList.remove(...W)}),R.length>1)I.forEach(L=>{const W=Cx(L);W===B?L.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),_.dynamicBullets&&(W>=P&&W<=N&&L.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),W===P&&c(L,"prev"),W===N&&c(L,"next"))});else{const L=I[B];if(L&&L.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&I.forEach((W,ie)=>{W.setAttribute("part",ie===B?"bullet-active":"bullet")}),_.dynamicBullets){const W=I[P],ie=I[N];for(let oe=P;oe<=N;oe+=1)I[oe]&&I[oe].classList.add(...`${_.bulletActiveClass}-main`.split(" "));c(W,"prev"),c(ie,"next")}}if(_.dynamicBullets){const L=Math.min(I.length,_.dynamicMainBullets+4),W=(o*L-o)/2-D*o,ie=E?"right":"left";I.forEach(oe=>{oe.style[e.isHorizontal()?ie:"top"]=`${W}px`})}}R.forEach((I,P)=>{if(_.type==="fraction"&&(I.querySelectorAll(ym(_.currentClass)).forEach(N=>{N.textContent=_.formatFractionCurrent(B+1)}),I.querySelectorAll(ym(_.totalClass)).forEach(N=>{N.textContent=_.formatFractionTotal(C)})),_.type==="progressbar"){let N;_.progressbarOpposite?N=e.isHorizontal()?"vertical":"horizontal":N=e.isHorizontal()?"horizontal":"vertical";const D=(B+1)/C;let L=1,W=1;N==="horizontal"?L=D:W=D,I.querySelectorAll(ym(_.progressbarFillClass)).forEach(ie=>{ie.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${W})`,ie.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(I.innerHTML=_.renderCustom(e,B+1,C),P===0&&i("paginationRender",I)):(P===0&&i("paginationRender",I),i("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](_.lockClass)})}function p(){const E=e.params.pagination;if(l())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let R=e.pagination.el;R=Ri(R);let B="";if(E.type==="bullets"){let U=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&U>_&&(U=_);for(let O=0;O<U;O+=1)E.renderBullet?B+=E.renderBullet.call(e,O,E.bulletClass):B+=`<${E.bulletElement} ${e.isElement?'part="bullet"':""} class="${E.bulletClass}"></${E.bulletElement}>`}E.type==="fraction"&&(E.renderFraction?B=E.renderFraction.call(e,E.currentClass,E.totalClass):B=`<span class="${E.currentClass}"></span> / <span class="${E.totalClass}"></span>`),E.type==="progressbar"&&(E.renderProgressbar?B=E.renderProgressbar.call(e,E.progressbarFillClass):B=`<span class="${E.progressbarFillClass}"></span>`),e.pagination.bullets=[],R.forEach(U=>{E.type!=="custom"&&(U.innerHTML=B||""),E.type==="bullets"&&e.pagination.bullets.push(...U.querySelectorAll(ym(E.bulletClass)))}),E.type!=="custom"&&i("paginationRender",R[0])}function g(){e.params.pagination=SO(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const E=e.params.pagination;if(!E.el)return;let _;typeof E.el=="string"&&e.isElement&&(_=e.el.querySelector(E.el)),!_&&typeof E.el=="string"&&(_=[...document.querySelectorAll(E.el)]),_||(_=E.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof E.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(E.el)],_.length>1&&(_=_.find(R=>lO(R,".swiper")[0]===e.el))),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=Ri(_),_.forEach(R=>{E.type==="bullets"&&E.clickable&&R.classList.add(...(E.clickableClass||"").split(" ")),R.classList.add(E.modifierClass+E.type),R.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.type==="bullets"&&E.dynamicBullets&&(R.classList.add(`${E.modifierClass}${E.type}-dynamic`),a=0,E.dynamicMainBullets<1&&(E.dynamicMainBullets=1)),E.type==="progressbar"&&E.progressbarOpposite&&R.classList.add(E.progressbarOppositeClass),E.clickable&&R.addEventListener("click",f),e.enabled||R.classList.add(E.lockClass)}))}function v(){const E=e.params.pagination;if(l())return;let _=e.pagination.el;_&&(_=Ri(_),_.forEach(R=>{R.classList.remove(E.hiddenClass),R.classList.remove(E.modifierClass+E.type),R.classList.remove(e.isHorizontal()?E.horizontalClass:E.verticalClass),E.clickable&&(R.classList.remove(...(E.clickableClass||"").split(" ")),R.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(R=>R.classList.remove(...E.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const E=e.params.pagination;let{el:_}=e.pagination;_=Ri(_),_.forEach(R=>{R.classList.remove(E.horizontalClass,E.verticalClass),R.classList.add(e.isHorizontal()?E.horizontalClass:E.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?S():(g(),p(),m())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&m()}),r("snapIndexChange",()=>{m()}),r("snapGridLengthChange",()=>{p(),m()}),r("destroy",()=>{v()}),r("enable disable",()=>{let{el:E}=e.pagination;E&&(E=Ri(E),E.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{m()}),r("click",(E,_)=>{const R=_.target,B=Ri(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&B&&B.length>0&&!R.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&R===e.navigation.nextEl||e.navigation.prevEl&&R===e.navigation.prevEl))return;const U=B[0].classList.contains(e.params.pagination.hiddenClass);i(U===!0?"paginationShow":"paginationHide"),B.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const b=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Ri(E),E.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),g(),p(),m()},S=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:E}=e.pagination;E&&(E=Ri(E),E.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:b,disable:S,render:p,update:m,init:g,destroy:v})}function AO(n){let{swiper:e,extendParams:t,on:r,emit:i,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,u,f=new Date().getTime(),m,p,g,v,b,S,E;function _(X){!e||e.destroyed||!e.wrapperEl||X.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",_),!(E||X.detail&&X.detail.bySwiperTouchMove)&&P())}const R=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?m=!0:m&&(c=u,m=!1);const X=e.autoplay.paused?u:f+c-new Date().getTime();e.autoplay.timeLeft=X,i("autoplayTimeLeft",X,X/l),a=requestAnimationFrame(()=>{R()})},B=()=>{let X;return e.virtual&&e.params.virtual.enabled?X=e.slides.find(ae=>ae.classList.contains("swiper-slide-active")):X=e.slides[e.activeIndex],X?parseInt(X.getAttribute("data-swiper-autoplay"),10):void 0},U=X=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),R();let de=typeof X>"u"?e.params.autoplay.delay:X;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const ae=B();!Number.isNaN(ae)&&ae>0&&typeof X>"u"&&(de=ae,l=ae,c=ae),u=de;const Y=e.params.speed,$=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(Y,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,Y,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(Y,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,Y,!0,!0),i("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{U()})))};return de>0?(clearTimeout(o),o=setTimeout(()=>{$()},de)):requestAnimationFrame(()=>{$()}),de},O=()=>{f=new Date().getTime(),e.autoplay.running=!0,U(),i("autoplayStart")},C=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},I=(X,de)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),X||(S=!0);const ae=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",_):P()};if(e.autoplay.paused=!0,de){b&&(u=e.params.autoplay.delay),b=!1,ae();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),ae())},P=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),S?(S=!1,U(u)):U(),e.autoplay.paused=!1,i("autoplayResume"))},N=()=>{if(e.destroyed||!e.autoplay.running)return;const X=kc();X.visibilityState==="hidden"&&(S=!0,I(!0)),X.visibilityState==="visible"&&P()},D=X=>{X.pointerType==="mouse"&&(S=!0,E=!0,!(e.animating||e.autoplay.paused)&&I(!0))},L=X=>{X.pointerType==="mouse"&&(E=!1,e.autoplay.paused&&P())},W=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",D),e.el.addEventListener("pointerleave",L))},ie=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",D),e.el.removeEventListener("pointerleave",L))},oe=()=>{kc().addEventListener("visibilitychange",N)},re=()=>{kc().removeEventListener("visibilitychange",N)};r("init",()=>{e.params.autoplay.enabled&&(W(),oe(),O())}),r("destroy",()=>{ie(),re(),e.autoplay.running&&C()}),r("_freeModeStaticRelease",()=>{(g||S)&&P()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?C():I(!0,!0)}),r("beforeTransitionStart",(X,de,ae)=>{e.destroyed||!e.autoplay.running||(ae||!e.params.autoplay.disableOnInteraction?I(!0,!0):C())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){C();return}p=!0,g=!1,S=!1,v=setTimeout(()=>{S=!0,g=!0,I(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!p)){if(clearTimeout(v),clearTimeout(o),e.params.autoplay.disableOnInteraction){g=!1,p=!1;return}g&&e.params.cssMode&&P(),g=!1,p=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(b=!0)}),Object.assign(e.autoplay,{start:O,stop:C,pause:I,resume:P})}function gQ(){const{t:n}=ho(),e=F.useRef(null),[t,r]=F.useState(0),i=["https://res.cloudinary.com/ddkyumyw3/image/upload/v1749937335/12_picr3o.png","https://res.cloudinary.com/ddkyumyw3/image/upload/v1749944246/Pure-Encapsulations-Logo_tnzjz5.png","https://res.cloudinary.com/ddkyumyw3/image/upload/v1750106960/Double_Wood-logo_uob8r5.png"];return A.jsxs("section",{className:"relative min-h-[100vh] flex flex-col items-center justify-center overflow-hidden pt-16 sm:pt-24 md:pt-20 xl:pt-24",children:[A.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:t===0||t===1?`url('${i[t]}')`:"none",backgroundRepeat:"no-repeat",backgroundSize:"95% auto",backgroundPosition:"center right"}}),A.jsxs(FA,{modules:[CO,AO,EO,wO],pagination:{clickable:!0},autoplay:{delay:7e3,disableOnInteraction:!1},navigation:!0,loop:!0,touchRatio:1.5,resistanceRatio:0,speed:500,threshold:5,followFinger:!0,grabCursor:!0,shortSwipes:!0,longSwipesRatio:.2,mousewheel:{forceToAxis:!0,sensitivity:1.5,releaseOnEdges:!0},className:"relative z-10 w-full max-w-screen-xl mx-auto px-4 text-center",onSwiper:s=>e.current=s,onSlideChange:s=>{setTimeout(()=>{r(s.realIndex)},50)},children:[A.jsx(Hm,{children:A.jsx(ji.div,{className:"flex flex-col items-center justify-center gap-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1},children:A.jsxs("div",{className:"flex flex-col items-center text-center text-[#0088D5] gap-6 mt-4 sm:mt-8 px-4 w-full sm:max-w-[50%] ml-auto pr-6",children:[A.jsx("span",{className:"uppercase text-base sm:text-lg tracking-widest font-semibold mt-2 mb-4",children:n("hero.tagline")}),A.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-2 leading-tight max-w-screen-md xl:max-w-full text-center",children:[A.jsx("span",{children:n("hero.headline1")}),A.jsx("br",{}),A.jsx("span",{children:n("hero.headline2")})]}),A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-medium mb-4 max-w-[90%] mx-auto",children:n("hero.description")}),A.jsx("div",{className:"w-full flex justify-center",children:A.jsx("div",{onClick:()=>window.location.href="/shop",className:"inline-block bg-[#0088D5] text-white font-semibold px-6 py-3 rounded-full hover:bg-blue-600 hover:shadow-lg hover:scale-105 transition-all duration-200 focus:outline-none appearance-none cursor-pointer",children:n("hero.button")})})]})})}),A.jsx(Hm,{children:A.jsx(ji.div,{className:"flex flex-col items-center justify-center gap-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1},children:A.jsxs("div",{className:"flex flex-col items-center text-center text-[#1A3DA7] gap-6 mt-4 sm:mt-8 px-4 w-full sm:max-w-[50%] ml-auto pr-6",children:[A.jsx("span",{className:"uppercase text-base sm:text-lg tracking-widest font-semibold mt-2 mb-4",children:n("pure.tagline")}),A.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-2 leading-tight max-w-screen-md xl:max-w-full text-center",children:[A.jsx("span",{children:n("pure.headline1")}),A.jsx("br",{}),A.jsx("span",{children:n("pure.headline2")})]}),A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-medium mb-4 max-w-[90%] mx-auto",children:n("pure.description")}),A.jsx("div",{className:"w-full flex justify-center",children:A.jsx("div",{onClick:()=>window.location.href="/shop",className:"inline-block bg-[#1A3DA7] text-white font-semibold px-6 py-3 rounded-full hover:bg-blue-600 hover:shadow-lg hover:scale-105 transition-all duration-200 focus:outline-none appearance-none cursor-pointer",children:n("pure.button")})})]})})}),A.jsx(Hm,{children:A.jsx(ji.div,{className:"flex flex-col items-center justify-center gap-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:1},children:A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-8 px-4 w-full max-w-screen-xl mx-auto",children:[A.jsx("img",{src:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1750106960/Double_Wood-logo_uob8r5.png",alt:"Double Wood Logo",className:"w-full sm:w-[65%] max-w-2xl object-contain"}),A.jsxs("div",{className:"flex flex-col items-center text-center text-[#4B3621] gap-6 sm:mt-8 sm:max-w-[50%] ml-auto pr-6",children:[A.jsx("span",{className:"uppercase text-base sm:text-lg tracking-widest font-semibold mt-2 mb-4",children:n("dw.tagline")}),A.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-2 leading-tight max-w-screen-md xl:max-w-full text-center",children:[A.jsx("span",{children:n("dw.headline1")}),A.jsx("br",{}),A.jsx("span",{children:n("dw.headline2")})]}),A.jsx("p",{className:"text-lg sm:text-xl md:text-2xl font-medium mb-4 max-w-[90%] mx-auto",children:n("dw.description")}),A.jsx("div",{className:"w-full flex justify-center",children:A.jsx("div",{onClick:()=>window.location.href="/shop",className:"inline-block bg-[#4B3621] text-white font-semibold px-6 py-3 rounded-full hover:bg-green-700 hover:shadow-lg hover:scale-105 transition-all duration-200 focus:outline-none appearance-none cursor-pointer",children:n("dw.button")})})]})]})})})]}),A.jsx("button",{onClick:()=>{var s;return(s=e.current)==null?void 0:s.slidePrev()},className:"hidden sm:flex absolute top-1/2 left-6 z-20 -translate-y-1/2 w-10 h-10 items-center justify-center rounded-full bg-[#0C2E63] hover:bg-[#0a254e] text-white transition-all duration-300 shadow-md","aria-label":"Anterior",children:A.jsx($S,{className:"rotate-90"})}),A.jsx("button",{onClick:()=>{var s;return(s=e.current)==null?void 0:s.slideNext()},className:"hidden sm:flex absolute top-1/2 right-6 z-20 -translate-y-1/2 w-10 h-10 items-center justify-center rounded-full bg-[#0C2E63] hover:bg-[#0a254e] text-white transition-all duration-300 shadow-md","aria-label":"Siguiente",children:A.jsx($S,{className:"-rotate-90"})}),A.jsx("style",{children:`
          .swiper-button-next,
          .swiper-button-prev {
            display: none !important;
          }
          .swiper-pagination-bullet {
            background: #0C2E63;
            opacity: 0.4;
          }
          .swiper-pagination-bullet-active {
            background: #0C2E63;
            opacity: 1;
          }
        `})]})}function _O(){const n=zc(),{t:e}=ho();return A.jsxs("section",{id:"catalogo",className:"py-24 text-center scroll-mt-16 bg-white",children:[A.jsxs(XC,{children:[A.jsx("title",{children:"Categoras | Looma"}),A.jsx("meta",{name:"keywords",content:"ropa para mascotas, hogar, fitness, gadgets, electrnicos, productos dropshipping USA, Looma"}),A.jsx("meta",{name:"description",content:"Explor productos de hogar, fitness, electrnica y ms. Eleg tu categora favorita y descubr lo ltimo en estilo y funcionalidad."})]}),A.jsx(ji.p,{className:"text-sm uppercase text-[#003366] tracking-widest mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},children:e("categories.eyebrow")}),A.jsx("h2",{className:"text-4xl sm:text-6xl font-extrabold text-center mb-12 tracking-tight text-[#365486] drop-shadow-[0_2px_4px_rgba(0,0,0,0.45)] transition-all duration-700",children:e("categories.title")}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 max-w-6xl mx-auto px-6",children:[A.jsx(ji.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>n("/shop?brand=FUXION"),role:"button",tabIndex:0,onKeyDown:t=>t.key==="Enter"&&n("/shop?brand=FUXION"),className:"group relative rounded-xl overflow-hidden shadow-xl ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(ji.img,{src:"/images/logo-fuxion.png",alt:"Fuxion",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[80%] max-h-[80%] object-contain transition-transform duration-500 group-hover:scale-110"})})})}),A.jsx(ji.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>n("/shop?brand=PURE"),role:"button",tabIndex:0,onKeyDown:t=>t.key==="Enter"&&n("/shop?brand=PURE"),className:"group relative rounded-xl overflow-hidden shadow-xl ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(ji.img,{src:"/images/logo-pure.png",alt:"Pure",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[80%] max-h-[80%] object-contain transition-transform duration-500 group-hover:scale-110"})})})}),A.jsx(ji.div,{whileInView:{opacity:1,scale:1},initial:{opacity:0,scale:.95},transition:{duration:.6,ease:"easeOut"},onClick:()=>n("/shop?brand=DOUBLEWOOD"),role:"button",tabIndex:0,onKeyDown:t=>t.key==="Enter"&&n("/shop?brand=DOUBLEWOOD"),className:"group relative rounded-xl overflow-hidden shadow-xl ring-1 ring-white/10 transition-transform duration-500 hover:scale-105 cursor-pointer h-72 bg-white",children:A.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-6",children:A.jsx("div",{className:"flex items-center justify-center w-full h-full",children:A.jsx(ji.img,{src:"/images/Double Wood-logo.png",alt:"Double Wood",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:"max-w-[80%] max-h-[80%] object-contain transition-transform duration-500 group-hover:scale-110"})})})})]})]})}function yQ(){const{t:n}=ho(),e=[{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749968399/Dise%C3%B1o_sin_t%C3%ADtulo-56_hqtx6c.png",title:()=>n("promoSlider.slide1.title"),subtitle:()=>n("promoSlider.slide1.subtitle"),link:"/fuxion"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749969504/Dise%C3%B1o_sin_t%C3%ADtulo-58_qr44kj.png",title:()=>n("promoSlider.slide2.title"),subtitle:()=>n("promoSlider.slide2.subtitle"),link:"/fuxion"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/video/upload/v1749949560/FUXION1_yg6uvv.mp4",title:()=>n("promoSlider.slide3.title"),subtitle:()=>n("promoSlider.slide3.subtitle"),link:"/fuxion"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749968869/Dise%C3%B1o_sin_t%C3%ADtulo-57_dziuig.png",title:()=>n("promoSlider.slide4.title"),subtitle:()=>n("promoSlider.slide4.subtitle"),link:"/fuxion"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749962946/Dise%C3%B1o_sin_t%C3%ADtulo-54_qrardv.png",title:()=>n("promoSlider.slide5.title"),subtitle:()=>n("promoSlider.slide5.subtitle"),link:"/pure"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749967618/Dise%C3%B1o_sin_t%C3%ADtulo-55_qz5p07.png",title:()=>n("promoSlider.slide6.title"),subtitle:()=>n("promoSlider.slide6.subtitle"),link:"/pure"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/video/upload/v1749950533/PURE1_xqyxp7.mp4",title:()=>n("promoSlider.slide7.title"),subtitle:()=>n("promoSlider.slide7.subtitle"),link:"/pure"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1749962554/Dise%C3%B1o_sin_t%C3%ADtulo-51_fhqr0q.png",title:()=>n("promoSlider.slide8.title"),subtitle:()=>n("promoSlider.slide8.subtitle"),link:"/pure"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/video/upload/v1750114972/DW1_pggieo.mp4",title:()=>n("promoSlider.slide9.title"),subtitle:()=>n("promoSlider.slide9.subtitle"),link:"/shop"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1750114964/DW2_tmu2z6.png",title:()=>n("promoSlider.slide10.title"),subtitle:()=>n("promoSlider.slide10.subtitle"),link:"/shop"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/video/upload/v1750116104/DW5_flishp.mp4",title:()=>n("promoSlider.slide11.title"),subtitle:()=>n("promoSlider.slide11.subtitle"),link:"/shop"},{mediaUrl:"https://res.cloudinary.com/ddkyumyw3/image/upload/v1750114965/DW4_j7smok.png",title:()=>n("promoSlider.slide12.title"),subtitle:()=>n("promoSlider.slide12.subtitle"),link:"/shop"}],t=F.useRef(null),r=()=>{t.current&&t.current.slidePrev()},i=()=>{t.current&&t.current.slideNext()};return A.jsx("section",{className:"relative w-full bg-black",children:A.jsxs(FA,{modules:[CO,AO,EO,wO],pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:!1,loop:!0,touchRatio:1.5,resistanceRatio:0,speed:450,threshold:5,followFinger:!0,grabCursor:!0,shortSwipes:!0,longSwipesRatio:.2,mousewheel:{forceToAxis:!0,sensitivity:1.5,releaseOnEdges:!0},onSwiper:s=>t.current=s,className:"h-[80vh] promo-slider",children:[e.map((s,o)=>A.jsx(Hm,{children:A.jsxs("div",{className:"relative w-full h-full",children:[s.mediaUrl.endsWith(".mp4")?A.jsx("video",{src:s.mediaUrl,className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):A.jsx("img",{src:s.mediaUrl,alt:s.title(),className:"absolute inset-0 w-full h-full object-cover"}),A.jsx("div",{className:"absolute inset-0 bg-black/40"}),A.jsxs(ji.div,{className:"relative z-10 flex flex-col items-center justify-center h-full text-white text-center px-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[A.jsx("h2",{className:"text-3xl sm:text-5xl font-extrabold mb-4 text-white drop-shadow-[0_3px_6px_rgba(0,0,0,0.8)] tracking-tight",children:s.title()}),A.jsx("p",{className:"text-lg sm:text-xl font-light text-white/90 drop-shadow-[0_2px_4px_rgba(0,0,0,0.6)] mb-6",children:s.subtitle()}),A.jsx(Vi,{to:s.link,className:"px-6 py-3 bg-white text-black font-semibold rounded-full hover:scale-105 transition-all",children:n("promoSlider.cta")})]})]})},o)),A.jsx("button",{onClick:r,className:"custom-nav-btn custom-prev hidden sm:flex absolute top-1/2 left-4 z-20 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-black/40 backdrop-blur-md hover:bg-black/60 transition-all duration-300 shadow-lg","aria-label":"Anterior",children:A.jsx(Xy,{className:"text-white",size:28})}),A.jsx("button",{onClick:i,className:"custom-nav-btn custom-next hidden sm:flex absolute top-1/2 right-4 z-20 -translate-y-1/2 w-12 h-12 items-center justify-center rounded-full bg-black/40 backdrop-blur-md hover:bg-black/60 transition-all duration-300 shadow-lg","aria-label":"Siguiente",children:A.jsx(pq,{className:"text-white",size:28})})]})})}function vQ(){const{t:n}=ho();return A.jsx("section",{className:"bg-gray-50 py-20 px-6 text-center",children:A.jsxs("div",{className:"max-w-4xl mx-auto",children:[A.jsx("p",{className:"text-xs md:text-sm text-gray-600 uppercase tracking-widest mb-5",children:n("about.subtitle")}),A.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:n("about.headline")}),A.jsx("p",{className:"text-base md:text-lg text-gray-600 leading-relaxed",children:n("about.preview")}),A.jsx("div",{className:"mt-8",children:A.jsx("a",{href:"/about",className:"inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-md transition",children:n("about.cta")})})]})})}function TO({variant:n="floating",itemCount:e,showCount:t=!0}){const{items:r}=S2(),i=r.reduce((c,u)=>c+u.quantity,0),s="rounded-full bg-blue-600 text-white shadow-xl hover:bg-blue-700 transition-colors",o=n==="hero"?"w-12 h-12":"w-10 h-10",a=n==="floating"?"fixed top-6 right-6 z-50":"relative",l=e!==void 0?e:i;return A.jsx(Vi,{to:"/carrito",className:"relative block",children:A.jsxs(ji.div,{whileHover:{scale:1.1},whileTap:{scale:.95},className:`${s} ${o} ${a} flex items-center justify-center`,children:[A.jsx(pL,{className:"w-5 h-5"}),t&&l>0&&A.jsx(ji.span,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300},className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full shadow-md",children:l})]})})}const xQ=()=>{};var oN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},bQ=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(t[u],t[f],t[m],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bQ(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new wQ;const m=s<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const g=c<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SQ=function(n){const e=kO(n);return NO.encodeByteArray(e,!0)},_x=function(n){return SQ(n).replace(/\./g,"")},PO=function(n){try{return NO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=()=>EQ().__FIREBASE_DEFAULTS__,AQ=()=>{if(typeof process>"u"||typeof oN>"u")return;const n=oN.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_Q=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&PO(n[1]);return e&&JSON.parse(e)},P2=()=>{try{return xQ()||CQ()||AQ()||_Q()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IO=n=>{var e,t;return(t=(e=P2())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TQ=n=>{const e=IO(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DO=()=>{var n;return(n=P2())===null||n===void 0?void 0:n.config},RO=n=>{var e;return(e=P2())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_x(JSON.stringify(t)),_x(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($s())}function IQ(){var n;const e=(n=P2())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DQ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RQ(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OQ(){const n=$s();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function MQ(){return!IQ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FQ(){try{return typeof indexedDB=="object"}catch{return!1}}function jQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ="FirebaseError";class $u extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BQ,Object.setPrototypeOf(this,$u.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i1.prototype.create)}}class i1{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VQ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $u(i,a,r)}}function VQ(n,e){return n.replace($Q,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $Q=/\{\$([^}]+)}/g;function zQ(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ch(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(aN(s)&&aN(o)){if(!Ch(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function aN(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _m(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tm(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function UQ(n,e){const t=new qQ(n,e);return t.subscribe.bind(t)}class qQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");HQ(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=t5),i.error===void 0&&(i.error=t5),i.complete===void 0&&(i.complete=t5);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HQ(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function t5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(n){return n&&n._delegate?n._delegate:n}class Ah{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kQ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KQ(e))try{this.getOrInitializeService({instanceIdentifier:Jf})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jf){return this.instances.has(e)}getOptions(e=Jf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GQ(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jf){return this.component?this.component.multipleInstances?e:Jf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GQ(n){return n===Jf?void 0:n}function KQ(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Sn||(Sn={}));const XQ={debug:Sn.DEBUG,verbose:Sn.VERBOSE,info:Sn.INFO,warn:Sn.WARN,error:Sn.ERROR,silent:Sn.SILENT},JQ=Sn.INFO,QQ={[Sn.DEBUG]:"log",[Sn.VERBOSE]:"log",[Sn.INFO]:"info",[Sn.WARN]:"warn",[Sn.ERROR]:"error"},ZQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=QQ[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jA{constructor(e){this.name=e,this._logLevel=JQ,this._logHandler=ZQ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Sn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Sn.DEBUG,...e),this._logHandler(this,Sn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Sn.VERBOSE,...e),this._logHandler(this,Sn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Sn.INFO,...e),this._logHandler(this,Sn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Sn.WARN,...e),this._logHandler(this,Sn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Sn.ERROR,...e),this._logHandler(this,Sn.ERROR,...e)}}const eZ=(n,e)=>e.some(t=>n instanceof t);let lN,cN;function tZ(){return lN||(lN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nZ(){return cN||(cN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LO=new WeakMap,pE=new WeakMap,OO=new WeakMap,n5=new WeakMap,BA=new WeakMap;function rZ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Kd(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&LO.set(t,n)}).catch(()=>{}),BA.set(e,n),e}function iZ(n){if(pE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});pE.set(n,e)}let mE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OO.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sZ(n){mE=n(mE)}function oZ(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(r5(this),e,...t);return OO.set(r,e.sort?e.sort():[e]),Kd(r)}:nZ().includes(n)?function(...e){return n.apply(r5(this),e),Kd(LO.get(this))}:function(...e){return Kd(n.apply(r5(this),e))}}function aZ(n){return typeof n=="function"?oZ(n):(n instanceof IDBTransaction&&iZ(n),eZ(n,tZ())?new Proxy(n,mE):n)}function Kd(n){if(n instanceof IDBRequest)return rZ(n);if(n5.has(n))return n5.get(n);const e=aZ(n);return e!==n&&(n5.set(n,e),BA.set(e,n)),e}const r5=n=>BA.get(n);function lZ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=Kd(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Kd(o.result),l.oldVersion,l.newVersion,Kd(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cZ=["get","getKey","getAll","getAllKeys","count"],uZ=["put","add","delete","clear"],i5=new Map;function uN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(i5.get(e))return i5.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=uZ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cZ.includes(t)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),i&&l.done]))[0]};return i5.set(e,s),s}sZ(n=>({...n,get:(e,t,r)=>uN(e,t)||n.get(e,t,r),has:(e,t)=>!!uN(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(fZ(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function fZ(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gE="@firebase/app",dN="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new jA("@firebase/app"),hZ="@firebase/app-compat",pZ="@firebase/analytics-compat",mZ="@firebase/analytics",gZ="@firebase/app-check-compat",yZ="@firebase/app-check",vZ="@firebase/auth",xZ="@firebase/auth-compat",bZ="@firebase/database",wZ="@firebase/data-connect",SZ="@firebase/database-compat",EZ="@firebase/functions",CZ="@firebase/functions-compat",AZ="@firebase/installations",_Z="@firebase/installations-compat",TZ="@firebase/messaging",kZ="@firebase/messaging-compat",NZ="@firebase/performance",PZ="@firebase/performance-compat",IZ="@firebase/remote-config",DZ="@firebase/remote-config-compat",RZ="@firebase/storage",LZ="@firebase/storage-compat",OZ="@firebase/firestore",MZ="@firebase/vertexai",FZ="@firebase/firestore-compat",jZ="firebase",BZ="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="[DEFAULT]",VZ={[gE]:"fire-core",[hZ]:"fire-core-compat",[mZ]:"fire-analytics",[pZ]:"fire-analytics-compat",[yZ]:"fire-app-check",[gZ]:"fire-app-check-compat",[vZ]:"fire-auth",[xZ]:"fire-auth-compat",[bZ]:"fire-rtdb",[wZ]:"fire-data-connect",[SZ]:"fire-rtdb-compat",[EZ]:"fire-fn",[CZ]:"fire-fn-compat",[AZ]:"fire-iid",[_Z]:"fire-iid-compat",[TZ]:"fire-fcm",[kZ]:"fire-fcm-compat",[NZ]:"fire-perf",[PZ]:"fire-perf-compat",[IZ]:"fire-rc",[DZ]:"fire-rc-compat",[RZ]:"fire-gcs",[LZ]:"fire-gcs-compat",[OZ]:"fire-fst",[FZ]:"fire-fst-compat",[MZ]:"fire-vertex","fire-js":"fire-js",[jZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map,$Z=new Map,vE=new Map;function fN(n,e){try{n.container.addComponent(e)}catch(t){Mu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function c0(n){const e=n.name;if(vE.has(e))return Mu.debug(`There were multiple attempts to register component ${e}.`),!1;vE.set(e,n);for(const t of Sg.values())fN(t,n);for(const t of $Z.values())fN(t,n);return!0}function VA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Tl(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yd=new i1("app","Firebase",zZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ah("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=BZ;function $A(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yd.create("bad-app-name",{appName:String(i)});if(t||(t=DO()),!t)throw Yd.create("no-options");const s=Sg.get(i);if(s){if(Ch(t,s.options)&&Ch(r,s.config))return s;throw Yd.create("duplicate-app",{appName:i})}const o=new YQ(i);for(const l of vE.values())o.addComponent(l);const a=new UZ(t,r,o);return Sg.set(i,a),a}function MO(n=yE){const e=Sg.get(n);if(!e&&n===yE&&DO())return $A();if(!e)throw Yd.create("no-app",{appName:n});return e}function hN(){return Array.from(Sg.values())}function Xd(n,e,t){var r;let i=(r=VZ[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mu.warn(a.join(" "));return}c0(new Ah(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ="firebase-heartbeat-database",HZ=1,Eg="firebase-heartbeat-store";let s5=null;function FO(){return s5||(s5=lZ(qZ,HZ,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eg)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yd.create("idb-open",{originalErrorMessage:n.message})})),s5}async function WZ(n){try{const t=(await FO()).transaction(Eg),r=await t.objectStore(Eg).get(jO(n));return await t.done,r}catch(e){if(e instanceof $u)Mu.warn(e.message);else{const t=Yd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mu.warn(t.message)}}}async function pN(n,e){try{const r=(await FO()).transaction(Eg,"readwrite");await r.objectStore(Eg).put(e,jO(n)),await r.done}catch(t){if(t instanceof $u)Mu.warn(t.message);else{const r=Yd.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mu.warn(r.message)}}}function jO(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=1024,KZ=30;class YZ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JZ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>KZ){const o=QZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mN(),{heartbeatsToSend:r,unsentEntries:i}=XZ(this._heartbeatsCache.heartbeats),s=_x(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Mu.warn(t),""}}}function mN(){return new Date().toISOString().substring(0,10)}function XZ(n,e=GZ){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gN(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),gN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class JZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FQ()?jQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await WZ(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return pN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return pN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gN(n){return _x(JSON.stringify({version:2,heartbeats:n})).length}function QZ(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZZ(n){c0(new Ah("platform-logger",e=>new dZ(e),"PRIVATE")),c0(new Ah("heartbeat",e=>new YZ(e),"PRIVATE")),Xd(gE,dN,n),Xd(gE,dN,"esm2017"),Xd("fire-js","")}ZZ("");var eee="firebase",tee="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xd(eee,tee,"app");var yN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jd,BO;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function I(){}I.prototype=C.prototype,O.D=C.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(P,N,D){for(var L=Array(arguments.length-2),W=2;W<arguments.length;W++)L[W-2]=arguments[W];return C.prototype[N].apply(P,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,C,I){I||(I=0);var P=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)P[N]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=O.g[0],I=O.g[1],N=O.g[2];var D=O.g[3],L=C+(D^I&(N^D))+P[0]+3614090360&4294967295;C=I+(L<<7&4294967295|L>>>25),L=D+(N^C&(I^N))+P[1]+3905402710&4294967295,D=C+(L<<12&4294967295|L>>>20),L=N+(I^D&(C^I))+P[2]+606105819&4294967295,N=D+(L<<17&4294967295|L>>>15),L=I+(C^N&(D^C))+P[3]+3250441966&4294967295,I=N+(L<<22&4294967295|L>>>10),L=C+(D^I&(N^D))+P[4]+4118548399&4294967295,C=I+(L<<7&4294967295|L>>>25),L=D+(N^C&(I^N))+P[5]+1200080426&4294967295,D=C+(L<<12&4294967295|L>>>20),L=N+(I^D&(C^I))+P[6]+2821735955&4294967295,N=D+(L<<17&4294967295|L>>>15),L=I+(C^N&(D^C))+P[7]+4249261313&4294967295,I=N+(L<<22&4294967295|L>>>10),L=C+(D^I&(N^D))+P[8]+1770035416&4294967295,C=I+(L<<7&4294967295|L>>>25),L=D+(N^C&(I^N))+P[9]+2336552879&4294967295,D=C+(L<<12&4294967295|L>>>20),L=N+(I^D&(C^I))+P[10]+4294925233&4294967295,N=D+(L<<17&4294967295|L>>>15),L=I+(C^N&(D^C))+P[11]+2304563134&4294967295,I=N+(L<<22&4294967295|L>>>10),L=C+(D^I&(N^D))+P[12]+1804603682&4294967295,C=I+(L<<7&4294967295|L>>>25),L=D+(N^C&(I^N))+P[13]+4254626195&4294967295,D=C+(L<<12&4294967295|L>>>20),L=N+(I^D&(C^I))+P[14]+2792965006&4294967295,N=D+(L<<17&4294967295|L>>>15),L=I+(C^N&(D^C))+P[15]+1236535329&4294967295,I=N+(L<<22&4294967295|L>>>10),L=C+(N^D&(I^N))+P[1]+4129170786&4294967295,C=I+(L<<5&4294967295|L>>>27),L=D+(I^N&(C^I))+P[6]+3225465664&4294967295,D=C+(L<<9&4294967295|L>>>23),L=N+(C^I&(D^C))+P[11]+643717713&4294967295,N=D+(L<<14&4294967295|L>>>18),L=I+(D^C&(N^D))+P[0]+3921069994&4294967295,I=N+(L<<20&4294967295|L>>>12),L=C+(N^D&(I^N))+P[5]+3593408605&4294967295,C=I+(L<<5&4294967295|L>>>27),L=D+(I^N&(C^I))+P[10]+38016083&4294967295,D=C+(L<<9&4294967295|L>>>23),L=N+(C^I&(D^C))+P[15]+3634488961&4294967295,N=D+(L<<14&4294967295|L>>>18),L=I+(D^C&(N^D))+P[4]+3889429448&4294967295,I=N+(L<<20&4294967295|L>>>12),L=C+(N^D&(I^N))+P[9]+568446438&4294967295,C=I+(L<<5&4294967295|L>>>27),L=D+(I^N&(C^I))+P[14]+3275163606&4294967295,D=C+(L<<9&4294967295|L>>>23),L=N+(C^I&(D^C))+P[3]+4107603335&4294967295,N=D+(L<<14&4294967295|L>>>18),L=I+(D^C&(N^D))+P[8]+1163531501&4294967295,I=N+(L<<20&4294967295|L>>>12),L=C+(N^D&(I^N))+P[13]+2850285829&4294967295,C=I+(L<<5&4294967295|L>>>27),L=D+(I^N&(C^I))+P[2]+4243563512&4294967295,D=C+(L<<9&4294967295|L>>>23),L=N+(C^I&(D^C))+P[7]+1735328473&4294967295,N=D+(L<<14&4294967295|L>>>18),L=I+(D^C&(N^D))+P[12]+2368359562&4294967295,I=N+(L<<20&4294967295|L>>>12),L=C+(I^N^D)+P[5]+4294588738&4294967295,C=I+(L<<4&4294967295|L>>>28),L=D+(C^I^N)+P[8]+2272392833&4294967295,D=C+(L<<11&4294967295|L>>>21),L=N+(D^C^I)+P[11]+1839030562&4294967295,N=D+(L<<16&4294967295|L>>>16),L=I+(N^D^C)+P[14]+4259657740&4294967295,I=N+(L<<23&4294967295|L>>>9),L=C+(I^N^D)+P[1]+2763975236&4294967295,C=I+(L<<4&4294967295|L>>>28),L=D+(C^I^N)+P[4]+1272893353&4294967295,D=C+(L<<11&4294967295|L>>>21),L=N+(D^C^I)+P[7]+4139469664&4294967295,N=D+(L<<16&4294967295|L>>>16),L=I+(N^D^C)+P[10]+3200236656&4294967295,I=N+(L<<23&4294967295|L>>>9),L=C+(I^N^D)+P[13]+681279174&4294967295,C=I+(L<<4&4294967295|L>>>28),L=D+(C^I^N)+P[0]+3936430074&4294967295,D=C+(L<<11&4294967295|L>>>21),L=N+(D^C^I)+P[3]+3572445317&4294967295,N=D+(L<<16&4294967295|L>>>16),L=I+(N^D^C)+P[6]+76029189&4294967295,I=N+(L<<23&4294967295|L>>>9),L=C+(I^N^D)+P[9]+3654602809&4294967295,C=I+(L<<4&4294967295|L>>>28),L=D+(C^I^N)+P[12]+3873151461&4294967295,D=C+(L<<11&4294967295|L>>>21),L=N+(D^C^I)+P[15]+530742520&4294967295,N=D+(L<<16&4294967295|L>>>16),L=I+(N^D^C)+P[2]+3299628645&4294967295,I=N+(L<<23&4294967295|L>>>9),L=C+(N^(I|~D))+P[0]+4096336452&4294967295,C=I+(L<<6&4294967295|L>>>26),L=D+(I^(C|~N))+P[7]+1126891415&4294967295,D=C+(L<<10&4294967295|L>>>22),L=N+(C^(D|~I))+P[14]+2878612391&4294967295,N=D+(L<<15&4294967295|L>>>17),L=I+(D^(N|~C))+P[5]+4237533241&4294967295,I=N+(L<<21&4294967295|L>>>11),L=C+(N^(I|~D))+P[12]+1700485571&4294967295,C=I+(L<<6&4294967295|L>>>26),L=D+(I^(C|~N))+P[3]+2399980690&4294967295,D=C+(L<<10&4294967295|L>>>22),L=N+(C^(D|~I))+P[10]+4293915773&4294967295,N=D+(L<<15&4294967295|L>>>17),L=I+(D^(N|~C))+P[1]+2240044497&4294967295,I=N+(L<<21&4294967295|L>>>11),L=C+(N^(I|~D))+P[8]+1873313359&4294967295,C=I+(L<<6&4294967295|L>>>26),L=D+(I^(C|~N))+P[15]+4264355552&4294967295,D=C+(L<<10&4294967295|L>>>22),L=N+(C^(D|~I))+P[6]+2734768916&4294967295,N=D+(L<<15&4294967295|L>>>17),L=I+(D^(N|~C))+P[13]+1309151649&4294967295,I=N+(L<<21&4294967295|L>>>11),L=C+(N^(I|~D))+P[4]+4149444226&4294967295,C=I+(L<<6&4294967295|L>>>26),L=D+(I^(C|~N))+P[11]+3174756917&4294967295,D=C+(L<<10&4294967295|L>>>22),L=N+(C^(D|~I))+P[2]+718787259&4294967295,N=D+(L<<15&4294967295|L>>>17),L=I+(D^(N|~C))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(N+(L<<21&4294967295|L>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var I=C-this.blockSize,P=this.B,N=this.h,D=0;D<C;){if(N==0)for(;D<=I;)i(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<C;)if(P[N++]=O.charCodeAt(D++),N==this.blockSize){i(this,P),N=0;break}}else for(;D<C;)if(P[N++]=O[D++],N==this.blockSize){i(this,P),N=0;break}}this.h=N,this.o+=C},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var I=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=I&255,I/=256;for(this.u(O),O=Array(16),C=I=0;4>C;++C)for(var P=0;32>P;P+=8)O[I++]=this.g[C]>>>P&255;return O};function s(O,C){var I=a;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=C(O)}function o(O,C){this.h=C;for(var I=[],P=!0,N=O.length-1;0<=N;N--){var D=O[N]|0;P&&D==C||(I[N]=D,P=!1)}this.g=I}var a={};function l(O){return-128<=O&&128>O?s(O,function(C){return new o([C|0],0>C?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return f;if(0>O)return b(c(-O));for(var C=[],I=1,P=0;O>=I;P++)C[P]=O/I|0,I*=4294967296;return new o(C,0)}function u(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return b(u(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(C,8)),P=f,N=0;N<O.length;N+=8){var D=Math.min(8,O.length-N),L=parseInt(O.substring(N,N+D),C);8>D?(D=c(Math.pow(C,D)),P=P.j(D).add(c(L))):(P=P.j(I),P=P.add(c(L)))}return P}var f=l(0),m=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(v(this))return-b(this).m();for(var O=0,C=1,I=0;I<this.g.length;I++){var P=this.i(I);O+=(0<=P?P:4294967296+P)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(g(this))return"0";if(v(this))return"-"+b(this).toString(O);for(var C=c(Math.pow(O,6)),I=this,P="";;){var N=R(I,C).g;I=S(I,N.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=N,g(I))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function g(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function v(O){return O.h==-1}n.l=function(O){return O=S(this,O),v(O)?-1:g(O)?0:1};function b(O){for(var C=O.g.length,I=[],P=0;P<C;P++)I[P]=~O.g[P];return new o(I,~O.h).add(m)}n.abs=function(){return v(this)?b(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],P=0,N=0;N<=C;N++){var D=P+(this.i(N)&65535)+(O.i(N)&65535),L=(D>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);P=L>>>16,D&=65535,L&=65535,I[N]=L<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(O,C){return O.add(b(C))}n.j=function(O){if(g(this)||g(O))return f;if(v(this))return v(O)?b(this).j(b(O)):b(b(this).j(O));if(v(O))return b(this.j(b(O)));if(0>this.l(p)&&0>O.l(p))return c(this.m()*O.m());for(var C=this.g.length+O.g.length,I=[],P=0;P<2*C;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<O.g.length;N++){var D=this.i(P)>>>16,L=this.i(P)&65535,W=O.i(N)>>>16,ie=O.i(N)&65535;I[2*P+2*N]+=L*ie,E(I,2*P+2*N),I[2*P+2*N+1]+=D*ie,E(I,2*P+2*N+1),I[2*P+2*N+1]+=L*W,E(I,2*P+2*N+1),I[2*P+2*N+2]+=D*W,E(I,2*P+2*N+2)}for(P=0;P<C;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=C;P<2*C;P++)I[P]=0;return new o(I,0)};function E(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function _(O,C){this.g=O,this.h=C}function R(O,C){if(g(C))throw Error("division by zero");if(g(O))return new _(f,f);if(v(O))return C=R(b(O),C),new _(b(C.g),b(C.h));if(v(C))return C=R(O,b(C)),new _(b(C.g),C.h);if(30<O.g.length){if(v(O)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var I=m,P=C;0>=P.l(O);)I=B(I),P=B(P);var N=U(I,1),D=U(P,1);for(P=U(P,2),I=U(I,2);!g(P);){var L=D.add(P);0>=L.l(O)&&(N=N.add(I),D=L),P=U(P,1),I=U(I,1)}return C=S(O,N.j(C)),new _(N,C)}for(N=f;0<=O.l(C);){for(I=Math.max(1,Math.floor(O.m()/C.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(I),L=D.j(C);v(L)||0<L.l(O);)I-=P,D=c(I),L=D.j(C);g(D)&&(D=m),N=N.add(D),O=S(O,L)}return new _(N,O)}n.A=function(O){return R(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)&O.i(P);return new o(I,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)|O.i(P);return new o(I,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),I=[],P=0;P<C;P++)I[P]=this.i(P)^O.i(P);return new o(I,this.h^O.h)};function B(O){for(var C=O.g.length+1,I=[],P=0;P<C;P++)I[P]=O.i(P)<<1|O.i(P-1)>>>31;return new o(I,O.h)}function U(O,C){var I=C>>5;C%=32;for(var P=O.g.length-I,N=[],D=0;D<P;D++)N[D]=0<C?O.i(D+I)>>>C|O.i(D+I+1)<<32-C:O.i(D+I);return new o(N,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,BO=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Jd=o}).apply(typeof yN<"u"?yN:typeof self<"u"?self:typeof window<"u"?window:{});var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VO,km,$O,nv,xE,zO,UO,qO;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,z,G){return w==Array.prototype||w==Object.prototype||(w[z]=G.value),w};function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof by=="object"&&by];for(var z=0;z<w.length;++z){var G=w[z];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var r=t(this);function i(w,z){if(z)e:{var G=r;w=w.split(".");for(var he=0;he<w.length-1;he++){var Re=w[he];if(!(Re in G))break e;G=G[Re]}w=w[w.length-1],he=G[w],z=z(he),z!=he&&z!=null&&e(G,w,{configurable:!0,writable:!0,value:z})}}function s(w,z){w instanceof String&&(w+="");var G=0,he=!1,Re={next:function(){if(!he&&G<w.length){var We=G++;return{value:z(We,w[We]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Re[Symbol.iterator]=function(){return Re},Re}i("Array.prototype.values",function(w){return w||function(){return s(this,function(z,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(w){var z=typeof w;return z=z!="object"?z:w?Array.isArray(w)?"array":z:"null",z=="array"||z=="object"&&typeof w.length=="number"}function c(w){var z=typeof w;return z=="object"&&w!=null||z=="function"}function u(w,z,G){return w.call.apply(w.bind,arguments)}function f(w,z,G){if(!w)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,he),w.apply(z,Re)}}return function(){return w.apply(z,arguments)}}function m(w,z,G){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,m.apply(null,arguments)}function p(w,z){var G=Array.prototype.slice.call(arguments,1);return function(){var he=G.slice();return he.push.apply(he,arguments),w.apply(this,he)}}function g(w,z){function G(){}G.prototype=z.prototype,w.aa=z.prototype,w.prototype=new G,w.prototype.constructor=w,w.Qb=function(he,Re,We){for(var ct=Array(arguments.length-2),en=2;en<arguments.length;en++)ct[en-2]=arguments[en];return z.prototype[Re].apply(he,ct)}}function v(w){const z=w.length;if(0<z){const G=Array(z);for(let he=0;he<z;he++)G[he]=w[he];return G}return[]}function b(w,z){for(let G=1;G<arguments.length;G++){const he=arguments[G];if(l(he)){const Re=w.length||0,We=he.length||0;w.length=Re+We;for(let ct=0;ct<We;ct++)w[Re+ct]=he[ct]}else w.push(he)}}class S{constructor(z,G){this.i=z,this.j=G,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function E(w){return/^[\s\xa0]*$/.test(w)}function _(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function R(w){return R[" "](w),w}R[" "]=function(){};var B=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function U(w,z,G){for(const he in w)z.call(G,w[he],he,w)}function O(w,z){for(const G in w)z.call(void 0,w[G],G,w)}function C(w){const z={};for(const G in w)z[G]=w[G];return z}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(w,z){let G,he;for(let Re=1;Re<arguments.length;Re++){he=arguments[Re];for(G in he)w[G]=he[G];for(let We=0;We<I.length;We++)G=I[We],Object.prototype.hasOwnProperty.call(he,G)&&(w[G]=he[G])}}function N(w){var z=1;w=w.split(":");const G=[];for(;0<z&&w.length;)G.push(w.shift()),z--;return w.length&&G.push(w.join(":")),G}function D(w){a.setTimeout(()=>{throw w},0)}function L(){var w=de;let z=null;return w.g&&(z=w.g,w.g=w.g.next,w.g||(w.h=null),z.next=null),z}class W{constructor(){this.h=this.g=null}add(z,G){const he=ie.get();he.set(z,G),this.h?this.h.next=he:this.g=he,this.h=he}}var ie=new S(()=>new oe,w=>w.reset());class oe{constructor(){this.next=this.g=this.h=null}set(z,G){this.h=z,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,de=new W,ae=()=>{const w=a.Promise.resolve(void 0);re=()=>{w.then(Y)}};var Y=()=>{for(var w;w=L();){try{w.h.call(w.g)}catch(G){D(G)}var z=ie;z.j(w),100>z.h&&(z.h++,w.next=z.g,z.g=w)}X=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(w,z){this.type=w,this.g=this.target=z,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,z=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const G=()=>{};a.addEventListener("test",G,z),a.removeEventListener("test",G,z)}catch{}return w}();function ee(w,z){if(K.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var G=this.type=w.type,he=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=z,z=w.relatedTarget){if(B){e:{try{R(z.nodeName);var Re=!0;break e}catch{}Re=!1}Re||(z=null)}}else G=="mouseover"?z=w.fromElement:G=="mouseout"&&(z=w.toElement);this.relatedTarget=z,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ce[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ee.aa.h.call(this)}}g(ee,K);var ce={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ye(w,z,G,he,Re){this.listener=w,this.proxy=null,this.src=z,this.type=G,this.capture=!!he,this.ha=Re,this.key=++ge,this.da=this.fa=!1}function Se(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Ae(w){this.src=w,this.g={},this.h=0}Ae.prototype.add=function(w,z,G,he,Re){var We=w.toString();w=this.g[We],w||(w=this.g[We]=[],this.h++);var ct=$e(w,z,he,Re);return-1<ct?(z=w[ct],G||(z.fa=!1)):(z=new ye(z,this.src,We,!!he,Re),z.fa=G,w.push(z)),z};function je(w,z){var G=z.type;if(G in w.g){var he=w.g[G],Re=Array.prototype.indexOf.call(he,z,void 0),We;(We=0<=Re)&&Array.prototype.splice.call(he,Re,1),We&&(Se(z),w.g[G].length==0&&(delete w.g[G],w.h--))}}function $e(w,z,G,he){for(var Re=0;Re<w.length;++Re){var We=w[Re];if(!We.da&&We.listener==z&&We.capture==!!G&&We.ha==he)return Re}return-1}var st="closure_lm_"+(1e6*Math.random()|0),we={};function pe(w,z,G,he,Re){if(Array.isArray(z)){for(var We=0;We<z.length;We++)pe(w,z[We],G,he,Re);return null}return G=Ke(G),w&&w[ue]?w.K(z,G,c(he)?!!he.capture:!1,Re):qe(w,z,G,!1,he,Re)}function qe(w,z,G,he,Re,We){if(!z)throw Error("Invalid event type");var ct=c(Re)?!!Re.capture:!!Re,en=be(w);if(en||(w[st]=en=new Ae(w)),G=en.add(z,G,he,ct,We),G.proxy)return G;if(he=Fe(),G.proxy=he,he.src=w,he.listener=G,w.addEventListener)J||(Re=ct),Re===void 0&&(Re=!1),w.addEventListener(z.toString(),he,Re);else if(w.attachEvent)w.attachEvent(Ge(z.toString()),he);else if(w.addListener&&w.removeListener)w.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Fe(){function w(G){return z.call(w.src,w.listener,G)}const z=le;return w}function Oe(w,z,G,he,Re){if(Array.isArray(z))for(var We=0;We<z.length;We++)Oe(w,z[We],G,he,Re);else he=c(he)?!!he.capture:!!he,G=Ke(G),w&&w[ue]?(w=w.i,z=String(z).toString(),z in w.g&&(We=w.g[z],G=$e(We,G,he,Re),-1<G&&(Se(We[G]),Array.prototype.splice.call(We,G,1),We.length==0&&(delete w.g[z],w.h--)))):w&&(w=be(w))&&(z=w.g[z.toString()],w=-1,z&&(w=$e(z,G,he,Re)),(G=-1<w?z[w]:null)&&Ie(G))}function Ie(w){if(typeof w!="number"&&w&&!w.da){var z=w.src;if(z&&z[ue])je(z.i,w);else{var G=w.type,he=w.proxy;z.removeEventListener?z.removeEventListener(G,he,w.capture):z.detachEvent?z.detachEvent(Ge(G),he):z.addListener&&z.removeListener&&z.removeListener(he),(G=be(z))?(je(G,w),G.h==0&&(G.src=null,z[st]=null)):Se(w)}}}function Ge(w){return w in we?we[w]:we[w]="on"+w}function le(w,z){if(w.da)w=!0;else{z=new ee(z,this);var G=w.listener,he=w.ha||w.src;w.fa&&Ie(w),w=G.call(he,z)}return w}function be(w){return w=w[st],w instanceof Ae?w:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(w){return typeof w=="function"?w:(w[_e]||(w[_e]=function(z){return w.handleEvent(z)}),w[_e])}function ze(){$.call(this),this.i=new Ae(this),this.M=this,this.F=null}g(ze,$),ze.prototype[ue]=!0,ze.prototype.removeEventListener=function(w,z,G,he){Oe(this,w,z,G,he)};function Ue(w,z){var G,he=w.F;if(he)for(G=[];he;he=he.F)G.push(he);if(w=w.M,he=z.type||z,typeof z=="string")z=new K(z,w);else if(z instanceof K)z.target=z.target||w;else{var Re=z;z=new K(he,w),P(z,Re)}if(Re=!0,G)for(var We=G.length-1;0<=We;We--){var ct=z.g=G[We];Re=nt(ct,he,!0,z)&&Re}if(ct=z.g=w,Re=nt(ct,he,!0,z)&&Re,Re=nt(ct,he,!1,z)&&Re,G)for(We=0;We<G.length;We++)ct=z.g=G[We],Re=nt(ct,he,!1,z)&&Re}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var w=this.i,z;for(z in w.g){for(var G=w.g[z],he=0;he<G.length;he++)Se(G[he]);delete w.g[z],w.h--}}this.F=null},ze.prototype.K=function(w,z,G,he){return this.i.add(String(w),z,!1,G,he)},ze.prototype.L=function(w,z,G,he){return this.i.add(String(w),z,!0,G,he)};function nt(w,z,G,he){if(z=w.i.g[String(z)],!z)return!0;z=z.concat();for(var Re=!0,We=0;We<z.length;++We){var ct=z[We];if(ct&&!ct.da&&ct.capture==G){var en=ct.listener,vn=ct.ha||ct.src;ct.fa&&je(w.i,ct),Re=en.call(vn,he)!==!1&&Re}}return Re&&!he.defaultPrevented}function ht(w,z,G){if(typeof w=="function")G&&(w=m(w,G));else if(w&&typeof w.handleEvent=="function")w=m(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:a.setTimeout(w,z||0)}function vt(w){w.g=ht(()=>{w.g=null,w.i&&(w.i=!1,vt(w))},w.l);const z=w.h;w.h=null,w.m.apply(null,z)}class it extends ${constructor(z,G){super(),this.m=z,this.l=G,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jt(w){$.call(this),this.h=w,this.g={}}g(jt,$);var qt=[];function Qn(w){U(w.g,function(z,G){this.g.hasOwnProperty(G)&&Ie(z)},w),w.g={}}jt.prototype.N=function(){jt.aa.N.call(this),Qn(this)},jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=a.JSON.stringify,un=a.JSON.parse,xr=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Xt(){}Xt.prototype.h=null;function vi(w){return w.h||(w.h=w.i())}function Tn(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hn(){K.call(this,"d")}g(hn,K);function rn(){K.call(this,"c")}g(rn,K);var Et={},Jt=null;function $n(){return Jt=Jt||new ze}Et.La="serverreachability";function pn(w){K.call(this,Et.La,w)}g(pn,K);function Rn(w){const z=$n();Ue(z,new pn(z))}Et.STAT_EVENT="statevent";function ar(w,z){K.call(this,Et.STAT_EVENT,w),this.stat=z}g(ar,K);function gt(w){const z=$n();Ue(z,new ar(z,w))}Et.Ma="timingevent";function Gn(w,z){K.call(this,Et.Ma,w),this.size=z}g(Gn,K);function Qt(w,z){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},z)}function dn(){this.g=!0}dn.prototype.xa=function(){this.g=!1};function bn(w,z,G,he,Re,We){w.info(function(){if(w.g)if(We)for(var ct="",en=We.split("&"),vn=0;vn<en.length;vn++){var tn=en[vn].split("=");if(1<tn.length){var Fn=tn[0];tn=tn[1];var Un=Fn.split("_");ct=2<=Un.length&&Un[1]=="type"?ct+(Fn+"="+tn+"&"):ct+(Fn+"=redacted&")}}else ct=null;else ct=We;return"XMLHTTP REQ ("+he+") [attempt "+Re+"]: "+z+`
`+G+`
`+ct})}function Cn(w,z,G,he,Re,We,ct){w.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Re+"]: "+z+`
`+G+`
`+We+" "+ct})}function kn(w,z,G,he){w.info(function(){return"XMLHTTP TEXT ("+z+"): "+Wi(w,G)+(he?" "+he:"")})}function xi(w,z){w.info(function(){return"TIMEOUT: "+z})}dn.prototype.info=function(){};function Wi(w,z){if(!w.g)return z;if(!z)return null;try{var G=JSON.parse(z);if(G){for(w=0;w<G.length;w++)if(Array.isArray(G[w])){var he=G[w];if(!(2>he.length)){var Re=he[1];if(Array.isArray(Re)&&!(1>Re.length)){var We=Re[0];if(We!="noop"&&We!="stop"&&We!="close")for(var ct=1;ct<Re.length;ct++)Re[ct]=""}}}}return Kt(G)}catch{return z}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ms={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function wi(){}g(wi,Xt),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Tr=new wi;function br(w,z,G,he){this.j=w,this.i=z,this.l=G,this.R=he||1,this.U=new jt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}var zo={},Uo={};function qo(w,z,G){w.L=1,w.v=Go(oi(z)),w.m=G,w.P=!0,fa(w,null)}function fa(w,z){w.F=Date.now(),Kn(w),w.A=oi(w.v);var G=w.A,he=w.R;Array.isArray(he)||(he=[String(he)]),Mt(G.i,"t",he),w.C=0,G=w.j.J,w.h=new Ws,w.g=Z(w.j,G?z:null,!w.m),0<w.O&&(w.M=new it(m(w.Y,w,w.g),w.O)),z=w.U,G=w.g,he=w.ca;var Re="readystatechange";Array.isArray(Re)||(Re&&(qt[0]=Re.toString()),Re=qt);for(var We=0;We<Re.length;We++){var ct=pe(G,Re[We],he||z.handleEvent,!1,z.h||z);if(!ct)break;z.g[ct.key]=ct}z=w.H?C(w.H):{},w.m?(w.u||(w.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,z)):(w.u="GET",w.g.ea(w.A,w.u,null,z)),Rn(),bn(w.i,w.u,w.A,w.l,w.R,w.m)}br.prototype.ca=function(w){w=w.target;const z=this.M;z&&Sr(w)==3?z.j():this.Y(w)},br.prototype.Y=function(w){try{if(w==this.g)e:{const Un=Sr(this.g);var z=this.g.Ba();const Xi=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Jc(this.g)))){this.J||Un!=4||z==7||(z==8||0>=Xi?Rn(3):Rn(2)),yo(this);var G=this.g.Z();this.X=G;t:if(Xa(this)){var he=Jc(this.g);w="";var Re=he.length,We=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),Ho(this);var ct="";break t}this.h.i=new a.TextDecoder}for(z=0;z<Re;z++)this.h.h=!0,w+=this.h.i.decode(he[z],{stream:!(We&&z==Re-1)});he.length=0,this.h.g+=w,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=G==200,Cn(this.i,this.u,this.A,this.l,this.R,Un,G),this.o){if(this.T&&!this.K){t:{if(this.g){var en,vn=this.g;if((en=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(en)){var tn=en;break t}}tn=null}if(G=tn)kn(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,G);else{this.o=!1,this.s=3,gt(12),gs(this),Ho(this);break e}}if(this.P){G=!0;let ci;for(;!this.J&&this.C<ct.length;)if(ci=Uu(this,ct),ci==Uo){Un==4&&(this.s=4,gt(14),G=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ci==zo){this.s=4,gt(15),kn(this.i,this.l,ct,"[Invalid Chunk]"),G=!1;break}else kn(this.i,this.l,ci,null),Ja(this,ci);if(Xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||ct.length!=0||this.h.h||(this.s=1,gt(16),G=!1),this.o=this.o&&G,!G)kn(this.i,this.l,ct,"[Invalid Chunked Response]"),gs(this),Ho(this);else if(0<ct.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Zl(Fn),Fn.M=!0,gt(11))}}else kn(this.i,this.l,ct,null),Ja(this,ct);Un==4&&gs(this),this.o&&!this.J&&(Un==4?Co(this.j,this):(this.o=!1,Kn(this)))}else Ys(this.g),G==400&&0<ct.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),gs(this),Ho(this)}}}catch{}finally{}};function Xa(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Uu(w,z){var G=w.C,he=z.indexOf(`
`,G);return he==-1?Uo:(G=Number(z.substring(G,he)),isNaN(G)?zo:(he+=1,he+G>z.length?Uo:(z=z.slice(he,he+G),w.C=he+G,z)))}br.prototype.cancel=function(){this.J=!0,gs(this)};function Kn(w){w.S=Date.now()+w.I,qu(w,w.I)}function qu(w,z){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Qt(m(w.ba,w),z)}function yo(w){w.B&&(a.clearTimeout(w.B),w.B=null)}br.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(xi(this.i,this.A),this.L!=2&&(Rn(),gt(17)),gs(this),this.s=2,Ho(this)):qu(this,this.S-w)};function Ho(w){w.j.G==0||w.J||Co(w.j,w)}function gs(w){yo(w);var z=w.M;z&&typeof z.ma=="function"&&z.ma(),w.M=null,Qn(w.U),w.g&&(z=w.g,w.g=null,z.abort(),z.ma())}function Ja(w,z){try{var G=w.j;if(G.G!=0&&(G.g==w||ii(G.h,w))){if(!w.K&&ii(G.h,w)&&G.G==3){try{var he=G.Da.g.parse(z)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Re=he;if(Re[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<w.F)Jo(G),Xs(G);else break e;Ea(G),gt(18)}}else G.za=Re[1],0<G.za-G.T&&37500>Re[2]&&G.F&&G.v==0&&!G.C&&(G.C=Qt(m(G.Za,G),6e3));if(1>=Qa(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Ci(G,11)}else if((w.K||G.g==w)&&Jo(G),!E(z))for(Re=G.Da.g.parse(z),z=0;z<Re.length;z++){let tn=Re[z];if(G.T=tn[0],tn=tn[1],G.G==2)if(tn[0]=="c"){G.K=tn[1],G.ia=tn[2];const Fn=tn[3];Fn!=null&&(G.la=Fn,G.j.info("VER="+G.la));const Un=tn[4];Un!=null&&(G.Aa=Un,G.j.info("SVER="+G.Aa));const Xi=tn[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(he=1.5*Xi,G.L=he,G.j.info("backChannelRequestTimeoutMs_="+he)),he=G;const ci=w.g;if(ci){const Qo=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var We=he.h;We.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(rr(We,We.h),We.h=null))}if(he.D){const Zo=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(he.ya=Zo,zn(he.I,he.D,Zo))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-w.F,G.j.info("Handshake RTT: "+G.R+"ms")),he=G;var ct=w;if(he.qa=M(he,he.J?he.ia:null,he.W),ct.K){Gc(he.h,ct);var en=ct,vn=he.L;vn&&(en.I=vn),en.B&&(yo(en),Kn(en)),he.g=ct}else Xo(he);0<G.i.length&&So(G)}else tn[0]!="stop"&&tn[0]!="close"||Ci(G,7);else G.G==3&&(tn[0]=="stop"||tn[0]=="close"?tn[0]=="stop"?Ci(G,7):ur(G):tn[0]!="noop"&&G.l&&G.l.ta(tn),G.v=0)}}Rn(4)}catch{}}var Hu=class{constructor(w,z){this.g=w,this.map=z}};function ha(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gi(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Qa(w){return w.h?1:w.g?w.g.size:0}function ii(w,z){return w.h?w.h==z:w.g?w.g.has(z):!1}function rr(w,z){w.g?w.g.add(z):w.h=z}function Gc(w,z){w.h&&w.h==z?w.h=null:w.g&&w.g.has(z)&&w.g.delete(z)}ha.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Kc(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let z=w.i;for(const G of w.g.values())z=z.concat(G.D);return z}return v(w.i)}function Za(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var z=[],G=w.length,he=0;he<G;he++)z.push(w[he]);return z}z=[],G=0;for(he in w)z[G++]=w[he];return z}function pa(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var z=[];w=w.length;for(var G=0;G<w;G++)z.push(G);return z}z=[],G=0;for(const he in w)z[G++]=he;return z}}}function ma(w,z){if(w.forEach&&typeof w.forEach=="function")w.forEach(z,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,z,void 0);else for(var G=pa(w),he=Za(w),Re=he.length,We=0;We<Re;We++)z.call(void 0,he[We],G&&G[We],w)}var si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kl(w,z){if(w){w=w.split("&");for(var G=0;G<w.length;G++){var he=w[G].indexOf("="),Re=null;if(0<=he){var We=w[G].substring(0,he);Re=w[G].substring(he+1)}else We=w[G];z(We,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function wr(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof wr){this.h=w.h,ga(this,w.j),this.o=w.o,this.g=w.g,ya(this,w.s),this.l=w.l;var z=w.i,G=new Gs;G.i=z.i,z.g&&(G.g=new Map(z.g),G.h=z.h),Wo(this,G),this.m=w.m}else w&&(z=String(w).match(si))?(this.h=!1,ga(this,z[1]||"",!0),this.o=mn(z[2]||""),this.g=mn(z[3]||"",!0),ya(this,z[4]),this.l=mn(z[5]||"",!0),Wo(this,z[6]||"",!0),this.m=mn(z[7]||"")):(this.h=!1,this.i=new Gs(null,this.h))}wr.prototype.toString=function(){var w=[],z=this.j;z&&w.push(vo(z,Yl,!0),":");var G=this.g;return(G||z=="file")&&(w.push("//"),(z=this.o)&&w.push(vo(z,Yl,!0),"@"),w.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&w.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&w.push("/"),w.push(vo(G,G.charAt(0)=="/"?xo:Gu,!0))),(G=this.i.toString())&&w.push("?",G),(G=this.m)&&w.push("#",vo(G,va)),w.join("")};function oi(w){return new wr(w)}function ga(w,z,G){w.j=G?mn(z,!0):z,w.j&&(w.j=w.j.replace(/:$/,""))}function ya(w,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);w.s=z}else w.s=null}function Wo(w,z,G){z instanceof Gs?(w.i=z,bo(w.i,w.h)):(G||(z=vo(z,el)),w.i=new Gs(z,w.h))}function zn(w,z,G){w.i.set(z,G)}function Go(w){return zn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function mn(w,z){return w?z?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function vo(w,z,G){return typeof w=="string"?(w=encodeURI(w).replace(z,Wu),G&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Wu(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Yl=/[#\/\?@]/g,Gu=/[#\?:]/g,xo=/[#\?]/g,el=/[#\?@]/g,va=/#/g;function Gs(w,z){this.h=this.g=null,this.i=w||null,this.j=!!z}function Nn(w){w.g||(w.g=new Map,w.h=0,w.i&&Kl(w.i,function(z,G){w.add(decodeURIComponent(z.replace(/\+/g," ")),G)}))}n=Gs.prototype,n.add=function(w,z){Nn(this),this.i=null,w=vs(this,w);var G=this.g.get(w);return G||this.g.set(w,G=[]),G.push(z),this.h+=1,this};function Ks(w,z){Nn(w),z=vs(w,z),w.g.has(z)&&(w.i=null,w.h-=w.g.get(z).length,w.g.delete(z))}function ys(w,z){return Nn(w),z=vs(w,z),w.g.has(z)}n.forEach=function(w,z){Nn(this),this.g.forEach(function(G,he){G.forEach(function(Re){w.call(z,Re,he,this)},this)},this)},n.na=function(){Nn(this);const w=Array.from(this.g.values()),z=Array.from(this.g.keys()),G=[];for(let he=0;he<z.length;he++){const Re=w[he];for(let We=0;We<Re.length;We++)G.push(z[he])}return G},n.V=function(w){Nn(this);let z=[];if(typeof w=="string")ys(this,w)&&(z=z.concat(this.g.get(vs(this,w))));else{w=Array.from(this.g.values());for(let G=0;G<w.length;G++)z=z.concat(w[G])}return z},n.set=function(w,z){return Nn(this),this.i=null,w=vs(this,w),ys(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[z]),this.h+=1,this},n.get=function(w,z){return w?(w=this.V(w),0<w.length?String(w[0]):z):z};function Mt(w,z,G){Ks(w,z),0<G.length&&(w.i=null,w.g.set(vs(w,z),v(G)),w.h+=G.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],z=Array.from(this.g.keys());for(var G=0;G<z.length;G++){var he=z[G];const We=encodeURIComponent(String(he)),ct=this.V(he);for(he=0;he<ct.length;he++){var Re=We;ct[he]!==""&&(Re+="="+encodeURIComponent(String(ct[he]))),w.push(Re)}}return this.i=w.join("&")};function vs(w,z){return z=String(z),w.j&&(z=z.toLowerCase()),z}function bo(w,z){z&&!w.j&&(Nn(w),w.i=null,w.g.forEach(function(G,he){var Re=he.toLowerCase();he!=Re&&(Ks(this,he),Mt(this,Re,G))},w)),w.j=z}function wo(w,z){const G=new dn;if(a.Image){const he=new Image;he.onload=p(ai,G,"TestLoadImage: loaded",!0,z,he),he.onerror=p(ai,G,"TestLoadImage: error",!1,z,he),he.onabort=p(ai,G,"TestLoadImage: abort",!1,z,he),he.ontimeout=p(ai,G,"TestLoadImage: timeout",!1,z,he),a.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=w}else z(!1)}function Yc(w,z){const G=new dn,he=new AbortController,Re=setTimeout(()=>{he.abort(),ai(G,"TestPingServer: timeout",!1,z)},1e4);fetch(w,{signal:he.signal}).then(We=>{clearTimeout(Re),We.ok?ai(G,"TestPingServer: ok",!0,z):ai(G,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Re),ai(G,"TestPingServer: error",!1,z)})}function ai(w,z,G,he,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),he(G)}catch{}}function Xl(){this.g=new xr}function Jl(w,z,G){const he=G||"";try{ma(w,function(Re,We){let ct=Re;c(Re)&&(ct=Kt(Re)),z.push(he+We+"="+encodeURIComponent(ct))})}catch(Re){throw z.push(he+"type="+encodeURIComponent("_badmap")),Re}}function Ko(w){this.l=w.Ub||null,this.j=w.eb||!1}g(Ko,Xt),Ko.prototype.g=function(){return new tl(this.l,this.j)},Ko.prototype.i=function(w){return function(){return w}}({});function tl(w,z){ze.call(this),this.D=w,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(tl,ze),n=tl.prototype,n.open=function(w,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=z,this.readyState=1,li(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(z.body=w),(this.D||a).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},n.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ku(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ku(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}n.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var z=w.value?w.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!w.done}))&&(this.response=this.responseText+=z)}w.done?Ki(this):li(this),this.readyState==3&&Ku(this)}},n.Ra=function(w){this.g&&(this.response=this.responseText=w,Ki(this))},n.Qa=function(w){this.g&&(this.response=w,Ki(this))},n.ga=function(){this.g&&Ki(this)};function Ki(w){w.readyState=4,w.l=null,w.j=null,w.v=null,li(w)}n.setRequestHeader=function(w,z){this.u.append(w,z)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],z=this.h.entries();for(var G=z.next();!G.done;)G=G.value,w.push(G[0]+": "+G[1]),G=z.next();return w.join(`\r
`)};function li(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Si(w){let z="";return U(w,function(G,he){z+=he,z+=":",z+=G,z+=`\r
`}),z}function xa(w,z,G){e:{for(he in G){var he=!1;break e}he=!0}he||(G=Si(G),typeof w=="string"?G!=null&&encodeURIComponent(String(G)):zn(w,z,G))}function Mn(w){ze.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Mn,ze);var Xc=/^https?$/i,ba=["POST","PUT"];n=Mn.prototype,n.Ha=function(w){this.J=w},n.ea=function(w,z,G,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);z=z?z.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?vi(this.o):vi(Tr),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(z,String(w),!0),this.B=!1}catch(We){wa(this,We);return}if(w=G||"",G=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Re in he)G.set(Re,he[Re]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const We of he.keys())G.set(We,he.get(We));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(G.keys()).find(We=>We.toLowerCase()=="content-type"),Re=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ba,z,void 0))||he||Re||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,ct]of G)this.g.setRequestHeader(We,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yi(this),this.u=!0,this.g.send(w),this.u=!1}catch(We){wa(this,We)}};function wa(w,z){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=z,w.m=5,nl(w),Ei(w)}function nl(w){w.A||(w.A=!0,Ue(w,"complete"),Ue(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Ue(this,"complete"),Ue(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Mn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ql(this):this.bb())},n.bb=function(){Ql(this)};function Ql(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Sr(w)!=4||w.Z()!=2)){if(w.u&&Sr(w)==4)ht(w.Ea,0,w);else if(Ue(w,"readystatechange"),Sr(w)==4){w.h=!1;try{const ct=w.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var G;if(!(G=z)){var he;if(he=ct===0){var Re=String(w.D).match(si)[1]||null;!Re&&a.self&&a.self.location&&(Re=a.self.location.protocol.slice(0,-1)),he=!Xc.test(Re?Re.toLowerCase():"")}G=he}if(G)Ue(w,"complete"),Ue(w,"success");else{w.m=6;try{var We=2<Sr(w)?w.g.statusText:""}catch{We=""}w.l=We+" ["+w.Z()+"]",nl(w)}}finally{Ei(w)}}}}function Ei(w,z){if(w.g){Yi(w);const G=w.g,he=w.v[0]?()=>{}:null;w.g=null,w.v=null,z||Ue(w,"ready");try{G.onreadystatechange=he}catch{}}}function Yi(w){w.I&&(a.clearTimeout(w.I),w.I=null)}n.isActive=function(){return!!this.g};function Sr(w){return w.g?w.g.readyState:0}n.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(w){if(this.g){var z=this.g.responseText;return w&&z.indexOf(w)==0&&(z=z.substring(w.length)),un(z)}};function Jc(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(w){const z={};w=(w.g&&2<=Sr(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<w.length;he++){if(E(w[he]))continue;var G=N(w[he]);const Re=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const We=z[Re]||[];z[Re]=We,We.push(G)}O(z,function(he){return he.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rr(w,z,G){return G&&G.internalChannelParams&&G.internalChannelParams[w]||z}function rl(w){this.Aa=0,this.i=[],this.j=new dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rr("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rr("baseRetryDelayMs",5e3,w),this.cb=Rr("retryDelaySeedMs",1e4,w),this.Wa=Rr("forwardChannelMaxRetries",2,w),this.wa=Rr("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new ha(w&&w.concurrentRequestLimit),this.Da=new Xl,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rl.prototype,n.la=8,n.G=1,n.connect=function(w,z,G,he){gt(0),this.W=w,this.H=z||{},G&&he!==void 0&&(this.H.OSID=G,this.H.OAID=he),this.F=this.X,this.I=M(this,null,this.W),So(this)};function ur(w){if(Yo(w),w.G==3){var z=w.U++,G=oi(w.I);if(zn(G,"SID",w.K),zn(G,"RID",z),zn(G,"TYPE","terminate"),Eo(w,G),z=new br(w,w.j,z),z.L=2,z.v=Go(oi(G)),G=!1,a.navigator&&a.navigator.sendBeacon)try{G=a.navigator.sendBeacon(z.v.toString(),"")}catch{}!G&&a.Image&&(new Image().src=z.v,G=!0),G||(z.g=Z(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Kn(z)}tc(w)}function Xs(w){w.g&&(Zl(w),w.g.cancel(),w.g=null)}function Yo(w){Xs(w),w.u&&(a.clearTimeout(w.u),w.u=null),Jo(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function So(w){if(!Gi(w.h)&&!w.s){w.s=!0;var z=w.Ga;re||ae(),X||(re(),X=!0),de.add(z,w),w.B=0}}function Qc(w,z){return Qa(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=z.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Qt(m(w.Ga,w,z),ec(w,w.B)),w.B++,!0)}n.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Re=new br(this,this.j,w);let We=this.o;if(this.S&&(We?(We=C(We),P(We,this.S)):We=this.S),this.m!==null||this.O||(Re.H=We,We=null),this.P)e:{for(var z=0,G=0;G<this.i.length;G++){t:{var he=this.i[G];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(z+=he,4096<z){z=G;break e}if(z===4096||G===this.i.length-1){z=G+1;break e}}z=1e3}else z=1e3;z=Js(this,Re,z),G=oi(this.I),zn(G,"RID",w),zn(G,"CVER",22),this.D&&zn(G,"X-HTTP-Session-Id",this.D),Eo(this,G),We&&(this.O?z="headers="+encodeURIComponent(String(Si(We)))+"&"+z:this.m&&xa(G,this.m,We)),rr(this.h,Re),this.Ua&&zn(G,"TYPE","init"),this.P?(zn(G,"$req",z),zn(G,"SID","null"),Re.T=!0,qo(Re,G,null)):qo(Re,G,z),this.G=2}}else this.G==3&&(w?Sa(this,w):this.i.length==0||Gi(this.h)||Sa(this))};function Sa(w,z){var G;z?G=z.l:G=w.U++;const he=oi(w.I);zn(he,"SID",w.K),zn(he,"RID",G),zn(he,"AID",w.T),Eo(w,he),w.m&&w.o&&xa(he,w.m,w.o),G=new br(w,w.j,G,w.B+1),w.m===null&&(G.H=w.o),z&&(w.i=z.D.concat(w.i)),z=Js(w,G,1e3),G.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),rr(w.h,G),qo(G,he,z)}function Eo(w,z){w.H&&U(w.H,function(G,he){zn(z,he,G)}),w.l&&ma({},function(G,he){zn(z,he,G)})}function Js(w,z,G){G=Math.min(w.i.length,G);var he=w.l?m(w.l.Na,w.l,w):null;e:{var Re=w.i;let We=-1;for(;;){const ct=["count="+G];We==-1?0<G?(We=Re[0].g,ct.push("ofs="+We)):We=0:ct.push("ofs="+We);let en=!0;for(let vn=0;vn<G;vn++){let tn=Re[vn].g;const Fn=Re[vn].map;if(tn-=We,0>tn)We=Math.max(0,Re[vn].g-100),en=!1;else try{Jl(Fn,ct,"req"+tn+"_")}catch{he&&he(Fn)}}if(en){he=ct.join("&");break e}}}return w=w.i.splice(0,G),z.D=w,he}function Xo(w){if(!w.g&&!w.u){w.Y=1;var z=w.Fa;re||ae(),X||(re(),X=!0),de.add(z,w),w.v=0}}function Ea(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Qt(m(w.Fa,w),ec(w,w.v)),w.v++,!0)}n.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Qt(m(this.ab,this),w)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Xs(this),Yu(this))};function Zl(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function Yu(w){w.g=new br(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var z=oi(w.qa);zn(z,"RID","rpc"),zn(z,"SID",w.K),zn(z,"AID",w.T),zn(z,"CI",w.F?"0":"1"),!w.F&&w.ja&&zn(z,"TO",w.ja),zn(z,"TYPE","xmlhttp"),Eo(w,z),w.m&&w.o&&xa(z,w.m,w.o),w.L&&(w.g.I=w.L);var G=w.g;w=w.ia,G.L=1,G.v=Go(oi(z)),G.m=null,G.P=!0,fa(G,w)}n.Za=function(){this.C!=null&&(this.C=null,Xs(this),Ea(this),gt(19))};function Jo(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function Co(w,z){var G=null;if(w.g==z){Jo(w),Zl(w),w.g=null;var he=2}else if(ii(w.h,z))G=z.D,Gc(w.h,z),he=1;else return;if(w.G!=0){if(z.o)if(he==1){G=z.m?z.m.length:0,z=Date.now()-z.F;var Re=w.B;he=$n(),Ue(he,new Gn(he,G)),So(w)}else Xo(w);else if(Re=z.s,Re==3||Re==0&&0<z.X||!(he==1&&Qc(w,z)||he==2&&Ea(w)))switch(G&&0<G.length&&(z=w.h,z.i=z.i.concat(G)),Re){case 1:Ci(w,5);break;case 4:Ci(w,10);break;case 3:Ci(w,6);break;default:Ci(w,2)}}}function ec(w,z){let G=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(G*=2),G*z}function Ci(w,z){if(w.j.info("Error code "+z),z==2){var G=m(w.fb,w),he=w.Xa;const Re=!he;he=new wr(he||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ga(he,"https"),Go(he),Re?wo(he.toString(),G):Yc(he.toString(),G)}else gt(2);w.G=0,w.l&&w.l.sa(z),tc(w),Yo(w)}n.fb=function(w){w?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function tc(w){if(w.G=0,w.ka=[],w.l){const z=Kc(w.h);(z.length!=0||w.i.length!=0)&&(b(w.ka,z),b(w.ka,w.i),w.h.i.length=0,v(w.i),w.i.length=0),w.l.ra()}}function M(w,z,G){var he=G instanceof wr?oi(G):new wr(G);if(he.g!="")z&&(he.g=z+"."+he.g),ya(he,he.s);else{var Re=a.location;he=Re.protocol,z=z?z+"."+Re.hostname:Re.hostname,Re=+Re.port;var We=new wr(null);he&&ga(We,he),z&&(We.g=z),Re&&ya(We,Re),G&&(We.l=G),he=We}return G=w.D,z=w.ya,G&&z&&zn(he,G,z),zn(he,"VER",w.la),Eo(w,he),he}function Z(w,z,G){if(z&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=w.Ca&&!w.pa?new Mn(new Ko({eb:G})):new Mn(w.pa),z.Ha(w.J),z}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xe(){}n=xe.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ce(){}Ce.prototype.g=function(w,z){return new Me(w,z)};function Me(w,z){ze.call(this),this.g=new rl(z),this.l=w,this.h=z&&z.messageUrlParams||null,w=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(w?w["X-WebChannel-Content-Type"]=z.messageContentType:w={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(w?w["X-WebChannel-Client-Profile"]=z.va:w={"X-WebChannel-Client-Profile":z.va}),this.g.S=w,(w=z&&z.Sb)&&!E(w)&&(this.g.m=w),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!E(z)&&(this.g.D=z,w=this.h,w!==null&&z in w&&(w=this.h,z in w&&delete w[z])),this.j=new xt(this)}g(Me,ze),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){ur(this.g)},Me.prototype.o=function(w){var z=this.g;if(typeof w=="string"){var G={};G.__data__=w,w=G}else this.u&&(G={},G.__data__=Kt(w),w=G);z.i.push(new Hu(z.Ya++,w)),z.G==3&&So(z)},Me.prototype.N=function(){this.g.l=null,delete this.j,ur(this.g),delete this.g,Me.aa.N.call(this)};function Qe(w){hn.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var z=w.__sm__;if(z){e:{for(const G in z){w=G;break e}w=void 0}(this.i=w)&&(w=this.i,z=z!==null&&w in z?z[w]:void 0),this.data=z}else this.data=w}g(Qe,hn);function lt(){rn.call(this),this.status=1}g(lt,rn);function xt(w){this.g=w}g(xt,xe),xt.prototype.ua=function(){Ue(this.g,"a")},xt.prototype.ta=function(w){Ue(this.g,new Qe(w))},xt.prototype.sa=function(w){Ue(this.g,new lt)},xt.prototype.ra=function(){Ue(this.g,"b")},Ce.prototype.createWebChannel=Ce.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,qO=function(){return new Ce},UO=function(){return $n()},zO=Et,xE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,nv=bi,ms.COMPLETE="complete",$O=ms,Tn.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",ze.prototype.listen=ze.prototype.K,km=Tn,Mn.prototype.listenOnce=Mn.prototype.L,Mn.prototype.getLastError=Mn.prototype.Ka,Mn.prototype.getLastErrorCode=Mn.prototype.Ba,Mn.prototype.getStatus=Mn.prototype.Z,Mn.prototype.getResponseJson=Mn.prototype.Oa,Mn.prototype.getResponseText=Mn.prototype.oa,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Ha,VO=Mn}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});const vN="@firebase/firestore",xN="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Os.UNAUTHENTICATED=new Os(null),Os.GOOGLE_CREDENTIALS=new Os("google-credentials-uid"),Os.FIRST_PARTY=new Os("first-party-uid"),Os.MOCK_USER=new Os("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D0="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new jA("@firebase/firestore");function Ap(){return _h.logLevel}function _t(n,...e){if(_h.logLevel<=Sn.DEBUG){const t=e.map(zA);_h.debug(`Firestore (${D0}): ${n}`,...t)}}function Fu(n,...e){if(_h.logLevel<=Sn.ERROR){const t=e.map(zA);_h.error(`Firestore (${D0}): ${n}`,...t)}}function u0(n,...e){if(_h.logLevel<=Sn.WARN){const t=e.map(zA);_h.warn(`Firestore (${D0}): ${n}`,...t)}}function zA(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,HO(n,r,t)}function HO(n,e,t){let r=`FIRESTORE (${D0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Fu(r),new Error(r)}function Jn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||HO(e,i,r)}function ln(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends $u{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Os.UNAUTHENTICATED))}shutdown(){}}class ree{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iee{constructor(e){this.t=e,this.currentUser=Os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let s=new Pu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jn(typeof r.accessToken=="string",31837,{l:r}),new WO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jn(e===null||typeof e=="string",2055,{h:e}),new Os(e)}}class see{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Os.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oee{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new see(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aee{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Jn(this.o===void 0,3512);const r=s=>{s.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,_t("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new bN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function yn(n,e){return n<e?-1:n>e?1:0}function bE(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return yn(r,i);{const s=GO(),o=cee(s.encode(wN(n,t)),s.encode(wN(e,t)));return o!==0?o:yn(r,i)}}t+=r>65535?2:1}return yn(n.length,e.length)}function wN(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function cee(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return yn(n[t],e[t]);return yn(n.length,e.length)}function d0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=-62135596800,EN=1e6;class $r{static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*EN);return new $r(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SN)throw new kt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EN}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-SN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{static fromTimestamp(e){return new sn(e)}static min(){return new sn(new $r(0,0))}static max(){return new sn(new $r(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__name__";class gc{constructor(e,t,r){t===void 0?t=0:t>e.length&&Gt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Gt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gc?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=gc.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return yn(e.length,t.length)}static compareSegments(e,t){const r=gc.isNumericId(e),i=gc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?gc.extractNumericId(e).compare(gc.extractNumericId(t)):bE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jd.fromString(e.substring(4,e.length-2))}}class mr extends gc{construct(e,t,r){return new mr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new kt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mr(t)}static emptyPath(){return new mr([])}}const uee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends gc{construct(e,t,r){return new ds(e,t,r)}static isValidIdentifier(e){return uee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CN}static keyField(){return new ds([CN])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new kt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new kt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new kt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new kt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ds(t)}static emptyPath(){return new ds([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.path=e}static fromPath(e){return new Ft(mr.fromString(e))}static fromName(e){return new Ft(mr.fromString(e).popFirst(5))}static empty(){return new Ft(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ft(new mr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function dee(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=sn.fromTimestamp(r===1e9?new $r(t+1,0):new $r(t,r));return new lf(i,Ft.empty(),e)}function fee(n){return new lf(n.readTime,n.key,Cg)}class lf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new lf(sn.min(),Ft.empty(),Cg)}static max(){return new lf(sn.max(),Ft.empty(),Cg)}}function hee(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ft.comparator(n.documentKey,e.documentKey),t!==0?t:yn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==pee)throw n;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.reject(t)}static resolve(e){return new ot((t,r)=>{t(e)})}static reject(e){return new ot((t,r)=>{r(e)})}static waitFor(e){return new ot((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=ot.resolve(!1);for(const r of e)t=t.next(i=>i?ot.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new ot((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new ot((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function gee(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function L0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}I2.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=-1;function D2(n){return n==null}function Tx(n){return n===0&&1/n==-1/0}function yee(n){return typeof n=="number"&&Number.isInteger(n)&&!Tx(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="";function vee(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AN(e)),e=xee(n.get(t),e);return AN(e)}function xee(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case YO:t+="";break;default:t+=s}}return t}function AN(n){return n+YO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wy(this.root,e,this.comparator,!1)}getReverseIterator(){return new wy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wy(this.root,e,this.comparator,!0)}}class wy{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ls.RED,this.left=i??ls.EMPTY,this.right=s??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ls(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ls.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Gt(27949);return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1;ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new ls(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TN(this.data.getIterator())}getIteratorFrom(e){return new TN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yi(this.comparator);return t.data=e,t}}class TN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.fields=e,e.sort(ds.comparator)}static empty(){return new aa([])}unionWith(e){let t=new yi(ds.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new aa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return d0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JO("Invalid base64 string: "+s):s}}(e);return new hs(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new hs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hs.EMPTY_BYTE_STRING=new hs("");const bee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cf(n){if(Jn(!!n,39018),typeof n=="string"){let e=0;const t=bee.exec(n);if(Jn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function uf(n){return typeof n=="string"?hs.fromBase64String(n):hs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="server_timestamp",ZO="__type__",eM="__previous_value__",tM="__local_write_time__";function qA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZO])===null||t===void 0?void 0:t.stringValue)===QO}function R2(n){const e=n.mapValue.fields[eM];return qA(e)?R2(e):e}function Ag(n){const e=cf(n.mapValue.fields[tM].timestampValue);return new $r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const kx="(default)";class _g{constructor(e,t){this.projectId=e,this.database=t||kx}static empty(){return new _g("","")}get isDefaultDatabase(){return this.database===kx}isEqual(e){return e instanceof _g&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="__type__",See="__max__",Sy={mapValue:{}},rM="__vector__",Nx="value";function df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qA(n)?4:Cee(n)?9007199254740991:Eee(n)?10:11:Gt(28295,{value:n})}function Oc(n,e){if(n===e)return!0;const t=df(n);if(t!==df(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ag(n).isEqual(Ag(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=cf(i.timestampValue),a=cf(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return uf(i.bytesValue).isEqual(uf(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Gr(i.geoPointValue.latitude)===Gr(s.geoPointValue.latitude)&&Gr(i.geoPointValue.longitude)===Gr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gr(i.integerValue)===Gr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gr(i.doubleValue),a=Gr(s.doubleValue);return o===a?Tx(o)===Tx(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return d0(n.arrayValue.values||[],e.arrayValue.values||[],Oc);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(_N(o)!==_N(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Oc(o[l],a[l])))return!1;return!0}(n,e);default:return Gt(52216,{left:n})}}function Tg(n,e){return(n.values||[]).find(t=>Oc(t,e))!==void 0}function f0(n,e){if(n===e)return 0;const t=df(n),r=df(e);if(t!==r)return yn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return yn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Gr(s.integerValue||s.doubleValue),l=Gr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return kN(n.timestampValue,e.timestampValue);case 4:return kN(Ag(n),Ag(e));case 5:return bE(n.stringValue,e.stringValue);case 6:return function(s,o){const a=uf(s),l=uf(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=yn(a[c],l[c]);if(u!==0)return u}return yn(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=yn(Gr(s.latitude),Gr(o.latitude));return a!==0?a:yn(Gr(s.longitude),Gr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NN(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const f=s.fields||{},m=o.fields||{},p=(a=f[Nx])===null||a===void 0?void 0:a.arrayValue,g=(l=m[Nx])===null||l===void 0?void 0:l.arrayValue,v=yn(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:NN(p,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Sy.mapValue&&o===Sy.mapValue)return 0;if(s===Sy.mapValue)return 1;if(o===Sy.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const m=bE(l[f],u[f]);if(m!==0)return m;const p=f0(a[l[f]],c[u[f]]);if(p!==0)return p}return yn(l.length,u.length)}(n.mapValue,e.mapValue);default:throw Gt(23264,{Pe:t})}}function kN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return yn(n,e);const t=cf(n),r=cf(e),i=yn(t.seconds,r.seconds);return i!==0?i:yn(t.nanos,r.nanos)}function NN(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=f0(t[i],r[i]);if(s)return s}return yn(t.length,r.length)}function h0(n){return wE(n)}function wE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=cf(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return uf(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ft.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=wE(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${wE(t.fields[o])}`;return i+"}"}(n.mapValue):Gt(61005,{value:n})}function rv(n){switch(df(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=R2(n);return e?16+rv(e):16;case 5:return 2*n.stringValue.length;case 6:return uf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+rv(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Sf(r.fields,(s,o)=>{i+=s.length+rv(o)}),i}(n.mapValue);default:throw Gt(13486,{value:n})}}function PN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function SE(n){return!!n&&"integerValue"in n}function HA(n){return!!n&&"arrayValue"in n}function IN(n){return!!n&&"nullValue"in n}function DN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iv(n){return!!n&&"mapValue"in n}function Eee(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nM])===null||t===void 0?void 0:t.stringValue)===rM}function Wm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cee(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===See}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.value=e}static empty(){return new Fo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!iv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wm(t)}setAll(e){let t=ds.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Wm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());iv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];iv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sf(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Fo(Wm(this.value))}}function iM(n){const e=[];return Sf(n.fields,(t,r)=>{const i=new ds([t]);if(iv(r)){const s=iM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new aa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ms(e,0,sn.min(),sn.min(),sn.min(),Fo.empty(),0)}static newFoundDocument(e,t,r,i){return new Ms(e,1,t,sn.min(),r,i,0)}static newNoDocument(e,t){return new Ms(e,2,t,sn.min(),sn.min(),Fo.empty(),0)}static newUnknownDocument(e,t){return new Ms(e,3,t,sn.min(),sn.min(),Fo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ms&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ms(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,t){this.position=e,this.inclusive=t}}function RN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=Ft.comparator(Ft.fromName(o.referenceValue),t.key):r=f0(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t="asc"){this.field=e,this.dir=t}}function Aee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{}class ni extends sM{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Tee(e,t,r):t==="array-contains"?new Pee(e,r):t==="in"?new Iee(e,r):t==="not-in"?new Dee(e,r):t==="array-contains-any"?new Ree(e,r):new ni(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kee(e,r):new Nee(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(f0(t,this.value)):t!==null&&df(this.value)===df(t)&&this.matchesComparison(f0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ll extends sM{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ll(e,t)}matches(e){return oM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function oM(n){return n.op==="and"}function aM(n){return _ee(n)&&oM(n)}function _ee(n){for(const e of n.filters)if(e instanceof Ll)return!1;return!0}function EE(n){if(n instanceof ni)return n.field.canonicalString()+n.op.toString()+h0(n.value);if(aM(n))return n.filters.map(e=>EE(e)).join(",");{const e=n.filters.map(t=>EE(t)).join(",");return`${n.op}(${e})`}}function lM(n,e){return n instanceof ni?function(r,i){return i instanceof ni&&r.op===i.op&&r.field.isEqual(i.field)&&Oc(r.value,i.value)}(n,e):n instanceof Ll?function(r,i){return i instanceof Ll&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lM(o,i.filters[a]),!0):!1}(n,e):void Gt(19439)}function cM(n){return n instanceof ni?function(t){return`${t.field.canonicalString()} ${t.op} ${h0(t.value)}`}(n):n instanceof Ll?function(t){return t.op.toString()+" {"+t.getFilters().map(cM).join(" ,")+"}"}(n):"Filter"}class Tee extends ni{constructor(e,t,r){super(e,t,r),this.key=Ft.fromName(r.referenceValue)}matches(e){const t=Ft.comparator(e.key,this.key);return this.matchesComparison(t)}}class kee extends ni{constructor(e,t){super(e,"in",t),this.keys=uM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nee extends ni{constructor(e,t){super(e,"not-in",t),this.keys=uM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ft.fromName(r.referenceValue))}class Pee extends ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return HA(t)&&Tg(t.arrayValue,this.value)}}class Iee extends ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tg(this.value.arrayValue,t)}}class Dee extends ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tg(this.value.arrayValue,t)}}class Ree extends ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!HA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tg(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function ON(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Lee(n,e,t,r,i,s,o)}function WA(n){const e=ln(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>EE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),D2(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>h0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>h0(r)).join(",")),e.Ie=t}return e.Ie}function GA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Aee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LN(n.startAt,e.startAt)&&LN(n.endAt,e.endAt)}function CE(n){return Ft.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Oee(n,e,t,r,i,s,o,a){return new o1(n,e,t,r,i,s,o,a)}function KA(n){return new o1(n)}function MN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function dM(n){return n.collectionGroup!==null}function Gm(n){const e=ln(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yi(ds.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Ix(s,r))}),t.has(ds.keyField().canonicalString())||e.Ee.push(new Ix(ds.keyField(),r))}return e.Ee}function Nc(n){const e=ln(n);return e.de||(e.de=Mee(e,Gm(n))),e.de}function Mee(n,e){if(n.limitType==="F")return ON(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ix(i.field,s)});const t=n.endAt?new Px(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Px(n.startAt.position,n.startAt.inclusive):null;return ON(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function AE(n,e){const t=n.filters.concat([e]);return new o1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _E(n,e,t){return new o1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function L2(n,e){return GA(Nc(n),Nc(e))&&n.limitType===e.limitType}function fM(n){return`${WA(Nc(n))}|lt:${n.limitType}`}function _p(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>cM(i)).join(", ")}]`),D2(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>h0(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>h0(i)).join(",")),`Target(${r})`}(Nc(n))}; limitType=${n.limitType})`}function O2(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ft.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Gm(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=RN(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Gm(r),i)||r.endAt&&!function(o,a,l){const c=RN(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Gm(r),i))}(n,e)}function Fee(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function hM(n){return(e,t)=>{let r=!1;for(const i of Gm(n)){const s=jee(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jee(n,e,t){const r=n.field.isKeyField()?Ft.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?f0(l,c):Gt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Gt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sf(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return XO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new Dr(Ft.comparator);function ju(){return Bee}const pM=new Dr(Ft.comparator);function Nm(...n){let e=pM;for(const t of n)e=e.insert(t.key,t);return e}function mM(n){let e=pM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ah(){return Km()}function gM(){return Km()}function Km(){return new jh(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vee=new Dr(Ft.comparator),$ee=new yi(Ft.comparator);function En(...n){let e=$ee;for(const t of n)e=e.add(t);return e}const zee=new yi(yn);function Uee(){return zee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tx(e)?"-0":e}}function yM(n){return{integerValue:""+n}}function qee(n,e){return yee(e)?yM(e):YA(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this._=void 0}}function Hee(n,e,t){return n instanceof Dx?function(i,s){const o={fields:{[ZO]:{stringValue:QO},[tM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qA(s)&&(s=R2(s)),s&&(o.fields[eM]=s),{mapValue:o}}(t,e):n instanceof kg?xM(n,e):n instanceof Ng?bM(n,e):function(i,s){const o=vM(i,s),a=FN(o)+FN(i.Re);return SE(o)&&SE(i.Re)?yM(a):YA(i.serializer,a)}(n,e)}function Wee(n,e,t){return n instanceof kg?xM(n,e):n instanceof Ng?bM(n,e):t}function vM(n,e){return n instanceof Rx?function(r){return SE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Dx extends M2{}class kg extends M2{constructor(e){super(),this.elements=e}}function xM(n,e){const t=wM(e);for(const r of n.elements)t.some(i=>Oc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ng extends M2{constructor(e){super(),this.elements=e}}function bM(n,e){let t=wM(e);for(const r of n.elements)t=t.filter(i=>!Oc(i,r));return{arrayValue:{values:t}}}class Rx extends M2{constructor(e,t){super(),this.serializer=e,this.Re=t}}function FN(n){return Gr(n.integerValue||n.doubleValue)}function wM(n){return HA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Gee(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof kg&&i instanceof kg||r instanceof Ng&&i instanceof Ng?d0(r.elements,i.elements,Oc):r instanceof Rx&&i instanceof Rx?Oc(r.Re,i.Re):r instanceof Dx&&i instanceof Dx}(n.transform,e.transform)}class Kee{constructor(e,t){this.version=e,this.transformResults=t}}class Wa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wa}static exists(e){return new Wa(void 0,e)}static updateTime(e){return new Wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class F2{}function SM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new XA(n.key,Wa.none()):new a1(n.key,n.data,Wa.none());{const t=n.data,r=Fo.empty();let i=new yi(ds.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ef(n.key,r,new aa(i.toArray()),Wa.none())}}function Yee(n,e,t){n instanceof a1?function(i,s,o){const a=i.value.clone(),l=BN(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ef?function(i,s,o){if(!sv(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=BN(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(EM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ym(n,e,t,r){return n instanceof a1?function(s,o,a,l){if(!sv(s.precondition,o))return a;const c=s.value.clone(),u=VN(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ef?function(s,o,a,l){if(!sv(s.precondition,o))return a;const c=VN(s.fieldTransforms,l,o),u=o.data;return u.setAll(EM(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(s,o,a){return sv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Xee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=vM(r.transform,i||null);s!=null&&(t===null&&(t=Fo.empty()),t.set(r.field,s))}return t||null}function jN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&d0(r,i,(s,o)=>Gee(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class a1 extends F2{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ef extends F2{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function EM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BN(n,e,t){const r=new Map;Jn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wee(o,a,t[i]))}return r}function VN(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Hee(s,o,e))}return r}class XA extends F2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jee extends F2{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Yee(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ym(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ym(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=gM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=SM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(sn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),En())}isEqual(e){return this.batchId===e.batchId&&d0(this.mutations,e.mutations,(t,r)=>jN(t,r))&&d0(this.baseMutations,e.baseMutations,(t,r)=>jN(t,r))}}class JA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Jn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Vee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new JA(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,Dn;function tte(n){switch(n){case at.OK:return Gt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Gt(15467,{code:n})}}function CM(n){if(n===void 0)return Fu("GRPC error has no .code"),at.UNKNOWN;switch(n){case ei.OK:return at.OK;case ei.CANCELLED:return at.CANCELLED;case ei.UNKNOWN:return at.UNKNOWN;case ei.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ei.INTERNAL:return at.INTERNAL;case ei.UNAVAILABLE:return at.UNAVAILABLE;case ei.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ei.NOT_FOUND:return at.NOT_FOUND;case ei.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ei.ABORTED:return at.ABORTED;case ei.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ei.DATA_LOSS:return at.DATA_LOSS;default:return Gt(39323,{code:n})}}(Dn=ei||(ei={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=new Jd([4294967295,4294967295],0);function $N(n){const e=GO().encode(n),t=new BO;return t.update(e),new Uint8Array(t.digest())}function zN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jd([t,r],0),new Jd([i,s],0)]}class QA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pm(`Invalid padding: ${t}`);if(r<0)throw new Pm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pm(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pm(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Jd.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Jd.fromNumber(r)));return i.compare(nte)===1&&(i=new Jd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=$N(e),[r,i]=zN(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new QA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const t=$N(e),[r,i]=zN(t);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,l1.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new j2(sn.min(),i,new Dr(yn),ju(),En())}}class l1{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new l1(r,t,En(),En(),En())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class AM{constructor(e,t){this.targetId=e,this.Ce=t}}class _M{constructor(e,t,r=hs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class UN{constructor(){this.Fe=0,this.Me=qN(),this.xe=hs.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=En(),t=En(),r=En();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Gt(38017,{changeType:s})}}),new l1(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=qN()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rte{constructor(e){this.ze=e,this.je=new Map,this.He=ju(),this.Je=Ey(),this.Ye=Ey(),this.Ze=new Dr(yn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Gt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const s=i.target;if(CE(s))if(r===0){const o=new Ft(s.path);this.tt(t,o,Ms.newNoDocument(o,sn.min()))}else Jn(r===1,20013,{expectedCount:r});else{const o=this.ut(t);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,c)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=uf(r).toUint8Array()}catch(l){if(l instanceof JO)return u0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new QA(o,i,s)}catch(l){return u0(l instanceof Pm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),i++)}),i}It(e){const t=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&CE(a.target)){const l=new Ft(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Ms.newNoDocument(l,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let r=En();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new j2(e,t,this.Ze,this.He,r);return this.He=ju(),this.Je=Ey(),this.Ye=Ey(),this.Ze=new Dr(yn),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new UN,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new yi(yn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new yi(yn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||_t("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new UN),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ey(){return new Dr(Ft.comparator)}function qN(){return new Dr(Ft.comparator)}const ite={asc:"ASCENDING",desc:"DESCENDING"},ste={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ote={and:"AND",or:"OR"};class ate{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function TE(n,e){return n.useProto3Json||D2(e)?e:{value:e}}function Lx(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lte(n,e){return Lx(n,e.toTimestamp())}function Pc(n){return Jn(!!n,49232),sn.fromTimestamp(function(t){const r=cf(t);return new $r(r.seconds,r.nanos)}(n))}function ZA(n,e){return kE(n,e).canonicalString()}function kE(n,e){const t=function(i){return new mr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kM(n){const e=mr.fromString(n);return Jn(RM(e),10190,{key:e.toString()}),e}function NE(n,e){return ZA(n.databaseId,e.path)}function o5(n,e){const t=kM(e);if(t.get(1)!==n.databaseId.projectId)throw new kt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new kt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ft(PM(t))}function NM(n,e){return ZA(n.databaseId,e)}function cte(n){const e=kM(n);return e.length===4?mr.emptyPath():PM(e)}function PE(n){return new mr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function PM(n){return Jn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HN(n,e,t){return{name:NE(n,e),fields:t.value.mapValue.fields}}function ute(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Gt(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Jn(u===void 0||typeof u=="string",58123),hs.fromBase64String(u||"")):(Jn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),hs.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?at.UNKNOWN:CM(c.code);return new kt(u,c.message||"")}(o);t=new _M(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=o5(n,r.document.name),s=Pc(r.document.updateTime),o=r.document.createTime?Pc(r.document.createTime):sn.min(),a=new Fo({mapValue:{fields:r.document.fields}}),l=Ms.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new ov(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=o5(n,r.document),s=r.readTime?Pc(r.readTime):sn.min(),o=Ms.newNoDocument(i,s),a=r.removedTargetIds||[];t=new ov([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=o5(n,r.document),s=r.removedTargetIds||[];t=new ov([],s,i,null)}else{if(!("filter"in e))return Gt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ete(i,s),a=r.targetId;t=new AM(a,o)}}return t}function dte(n,e){let t;if(e instanceof a1)t={update:HN(n,e.key,e.value)};else if(e instanceof XA)t={delete:NE(n,e.key)};else if(e instanceof Ef)t={update:HN(n,e.key,e.data),updateMask:bte(e.fieldMask)};else{if(!(e instanceof Jee))return Gt(16599,{ft:e.type});t={verify:NE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Dx)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof kg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ng)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rx)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw Gt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Gt(27497)}(n,e.precondition)),t}function fte(n,e){return n&&n.length>0?(Jn(e!==void 0,14353),n.map(t=>function(i,s){let o=i.updateTime?Pc(i.updateTime):Pc(s);return o.isEqual(sn.min())&&(o=Pc(s)),new Kee(o,i.transformResults||[])}(t,e))):[]}function hte(n,e){return{documents:[NM(n,e.path)]}}function pte(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NM(n,i);const s=function(c){if(c.length!==0)return DM(Ll.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(m){return{field:Tp(m.field),direction:yte(m.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=TE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:t,parent:i}}function mte(n){let e=cte(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Jn(r===1,65062);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(f){const m=IM(f);return m instanceof Ll&&aM(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(f){return f.map(m=>function(g){return new Ix(kp(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,D2(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new Px(p,m)}(t.startAt));let c=null;return t.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new Px(p,m)}(t.endAt)),Oee(e,i,o,s,a,"F",l,c)}function gte(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=kp(t.unaryFilter.field);return ni.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kp(t.unaryFilter.field);return ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=kp(t.unaryFilter.field);return ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kp(t.unaryFilter.field);return ni.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}}(n):n.fieldFilter!==void 0?function(t){return ni.create(kp(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ll.create(t.compositeFilter.filters.map(r=>IM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}}(t.compositeFilter.op))}(n):Gt(30097,{filter:n})}function yte(n){return ite[n]}function vte(n){return ste[n]}function xte(n){return ote[n]}function Tp(n){return{fieldPath:n.canonicalString()}}function kp(n){return ds.fromServerFormat(n.fieldPath)}function DM(n){return n instanceof ni?function(t){if(t.op==="=="){if(DN(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NAN"}};if(IN(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(DN(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NOT_NAN"}};if(IN(t.value))return{unaryFilter:{field:Tp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tp(t.field),op:vte(t.op),value:t.value}}}(n):n instanceof Ll?function(t){const r=t.getFilters().map(i=>DM(i));return r.length===1?r[0]:{compositeFilter:{op:xte(t.op),filters:r}}}(n):Gt(54877,{filter:n})}function bte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,r,i,s=sn.min(),o=sn.min(),a=hs.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e){this.wt=e}}function Ste(n){const e=mte({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_E(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(){this.yn=new Cte}addToCollectionParentIndex(e,t){return this.yn.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}deleteAllFieldIndexes(e){return ot.resolve()}createTargetIndexes(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(lf.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(lf.min())}updateCollectionGroup(e,t,r){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class Cte{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new yi(mr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yi(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LM=41943040;class Oo{static withCacheSize(e){return new Oo(e,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oo.DEFAULT_COLLECTION_PERCENTILE=10,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oo.DEFAULT=new Oo(LM,Oo.DEFAULT_COLLECTION_PERCENTILE,Oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oo.DISABLED=new Oo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new p0(0)}static ir(){return new p0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="LruGarbageCollector",Ate=1048576;function KN([n,e],[t,r]){const i=yn(n,t);return i===0?yn(e,r):i}class _te{constructor(e){this.cr=e,this.buffer=new yi(KN),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();KN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Tte{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){_t(GN,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){L0(t)?_t(GN,"Ignoring IndexedDB error during garbage collection: ",t):await R0(t)}await this.Ir(3e5)})}}class kte{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ot.resolve(I2.le);const r=new _te(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(WN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WN):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ap()<=Sn.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Nte(n,e){return new kte(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(){this.changes=new jh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ms.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ot.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ym(r.mutation,i,aa.empty(),$r.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,En()).next(()=>r))}getLocalViewOfDocuments(e,t,r=En()){const i=ah();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Nm();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ah();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,En()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=ju();const o=Km(),a=function(){return Km()}();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ef)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ym(u.mutation,c,u.mutation.getFieldMask(),$r.now())):o.set(c.key,aa.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var f;return a.set(c,new Ite(u,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Km();let i=new Dr((o,a)=>o-a),s=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||aa.empty();u=a.applyToLocalView(c,u),r.set(l,u);const f=(i.get(a.batchId)||En()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,f=gM();u.forEach(m=>{if(!s.has(m)){const p=SM(t.get(m),r.get(m));p!==null&&f.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ot.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return Ft.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):ot.resolve(ah());let a=Cg,l=s;return o.next(c=>ot.forEach(c,(u,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(u)?ot.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,En())).next(u=>({batchId:a,changes:mM(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ft(t)).next(r=>{let i=Nm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Nm();return this.indexManager.getCollectionParents(e,s).next(a=>ot.forEach(a,l=>{const c=function(f,m){return new o1(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ms.newInvalidDocument(u)))});let a=Nm();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Ym(u.mutation,c,aa.empty(),$r.now()),O2(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ot.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Pc(i.createTime)}}(t)),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:Ste(i.bundledQuery),readTime:Pc(i.readTime)}}(t)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(){this.overlays=new Dr(Ft.comparator),this.Or=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ah();return ot.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),ot.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),ot.resolve()}getOverlaysForCollection(e,t,r){const i=ah(),s=t.length+1,o=new Ft(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ot.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Dr((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=ah(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ah(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ot.resolve(a)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Zee(t,r));let s=this.Or.get(t);s===void 0&&(s=En(),this.Or.set(t,s)),this.Or.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(){this.sessionToken=hs.EMPTY_BYTE_STRING}getSessionToken(e){return ot.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.Nr=new yi(Li.Br),this.Lr=new yi(Li.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Li(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Li(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ft(new mr([])),r=new Li(t,e),i=new Li(t,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ft(new mr([])),r=new Li(t,e),i=new Li(t,e+1);let s=En();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Li(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ft.comparator(e.key,t.key)||yn(e.Gr,t.Gr)}static kr(e,t){return yn(e.Gr,t.Gr)||Ft.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new yi(Li.Br)}checkEmpty(e){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Qee(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new Li(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ot.resolve(o)}lookupMutationBatch(e,t){return ot.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),s=i<0?0:i;return ot.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?UA:this.Jn-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),ot.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yi(yn);return t.forEach(i=>{const s=new Li(i,0),o=new Li(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),ot.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ft.isDocumentKey(s)||(s=s.child(""));const o=new Li(new Ft(s),0);let a=new yi(yn);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Gr)),!0)},o),ot.resolve(this.Jr(a))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Jn(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ot.forEach(t.mutations,i=>{const s=new Li(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Li(t,0),i=this.zr.firstAfterOrEqual(r);return ot.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ot.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e){this.Zr=e,this.docs=function(){return new Dr(Ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ot.resolve(r?r.document.mutableCopy():Ms.newInvalidDocument(t))}getEntries(e,t){let r=ju();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ms.newInvalidDocument(i))}),ot.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=ju();const o=t.path,a=new Ft(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||hee(fee(u),r)<=0||(i.has(u.key)||O2(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return ot.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Gt(9500)}Xr(e,t){return ot.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jte(this)}getSize(e){return ot.resolve(this.size)}}class jte extends Pte{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),ot.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(e){this.persistence=e,this.ei=new jh(t=>WA(t),GA),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.ti=0,this.ni=new e_,this.targetCount=0,this.ri=p0.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ot.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new p0(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.ar(t),ot.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ot.waitFor(s).next(()=>i)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ot.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ot.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ot.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ot.resolve(r)}containsKey(e,t){return ot.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t){this.ii={},this.overlays={},this.si=new I2(0),this.oi=!1,this.oi=!0,this._i=new Ote,this.referenceDelegate=e(this),this.ai=new Bte(this),this.indexManager=new Ete,this.remoteDocumentCache=function(i){return new Fte(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new wte(t),this.ci=new Rte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new Mte(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){_t("MemoryPersistence","Starting transaction:",e);const i=new Vte(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,t){return ot.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class Vte extends mee{constructor(e){super(),this.currentSequenceNumber=e}}class t_{constructor(e){this.persistence=e,this.Ti=new e_,this.Ii=null}static Ei(e){return new t_(e)}get di(){if(this.Ii)return this.Ii;throw Gt(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ot.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,r=>{const i=Ft.fromPath(r);return this.Ai(e,i).next(s=>{s||t.removeEntry(i,sn.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ot.or([()=>ot.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ox{constructor(e,t){this.persistence=e,this.Ri=new jh(r=>vee(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Nte(this,t)}static Ei(e,t){return new Ox(e,t)}li(){}hi(e){return ot.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ot.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?ot.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,t).next(a=>{a||(r++,s.removeEntry(o,sn.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ot.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ot.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ot.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ot.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rv(e.data.value)),t}gr(e,t,r){return ot.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return ot.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=En(),i=En();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n_(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return MQ()?8:gee($s())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Rs(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $te;return this.fs(e,t,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,t,o,a.size)})}).next(()=>s.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Ap()<=Sn.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",_p(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ot.resolve()):(Ap()<=Sn.DEBUG&&_t("QueryEngine","Query:",_p(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ap()<=Sn.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",_p(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nc(t))):ot.resolve())}Rs(e,t){if(MN(t))return ot.resolve(null);let r=Nc(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=_E(t,null,"F"),r=Nc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=En(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ps(t,a);return this.ys(t,c,o,l.readTime)?this.Rs(e,_E(t,null,"F")):this.ws(e,c,t,l)}))})))}Vs(e,t,r,i){return MN(t)||i.isEqual(sn.min())?ot.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(t,s);return this.ys(t,o,r,i)?ot.resolve(null):(Ap()<=Sn.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_p(t)),this.ws(e,o,t,dee(i,Cg)).next(a=>a))})}ps(e,t){let r=new yi(hM(e));return t.forEach((i,s)=>{O2(e,s)&&(r=r.add(s))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,t,r){return Ap()<=Sn.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",_p(t)),this.As.getDocumentsMatchingQuery(e,t,lf.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LocalStore",Ute=3e8;class qte{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Dr(yn),this.Ds=new jh(s=>WA(s),GA),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dte(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function Hte(n,e,t,r){return new qte(n,e,t,r)}async function MM(n,e){const t=ln(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=En();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:a}))})})}function Wte(n,e){const t=ln(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const f=c.batch,m=f.keys();let p=ot.resolve();return m.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(v=>{const b=c.docVersions.get(g);Jn(b!==null,48541),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=En();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FM(n){const e=ln(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Gte(n,e){const t=ln(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const a=[];e.targetChanges.forEach((u,f)=>{const m=i.get(f);if(!m)return;a.push(t.ai.removeMatchingKeys(s,u.removedDocuments,f).next(()=>t.ai.addMatchingKeys(s,u.addedDocuments,f)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(hs.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(f,p),function(v,b,S){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Ute?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,p,u)&&a.push(t.ai.updateTargetData(s,p))});let l=ju(),c=En();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Kte(s,o,e.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!r.isEqual(sn.min())){const u=t.ai.getLastRemoteSnapshotVersion(s).next(f=>t.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return ot.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ss=i,s))}function Kte(n,e,t){let r=En(),i=En();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=ju();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(sn.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):_t(r_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Yte(n,e){const t=ln(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=UA),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Xte(n,e){const t=ln(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(s=>s?(i=s,ot.resolve(i)):t.ai.allocateTargetId(r).next(o=>(i=new zd(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function IE(n,e,t){const r=ln(n),i=r.Ss.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!L0(o))throw o;_t(r_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function YN(n,e,t){const r=ln(n);let i=sn.min(),s=En();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const f=ln(l),m=f.Ds.get(u);return m!==void 0?ot.resolve(f.Ss.get(m)):f.ai.getTargetData(c,u)}(r,o,Nc(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,t?i:sn.min(),t?s:En())).next(a=>(Jte(r,Fee(e),a),{documents:a,Ns:s})))}function Jte(n,e,t){let r=n.vs.get(e)||sn.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.vs.set(e,r)}class XN{constructor(){this.activeTargetIds=Uee()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qte{constructor(){this.So=new XN,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new XN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="ConnectivityMonitor";class QN{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){_t(JN,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){_t(JN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy=null;function DE(){return Cy===null?Cy=function(){return 268435456+Math.round(2147483648*Math.random())}():Cy++,"0x"+Cy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="RestConnection",ene={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tne{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===kx?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,s){const o=DE(),a=this.$o(e,t.toUriEncodedString());_t(a5,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,s),this.Ko(e,a,l,r).then(c=>(_t(a5,`Received RPC '${e}' ${o}: `,c),c),c=>{throw u0(a5,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Wo(e,t,r,i,s,o){return this.Qo(e,t,r,i,s)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+D0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,t){const r=ene[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nne{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="WebChannelConnection";class rne extends tne{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i){const s=DE();return new Promise((o,a)=>{const l=new VO;l.setWithCredentials(!0),l.listenOnce($O.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nv.NO_ERROR:const u=l.getResponseJson();_t(Ts,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case nv.TIMEOUT:_t(Ts,`RPC '${e}' ${s} timed out`),a(new kt(at.DEADLINE_EXCEEDED,"Request time out"));break;case nv.HTTP_ERROR:const f=l.getStatus();if(_t(Ts,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const g=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(S)>=0?S:at.UNKNOWN}(p.status);a(new kt(g,p.message))}else a(new kt(at.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new kt(at.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{_t(Ts,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);_t(Ts,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}a_(e,t,r){const i=DE(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qO(),a=UO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");_t(Ts,`Creating RPC '${e}' stream ${i}: ${u}`,l);const f=o.createWebChannel(u,l);let m=!1,p=!1;const g=new nne({Go:b=>{p?_t(Ts,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(_t(Ts,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),_t(Ts,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},zo:()=>f.close()}),v=(b,S,E)=>{b.listen(S,_=>{try{E(_)}catch(R){setTimeout(()=>{throw R},0)}})};return v(f,km.EventType.OPEN,()=>{p||(_t(Ts,`RPC '${e}' stream ${i} transport opened.`),g.t_())}),v(f,km.EventType.CLOSE,()=>{p||(p=!0,_t(Ts,`RPC '${e}' stream ${i} transport closed`),g.r_())}),v(f,km.EventType.ERROR,b=>{p||(p=!0,u0(Ts,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),g.r_(new kt(at.UNAVAILABLE,"The operation could not be completed")))}),v(f,km.EventType.MESSAGE,b=>{var S;if(!p){const E=b.data[0];Jn(!!E,16349);const _=E,R=(_==null?void 0:_.error)||((S=_[0])===null||S===void 0?void 0:S.error);if(R){_t(Ts,`RPC '${e}' stream ${i} received error:`,R);const B=R.status;let U=function(I){const P=ei[I];if(P!==void 0)return CM(P)}(B),O=R.message;U===void 0&&(U=at.INTERNAL,O="Unknown error status: "+B+" with message "+R.message),p=!0,g.r_(new kt(U,O)),f.close()}else _t(Ts,`RPC '${e}' stream ${i} received:`,E),g.i_(E)}}),v(a,zO.STAT_EVENT,b=>{b.stat===xE.PROXY?_t(Ts,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===xE.NOPROXY&&_t(Ts,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function l5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){return new ate(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,t,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&_t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="PersistentStream";class BM{constructor(e,t,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new jM(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===at.RESOURCE_EXHAUSTED?(Fu(t.toString()),Fu("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new kt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return _t(ZN,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(_t(ZN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ine extends BM{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=ute(this.serializer,e),r=function(s){if(!("targetChange"in s))return sn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?sn.min():o.readTime?Pc(o.readTime):sn.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=PE(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=CE(l)?{documents:hte(s,l)}:{query:pte(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TM(s,o.resumeToken);const c=TE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(sn.min())>0){a.readTime=Lx(s,o.snapshotVersion.toTimestamp());const c=TE(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=gte(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=PE(this.serializer),t.removeTarget=e,this.F_(t)}}class sne extends BM{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Jn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Jn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=fte(e.writeResults,e.commitTime),r=Pc(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=PE(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dte(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{}class ane extends one{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new kt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,kE(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new kt(at.UNKNOWN,s.toString())})}Wo(e,t,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,kE(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new kt(at.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class lne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Fu(t),this.ea=!1):_t("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="RemoteStore";class cne{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Bh(this)&&(_t(Th,"Restarting streams for network reachability change."),await async function(l){const c=ln(l);c.aa.add(4),await c1(c),c.la.set("Unknown"),c.aa.delete(4),await V2(c)}(this))})}),this.la=new lne(r,i)}}async function V2(n){if(Bh(n))for(const e of n.ua)await e(!0)}async function c1(n){for(const e of n.ua)await e(!1)}function VM(n,e){const t=ln(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),a_(t)?o_(t):O0(t).b_()&&s_(t,e))}function i_(n,e){const t=ln(n),r=O0(t);t._a.delete(e),r.b_()&&$M(t,e),t._a.size===0&&(r.b_()?r.v_():Bh(t)&&t.la.set("Unknown"))}function s_(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}O0(n).U_(e)}function $M(n,e){n.ha.Ke(e),O0(n).K_(e)}function o_(n){n.ha=new rte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),O0(n).start(),n.la.ta()}function a_(n){return Bh(n)&&!O0(n).w_()&&n._a.size>0}function Bh(n){return ln(n).aa.size===0}function zM(n){n.ha=void 0}async function une(n){n.la.set("Online")}async function dne(n){n._a.forEach((e,t)=>{s_(n,e)})}async function fne(n,e){zM(n),a_(n)?(n.la.ia(e),o_(n)):n.la.set("Unknown")}async function hne(n,e,t){if(n.la.set("Online"),e instanceof _M&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(n,e)}catch(r){_t(Th,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mx(n,r)}else if(e instanceof ov?n.ha.Xe(e):e instanceof AM?n.ha.ot(e):n.ha.nt(e),!t.isEqual(sn.min()))try{const r=await FM(n.localStore);t.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s._a.get(c);u&&s._a.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s._a.get(l);if(!u)return;s._a.set(l,u.withResumeToken(hs.EMPTY_BYTE_STRING,u.snapshotVersion)),$M(s,l);const f=new zd(u.target,l,c,u.sequenceNumber);s_(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){_t(Th,"Failed to raise snapshot:",r),await Mx(n,r)}}async function Mx(n,e,t){if(!L0(e))throw e;n.aa.add(1),await c1(n),n.la.set("Offline"),t||(t=()=>FM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_t(Th,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await V2(n)})}function UM(n,e){return e().catch(t=>Mx(n,t,e))}async function $2(n){const e=ln(n),t=ff(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:UA;for(;pne(e);)try{const i=await Yte(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,mne(e,i)}catch(i){await Mx(e,i)}qM(e)&&HM(e)}function pne(n){return Bh(n)&&n.oa.length<10}function mne(n,e){n.oa.push(e);const t=ff(n);t.b_()&&t.W_&&t.G_(e.mutations)}function qM(n){return Bh(n)&&!ff(n).w_()&&n.oa.length>0}function HM(n){ff(n).start()}async function gne(n){ff(n).H_()}async function yne(n){const e=ff(n);for(const t of n.oa)e.G_(t.mutations)}async function vne(n,e,t){const r=n.oa.shift(),i=JA.from(r,e,t);await UM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await $2(n)}async function xne(n,e){e&&ff(n).W_&&await async function(r,i){if(function(o){return tte(o)&&o!==at.ABORTED}(i.code)){const s=r.oa.shift();ff(r).D_(),await UM(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $2(r)}}(n,e),qM(n)&&HM(n)}async function eP(n,e){const t=ln(n);t.asyncQueue.verifyOperationInProgress(),_t(Th,"RemoteStore received new credentials");const r=Bh(t);t.aa.add(3),await c1(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await V2(t)}async function bne(n,e){const t=ln(n);e?(t.aa.delete(2),await V2(t)):e||(t.aa.add(2),await c1(t),t.la.set("Unknown"))}function O0(n){return n.Pa||(n.Pa=function(t,r,i){const s=ln(t);return s.Y_(),new ine(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:une.bind(null,n),Jo:dne.bind(null,n),Zo:fne.bind(null,n),Q_:hne.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),a_(n)?o_(n):n.la.set("Unknown")):(await n.Pa.stop(),zM(n))})),n.Pa}function ff(n){return n.Ta||(n.Ta=function(t,r,i){const s=ln(t);return s.Y_(),new sne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:gne.bind(null,n),Zo:xne.bind(null,n),z_:yne.bind(null,n),j_:vne.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await $2(n)):(await n.Ta.stop(),n.oa.length>0&&(_t(Th,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new l_(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(n,e){if(Fu("AsyncQueue",`${e}: ${n}`),L0(n))return new kt(at.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{static emptySet(e){return new Kp(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ft.comparator(t.key,r.key):(t,r)=>Ft.comparator(t.key,r.key),this.keyedMap=Nm(),this.sortedSet=new Dr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Kp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Ia=new Dr(Ft.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Gt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class m0{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new m0(e,t,Kp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Sne{constructor(){this.queries=nP(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=ln(t),s=i.queries;i.queries=nP(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new kt(at.ABORTED,"Firestore shutting down"))}}function nP(){return new jh(n=>fM(n),L2)}async function WM(n,e){const t=ln(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new wne,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await t.onListen(i,!0);break;case 1:s.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const a=c_(o,`Initialization of query '${_p(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.Ra.push(e),e.ga(t.onlineState),s.Aa&&e.pa(s.Aa)&&u_(t)}async function GM(n,e){const t=ln(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Ene(n,e){const t=ln(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&u_(t)}function Cne(n,e,t){const r=ln(n),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(t);r.queries.delete(e)}function u_(n){n.fa.forEach(e=>{e.next()})}var RE,rP;(rP=RE||(RE={})).ya="default",rP.Cache="cache";class KM{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new m0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=m0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==RE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.key=e}}class XM{constructor(e){this.key=e}}class Ane{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=En(),this.mutatedKeys=En(),this.Ua=hM(e),this.Ka=new Kp(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new tP,i=t?t.Ka:this.Ka;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,f)=>{const m=i.get(u),p=O2(this.query,f)?f:null,g=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;m&&p?m.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),b=!0):this.ja(m,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.Ua(p,l)>0||c&&this.Ua(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),b=!0):m&&!p&&(r.track({type:1,doc:m}),b=!0,(l||c)&&(a=!0)),b&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((u,f)=>function(p,g){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{Vt:b})}};return v(p)-v(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(r),i=i!=null&&i;const a=t&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,c=l!==this.Qa;return this.Qa=l,o.length!==0||c?{snapshot:new m0(this.query,e.Ka,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new tP,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=En(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new XM(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new YM(r))}),t}Xa(e){this.qa=e.Ns,this.$a=En();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return m0.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const d_="SyncEngine";class _ne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Tne{constructor(e){this.key=e,this.tu=!1}}class kne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new jh(a=>fM(a),L2),this.iu=new Map,this.su=new Set,this.ou=new Dr(Ft.comparator),this._u=new Map,this.au=new e_,this.uu={},this.cu=new Map,this.lu=p0.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Nne(n,e,t=!0){const r=nF(n);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await JM(r,e,t,!0),i}async function Pne(n,e){const t=nF(n);await JM(t,e,!0,!1)}async function JM(n,e,t,r){const i=await Xte(n.localStore,Nc(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=await Ine(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&VM(n.remoteStore,i),a}async function Ine(n,e,t,r,i){n.Pu=(f,m,p)=>async function(v,b,S,E){let _=b.view.Ga(S);_.ys&&(_=await YN(v.localStore,b.query,!1).then(({documents:O})=>b.view.Ga(O,_)));const R=E&&E.targetChanges.get(b.targetId),B=E&&E.targetMismatches.get(b.targetId)!=null,U=b.view.applyChanges(_,v.isPrimaryClient,R,B);return sP(v,b.targetId,U.Ya),U.snapshot}(n,f,m,p);const s=await YN(n.localStore,e,!0),o=new Ane(e,s.Ns),a=o.Ga(s.documents),l=l1.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),c=o.applyChanges(a,n.isPrimaryClient,l);sP(n,t,c.Ya);const u=new _ne(e,t,o);return n.ru.set(e,u),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),c.snapshot}async function Dne(n,e,t){const r=ln(n),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!L2(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await IE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&i_(r.remoteStore,i.targetId),LE(r,i.targetId)}).catch(R0)):(LE(r,i.targetId),await IE(r.localStore,i.targetId,!0))}async function Rne(n,e){const t=ln(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),i_(t.remoteStore,r.targetId))}async function Lne(n,e,t){const r=$ne(n);try{const i=await function(o,a){const l=ln(o),c=$r.now(),u=a.reduce((p,g)=>p.add(g.key),En());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=ju(),v=En();return l.Cs.getEntries(p,u).next(b=>{g=b,g.forEach((S,E)=>{E.isValidDocument()||(v=v.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const S=[];for(const E of a){const _=Xee(E,f.get(E.key).overlayedDocument);_!=null&&S.push(new Ef(E.key,_,iM(_.value.mapValue),Wa.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,S,a)}).next(b=>{m=b;const S=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,b.batchId,S)})}).then(()=>({batchId:m.batchId,changes:mM(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.uu[o.currentUser.toKey()];c||(c=new Dr(yn)),c=c.insert(a,l),o.uu[o.currentUser.toKey()]=c}(r,i.batchId,t),await u1(r,i.changes),await $2(r.remoteStore)}catch(i){const s=c_(i,"Failed to persist write");t.reject(s)}}async function QM(n,e){const t=ln(n);try{const r=await Gte(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t._u.get(s);o&&(Jn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Jn(o.tu,14607):i.removedDocuments.size>0&&(Jn(o.tu,42227),o.tu=!1))}),await u1(t,r,e)}catch(r){await R0(r)}}function iP(n,e,t){const r=ln(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ln(o);l.onlineState=a;let c=!1;l.queries.forEach((u,f)=>{for(const m of f.Ra)m.ga(a)&&(c=!0)}),c&&u_(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function One(n,e,t){const r=ln(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),s=i&&i.key;if(s){let o=new Dr(Ft.comparator);o=o.insert(s,Ms.newNoDocument(s,sn.min()));const a=En().add(s),l=new j2(sn.min(),new Map,new Dr(yn),o,a);await QM(r,l),r.ou=r.ou.remove(s),r._u.delete(e),f_(r)}else await IE(r.localStore,e,!1).then(()=>LE(r,e,t)).catch(R0)}async function Mne(n,e){const t=ln(n),r=e.batch.batchId;try{const i=await Wte(t.localStore,e);eF(t,r,null),ZM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await u1(t,i)}catch(i){await R0(i)}}async function Fne(n,e,t){const r=ln(n);try{const i=await function(o,a){const l=ln(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Jn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);eF(r,e,t),ZM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await u1(r,i)}catch(i){await R0(i)}}function ZM(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function eF(n,e,t){const r=ln(n);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function LE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||tF(n,r)})}function tF(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(i_(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),f_(n))}function sP(n,e,t){for(const r of t)r instanceof YM?(n.au.addReference(r.key,e),jne(n,r)):r instanceof XM?(_t(d_,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||tF(n,r.key)):Gt(19791,{Iu:r})}function jne(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(_t(d_,"New document in limbo: "+t),n.su.add(r),f_(n))}function f_(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ft(mr.fromString(e)),r=n.lu.next();n._u.set(r,new Tne(t)),n.ou=n.ou.insert(t,r),VM(n.remoteStore,new zd(Nc(KA(t.path)),r,"TargetPurposeLimboResolution",I2.le))}}async function u1(n,e,t){const r=ln(n),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const f=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=n_.Ps(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,c){const u=ln(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ot.forEach(c,m=>ot.forEach(m.ls,p=>u.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>ot.forEach(m.hs,p=>u.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!L0(f))throw f;_t(r_,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=u.Ss.get(m),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(m,v)}}}(r.localStore,s))}async function Bne(n,e){const t=ln(n);if(!t.currentUser.isEqual(e)){_t(d_,"User change. New user:",e.toKey());const r=await MM(t.localStore,e);t.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new kt(at.CANCELLED,o))})}),s.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await u1(t,r.Ms)}}function Vne(n,e){const t=ln(n),r=t._u.get(e);if(r&&r.tu)return En().add(r.key);{let i=En();const s=t.iu.get(e);if(!s)return i;for(const o of s){const a=t.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function nF(n){const e=ln(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=One.bind(null,e),e.nu.Q_=Ene.bind(null,e.eventManager),e.nu.Tu=Cne.bind(null,e.eventManager),e}function $ne(n){const e=ln(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fne.bind(null,e),e}class Fx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=B2(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Hte(this.persistence,new zte,e.initialUser,this.serializer)}Ru(e){return new OM(t_.Ei,this.serializer)}Au(e){return new Qte}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fx.provider={build:()=>new Fx};class zne extends Fx{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Jn(this.persistence.referenceDelegate instanceof Ox,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Tte(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Oo.withCacheSize(this.cacheSizeBytes):Oo.DEFAULT;return new OM(r=>Ox.Ei(r,t),this.serializer)}}class OE{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bne.bind(null,this.syncEngine),await bne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Sne}()}createDatastore(e){const t=B2(e.databaseInfo.databaseId),r=function(s){return new rne(s)}(e.databaseInfo);return function(s,o,a,l){return new ane(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,a){return new cne(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>iP(this.syncEngine,t,0),function(){return QN.C()?new QN:new Zte}())}createSyncEngine(e,t){return function(i,s,o,a,l,c,u){const f=new kne(i,s,o,a,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ln(i);_t(Th,"RemoteStore shutting down."),s.aa.add(5),await c1(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}OE.provider={build:()=>new OE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Fu("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="FirestoreClient";class Une{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Os.UNAUTHENTICATED,this.clientId=KO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{_t(hf,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_t(hf,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=c_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c5(n,e){n.asyncQueue.verifyOperationInProgress(),_t(hf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function oP(n,e){n.asyncQueue.verifyOperationInProgress();const t=await qne(n);_t(hf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>eP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>eP(e.remoteStore,i)),n._onlineComponents=e}async function qne(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t(hf,"Using user provided OfflineComponentProvider");try{await c5(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===at.FAILED_PRECONDITION||i.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;u0("Error using user provided cache. Falling back to memory cache: "+t),await c5(n,new Fx)}}else _t(hf,"Using default OfflineComponentProvider"),await c5(n,new zne(void 0));return n._offlineComponents}async function iF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t(hf,"Using user provided OnlineComponentProvider"),await oP(n,n._uninitializedComponentsProvider._online)):(_t(hf,"Using default OnlineComponentProvider"),await oP(n,new OE))),n._onlineComponents}function Hne(n){return iF(n).then(e=>e.syncEngine)}async function sF(n){const e=await iF(n),t=e.eventManager;return t.onListen=Nne.bind(null,e.syncEngine),t.onUnlisten=Dne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Rne.bind(null,e.syncEngine),t}function Wne(n,e,t={}){const r=new Pu;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new rF({next:m=>{u.yu(),o.enqueueAndForget(()=>GM(s,f));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new kt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new kt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new KM(KA(a.path),u,{includeMetadataChanges:!0,Fa:!0});return WM(s,f)}(await sF(n),n.asyncQueue,e,t,r)),r.promise}function Gne(n,e,t={}){const r=new Pu;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new rF({next:m=>{u.yu(),o.enqueueAndForget(()=>GM(s,f)),m.fromCache&&l.source==="server"?c.reject(new kt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new KM(a,u,{includeMetadataChanges:!0,Fa:!0});return WM(s,f)}(await sF(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n,e,t){if(!t)throw new kt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kne(n,e,t,r){if(e===!0&&r===!0)throw new kt(at.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lP(n){if(!Ft.isDocumentKey(n))throw new kt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cP(n){if(Ft.isDocumentKey(n))throw new kt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function z2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Gt(12329,{type:typeof n})}function Ol(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new kt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=z2(n);throw new kt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="firestore.googleapis.com",uP=!0;class dP{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new kt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lF,this.ssl=uP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:uP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ate)throw new kt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kne("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new kt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new kt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new kt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U2{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new kt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nee;switch(r.type){case"firstParty":return new oee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new kt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=aP.get(t);r&&(_t("ComponentProvider","Removing Datastore"),aP.delete(t),r.terminate())}(this),Promise.resolve()}}function Yne(n,e,t,r={}){var i;const s=(n=Ol(n,U2))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;s.host!==lF&&s.host!==a&&u0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Ch(l,o)&&(n._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Os.MOCK_USER;else{c=NQ(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new kt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Os(f)}n._authCredentials=new ree(new WO(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new M0(this.firestore,e,this._query)}}class uo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uo(this.firestore,e,this._key)}}class Qd extends M0{constructor(e,t,r){super(e,t,KA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uo(this.firestore,null,new Ft(e))}withConverter(e){return new Qd(this.firestore,e,this._path)}}function da(n,e,...t){if(n=zs(n),aF("collection","path",e),n instanceof U2){const r=mr.fromString(e,...t);return cP(r),new Qd(n,null,r)}{if(!(n instanceof uo||n instanceof Qd))throw new kt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return cP(r),new Qd(n.firestore,null,r)}}function fo(n,e,...t){if(n=zs(n),arguments.length===1&&(e=KO.newId()),aF("doc","path",e),n instanceof U2){const r=mr.fromString(e,...t);return lP(r),new uo(n,null,new Ft(r))}{if(!(n instanceof uo||n instanceof Qd))throw new kt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return lP(r),new uo(n.firestore,n instanceof Qd?n.converter:null,new Ft(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="AsyncQueue";class hP{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new jM(this,"async_queue_retry"),this.ju=()=>{const r=l5();r&&_t(fP,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=l5();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=l5();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Pu;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!L0(e))throw e;_t(fP,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Fu("INTERNAL UNHANDLED ERROR: ",pP(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=l_.createAndSchedule(this,e,t,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&Gt(47125,{ec:pP(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function pP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Vh extends U2{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hP(e),this._firestoreClient=void 0,await e}}}function cF(n,e){const t=typeof n=="object"?n:MO(),r=typeof n=="string"?n:kx,i=VA(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TQ("firestore");s&&Yne(i,...s)}return i}function h_(n){if(n._terminated)throw new kt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xne(n),n._firestoreClient}function Xne(n){var e,t,r;const i=n._freezeSettings(),s=function(a,l,c,u){return new wee(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,oF(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Une(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new g0(hs.fromBase64String(e))}catch(t){throw new kt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new g0(hs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new kt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jne=/^__.*__$/;class Qne{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms):new a1(e,this.data,t,this.fieldTransforms)}}class uF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{oc:n})}}class y_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new y_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return jx(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(dF(this.oc)&&Jne.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Zne{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||B2(e)}dc(e,t,r,i=!1){return new y_({oc:e,methodName:t,Ec:r,path:ds.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H2(n){const e=n._freezeSettings(),t=B2(n._databaseId);return new Zne(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fF(n,e,t,r,i,s={}){const o=n.dc(s.merge||s.mergeFields?2:0,e,t,i);v_("Data must be an object, but it was:",o,r);const a=hF(r,o);let l,c;if(s.merge)l=new aa(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const f of s.mergeFields){const m=ME(e,f,t);if(!o.contains(m))throw new kt(at.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);mF(u,m)||u.push(m)}l=new aa(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Qne(new Fo(a),l,c)}class W2 extends p_{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof W2}}function ere(n,e,t,r){const i=n.dc(1,e,t);v_("Data must be an object, but it was:",i,r);const s=[],o=Fo.empty();Sf(r,(l,c)=>{const u=x_(e,l,t);c=zs(c);const f=i.hc(u);if(c instanceof W2)s.push(u);else{const m=d1(c,f);m!=null&&(s.push(u),o.set(u,m))}});const a=new aa(s);return new uF(o,a,i.fieldTransforms)}function tre(n,e,t,r,i,s){const o=n.dc(1,e,t),a=[ME(e,r,t)],l=[i];if(s.length%2!=0)throw new kt(at.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ME(e,s[m])),l.push(s[m+1]);const c=[],u=Fo.empty();for(let m=a.length-1;m>=0;--m)if(!mF(c,a[m])){const p=a[m];let g=l[m];g=zs(g);const v=o.hc(p);if(g instanceof W2)c.push(p);else{const b=d1(g,v);b!=null&&(c.push(p),u.set(p,b))}}const f=new aa(c);return new uF(u,f,o.fieldTransforms)}function nre(n,e,t,r=!1){return d1(t,n.dc(r?4:3,e))}function d1(n,e){if(pF(n=zs(n)))return v_("Unsupported field value:",e,n),hF(n,e);if(n instanceof p_)return function(r,i){if(!dF(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=d1(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=zs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$r.fromDate(r);return{timestampValue:Lx(i.serializer,s)}}if(r instanceof $r){const s=new $r(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lx(i.serializer,s)}}if(r instanceof m_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof g0)return{bytesValue:TM(i.serializer,r._byteString)};if(r instanceof uo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ZA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof g_)return function(o,a){return{mapValue:{fields:{[nM]:{stringValue:rM},[Nx]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Tc("VectorValues must only contain numeric values.");return YA(a.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${z2(r)}`)}(n,e)}function hF(n,e){const t={};return XO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sf(n,(r,i)=>{const s=d1(i,e.uc(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function pF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof m_||n instanceof g0||n instanceof uo||n instanceof p_||n instanceof g_)}function v_(n,e,t){if(!pF(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=z2(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function ME(n,e,t){if((e=zs(e))instanceof q2)return e._internalPath;if(typeof e=="string")return x_(n,e);throw jx("Field path arguments must be of type string or ",n,!1,void 0,t)}const rre=new RegExp("[~\\*/\\[\\]]");function x_(n,e,t){if(e.search(rre)>=0)throw jx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new q2(...e.split("."))._internalPath}catch{throw jx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jx(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new kt(at.INVALID_ARGUMENT,a+n+l)}function mF(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new uo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ire(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(b_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ire extends gF{data(){return super.data()}}function b_(n,e){return typeof e=="string"?x_(n,e):e instanceof q2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new kt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w_{}class ore extends w_{}function are(n,e,...t){let r=[];e instanceof w_&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof S_).length,a=s.filter(l=>l instanceof G2).length;if(o>1||o>0&&a>0)throw new kt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class G2 extends ore{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new G2(e,t,r)}_apply(e){const t=this._parse(e);return yF(e._query,t),new M0(e.firestore,e.converter,AE(e._query,t))}_parse(e){const t=H2(e.firestore);return function(s,o,a,l,c,u,f){let m;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new kt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){gP(f,u);const g=[];for(const v of f)g.push(mP(l,s,v));m={arrayValue:{values:g}}}else m=mP(l,s,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||gP(f,u),m=nre(a,o,f,u==="in"||u==="not-in");return ni.create(c,u,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lre(n,e,t){const r=e,i=b_("where",n);return G2._create(i,r,t)}class S_ extends w_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new S_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ll.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)yF(o,l),o=AE(o,l)}(e._query,t),new M0(e.firestore,e.converter,AE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mP(n,e,t){if(typeof(t=zs(t))=="string"){if(t==="")throw new kt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dM(e)&&t.indexOf("/")!==-1)throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(mr.fromString(t));if(!Ft.isDocumentKey(r))throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return PN(n,new Ft(r))}if(t instanceof uo)return PN(n,t._key);throw new kt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${z2(t)}.`)}function gP(n,e){if(!Array.isArray(n)||n.length===0)throw new kt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yF(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new kt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new kt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class cre{convertValue(e,t="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Sf(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Nx].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Gr(o.doubleValue));return new g_(s)}convertGeoPoint(e){return new m_(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=R2(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ag(e));default:return null}}convertTimestamp(e){const t=cf(e);return new $r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mr.fromString(e);Jn(RM(r),9688,{name:e});const i=new _g(r.get(1),r.get(3)),s=new Ft(r.popFirst(5));return i.isEqual(t)||Fu(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xF extends gF{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(b_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class av extends xF{data(e={}){return super.data(e)}}class ure{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Im(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new av(this._firestore,this._userDataWriter,r.key,r,new Im(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Im(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new av(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Im(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:dre(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(n){n=Ol(n,uo);const e=Ol(n.firestore,Vh);return Wne(h_(e),n._key).then(t=>fre(e,n,t))}class wF extends cre{constructor(e){super(),this.firestore=e}convertBytes(e){return new g0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new uo(this.firestore,null,t)}}function pf(n){n=Ol(n,M0);const e=Ol(n.firestore,Vh),t=h_(e),r=new wF(e);return sre(n._query),Gne(t,n._query).then(i=>new ure(e,r,n,i))}function lv(n,e,t){n=Ol(n,uo);const r=Ol(n.firestore,Vh),i=vF(n.converter,e,t);return K2(r,[fF(H2(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Wa.none())])}function E_(n,e,t,...r){n=Ol(n,uo);const i=Ol(n.firestore,Vh),s=H2(i);let o;return o=typeof(e=zs(e))=="string"||e instanceof q2?tre(s,"updateDoc",n._key,e,t,r):ere(s,"updateDoc",n._key,e),K2(i,[o.toMutation(n._key,Wa.exists(!0))])}function f1(n){return K2(Ol(n.firestore,Vh),[new XA(n._key,Wa.none())])}function C_(n,e){const t=Ol(n.firestore,Vh),r=fo(n),i=vF(n.converter,e);return K2(t,[fF(H2(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wa.exists(!1))]).then(()=>r)}function K2(n,e){return function(r,i){const s=new Pu;return r.asyncQueue.enqueueAndForget(async()=>Lne(await Hne(r),i,s)),s.promise}(h_(n),e)}function fre(n,e,t){const r=t.docs.get(e._key),i=new wF(n);return new xF(n,i,e._key,r,new Im(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){D0=i})(I0),c0(new Ah("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Vh(new iee(r.getProvider("auth-internal")),new aee(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new kt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _g(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xd(vN,xN,e),Xd(vN,xN,"esm2017")})();function A_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function SF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hre=SF,EF=new i1("auth","Firebase",SF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new jA("@firebase/auth");function pre(n,...e){Bx.logLevel<=Sn.WARN&&Bx.warn(`Auth (${I0}): ${n}`,...e)}function cv(n,...e){Bx.logLevel<=Sn.ERROR&&Bx.error(`Auth (${I0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n,...e){throw __(n,...e)}function Ic(n,...e){return __(n,...e)}function CF(n,e,t){const r=Object.assign(Object.assign({},hre()),{[e]:t});return new i1("auth","Firebase",r).create(e,{appName:n.name})}function Zd(n){return CF(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return EF.create(n,...e)}function Wt(n,e,...t){if(!n)throw __(e,...t)}function Au(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cv(e),new Error(e)}function Bu(n,e){n||Au(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function mre(){return yP()==="http:"||yP()==="https:"}function yP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mre()||RQ()||"connection"in navigator)?navigator.onLine:!0}function yre(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bu(t>e,"Short delay should be less than long delay!"),this.isMobile=PQ()||LQ()}get(){return gre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n,e){Bu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Au("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Au("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Au("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vre={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bre=new h1(3e4,6e4);function $h(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Cf(n,e,t,r,i={}){return _F(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=s1(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},s);return DQ()||(c.referrerPolicy="no-referrer"),AF.fetch()(await TF(n,n.config.apiHost,t,a),c)})}async function _F(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},vre),e);try{const i=new Sre(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ay(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ay(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ay(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ay(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CF(n,u,c);Ml(n,u)}}catch(i){if(i instanceof $u)throw i;Ml(n,"network-request-failed",{message:String(i)})}}async function Y2(n,e,t,r,i={}){const s=await Cf(n,e,t,r,i);return"mfaPendingCredential"in s&&Ml(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function TF(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?T_(n.config,i):`${n.config.apiScheme}://${i}`;return xre.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function wre(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sre{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ic(this.auth,"network-request-failed")),bre.get())})}}function Ay(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ic(n,e,r);return i.customData._tokenResponse=t,i}function vP(n){return n!==void 0&&n.enterprise!==void 0}class Ere{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wre(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cre(n,e){return Cf(n,"GET","/v2/recaptchaConfig",$h(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Are(n,e){return Cf(n,"POST","/v1/accounts:delete",e)}async function Vx(n,e){return Cf(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _re(n,e=!1){const t=zs(n),r=await t.getIdToken(e),i=k_(r);Wt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xm(u5(i.auth_time)),issuedAtTime:Xm(u5(i.iat)),expirationTime:Xm(u5(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function u5(n){return Number(n)*1e3}function k_(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return cv("JWT malformed, contained fewer than 3 sections"),null;try{const i=PO(t);return i?JSON.parse(i):(cv("Failed to decode base64 JWT payload"),null)}catch(i){return cv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xP(n){const e=k_(n);return Wt(e,"internal-error"),Wt(typeof e.exp<"u","internal-error"),Wt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof $u&&Tre(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Tre({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xm(this.lastLoginAt),this.creationTime=Xm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Pg(n,Vx(t,{idToken:r}));Wt(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kF(s.providerUserInfo):[],a=Pre(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jE(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function Nre(n){const e=zs(n);await $x(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pre(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kF(n){return n.map(e=>{var{providerId:t}=e,r=A_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ire(n,e){const t=await _F(n,{},async()=>{const r=s1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await TF(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AF.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Dre(n,e){return Cf(n,"POST","/v2/accounts:revokeToken",$h(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Wt(e.idToken,"internal-error"),Wt(typeof e.idToken<"u","internal-error"),Wt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Wt(e.length!==0,"internal-error");const t=xP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Wt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Ire(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Yp;return r&&(Wt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Wt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Wt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yp,this.toJSON())}_performRefresh(){return Au("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(n,e){Wt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dl{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=A_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Pg(this,this.stsTokenManager.getToken(this.auth,e));return Wt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _re(this,e)}reload(){return Nre(this)}_assign(e){this!==e&&(Wt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await $x(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tl(this.auth.app))return Promise.reject(Zd(this.auth));const e=await this.getIdToken();return await Pg(this,Are(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,b=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=t.createdAt)!==null&&c!==void 0?c:void 0,E=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:R,isAnonymous:B,providerData:U,stsTokenManager:O}=t;Wt(_&&O,e,"internal-error");const C=Yp.fromJSON(this.name,O);Wt(typeof _=="string",e,"internal-error"),Ad(f,e.name),Ad(m,e.name),Wt(typeof R=="boolean",e,"internal-error"),Wt(typeof B=="boolean",e,"internal-error"),Ad(p,e.name),Ad(g,e.name),Ad(v,e.name),Ad(b,e.name),Ad(S,e.name),Ad(E,e.name);const I=new Dl({uid:_,auth:e,email:m,emailVerified:R,displayName:f,isAnonymous:B,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:C,createdAt:S,lastLoginAt:E});return U&&Array.isArray(U)&&(I.providerData=U.map(P=>Object.assign({},P))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,t,r=!1){const i=new Yp;i.updateFromServerResponse(t);const s=new Dl({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $x(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Wt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kF(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Yp;a.updateFromIdToken(r);const l=new Dl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new Map;function _u(n){Bu(n instanceof Function,"Expected a class definition");let e=bP.get(n);return e?(Bu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NF.type="NONE";const wP=NF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n,e,t){return`firebase:${n}:${e}:${t}`}class Xp{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=uv(this.userKey,i.apiKey,s),this.fullPersistenceKey=uv("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vx(this.auth,{idToken:e}).catch(()=>{});return t?Dl._fromGetAccountInfoResponse(this.auth,t,e):null}return Dl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xp(_u(wP),e,r);const i=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||_u(wP);const o=uv(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){let f;if(typeof u=="string"){const m=await Vx(e,{idToken:u}).catch(()=>{});if(!m)break;f=await Dl._fromGetAccountInfoResponse(e,m,u)}else f=Dl._fromJSON(e,u);c!==s&&(a=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xp(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Xp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OF(e))return"Blackberry";if(MF(e))return"Webos";if(IF(e))return"Safari";if((e.includes("chrome/")||DF(e))&&!e.includes("edge/"))return"Chrome";if(LF(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PF(n=$s()){return/firefox\//i.test(n)}function IF(n=$s()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DF(n=$s()){return/crios\//i.test(n)}function RF(n=$s()){return/iemobile/i.test(n)}function LF(n=$s()){return/android/i.test(n)}function OF(n=$s()){return/blackberry/i.test(n)}function MF(n=$s()){return/webos/i.test(n)}function N_(n=$s()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rre(n=$s()){var e;return N_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lre(){return OQ()&&document.documentMode===10}function FF(n=$s()){return N_(n)||LF(n)||MF(n)||OF(n)||/windows phone/i.test(n)||RF(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jF(n,e=[]){let t;switch(n){case"Browser":t=SP($s());break;case"Worker":t=`${SP($s())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${I0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mre(n,e={}){return Cf(n,"GET","/v2/passwordPolicy",$h(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre=6;class jre{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Fre,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new Ore(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_u(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Xp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vx(this,{idToken:e}),r=await Dl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $x(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tl(this.app))return Promise.reject(Zd(this));const t=e?zs(e):null;return t&&Wt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Wt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tl(this.app)?Promise.reject(Zd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tl(this.app)?Promise.reject(Zd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_u(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mre(this),t=new jre(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i1("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_u(e)||this._popupRedirectResolver;Wt(t,this,"argument-error"),this.redirectPersistenceManager=await Xp.create(this,[_u(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pre(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function F0(n){return zs(n)}class EP{constructor(e){this.auth=e,this.observer=null,this.addObserver=UQ(t=>this.observer=t)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vre(n){X2=n}function BF(n){return X2.loadJS(n)}function $re(){return X2.recaptchaEnterpriseScript}function zre(){return X2.gapiScript}function Ure(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qre{constructor(){this.enterprise=new Hre}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hre{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Wre="recaptcha-enterprise",VF="NO_RECAPTCHA";class Gre{constructor(e){this.type=Wre,this.auth=F0(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Cre(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ere(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vP(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(VF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qre().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&vP(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=$re();l.length!==0&&(l+=a),BF(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function CP(n,e,t,r=!1,i=!1){const s=new Gre(n);let o;if(i)o=VF;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function AP(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await CP(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await CP(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kre(n,e){const t=VA(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Ch(s,e??{}))return i;Ml(i,"already-initialized")}return t.initialize({options:e})}function Yre(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(_u);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Xre(n,e,t){const r=F0(n);Wt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$F(e),{host:o,port:a}=Jre(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Wt(Ch(c,r.config.emulator)&&Ch(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Qre()}function $F(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Jre(n){const e=$F(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_P(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_P(o)}}}function _P(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qre(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Au("not implemented")}_getIdTokenResponse(e){return Au("not implemented")}_linkToIdToken(e,t){return Au("not implemented")}_getReauthenticationResolver(e){return Au("not implemented")}}async function Zre(n,e){return Cf(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eie(n,e){return Y2(n,"POST","/v1/accounts:signInWithPassword",$h(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tie(n,e){return Y2(n,"POST","/v1/accounts:signInWithEmailLink",$h(n,e))}async function nie(n,e){return Y2(n,"POST","/v1/accounts:signInWithEmailLink",$h(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends P_{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Ig(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ig(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AP(e,t,"signInWithPassword",eie);case"emailLink":return tie(e,{email:this._email,oobCode:this._password});default:Ml(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return AP(e,r,"signUpPassword",Zre);case"emailLink":return nie(e,{idToken:t,email:this._email,oobCode:this._password});default:Ml(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(n,e){return Y2(n,"POST","/v1/accounts:signInWithIdp",$h(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rie="http://localhost";class kh extends P_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ml("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=A_(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new kh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Jp(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jp(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jp(e,t)}buildRequest(){const e={requestUri:rie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=s1(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iie(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sie(n){const e=_m(Tm(n)).link,t=e?_m(Tm(e)).deep_link_id:null,r=_m(Tm(n)).deep_link_id;return(r?_m(Tm(r)).link:null)||r||t||e||n}class I_{constructor(e){var t,r,i,s,o,a;const l=_m(Tm(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,f=iie((i=l.mode)!==null&&i!==void 0?i:null);Wt(c&&u&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=sie(e);try{return new I_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.providerId=j0.PROVIDER_ID}static credential(e,t){return Ig._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=I_.parseLink(t);return Wt(r,"argument-error"),Ig._fromEmailAndCode(e,r.code,r.tenantId)}}j0.PROVIDER_ID="password";j0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";j0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1 extends zF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends p1{constructor(){super("facebook.com")}static credential(e){return kh._fromParams({providerId:Od.PROVIDER_ID,signInMethod:Od.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Od.credentialFromTaggedObject(e)}static credentialFromError(e){return Od.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Od.credential(e.oauthAccessToken)}catch{return null}}}Od.FACEBOOK_SIGN_IN_METHOD="facebook.com";Od.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends p1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kh._fromParams({providerId:Md.PROVIDER_ID,signInMethod:Md.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Md.credentialFromTaggedObject(e)}static credentialFromError(e){return Md.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Md.credential(t,r)}catch{return null}}}Md.GOOGLE_SIGN_IN_METHOD="google.com";Md.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends p1{constructor(){super("github.com")}static credential(e){return kh._fromParams({providerId:Fd.PROVIDER_ID,signInMethod:Fd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fd.credentialFromTaggedObject(e)}static credentialFromError(e){return Fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fd.credential(e.oauthAccessToken)}catch{return null}}}Fd.GITHUB_SIGN_IN_METHOD="github.com";Fd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends p1{constructor(){super("twitter.com")}static credential(e,t){return kh._fromParams({providerId:jd.PROVIDER_ID,signInMethod:jd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jd.credentialFromTaggedObject(e)}static credentialFromError(e){return jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return jd.credential(t,r)}catch{return null}}}jd.TWITTER_SIGN_IN_METHOD="twitter.com";jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Dl._fromIdTokenResponse(e,r,i),o=TP(r);return new y0({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=TP(r);return new y0({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function TP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends $u{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zx.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new zx(e,t,r,i)}}function UF(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zx._fromErrorAndOperation(n,s,e,r):s})}async function oie(n,e,t=!1){const r=await Pg(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return y0._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aie(n,e,t=!1){const{auth:r}=n;if(Tl(r.app))return Promise.reject(Zd(r));const i="reauthenticate";try{const s=await Pg(n,UF(r,i,e,n),t);Wt(s.idToken,r,"internal-error");const o=k_(s.idToken);Wt(o,r,"internal-error");const{sub:a}=o;return Wt(n.uid===a,r,"user-mismatch"),y0._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ml(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(n,e,t=!1){if(Tl(n.app))return Promise.reject(Zd(n));const r="signIn",i=await UF(n,r,e),s=await y0._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function lie(n,e){return qF(F0(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cie(n){const e=F0(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uie(n,e,t){return Tl(n.app)?Promise.reject(Zd(n)):lie(zs(n),j0.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cie(n),r})}function die(n,e,t,r){return zs(n).onIdTokenChanged(e,t,r)}function fie(n,e,t){return zs(n).beforeAuthStateChanged(e,t)}const Ux="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ux,"1"),this.storage.removeItem(Ux),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie=1e3,pie=10;class WF extends HF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Lre()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pie):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WF.type="LOCAL";const mie=WF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF extends HF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GF.type="SESSION";const KF=GF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gie(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new J2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(t.origin,s)),l=await gie(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=D_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(){return window}function vie(n){Dc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return typeof Dc().WorkerGlobalScope<"u"&&typeof Dc().importScripts=="function"}async function xie(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bie(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function wie(){return YF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF="firebaseLocalStorageDb",Sie=1,qx="firebaseLocalStorage",JF="fbase_key";class m1{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Q2(n,e){return n.transaction([qx],e?"readwrite":"readonly").objectStore(qx)}function Eie(){const n=indexedDB.deleteDatabase(XF);return new m1(n).toPromise()}function BE(){const n=indexedDB.open(XF,Sie);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qx,{keyPath:JF})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qx)?e(r):(r.close(),await Eie(),e(await BE()))})})}async function kP(n,e,t){const r=Q2(n,!0).put({[JF]:e,value:t});return new m1(r).toPromise()}async function Cie(n,e){const t=Q2(n,!1).get(e),r=await new m1(t).toPromise();return r===void 0?null:r.value}function NP(n,e){const t=Q2(n,!0).delete(e);return new m1(t).toPromise()}const Aie=800,_ie=3;class QF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_ie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J2._getInstance(wie()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await xie(),!this.activeServiceWorker)return;this.sender=new yie(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BE();return await kP(e,Ux,"1"),await NP(e,Ux),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>kP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Cie(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Q2(i,!1).getAll();return new m1(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QF.type="LOCAL";const Tie=QF;new h1(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(n,e){return e?_u(e):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends P_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Nie(n){return qF(n.auth,new R_(n),n.bypassAuthState)}function Pie(n){const{auth:e,user:t}=n;return Wt(t,e,"internal-error"),aie(t,new R_(n),n.bypassAuthState)}async function Iie(n){const{auth:e,user:t}=n;return Wt(t,e,"internal-error"),oie(t,new R_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nie;case"linkViaPopup":case"linkViaRedirect":return Iie;case"reauthViaPopup":case"reauthViaRedirect":return Pie;default:Ml(this.auth,"internal-error")}}resolve(e){Bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Die=new h1(2e3,1e4);class Bp extends ZF{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Bp.currentPopupAction&&Bp.currentPopupAction.cancel(),Bp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Wt(e,this.auth,"internal-error"),e}async onExecution(){Bu(this.filter.length===1,"Popup operations only handle one event");const e=D_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ic(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ic(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ic(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Die.get())};e()}}Bp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rie="pendingRedirect",dv=new Map;class Lie extends ZF{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=dv.get(this.auth._key());if(!e){try{const r=await Oie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}dv.set(this.auth._key(),e)}return this.bypassAuthState||dv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Oie(n,e){const t=jie(e),r=Fie(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function Mie(n,e){dv.set(n._key(),e)}function Fie(n){return _u(n._redirectPersistence)}function jie(n){return uv(Rie,n.config.apiKey,n.name)}async function Bie(n,e,t=!1){if(Tl(n.app))return Promise.reject(Zd(n));const r=F0(n),i=kie(r,e),o=await new Lie(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie=10*60*1e3;class $ie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zie(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!e7(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ic(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vie&&this.cachedEventUids.clear(),this.cachedEventUids.has(PP(e))}saveEventToCache(e){this.cachedEventUids.add(PP(e)),this.lastProcessedEventTime=Date.now()}}function PP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e7({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zie(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e7(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uie(n,e={}){return Cf(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hie=/^https?/;async function Wie(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Uie(n);for(const t of e)try{if(Gie(t))return}catch{}Ml(n,"unauthorized-domain")}function Gie(n){const e=FE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Hie.test(t))return!1;if(qie.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=new h1(3e4,6e4);function IP(){const n=Dc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Yie(n){return new Promise((e,t)=>{var r,i,s;function o(){IP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IP(),t(Ic(n,"network-request-failed"))},timeout:Kie.get()})}if(!((i=(r=Dc().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Dc().gapi)===null||s===void 0)&&s.load)o();else{const a=Ure("iframefcb");return Dc()[a]=()=>{gapi.load?o():t(Ic(n,"network-request-failed"))},BF(`${zre()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw fv=null,e})}let fv=null;function Xie(n){return fv=fv||Yie(n),fv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie=new h1(5e3,15e3),Qie="__/auth/iframe",Zie="emulator/auth/iframe",ese={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nse(n){const e=n.config;Wt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?T_(e,Zie):`https://${n.config.authDomain}/${Qie}`,r={apiKey:e.apiKey,appName:n.name,v:I0},i=tse.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${s1(r).slice(1)}`}async function rse(n){const e=await Xie(n),t=Dc().gapi;return Wt(t,n,"internal-error"),e.open({where:document.body,url:nse(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ese,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ic(n,"network-request-failed"),a=Dc().setTimeout(()=>{s(o)},Jie.get());function l(){Dc().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ise={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sse=500,ose=600,ase="_blank",lse="http://localhost";class DP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cse(n,e,t,r=sse,i=ose){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ise),{width:r.toString(),height:i.toString(),top:s,left:o}),c=$s().toLowerCase();t&&(a=DF(c)?ase:t),PF(c)&&(e=e||lse,l.scrollbars="yes");const u=Object.entries(l).reduce((m,[p,g])=>`${m}${p}=${g},`,"");if(Rre(c)&&a!=="_self")return use(e||"",a),new DP(null);const f=window.open(e||"",a,u);Wt(f,n,"popup-blocked");try{f.focus()}catch{}return new DP(f)}function use(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse="__/auth/handler",fse="emulator/auth/handler",hse=encodeURIComponent("fac");async function RP(n,e,t,r,i,s){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:I0,eventId:i};if(e instanceof zF){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",zQ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries({}))o[u]=f}if(e instanceof p1){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${hse}=${encodeURIComponent(l)}`:"";return`${pse(n)}?${s1(a).slice(1)}${c}`}function pse({config:n}){return n.emulator?T_(n,fse):`https://${n.authDomain}/${dse}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="webStorageSupport";class mse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KF,this._completeRedirectFn=Bie,this._overrideRedirectResult=Mie}async _openPopup(e,t,r,i){var s;Bu((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await RP(e,t,r,FE(),i);return cse(e,o,D_())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await RP(e,t,r,FE(),i);return vie(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Bu(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rse(e),r=new $ie(e);return t.register("authEvent",i=>(Wt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(d5,{type:d5},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[d5];o!==void 0&&t(!!o),Ml(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Wie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return FF()||IF()||N_()}}const gse=mse;var LP="@firebase/auth",OP="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vse(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xse(n){c0(new Ah("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Wt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jF(n)},c=new Bre(r,i,s,l);return Yre(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),c0(new Ah("auth-internal",e=>{const t=F0(e.getProvider("auth").getImmediate());return(r=>new yse(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xd(LP,OP,vse(n)),Xd(LP,OP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse=5*60,wse=RO("authIdTokenMaxAge")||bse;let MP=null;const Sse=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wse)return;const i=t==null?void 0:t.token;MP!==i&&(MP=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t7(n=MO()){const e=VA(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kre(n,{popupRedirectResolver:gse,persistence:[Tie,mie,KF]}),r=RO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Sse(s.toString());fie(t,o,()=>o(t.currentUser)),die(t,a=>o(a))}}const i=IO("auth");return i&&Xre(t,`http://${i}`),t}function Ese(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Vre({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ic("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Ese().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xse("Browser");const Cse={apiKey:"AIzaSyAH24DEyVBICPK6DcIUpQtj9pkejg54ip8",authDomain:"looma-store.firebaseapp.com",projectId:"looma-store",storageBucket:"looma-store.firebasestorage.app",messagingSenderId:"76702168220",appId:"1:76702168220:web:6c226b493c3ddc5f44a959"},n7=$A(Cse),vr=cF(n7);t7(n7);const Ase=vr;async function _se(n){try{const e=fo(vr,"products",n),t=await bF(e);if(!t.exists())return null;const r=t.data();return kse(t.id,r)}catch(e){return console.error("Error fetching product by ID:",e),null}}async function Tse(){const n=da(vr,"categories");return(await pf(n)).docs.map(t=>{var r;return{id:t.id,name:((r=t.data().name)==null?void 0:r.es)||""}})}async function Ud(){const n=da(vr,"products"),t=(await pf(n)).docs.map(r=>{const i=r.data(),s=i.title,o={es:typeof s=="object"&&typeof(s==null?void 0:s.es)=="string"?s.es:typeof s=="string"?s:typeof i.titleEs=="string"?i.titleEs:"Producto",en:typeof s=="object"&&typeof(s==null?void 0:s.en)=="string"?s.en:typeof i.titleEn=="string"?i.titleEn:""};return{id:r.id,slug:i.slug||`${r.id}-${o.es.toLowerCase().replace(/\s+/g,"-")}`,name:o.es||i.name||"Producto sin nombre",title:o,images:i.images||[],priceUSD:i.priceUSD||0,league:i.league||"Ftbol",category:i.category||{id:"",name:""},subcategory:i.subCategory||{id:"",name:""},team:i.team||{id:"",name:""},subtitle:i.subtitle||"",description:i.description||"",defaultDescriptionType:i.defaultDescriptionType||"none",extraDescriptionTop:i.extraDescriptionTop||"",extraDescriptionBottom:i.extraDescriptionBottom||"",descriptionPosition:i.descriptionPosition||"bottom",active:i.active??!0,stock:i.stock||{S:0,M:0,L:0,XL:0},sizes:i.sizes||["S","M","L","XL"],customName:i.customName||"",customNumber:i.customNumber||"",allowCustomization:i.allowCustomization??!1,stockTotal:i.stockTotal??0,variants:Array.isArray(i.variants)?i.variants:[]}});return console.log(" DEBUG desde firebaseUtils  productos cargados:",t),t}function kse(n,e){var t,r,i,s;return{id:n,slug:e.slug||`${n}-${(typeof e.title=="string"?e.title:((t=e.title)==null?void 0:t.es)||"producto").toLowerCase().replace(/\s+/g,"-")}`,name:e.name||(typeof e.title=="string"?e.title:(r=e.title)==null?void 0:r.es)||"Producto sin nombre",title:{es:typeof e.title=="object"&&typeof((i=e.title)==null?void 0:i.es)=="string"?e.title.es:typeof e.title=="string"?e.title:typeof e.titleEs=="string"?e.titleEs:"Producto",en:typeof e.title=="object"&&typeof((s=e.title)==null?void 0:s.en)=="string"?e.title.en:typeof e.titleEn=="string"?e.titleEn:""},images:e.images||[],priceUSD:e.priceUSD||0,league:e.league||"Ftbol",category:e.category||{id:"",name:""},subcategory:e.subCategory||{id:"",name:""},team:e.team||{id:"",name:""},subtitle:e.subtitle||"",description:e.description||"",defaultDescriptionType:e.defaultDescriptionType||"none",extraDescriptionTop:e.extraDescriptionTop||"",extraDescriptionBottom:e.extraDescriptionBottom||"",descriptionPosition:e.descriptionPosition||"bottom",active:e.active??!0,stock:e.stock||{S:0,M:0,L:0,XL:0},sizes:e.sizes||["S","M","L","XL"],customName:e.customName||"",customNumber:e.customNumber||"",allowCustomization:e.allowCustomization??!1,stockTotal:e.stockTotal??0,variants:Array.isArray(e.variants)?e.variants:[]}}async function Nse(n){try{const e=da(vr,"products"),t=await C_(e,n);return console.log("Producto creado con ID:",t.id),t.id}catch(e){throw console.error("Error creando producto:",e),e}}async function VE(n,e){try{const t=fo(vr,"products",n);e.variants&&Array.isArray(e.variants)&&(e.variants=e.variants.map(r=>({...r,options:r.options.map(i=>({...i,priceUSD:parseFloat(String(i.priceUSD||0))}))}))),await E_(t,e),console.log("Producto actualizado:",n)}catch(t){throw console.error("Error actualizando producto:",t),t}}async function Pse(n){try{const e=fo(vr,"products",n);await f1(e),console.log("Producto eliminado:",n)}catch(e){throw console.error("Error eliminando producto:",e),e}}async function Ise(n){try{const e=da(vr,"categories");await C_(e,{name:n})}catch(e){throw console.error("Error creando categora:",e),e}}async function Dse(n){try{const e=fo(vr,"categories",n);await f1(e)}catch(e){throw console.error("Error eliminando categora:",e),e}}async function Rse(n,e){try{const t=da(vr,`categories/${n}/subcategories`);await C_(t,{name:e})}catch(t){throw console.error("Error creando subcategora:",t),t}}async function Lse(n,e){try{const t=fo(vr,`categories/${n}/subcategories/${e}`);await f1(t)}catch(t){throw console.error("Error eliminando subcategora:",t),t}}async function Ose(){const n=da(vr,"clients");return(await pf(n)).docs.map(t=>{const r=t.data();return{id:t.id,name:r.name||"",email:r.email||"",phone:r.phone||"",address:r.address||"",country:r.country||""}})}async function Mse(n){try{const e=fo(vr,"clients",n);await f1(e),console.log("Cliente eliminado:",n)}catch(e){throw console.error("Error eliminando cliente:",e),e}}async function Dg(n){const e=da(vr,`categories/${n}/subcategories`);return(await pf(e)).docs.map(r=>{const i=r.data().name,s=typeof i=="string"?i:typeof(i==null?void 0:i.es)=="string"?i.es:typeof(i==null?void 0:i.en)=="string"?i.en:"";return{id:r.id,name:s,categoryId:n}})}async function Z2(){const n=da(vr,"categories"),e=await pf(n);return await Promise.all(e.docs.map(async r=>{const i=r.data().name,s=typeof i=="string"?i:typeof(i==null?void 0:i.es)=="string"?i.es:typeof(i==null?void 0:i.en)=="string"?i.en:"",o=da(vr,`categories/${r.id}/subcategories`),l=(await pf(o)).docs.map(c=>{const u=c.data().name;return{id:c.id,name:u,categoryId:r.id}});return{id:r.id,name:s,categoryId:r.id,subcategories:l}}))}function Fse(n){return E2({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function jse(n){return E2({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}function Bse(n){return E2({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(n)}var _y={},FP;function Vse(){if(FP)return _y;FP=1,Object.defineProperty(_y,"__esModule",{value:!0});var n=Xg();function e(C){return Array.prototype.slice.call(C)}function t(C,I){var P=Math.floor(C);return P===I||P+1===I?C:I}function r(){return Date.now()}function i(C,I,P){if(I="data-keen-slider-"+I,P===null)return C.removeAttribute(I);C.setAttribute(I,P||"")}function s(C,I){return I=I||document,typeof C=="function"&&(C=C(I)),Array.isArray(C)?C:typeof C=="string"?e(I.querySelectorAll(C)):C instanceof HTMLElement?[C]:C instanceof NodeList?e(C):[]}function o(C){C.raw&&(C=C.raw),C.cancelable&&!C.defaultPrevented&&C.preventDefault()}function a(C){C.raw&&(C=C.raw),C.stopPropagation&&C.stopPropagation()}function l(){var C=[];return{add:function(I,P,N,D){I.addListener?I.addListener(N):I.addEventListener(P,N,D),C.push([I,P,N,D])},input:function(I,P,N,D){this.add(I,P,function(L){return function(W){W.nativeEvent&&(W=W.nativeEvent);var ie=W.changedTouches||[],oe=W.targetTouches||[],re=W.detail&&W.detail.x?W.detail:null;return L({id:re?re.identifier?re.identifier:"i":oe[0]?oe[0]?oe[0].identifier:"e":"d",idChanged:re?re.identifier?re.identifier:"i":ie[0]?ie[0]?ie[0].identifier:"e":"d",raw:W,x:re&&re.x?re.x:oe[0]?oe[0].screenX:re?re.x:W.pageX,y:re&&re.y?re.y:oe[0]?oe[0].screenY:re?re.y:W.pageY})}}(N),D)},purge:function(){C.forEach(function(I){I[0].removeListener?I[0].removeListener(I[2]):I[0].removeEventListener(I[1],I[2],I[3])}),C=[]}}}function c(C,I,P){return Math.min(Math.max(C,I),P)}function u(C){return(C>0?1:0)-(C<0?1:0)||+C}function f(C){var I=C.getBoundingClientRect();return{height:t(I.height,C.offsetHeight),width:t(I.width,C.offsetWidth)}}function m(C,I,P,N){var D=C&&C[I];return D==null?P:N&&typeof D=="function"?D():D}function p(C){return Math.round(1e6*C)/1e6}function g(C,I){if(C===I)return!0;var P=typeof C;if(P!==typeof I)return!1;if(P!=="object"||C===null||I===null)return P==="function"&&C.toString()===I.toString();if(C.length!==I.length||Object.getOwnPropertyNames(C).length!==Object.getOwnPropertyNames(I).length)return!1;for(var N in C)if(!g(C[N],I[N]))return!1;return!0}var v=function(){return v=Object.assign||function(C){for(var I,P=1,N=arguments.length;P<N;P++)for(var D in I=arguments[P])Object.prototype.hasOwnProperty.call(I,D)&&(C[D]=I[D]);return C},v.apply(this,arguments)};function b(C,I,P){for(var N,D=0,L=I.length;D<L;D++)!N&&D in I||(N||(N=Array.prototype.slice.call(I,0,D)),N[D]=I[D]);return C.concat(N||Array.prototype.slice.call(I))}function S(C){var I,P,N,D,L,W;function ie(ae){W||(W=ae),oe(!0);var Y=ae-W;Y>N&&(Y=N);var $=D[P];if($[3]<Y)return P++,ie(ae);var K=$[2],J=$[4],ee=$[0],ce=$[1]*(0,$[5])(J===0?1:(Y-K)/J);if(ce&&C.track.to(ee+ce),Y<N)return X();W=null,oe(!1),re(null),C.emit("animationEnded")}function oe(ae){I.active=ae}function re(ae){I.targetIdx=ae}function X(){var ae;ae=ie,L=window.requestAnimationFrame(ae)}function de(){var ae;ae=L,window.cancelAnimationFrame(ae),oe(!1),re(null),W&&C.emit("animationStopped"),W=null}return I={active:!1,start:function(ae){if(de(),C.track.details){var Y=0,$=C.track.details.position;P=0,N=0,D=ae.map(function(K){var J,ee=Number($),ce=(J=K.earlyExit)!==null&&J!==void 0?J:K.duration,ue=K.easing,ge=K.distance*ue(ce/K.duration)||0;$+=ge;var ye=N;return N+=ce,Y+=ge,[ee,K.distance,ye,N,K.duration,ue]}),re(C.track.distToIdx(Y)),X(),C.emit("animationStarted")}},stop:de,targetIdx:null}}function E(C){var I,P,N,D,L,W,ie,oe,re,X,de,ae,Y,$,K=1/0,J=[],ee=null,ce=0;function ue(Fe){pe(ce+Fe)}function ge(Fe){var Oe=ye(ce+Fe).abs;return je(Oe)?Oe:null}function ye(Fe){var Oe=Math.floor(Math.abs(p(Fe/P))),Ie=p((Fe%P+P)%P);Ie===P&&(Ie=0);var Ge=u(Fe),le=ie.indexOf(b([],ie).reduce(function(_e,Ke){return Math.abs(Ke-Ie)<Math.abs(_e-Ie)?Ke:_e})),be=le;return Ge<0&&Oe++,le===W&&(be=0,Oe+=Ge>0?1:-1),{abs:be+Oe*W*Ge,origin:le,rel:be}}function Se(Fe,Oe,Ie){var Ge;if(Oe||!st())return Ae(Fe,Ie);if(!je(Fe))return null;var le=ye(Ie??ce),be=le.abs,_e=Fe-le.rel,Ke=be+_e;Ge=Ae(Ke);var ze=Ae(Ke-W*u(_e));return(ze!==null&&Math.abs(ze)<Math.abs(Ge)||Ge===null)&&(Ge=ze),p(Ge)}function Ae(Fe,Oe){if(Oe==null&&(Oe=p(ce)),!je(Fe)||Fe===null)return null;Fe=Math.round(Fe);var Ie=ye(Oe),Ge=Ie.abs,le=Ie.rel,be=Ie.origin,_e=we(Fe),Ke=(Oe%P+P)%P,ze=ie[be],Ue=Math.floor((Fe-(Ge-le))/W)*P;return p(ze-Ke-ze+ie[_e]+Ue+(be===W?P:0))}function je(Fe){return $e(Fe)===Fe}function $e(Fe){return c(Fe,re,X)}function st(){return D.loop}function we(Fe){return(Fe%W+W)%W}function pe(Fe){var Oe;Oe=Fe-ce,J.push({distance:Oe,timestamp:r()}),J.length>6&&(J=J.slice(-6)),ce=p(Fe);var Ie=qe().abs;if(Ie!==ee){var Ge=ee!==null;ee=Ie,Ge&&C.emit("slideChanged")}}function qe(Fe){var Oe=Fe?null:function(){if(W){var Ie=st(),Ge=Ie?(ce%P+P)%P:ce,le=(Ie?ce%P:ce)-L[0][2],be=0-(le<0&&Ie?P-Math.abs(le):le),_e=0,Ke=ye(ce),ze=Ke.abs,Ue=Ke.rel,nt=L[Ue][2],ht=L.map(function(vt,it){var jt=be+_e;(jt<0-vt[0]||jt>1)&&(jt+=(Math.abs(jt)>P-1&&Ie?P:0)*u(-jt));var qt=it-Ue,Qn=u(qt),Kt=qt+ze;Ie&&(Qn===-1&&jt>nt&&(Kt+=W),Qn===1&&jt<nt&&(Kt-=W),de!==null&&Kt<de&&(jt+=P),ae!==null&&Kt>ae&&(jt-=P));var un=jt+vt[0]+vt[1],xr=Math.max(jt>=0&&un<=1?1:un<0||jt>1?0:jt<0?Math.min(1,(vt[0]+jt)/vt[0]):(1-jt)/vt[0],0);return _e+=vt[0]+vt[1],{abs:Kt,distance:D.rtl?-1*jt+1-vt[0]:jt,portion:xr,size:vt[0]}});return ze=$e(ze),Ue=we(ze),{abs:$e(ze),length:N,max:$,maxIdx:X,min:Y,minIdx:re,position:ce,progress:Ie?Ge/P:ce/N,rel:Ue,slides:ht,slidesLength:P}}}();return I.details=Oe,C.emit("detailsChanged"),Oe}return I={absToRel:we,add:ue,details:null,distToIdx:ge,idxToDist:Se,init:function(Fe){if(function(){if(D=C.options,L=(D.trackConfig||[]).map(function(le){return[m(le,"size",1),m(le,"spacing",0),m(le,"origin",0)]}),W=L.length){P=p(L.reduce(function(le,be){return le+be[0]+be[1]},0));var Ie,Ge=W-1;N=p(P+L[0][2]-L[Ge][0]-L[Ge][2]-L[Ge][1]),ie=L.reduce(function(le,be){if(!le)return[0];var _e=L[le.length-1],Ke=le[le.length-1]+(_e[0]+_e[2])+_e[1];return Ke-=be[2],le[le.length-1]>Ke&&(Ke=le[le.length-1]),Ke=p(Ke),le.push(Ke),(!Ie||Ie<Ke)&&(oe=le.length-1),Ie=Ke,le},null),N===0&&(oe=0),ie.push(p(P))}}(),!W)return qe(!0);var Oe;(function(){var Ie=C.options.range,Ge=C.options.loop;de=re=Ge?m(Ge,"min",-1/0):0,ae=X=Ge?m(Ge,"max",K):oe;var le=m(Ie,"min",null),be=m(Ie,"max",null);le!==null&&(re=le),be!==null&&(X=be),Y=re===-1/0?re:C.track.idxToDist(re||0,!0,0),$=X===K?X:Se(X,!0,0),be===null&&(ae=X),m(Ie,"align",!1)&&X!==K&&L[we(X)][2]===0&&($-=1-L[we(X)][0],X=ge($-ce)),Y=p(Y),$=p($)})(),Oe=Fe,Number(Oe)===Oe?ue(Ae($e(Fe))):qe()},to:pe,velocity:function(){var Fe=r(),Oe=J.reduce(function(Ie,Ge){var le=Ge.distance,be=Ge.timestamp;return Fe-be>200||(u(le)!==u(Ie.distance)&&Ie.distance&&(Ie={distance:0,lastTimestamp:0,time:0}),Ie.time&&(Ie.distance+=le),Ie.lastTimestamp&&(Ie.time+=be-Ie.lastTimestamp),Ie.lastTimestamp=be),Ie},{distance:0,lastTimestamp:0,time:0});return Oe.distance/Oe.time||0}}}function _(C){var I,P,N,D,L,W,ie,oe;function re(ee){return 2*ee}function X(ee){return c(ee,ie,oe)}function de(ee){return 1-Math.pow(1-ee,3)}function ae(){return N?C.track.velocity():0}function Y(){J();var ee=C.options.mode==="free-snap",ce=C.track,ue=ae();D=u(ue);var ge=C.track.details,ye=[];if(ue||!ee){var Se=$(ue),Ae=Se.dist,je=Se.dur;if(je=re(je),Ae*=D,ee){var $e=ce.idxToDist(ce.distToIdx(Ae),!0);$e&&(Ae=$e)}ye.push({distance:Ae,duration:je,easing:de});var st=ge.position,we=st+Ae;if(we<L||we>W){var pe=we<L?L-st:W-st,qe=0,Fe=ue;if(u(pe)===D){var Oe=Math.min(Math.abs(pe)/Math.abs(Ae),1),Ie=function(be){return 1-Math.pow(1-be,1/3)}(Oe)*je;ye[0].earlyExit=Ie,Fe=ue*(1-Oe)}else ye[0].earlyExit=0,qe+=pe;var Ge=$(Fe,100),le=Ge.dist*D;C.options.rubberband&&(ye.push({distance:le,duration:re(Ge.dur),easing:de}),ye.push({distance:-le+qe,duration:500,easing:de}))}C.animator.start(ye)}else C.moveToIdx(X(ge.abs),!0,{duration:500,easing:function(be){return 1+--be*be*be*be*be}})}function $(ee,ce){ce===void 0&&(ce=1e3);var ue=147e-9+(ee=Math.abs(ee))/ce;return{dist:Math.pow(ee,2)/ue,dur:ee/ue}}function K(){var ee=C.track.details;ee&&(L=ee.min,W=ee.max,ie=ee.minIdx,oe=ee.maxIdx)}function J(){C.animator.stop()}C.on("updated",K),C.on("optionsChanged",K),C.on("created",K),C.on("dragStarted",function(){N=!1,J(),I=P=C.track.details.abs}),C.on("dragChecked",function(){N=!0}),C.on("dragEnded",function(){var ee=C.options.mode;ee==="snap"&&function(){var ce=C.track,ue=C.track.details,ge=ue.position,ye=u(ae());(ge>W||ge<L)&&(ye=0);var Se=I+ye;ue.slides[ce.absToRel(Se)].portion===0&&(Se-=ye),I!==P&&(Se=P),u(ce.idxToDist(Se,!0))!==ye&&(Se+=ye),Se=X(Se);var Ae=ce.idxToDist(Se,!0);C.animator.start([{distance:Ae,duration:500,easing:function(je){return 1+--je*je*je*je*je}}])}(),ee!=="free"&&ee!=="free-snap"||Y()}),C.on("dragged",function(){P=C.track.details.abs})}function R(C){var I,P,N,D,L,W,ie,oe,re,X,de,ae,Y,$,K,J,ee,ce,ue=l();function ge(qe){if(W&&oe===qe.id){var Fe=je(qe);if(re){if(!Ae(qe))return Se(qe);X=Fe,re=!1,C.emit("dragChecked")}if(J)return X=Fe;o(qe);var Oe=function(Ge){if(ee===-1/0&&ce===1/0)return Ge;var le=C.track.details,be=le.length,_e=le.position,Ke=c(Ge,ee-_e,ce-_e);if(be===0)return 0;if(!C.options.rubberband)return Ke;if(_e<=ce&&_e>=ee||_e<ee&&P>0||_e>ce&&P<0)return Ge;var ze=(_e<ee?_e-ee:_e-ce)/be,Ue=D*be,nt=Math.abs(ze*Ue),ht=Math.max(0,1-nt/L*2);return ht*ht*Ge}(ie(X-Fe)/D*N);P=u(Oe);var Ie=C.track.details.position;(Ie>ee&&Ie<ce||Ie===ee&&P>0||Ie===ce&&P<0)&&a(qe),de+=Oe,!ae&&Math.abs(de*D)>5&&(ae=!0),C.track.add(Oe),X=Fe,C.emit("dragged")}}function ye(qe){!W&&C.track.details&&C.track.details.length&&(de=0,W=!0,ae=!1,re=!0,oe=qe.id,Ae(qe),X=je(qe),C.emit("dragStarted"))}function Se(qe){W&&oe===qe.idChanged&&(W=!1,C.emit("dragEnded"))}function Ae(qe){var Fe=$e(),Oe=Fe?qe.y:qe.x,Ie=Fe?qe.x:qe.y,Ge=Y!==void 0&&$!==void 0&&Math.abs($-Ie)<=Math.abs(Y-Oe);return Y=Oe,$=Ie,Ge}function je(qe){return $e()?qe.y:qe.x}function $e(){return C.options.vertical}function st(){D=C.size,L=$e()?window.innerHeight:window.innerWidth;var qe=C.track.details;qe&&(ee=qe.min,ce=qe.max)}function we(qe){ae&&(a(qe),o(qe))}function pe(){if(ue.purge(),C.options.drag&&!C.options.disabled){var qe;qe=C.options.dragSpeed||1,ie=typeof qe=="function"?qe:function(Oe){return Oe*qe},N=C.options.rtl?-1:1,st(),I=C.container,function(){var Oe="data-keen-slider-clickable";s("[".concat(Oe,"]:not([").concat(Oe,"=false])"),I).map(function(Ie){ue.add(Ie,"dragstart",a),ue.add(Ie,"mousedown",a),ue.add(Ie,"touchstart",a)})}(),ue.add(I,"dragstart",function(Oe){o(Oe)}),ue.add(I,"click",we,{capture:!0}),ue.input(I,"ksDragStart",ye),ue.input(I,"ksDrag",ge),ue.input(I,"ksDragEnd",Se),ue.input(I,"mousedown",ye),ue.input(I,"mousemove",ge),ue.input(I,"mouseleave",Se),ue.input(I,"mouseup",Se),ue.input(I,"touchstart",ye,{passive:!0}),ue.input(I,"touchmove",ge,{passive:!1}),ue.input(I,"touchend",Se),ue.input(I,"touchcancel",Se),ue.add(window,"wheel",function(Oe){W&&o(Oe)});var Fe="data-keen-slider-scrollable";s("[".concat(Fe,"]:not([").concat(Fe,"=false])"),C.container).map(function(Oe){return function(Ie){var Ge;ue.input(Ie,"touchstart",function(le){Ge=je(le),J=!0,K=!0},{passive:!0}),ue.input(Ie,"touchmove",function(le){var be=$e(),_e=be?Ie.scrollHeight-Ie.clientHeight:Ie.scrollWidth-Ie.clientWidth,Ke=Ge-je(le),ze=be?Ie.scrollTop:Ie.scrollLeft,Ue=be&&Ie.style.overflowY==="scroll"||!be&&Ie.style.overflowX==="scroll";if(Ge=je(le),(Ke<0&&ze>0||Ke>0&&ze<_e)&&K&&Ue)return J=!0;K=!1,o(le),J=!1}),ue.input(Ie,"touchend",function(){J=!1})}(Oe)})}}C.on("updated",st),C.on("optionsChanged",pe),C.on("created",pe),C.on("destroyed",ue.purge)}function B(C){var I,P,N=null;function D(Y,$,K){C.animator.active?W(Y,$,K):requestAnimationFrame(function(){return W(Y,$,K)})}function L(){D(!1,!1,P)}function W(Y,$,K){var J=0,ee=C.size,ce=C.track.details;if(ce&&I){var ue=ce.slides;I.forEach(function(ge,ye){if(Y)!N&&$&&oe(ge,null,K),re(ge,null,K);else{if(!ue[ye])return;var Se=ue[ye].size*ee;!N&&$&&oe(ge,Se,K),re(ge,ue[ye].distance*ee-J,K),J+=Se}})}}function ie(Y){return C.options.renderMode==="performance"?Math.round(Y):Y}function oe(Y,$,K){var J=K?"height":"width";$!==null&&($=ie($)+"px"),Y.style["min-"+J]=$,Y.style["max-"+J]=$}function re(Y,$,K){if($!==null){$=ie($);var J=K?$:0;$="translate3d(".concat(K?0:$,"px, ").concat(J,"px, 0)")}Y.style.transform=$,Y.style["-webkit-transform"]=$}function X(){I&&(W(!0,!0,P),I=null),C.on("detailsChanged",L,!0)}function de(){D(!1,!0,P)}function ae(){X(),P=C.options.vertical,C.options.disabled||C.options.renderMode==="custom"||(N=m(C.options.slides,"perView",null)==="auto",C.on("detailsChanged",L),(I=C.slides).length&&de())}C.on("created",ae),C.on("optionsChanged",ae),C.on("beforeOptionsChanged",function(){X()}),C.on("updated",de),C.on("destroyed",X)}function U(C,I){return function(P){var N,D,L,W,ie,oe=l();function re(Ae){var je;i(P.container,"reverse",(je=P.container,window.getComputedStyle(je,null).getPropertyValue("direction")!=="rtl"||Ae?null:"")),i(P.container,"v",P.options.vertical&&!Ae?"":null),i(P.container,"disabled",P.options.disabled&&!Ae?"":null)}function X(){de()&&J()}function de(){var Ae=null;if(W.forEach(function($e){$e.matches&&(Ae=$e.__media)}),Ae===N)return!1;N||P.emit("beforeOptionsChanged"),N=Ae;var je=Ae?L.breakpoints[Ae]:L;return P.options=v(v({},L),je),re(),ye(),Se(),ce(),!0}function ae(Ae){var je=f(Ae);return(P.options.vertical?je.height:je.width)/P.size||1}function Y(){return P.options.trackConfig.length}function $(Ae){for(var je in N=!1,L=v(v({},I),Ae),oe.purge(),D=P.size,W=[],L.breakpoints||[]){var $e=window.matchMedia(je);$e.__media=je,W.push($e),oe.add($e,"change",X)}oe.add(window,"orientationchange",ge),oe.add(window,"resize",ue),de()}function K(Ae){P.animator.stop();var je=P.track.details;P.track.init(Ae??(je?je.abs:0))}function J(Ae){K(Ae),P.emit("optionsChanged")}function ee(Ae,je){if(Ae)return $(Ae),void J(je);ye(),Se();var $e=Y();ce(),Y()!==$e?J(je):K(je),P.emit("updated")}function ce(){var Ae=P.options.slides;if(typeof Ae=="function")return P.options.trackConfig=Ae(P.size,P.slides);for(var je=P.slides,$e=je.length,st=typeof Ae=="number"?Ae:m(Ae,"number",$e,!0),we=[],pe=m(Ae,"perView",1,!0),qe=m(Ae,"spacing",0,!0)/P.size||0,Fe=pe==="auto"?qe:qe/pe,Oe=m(Ae,"origin","auto"),Ie=0,Ge=0;Ge<st;Ge++){var le=pe==="auto"?ae(je[Ge]):1/pe-qe+Fe,be=Oe==="center"?.5-le/2:Oe==="auto"?0:Oe;we.push({origin:be,size:le,spacing:qe}),Ie+=le}if(Ie+=qe*(st-1),Oe==="auto"&&!P.options.loop&&pe!==1){var _e=0;we.map(function(Ke){var ze=Ie-_e;return _e+=Ke.size+qe,ze>=1||(Ke.origin=1-ze-(Ie>1?0:1-Ie)),Ke})}P.options.trackConfig=we}function ue(){ye();var Ae=P.size;P.options.disabled||Ae===D||(D=Ae,ee())}function ge(){ue(),setTimeout(ue,500),setTimeout(ue,2e3)}function ye(){var Ae=f(P.container);P.size=(P.options.vertical?Ae.height:Ae.width)||1}function Se(){P.slides=s(P.options.selector,P.container)}P.container=(ie=s(C,document)).length?ie[0]:null,P.destroy=function(){oe.purge(),P.emit("destroyed"),re(!0)},P.prev=function(){P.moveToIdx(P.track.details.abs-1,!0)},P.next=function(){P.moveToIdx(P.track.details.abs+1,!0)},P.update=ee,$(P.options)}}var O=function(C,I,P){try{return function(N,D){var L,W={};return L={emit:function(ie){W[ie]&&W[ie].forEach(function(re){re(L)});var oe=L.options&&L.options[ie];oe&&oe(L)},moveToIdx:function(ie,oe,re){var X=L.track.idxToDist(ie,oe);if(X){var de=L.options.defaultAnimation;L.animator.start([{distance:X,duration:m(re||de,"duration",500),easing:m(re||de,"easing",function(ae){return 1+--ae*ae*ae*ae*ae})}])}},on:function(ie,oe,re){re===void 0&&(re=!1),W[ie]||(W[ie]=[]);var X=W[ie].indexOf(oe);X>-1?re&&delete W[ie][X]:re||W[ie].push(oe)},options:N},function(){if(L.track=E(L),L.animator=S(L),D)for(var ie=0,oe=D;ie<oe.length;ie++)(0,oe[ie])(L);L.track.init(L.options.initial||0),L.emit("created")}(),L}(I,b([U(C,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),B,R,_],P||[],!0))}catch(N){console.error(N)}};return _y.useKeenSlider=function(C,I){var P=n.useRef(null),N=n.useRef(!1),D=n.useRef(C),L=n.useCallback(function(W){W?(D.current=C,P.current=new O(W,C,I),N.current=!1):(P.current&&P.current.destroy&&P.current.destroy(),P.current=null)},[]);return n.useEffect(function(){g(D.current,C)||(D.current=C,P.current&&P.current.update(D.current))},[C]),[L,P]},_y}var $se=Vse();function r7({product:n}){var l,c;const e=n.slug?encodeURIComponent(n.slug):`product-${n.id}`,t=`/producto/${e}`,r=n.images&&n.images.length>0?n.images[0]:"",{i18n:i}=ho(),s=i.language,o=((l=n.title)==null?void 0:l[s])||"Sin ttulo",a=n.priceUSD||0;return console.log(" DEBUG CARD ",n.slug,n.title),A.jsx(ji.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-t-4 ${((c=n.category)==null?void 0:c.name)==="NBA"?"border-blue-600":"border-transparent"}`,children:A.jsxs(Vi,{to:t,className:"block group bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition relative",children:[A.jsx("div",{className:"aspect-square overflow-hidden",children:A.jsx("img",{src:r,alt:o,className:"w-full h-full object-cover transition-transform duration-300 ease-out group-hover:scale-105",loading:"lazy",onError:u=>{u.currentTarget.src="/images/placeholder.jpg"}})}),A.jsxs("div",{className:"p-4",children:[n.subtitle&&A.jsx("div",{className:"text-sm text-gray-600 mb-1",children:n.subtitle}),A.jsx("h3",{className:"text-lg font-bold text-black leading-tight line-clamp-2 group-hover:text-black/80 transition",children:o}),A.jsxs("div",{className:"mt-1.5 text-base font-semibold",children:["US$ ",a.toFixed(2)]})]})]})},`product-card-${n.id}-${e}`)}function i7({excludeSlugs:n=[],categoryName:e,title:t}){const r=F.useRef(null),{i18n:i}=ho(),s=i.language,[o,a]=F.useState([]);F.useEffect(()=>{Ud().then(a).catch(u=>console.error("Error loading products in RelatedProducts:",u))},[]),console.log(" RelatedProducts: slugs excluidos",n),console.log("[ RelatedProducts] Productos cargados:",o),console.log(" Slugs excluidos:",n),console.log(" Todos los productos disponibles:",o.map(u=>u.slug));const l=o;console.log(" Productos despus del filtro",l);const c=u=>{r.current&&r.current.scrollBy({left:u==="left"?-340:340,behavior:"smooth"})};return A.jsxs("div",{className:"relative",children:[t&&A.jsx("div",{className:"container px-4 mx-auto",children:A.jsx("h2",{className:"text-3xl font-extrabold tracking-wider uppercase leading-snug mb-6 text-left mt-16 border-t pt-10 text-black",children:t})}),A.jsxs("div",{className:"flex justify-end mb-4 gap-2",children:[A.jsx("button",{onClick:()=>c("left"),className:"p-3 bg-white rounded-full shadow-md hover:bg-black hover:text-white transition border border-gray-300","aria-label":"Anterior",children:A.jsx(oq,{className:"w-6 h-6"})}),A.jsx("button",{onClick:()=>c("right"),className:"p-3 bg-white rounded-full shadow-md hover:bg-black hover:text-white transition border border-gray-300","aria-label":"Siguiente",children:A.jsx(lq,{className:"w-6 h-6"})})]}),A.jsx("div",{ref:r,className:"flex gap-5 overflow-x-auto pb-2 scroll-smooth hide-scrollbar snap-x snap-mandatory",children:l.map(u=>{var p,g;typeof u.title=="object"&&u.title!==null?u.title[s]||u.title.en:typeof u.title=="string"&&u.title;const f=u.priceUSD||0,m=u.slug;return A.jsx("div",{className:"flex-shrink-0 snap-start scroll-ml-4 w-[270px]",children:A.jsx(r7,{product:{...u,title:{en:((p=u.title)==null?void 0:p.en)||"",es:((g=u.title)==null?void 0:g.es)||""},priceUSD:f,slug:m}})},u.id)})})]})}function zse(){var N,D,L,W,ie,oe;const{slug:n}=qC(),e=decodeURIComponent(n||"").toLowerCase();console.log(" DEBUG PARAMS  slug:",n);const[t,r]=F.useState(null),[i,s]=F.useState(!0),[o,a]=F.useState(null),[l,c]=F.useState(0),[u,f]=F.useState(1),[m,p]=F.useState(!1),[g,v]=F.useState([]),{addToCart:b,items:S}=S2(),[E,_]=$se.useKeenSlider({initial:0,slideChanged(re){c(re.track.details.rel)}}),{i18n:R,t:B}=ho(),U=R.language.startsWith("en")?"en":"es";F.useEffect(()=>{async function re(){if(!n){r(null),s(!1);return}try{const X=await Ud();console.log(" DEBUG PAGE  productos recibidos:",X,"slug:",n);const de=e;console.log(" DEBUG MATCHING  slug:",n,"decodedSlug:",de,"slugs disponibles:",X.map(Y=>Y.slug)),console.log(" DEBUG SLUG CHECK ",{slug:n,decodedSlug:de,allSlugs:X.map(Y=>{var $;return($=Y.slug)==null?void 0:$.toLowerCase()})});const ae=X.find(Y=>{const $=decodeURIComponent(Y.slug||"").trim().toLowerCase(),K=decodeURIComponent(n||"").trim().toLowerCase();return $===K});if(!ae){console.warn(" No se encontr el producto con slug:",de),r(null),s(!1);return}console.log(" Producto encontrado:",ae),r({...ae,title:ae.title||"",description:ae.description||""})}catch(X){console.error("[ProductPage] Error cargando producto:",X),r(null)}finally{s(!1)}}re()},[n]),F.useEffect(()=>{async function re(){var X;if(!(!t||!((X=t.category)!=null&&X.name)))try{const ae=(await Ud()).filter(Y=>{var $;return(($=Y.category)==null?void 0:$.name)===t.category.name&&Y.slug!==t.slug}).slice(0,4);v(ae)}catch(de){console.error("Error cargando relacionados",de)}}re()},[t]),F.useEffect(()=>{const re=()=>p(window.scrollY>500);return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[]);const O=()=>window.scrollTo({top:0,behavior:"smooth"});if(i)return A.jsx("div",{className:"p-10",children:"Cargando producto..."});if(!t)return A.jsxs("div",{className:"p-10 text-center",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Producto no encontrado"}),A.jsx(Vi,{to:"/futbol",className:"text-blue-500 underline",children:"Volver a la tienda"})]});S.reduce((re,X)=>re+X.quantity,0);let C=typeof t.description=="object"?((N=t.description)==null?void 0:N[U])||"":t.description||"";const P=(typeof t.stockTotal=="number"?t.stockTotal:0)<=0;return A.jsxs("div",{className:"bg-[#f7f7f7] min-h-[100dvh] flex flex-col",children:[A.jsxs("div",{className:"w-full overflow-x-hidden text-black relative z-10 flex-grow",children:[A.jsx(XC,{children:A.jsx("title",{children:`${((D=t.title)==null?void 0:D[U])||t.title} | Looma`})}),A.jsxs("div",{className:"w-full flex justify-between items-center px-4 pt-4 z-50 relative",children:[A.jsxs(Vi,{to:"/futbol",className:"inline-flex items-center gap-2 text-sm font-medium text-gray-800 bg-white border border-gray-300 rounded-full px-4 py-2 hover:bg-black hover:text-white transition-shadow shadow-sm hover:shadow-md w-fit",children:[A.jsx(Xy,{size:16})," ",B("productPage.backToCatalog")]}),A.jsx(Vi,{to:"/carrito",className:"bg-black text-white p-2.5 rounded-full shadow-lg hover:bg-black/80 transition",children:A.jsx(TO,{variant:"hero"})})]}),A.jsxs("div",{className:"container mx-auto p-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-start",children:[A.jsx("div",{className:"flex flex-col gap-4",children:(L=t.images)!=null&&L.length?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"relative",children:[((W=t.images)==null?void 0:W.length)>1&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>{var re;return(re=_.current)==null?void 0:re.prev()},className:"absolute top-1/2 left-2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-md md:block hidden",children:A.jsx(Xy,{size:20})}),A.jsx("button",{onClick:()=>{var re;return(re=_.current)==null?void 0:re.next()},className:"absolute top-1/2 right-2 -translate-y-1/2 z-20 bg-white/80 hover:bg-white rounded-full p-2 shadow-md md:block hidden",children:A.jsx(Xy,{size:20,className:"rotate-180"})})]}),A.jsx("div",{ref:E,className:"keen-slider rounded-lg overflow-hidden",children:t.images.map((re,X)=>A.jsx("div",{className:"keen-slider__slide",children:A.jsx("img",{src:re,alt:`Imagen ${X}`,className:"object-contain max-h-[400px] w-full select-none",draggable:"false"})},X))})]}),t.images.length>1&&A.jsx("div",{className:"flex gap-2 overflow-x-auto pt-4",children:t.images.map((re,X)=>A.jsx("button",{onClick:()=>{var de;return(de=_.current)==null?void 0:de.moveToIdx(X)},className:`w-20 h-20 rounded-md border ${l===X?"border-black border-2":"border-gray-300"} hover:shadow-md`,children:A.jsx("img",{src:re,alt:`Miniatura ${X}`,className:"object-cover w-full h-full"})},X))})]}):A.jsxs("div",{className:"bg-gray-100 h-[450px] w-full rounded-lg flex flex-col items-center justify-center text-gray-400",children:[A.jsx("div",{className:"text-4xl",children:""}),A.jsx("p",{children:"No hay imagen"})]})}),A.jsxs("div",{className:"flex flex-col",children:[A.jsx("span",{className:"uppercase text-xs tracking-widest text-gray-500 mb-2",children:B("productPage.featuredProduct")}),A.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight leading-tight mb-6",children:(ie=t.title)==null?void 0:ie[U]}),t.subtitle&&A.jsx("p",{className:"text-gray-600 mb-4",children:t.subtitle}),A.jsx("div",{className:"mb-6",children:A.jsxs("div",{className:"text-4xl font-extrabold text-black",children:["US$ ",((o==null?void 0:o.priceUSD)??t.priceUSD).toFixed(2)]})}),Array.isArray(t.variants)&&t.variants.length>0&&A.jsx("div",{className:"mb-6",children:t.variants.map((re,X)=>{var de;return A.jsxs("div",{className:"mb-4",children:[A.jsx("h3",{className:"uppercase text-sm font-semibold text-gray-800 mb-2",children:((de=re.label)==null?void 0:de[U])||"Opcin"}),A.jsx("div",{className:"flex flex-wrap gap-2",children:re.options.map((ae,Y)=>A.jsx("button",{onClick:()=>{var $;a({...ae,variantLabel:(($=re.label)==null?void 0:$[U])||"Opcin"})},className:`px-4 py-2 rounded-md border ${(o==null?void 0:o.value)===ae.value?"bg-black text-white border-black":"bg-white text-black border-gray-300"} hover:shadow-md transition`,children:ae.value},Y))})]},X)})}),A.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[A.jsx("label",{className:"uppercase text-sm font-semibold text-gray-800 mb-2",children:B("productPage.quantity")}),A.jsxs("div",{className:"flex w-fit border rounded-md overflow-hidden",children:[A.jsx("button",{onClick:()=>u>1&&f(u-1),className:"px-3 bg-gray-100 hover:bg-gray-200",children:A.jsx(jse,{})}),A.jsx("div",{className:"px-4 py-2",children:u}),A.jsx("button",{onClick:()=>f(u+1),className:"px-3 bg-gray-100 hover:bg-gray-200",children:A.jsx(Bse,{})})]})]}),C&&A.jsx("div",{className:"prose prose-blue prose-lg max-w-none mb-8 text-gray-800 [&>p]:mb-4 [&>h2]:mt-8 [&>ul]:mb-4 [&>ul>li]:mb-2",dangerouslySetInnerHTML:{__html:C}}),A.jsx("div",{className:"grid md:grid-cols-2 gap-6 mt-6",children:A.jsx("button",{disabled:P,onClick:()=>{var de;if(P)return;const re=(o==null?void 0:o.priceUSD)??t.priceUSD;if(Array.isArray(t.variants)&&t.variants.length>0&&!o){alert(U==="en"?"Please select an option.":"Por favor selecciona una opcin.");return}const X=(o==null?void 0:o.variantLabel)||"Opcin";b({id:String(t.id),slug:t.slug,name:t.title,image:((de=t.images)==null?void 0:de[0])||t.image||"",priceUSD:re,quantity:u,size:(o==null?void 0:o.value)||"",options:o?`${X}: ${o.value}`:""}),O()},className:`py-3 rounded-xl shadow-md hover:shadow-lg transition flex items-center justify-center gap-2 border font-semibold ${P?"bg-gray-300 text-white cursor-not-allowed":"bg-black text-white border-black hover:bg-white hover:text-black"}`,children:P?U==="en"?"OUT OF STOCK":"SIN STOCK":A.jsxs(A.Fragment,{children:[A.jsx(hL,{size:18})," ",U==="en"?"Add to cart":"Agregar al carrito"]})})})]})]}),t&&A.jsx(i7,{excludeSlugs:[t.slug],categoryName:(oe=t.category)==null?void 0:oe.name,title:B("productPage.relatedProducts")}),m&&A.jsx("button",{onClick:O,className:"fixed bottom-20 right-6 p-3 bg-black text-white rounded-full shadow-lg z-50",children:A.jsx(fL,{size:24})})]})," "]}),A.jsx(JC,{})]})}function Use(){const{items:n,updateItem:e,clearCart:t}=S2(),[r,i]=F.useState(!1),[s,o]=F.useState(!1),[a,l]=F.useState(!1),c=zc(),[u,f]=F.useState(!1),[m,p]=F.useState(""),[g,v]=F.useState(""),[b,S]=F.useState(""),[E,_]=F.useState(""),[R,B]=F.useState({name:"",phone:"",address:"",city:"",department:"",postalCode:"",wantsToRegister:!1,email:"",password:"",confirmPassword:""}),U=()=>({id:Date.now()+Math.floor(Math.random()*1e4),cliente:{nombre:R.name,telefono:R.phone,direccion:R.address,ciudad:R.city,departamento:R.department,codigoPostal:R.postalCode,email:R.email},items:n.map(D=>({id:D.id,nombre:D.name,precio:D.priceUSD,cantidad:D.quantity,talle:D.size,customName:D.customName,customNumber:D.customNumber})),total:n.reduce((D,L)=>{const W=L.priceUSD;return D+W*L.quantity},0),moneda:"USD",fecha:new Date().toISOString()}),O=async()=>{if(!R.name||!R.phone||!R.address){alert("Por favor completa los campos obligatorios: nombre, telfono y direccin");return}if(R.wantsToRegister){if(!R.email||!R.password||!R.confirmPassword){alert("Para registrarte, debes completar email, contrasea y confirmar contrasea");return}if(R.password!==R.confirmPassword){alert("Las contraseas no coinciden");return}}const D=U();try{const L=fo(da(vr,"orders"));await lv(L,{...D,status:"En Proceso",createdAt:$r.now()});const W=fo(vr,"clients",R.email);await lv(W,{name:R.name,phone:R.phone,address:R.address,city:R.city,department:R.department,postalCode:R.postalCode,email:R.email,updatedAt:$r.now()},{merge:!0})}catch{alert("Error al guardar el pedido en Firestore");return}if(R.wantsToRegister){const L=JSON.parse(localStorage.getItem("usuarios")||"[]");if(L.some(oe=>oe.email===R.email)){alert("Este correo ya est registrado. Por favor inici sesin o us otro correo.");return}const ie={nombre:R.name,telefono:R.phone,direccion:R.address,ciudad:R.city,departamento:R.department,codigoPostal:R.postalCode,email:R.email,password:R.password};localStorage.setItem("usuarios",JSON.stringify([...L,ie]))}t(),c("/admin")},C=async()=>{if(!R.name||!R.phone||!R.address){alert("Por favor completa los campos obligatorios: nombre, telfono y direccin");return}if(R.wantsToRegister){if(!R.email||!R.password||!R.confirmPassword){alert("Para registrarte, debes completar email, contrasea y confirmar contrasea");return}if(R.password!==R.confirmPassword){alert("Las contraseas no coinciden");return}}const D=U();let L;try{L=fo(da(vr,"orders")),await lv(L,{...D,status:"Pendiente de pago",createdAt:$r.now(),mpCheckoutId:""})}catch{alert("Error al guardar el pedido en Firestore");return}try{i(!0);const ie=await(await fetch("https://61c3-2601-582-c302-8510-49fc-e263-4e02-1189.ngrok-free.app/api/create_preference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:n.map(oe=>({title:oe.name,quantity:oe.quantity,unit_price:oe.priceUSD,currency_id:"USD"})),payer:{name:R.name,phone:R.phone,address:R.address,email:R.wantsToRegister?R.email:void 0},metadata:{city:R.city,department:R.department,postalCode:R.postalCode,wantsToRegister:R.wantsToRegister,internalOrderId:L.id}})})).json();console.log(" MP Response:",ie),ie.init_point?window.location.href=ie.init_point:console.error(" No se recibi init_point")}catch(W){console.error(" Error en el checkout:",W)}finally{i(!1)}},I=n.reduce((D,L)=>{const W=L.priceUSD;return D+W*L.quantity},0),P=(D,L)=>{L>=1&&L<=99&&e(Number(D.id),D.size,{quantity:L})},N=D=>{e(Number(D.id),D.size,{quantity:0})};return A.jsxs("section",{className:"bg-white text-black min-h-screen flex flex-col",children:[A.jsx("main",{className:"flex-grow",children:A.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-10",children:[A.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Tu carrito"}),n.length===0&&A.jsxs("p",{className:"text-sm text-center text-gray-600 mb-8",children:["Ya tens cuenta?"," ",A.jsx("span",{onClick:()=>o(!0),className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:"Iniciar sesin"})," ","o"," ",A.jsx("span",{onClick:()=>l(!0),className:"text-blue-600 underline cursor-pointer hover:text-blue-800",children:"registrarte"})," ","para guardar tus datos y acceder a beneficios."]}),n.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[A.jsx("div",{className:"bg-white rounded-full shadow-md p-6 mb-6",children:A.jsx("img",{src:"/images/empty-cart-illustration.jpg",alt:"Carrito vaco",className:"w-24 h-24 object-contain opacity-80"})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tu carrito est vaco"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"Pero no te vayas con las manos vacas!"}),A.jsx(Vi,{to:"/",className:"inline-block px-6 py-3 bg-black text-white rounded-full font-semibold hover:scale-[1.03] hover:bg-gray-900 transition-all",children:"Ver catlogo"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"space-y-4 mb-10",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Nombre completo",value:R.name,onChange:D=>B({...R,name:D.target.value}),required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",placeholder:"Direccin de entrega (Ej: Mercedes 4094)",value:R.address,onChange:D=>B({...R,address:D.target.value}),required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"tel",placeholder:"Telfono",value:R.phone,onChange:D=>B({...R,phone:D.target.value}),required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",placeholder:"Ciudad",value:R.city,onChange:D=>B({...R,city:D.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsxs("select",{value:R.department,onChange:D=>B({...R,department:D.target.value}),required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md bg-white text-gray-700 appearance-none focus:outline-none focus:ring-2 focus:ring-black transition",children:[A.jsx("option",{value:"",children:"Departamento"}),A.jsx("option",{children:"Artigas"}),A.jsx("option",{children:"Canelones"}),A.jsx("option",{children:"Cerro Largo"}),A.jsx("option",{children:"Colonia"}),A.jsx("option",{children:"Durazno"}),A.jsx("option",{children:"Flores"}),A.jsx("option",{children:"Florida"}),A.jsx("option",{children:"Lavalleja"}),A.jsx("option",{children:"Maldonado"}),A.jsx("option",{children:"Montevideo"}),A.jsx("option",{children:"Paysand"}),A.jsx("option",{children:"Rivera"}),A.jsx("option",{children:"Rocha"}),A.jsx("option",{children:"Ro Negro"}),A.jsx("option",{children:"Salto"}),A.jsx("option",{children:"San Jos"}),A.jsx("option",{children:"Soriano"}),A.jsx("option",{children:"Tacuaremb"}),A.jsx("option",{children:"Treinta y Tres"})]}),A.jsx("input",{type:"text",placeholder:"Cdigo Postal (opcional)",value:R.postalCode,onChange:D=>B({...R,postalCode:D.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[A.jsx("input",{type:"checkbox",id:"wantsToRegister",checked:R.wantsToRegister,onChange:D=>B({...R,wantsToRegister:D.target.checked})}),A.jsx("label",{htmlFor:"wantsToRegister",className:"text-sm text-gray-700",children:"Registrarme"})]}),R.wantsToRegister&&A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"email",placeholder:"Correo electrnico",value:R.email,onChange:D=>B({...R,email:D.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md col-span-2",required:!0}),A.jsx("input",{type:"password",placeholder:"Contrasea",value:R.password,onChange:D=>B({...R,password:D.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md",required:!0}),A.jsx("input",{type:"password",placeholder:"Confirmar contrasea",value:R.confirmPassword,onChange:D=>B({...R,confirmPassword:D.target.value}),className:"w-full border border-gray-300 px-4 py-2 rounded-md",required:!0})]})]}),A.jsx("div",{className:"flex justify-between items-center mb-4",children:A.jsx("h2",{className:"text-xl font-semibold",children:"Resumen de tu compra"})}),A.jsx("ul",{className:"divide-y divide-gray-200 mb-6",children:n.map((D,L)=>{const ie=D.priceUSD*D.quantity;return A.jsxs("li",{className:"py-4 flex gap-4 items-center",children:[A.jsx(Vi,{to:`/producto/${D.slug}`,children:A.jsx("img",{src:D.image,alt:D.name,className:"w-20 h-20 object-cover rounded-md border"})}),A.jsxs("div",{className:"flex-1",children:[A.jsx(Vi,{to:`/producto/${D.slug}`,children:A.jsx("p",{className:"font-semibold text-sm mb-1 hover:underline",children:D.name})}),A.jsxs("div",{className:"text-sm text-gray-500 flex flex-wrap items-center gap-3",children:[A.jsxs("span",{children:["Talle: ",A.jsx("span",{className:"inline-block border border-gray-300 px-2 py-0.5 rounded-md bg-gray-50 text-gray-800",children:D.size})]}),A.jsxs("span",{className:"flex items-center gap-1",children:["Cantidad:",A.jsx("button",{onClick:()=>P(D,D.quantity-1),className:"w-6 h-6 flex items-center justify-center border rounded hover:bg-gray-100 disabled:opacity-50",disabled:D.quantity<=1,children:A.jsx(gq,{className:"w-3 h-3"})}),A.jsx("span",{className:"w-6 text-center",children:D.quantity}),A.jsx("button",{onClick:()=>P(D,D.quantity+1),className:"w-6 h-6 flex items-center justify-center border rounded hover:bg-gray-100",disabled:D.quantity>=99,children:A.jsx(vq,{className:"w-3 h-3"})})]}),A.jsx("button",{onClick:()=>N(D),className:"ml-2 text-red-500 hover:text-red-700 transition",title:"Eliminar",children:A.jsx(Eq,{className:"w-4 h-4"})})]}),D.customName&&D.customNumber&&A.jsxs("p",{className:"text-sm text-gray-500",children:["Personalizado: ",D.customName," #",D.customNumber]})]}),A.jsxs("div",{className:"text-right text-sm whitespace-nowrap font-semibold",children:["$",ie," USD"]})]},L)})}),A.jsxs("div",{className:"bg-gray-100 p-6 rounded-2xl shadow-inner mt-10",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("span",{className:"text-lg font-medium text-gray-700",children:"Total"}),A.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",I," USD"]})]}),A.jsx("button",{onClick:O,disabled:r||!R.name||!R.phone||!R.address,className:"w-full mb-3 bg-blue-600 text-white text-sm sm:text-base py-3 rounded-full font-semibold hover:bg-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-60",children:"Simular pedido"}),A.jsx("button",{onClick:C,disabled:r||!R.name||!R.phone||!R.address,className:"w-full bg-black text-white text-sm sm:text-base py-3 rounded-full font-semibold hover:bg-gray-900 transition-all shadow-md hover:shadow-lg disabled:opacity-60",children:r?"Cargando...":"Finalizar compra"})]}),n.length>0&&A.jsx("div",{className:"mt-10 bg-white",children:A.jsx("div",{className:"pb-20",children:A.jsx(i7,{title:"Tambin te podra gustar",excludeSlugs:n.map(D=>D.slug),categoryName:"Ftbol"})})})]}),s&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",children:[A.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 right-3 text-gray-400 hover:text-black text-xl",children:""}),A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Iniciar sesin"}),u?A.jsxs("form",{onSubmit:D=>{D.preventDefault();const L=JSON.parse(localStorage.getItem("usuarios")||"[]"),W=L.findIndex(ie=>ie.email===m);if(W===-1){alert("Correo no registrado ");return}if(b!==E){alert("Las contraseas no coinciden ");return}L[W].password=b,localStorage.setItem("usuarios",JSON.stringify(L)),alert("Contrasea actualizada "),f(!1),o(!1)},className:"space-y-4",children:[A.jsx("h3",{className:"font-semibold text-center",children:"Recuperar contrasea"}),A.jsx("input",{type:"email",placeholder:"Correo electrnico",required:!0,value:m,onChange:D=>p(D.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Nueva contrasea",required:!0,value:b,onChange:D=>S(D.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Confirmar nueva contrasea",required:!0,value:E,onChange:D=>_(D.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Actualizar contrasea"}),A.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-sm text-gray-500 hover:underline w-full text-center mt-2",children:"Cancelar"})]}):A.jsxs("form",{onSubmit:D=>{D.preventDefault(),JSON.parse(localStorage.getItem("usuarios")||"[]").find(ie=>ie.email===m&&ie.password===g)?(alert("Inicio de sesin exitoso "),o(!1)):alert("Correo o contrasea incorrectos ")},className:"space-y-4",children:[A.jsx("input",{type:"email",placeholder:"Correo electrnico",required:!0,value:m,onChange:D=>p(D.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Contrasea",required:!0,value:g,onChange:D=>v(D.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Iniciar sesin"}),A.jsx("p",{className:"text-sm text-center mt-2",children:A.jsx("button",{onClick:()=>{f(!0),p("")},className:"text-blue-600 hover:underline",type:"button",children:"Olvidaste tu contrasea?"})})]})]})}),a&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center px-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-3xl p-6 relative",children:[A.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-3 text-gray-400 hover:text-black text-xl",children:""}),A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Crear cuenta"}),A.jsxs("form",{onSubmit:D=>{D.preventDefault(),alert("Registro completo simulado "),l(!1)},className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",placeholder:"Nombre completo",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",placeholder:"Direccin de entrega",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[A.jsx("input",{type:"tel",placeholder:"Telfono",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"text",placeholder:"Ciudad",className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsxs("select",{required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md bg-white text-gray-700 col-span-1",children:[A.jsx("option",{value:"",children:"Departamento"}),A.jsx("option",{children:"Artigas"}),A.jsx("option",{children:"Canelones"}),A.jsx("option",{children:"Cerro Largo"}),A.jsx("option",{children:"Colonia"}),A.jsx("option",{children:"Durazno"}),A.jsx("option",{children:"Flores"}),A.jsx("option",{children:"Florida"}),A.jsx("option",{children:"Lavalleja"}),A.jsx("option",{children:"Maldonado"}),A.jsx("option",{children:"Montevideo"}),A.jsx("option",{children:"Paysand"}),A.jsx("option",{children:"Rivera"}),A.jsx("option",{children:"Rocha"}),A.jsx("option",{children:"Ro Negro"}),A.jsx("option",{children:"Salto"}),A.jsx("option",{children:"San Jos"}),A.jsx("option",{children:"Soriano"}),A.jsx("option",{children:"Tacuaremb"}),A.jsx("option",{children:"Treinta y Tres"})]}),A.jsx("input",{type:"text",placeholder:"Cdigo Postal",className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsx("input",{type:"email",placeholder:"Correo electrnico",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Contrasea",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"}),A.jsx("input",{type:"password",placeholder:"Confirmar contrasea",required:!0,className:"w-full border border-gray-300 px-4 py-2 rounded-md"})]}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 rounded-md font-semibold hover:bg-gray-900",children:"Registrarme"})]})]})})]})}),A.jsx(JC,{})]})}function qse({activeView:n,onChangeView:e}){const t=[{label:"Clientes",view:"clients"},{label:"Ver Publicaciones",view:"productList"},{label:"Crear Publicaciones",view:"productForm"},{label:"Historial de Pedidos",view:"orders"},{label:"Categoras",view:"categories"},{label:"Usuarios",view:"users"}];return A.jsxs("aside",{className:"w-64 bg-white shadow-lg border-r border-gray-200 h-screen px-4 py-6 flex flex-col items-center",children:[A.jsx("img",{src:"/logo1.png",alt:"Logo Looma",className:"h-20 w-auto mb-4"}),A.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Panel de Administracin"}),A.jsx("nav",{className:"space-y-2 w-full",children:t.map(r=>A.jsx("button",{onClick:()=>e(r.view),className:`w-full text-left px-4 py-2 rounded font-medium transition ${n===r.view?"bg-black text-white":"text-gray-700 hover:bg-gray-100"}`,children:r.label},r.view))})]})}function Hse({onSelectClient:n}){const[e,t]=F.useState(""),[r,i]=F.useState([]),[s,o]=F.useState(null),a=zc();F.useEffect(()=>{async function c(){try{const u=await Ose();i(u)}catch(u){console.error("Error fetching clients from Firebase:",u)}}c()},[]);const l=r.filter(c=>(c.name||"").toLowerCase().includes(e.toLowerCase()));return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Lista de Clientes"}),A.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:e,onChange:c=>t(c.target.value),className:"border px-3 py-1 rounded text-sm"})]}),A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2",children:"Nombre"}),A.jsx("th",{className:"py-2",children:"Email"}),A.jsx("th",{className:"py-2",children:"Telfono"}),A.jsx("th",{className:"py-2",children:"Direccin"}),A.jsx("th",{className:"py-2",children:"Pas"}),A.jsx("th",{className:"py-2",children:"Acciones"})]})}),A.jsx("tbody",{children:l.map(c=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:c.name}),A.jsx("td",{className:"py-2",children:c.email}),A.jsx("td",{className:"py-2",children:c.phone}),A.jsx("td",{className:"py-2",children:c.address}),A.jsx("td",{className:"py-2",children:c.country}),A.jsxs("td",{className:"py-2 flex gap-2",children:[A.jsx("button",{onClick:()=>n?n(c.id):a(`/admin/clientes/${c.id}`),className:"text-blue-600 hover:underline text-sm",children:"Ver perfil"}),A.jsx("button",{onClick:()=>o(c),className:"text-red-600 hover:text-red-800",title:"Eliminar cliente",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3m5 0H6"})})})]})]},c.id))})]}),s&&A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded shadow-md max-w-sm w-full text-center",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Eliminar cliente?"}),A.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Ests seguro de que deseas eliminar a ",A.jsx("span",{className:"font-bold",children:s.name}),"? Esta accin no se puede deshacer."]}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:async()=>{await Mse(s.id),i(c=>c.filter(u=>u.id!==s.id)),o(null)},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition",children:"S, eliminar"}),A.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 border rounded hover:bg-gray-100 transition",children:"Cancelar"})]})]})})]})}function ss(n){this.content=n}ss.prototype={constructor:ss,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new ss(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new ss(t)},addToStart:function(n,e){return new ss([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new ss(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new ss(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=ss.from(n),n.size?new ss(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ss.from(n),n.size?new ss(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=ss.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};ss.from=function(n){if(n instanceof ss)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new ss(e)};function s7(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)t++;return t}if(i.content.size||s.content.size){let o=s7(i.content,s.content,t+1);if(o!=null)return o}t+=i.nodeSize}}function o7(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let o=n.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:t,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,r--;return{a:t,b:r}}if(o.content.size||a.content.size){let c=o7(o.content,a.content,t-1,r-1);if(c)return c}t-=l,r-=l}}class pt{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new pt(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),r.push(a),i+=a.nodeSize),o=l}return new pt(r,i)}cutByIndex(e,t){return e==t?pt.empty:e==0&&t==this.content.length?this:new pt(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new pt(i,s)}addToStart(e){return new pt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new pt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return s7(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return o7(this,e,t,r)}findIndex(e,t=-1){if(e==0)return Ty(0,e);if(e==this.size)return Ty(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||t>0?Ty(r+1,o):Ty(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return pt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new pt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return pt.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new pt(t||e,r)}static from(e){if(!e)return pt.empty;if(e instanceof pt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new pt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}pt.empty=new pt([],0);const f5={index:0,offset:0};function Ty(n,e){return f5.index=n,f5.offset=e,f5}function Hx(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!Hx(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!Hx(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let or=class $E{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hx(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $E.none;if(e instanceof $E)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};or.none=[];class Wx extends Error{}class Ct{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=l7(this.content,e+this.openStart,t);return r&&new Ct(r,this.openStart,this.openEnd)}removeBetween(e,t){return new Ct(a7(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Ct.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ct(pt.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new Ct(e,r,i)}}Ct.empty=new Ct(pt.empty,0,0);function a7(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:o,offset:a}=n.findIndex(t);if(i==e||s.isText){if(a!=t&&!n.child(o).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=o)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(a7(s.content,e-i-1,t-i-1)))}function l7(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),o=n.maybeChild(i);if(s==e||o.isText)return n.cut(0,e).append(t).append(n.cut(e));let a=l7(o.content,e-s-1,t);return a&&n.replaceChild(i,o.copy(a))}function Wse(n,e,t){if(t.openStart>n.depth)throw new Wx("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new Wx("Inconsistent open depths");return c7(n,e,t,0)}function c7(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let o=c7(n,e,t,r+1);return s.copy(s.content.replaceChild(i,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let o=n.parent,a=o.content;return yh(o,a.cut(0,n.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=Gse(t,n);return yh(s,d7(n,o,a,e,r))}else return yh(s,Gx(n,e,r))}function u7(n,e){if(!e.type.compatibleContent(n.type))throw new Wx("Cannot join "+e.type.name+" onto "+n.type.name)}function zE(n,e,t){let r=n.node(t);return u7(r,e.node(t)),r}function gh(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Jm(n,e,t,r){let i=(e||n).node(t),s=0,o=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(gh(n.nodeAfter,r),s++));for(let a=s;a<o;a++)gh(i.child(a),r);e&&e.depth==t&&e.textOffset&&gh(e.nodeBefore,r)}function yh(n,e){return n.type.checkContent(e),n.copy(e)}function d7(n,e,t,r,i){let s=n.depth>i&&zE(n,e,i+1),o=r.depth>i&&zE(t,r,i+1),a=[];return Jm(null,n,i,a),s&&o&&e.index(i)==t.index(i)?(u7(s,o),gh(yh(s,d7(n,e,t,r,i+1)),a)):(s&&gh(yh(s,Gx(n,e,i+1)),a),Jm(e,t,i,a),o&&gh(yh(o,Gx(t,r,i+1)),a)),Jm(r,null,i,a),new pt(a)}function Gx(n,e,t){let r=[];if(Jm(null,n,t,r),n.depth>t){let i=zE(n,e,t+1);gh(yh(i,Gx(n,e,t+1)),r)}return Jm(e,null,t,r),new pt(r)}function Gse(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(pt.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class Rg{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return or.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new Kx(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Rg(t,r,s)}static resolveCached(e,t){let r=jP.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==t)return o}else jP.set(e,r=new Kse);let i=r.elts[r.i]=Rg.resolve(e,t);return r.i=(r.i+1)%Yse,i}}class Kse{constructor(){this.elts=[],this.i=0}}const Yse=12,jP=new WeakMap;class Kx{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Xse=Object.create(null);let ef=class UE{constructor(e,t,r,i=or.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||pt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&Hx(this.attrs,t||e.defaultAttrs||Xse)&&or.sameSet(this.marks,r||or.none)}copy(e=null){return e==this.content?this:new UE(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new UE(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return Ct.empty;let i=this.resolve(e),s=this.resolve(t),o=r?0:i.sharedDepth(t),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new Ct(c,i.depth-o,s.depth-o)}replace(e,t,r){return Wse(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return Rg.resolveCached(this,e)}resolveNoCache(e){return Rg.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),f7(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=pt.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=or.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!or.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=pt.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};ef.prototype.text=void 0;class Yx extends ef{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):f7(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Yx(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Yx(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function f7(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Nh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new Jse(e,t);if(r.next==null)return Nh.empty;let i=h7(r);r.next&&r.err("Unexpected trailing text");let s=ioe(roe(i));return soe(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!t||l.validEnd))return pt.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:f}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let m=s(f,a.concat(u));if(m)return m}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Nh.empty=new Nh(!0);class Jse{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function h7(n){let e=[];do e.push(Qse(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Qse(n){let e=[];do e.push(Zse(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Zse(n){let e=noe(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=eoe(n,e);else break;return e}function BP(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function eoe(n,e){let t=BP(n),r=t;return n.eat(",")&&(n.next!="}"?r=BP(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function toe(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let o=t[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function noe(n){if(n.eat("(")){let e=h7(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=toe(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function roe(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=t())}else if(o.type=="star"){let l=t();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=t();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function p7(n,e){return e-n}function VP(n,e){let t=[];return r(e),t.sort(p7);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&r(l)}}}function ioe(n){let e=Object.create(null);return t(VP(n,0));function t(r){let i=[];r.forEach(o=>{n[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);VP(n,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Nh(r.indexOf(n.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(p7);s.next.push({type:i[o][0],next:e[a.join(",")]||t(a)})}return s}}function soe(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function m7(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function g7(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function y7(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function v7(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new aoe(n,r,e[r]);return t}let $P=class x7{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=v7(e,r.attrs),this.defaultAttrs=m7(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Nh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:g7(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ef(this,this.computeAttrs(e),pt.from(t),or.setFrom(r))}createChecked(e=null,t,r){return t=pt.from(t),this.checkContent(t),new ef(this,this.computeAttrs(e),t,or.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=pt.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(pt.empty,!0);return s?new ef(this,e,t.append(s),or.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){y7(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:or.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,o)=>r[s]=new x7(s,t,o));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function ooe(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class aoe{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?ooe(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class eb{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=v7(e,i.attrs),this.excluded=null;let s=m7(this.attrs);this.instance=s?new or(this,s):null}create(e=null){return!e&&this.instance?this.instance:new or(this,g7(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new eb(s,i++,t,o)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){y7(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class b7{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=ss.from(e.nodes),t.marks=ss.from(e.marks||{}),this.nodes=$P.compile(this.spec.nodes,this),this.marks=eb.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Nh.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?zP(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:zP(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof $P){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new Yx(r,r.defaultAttrs,e,or.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return ef.fromJSON(this,e)}markFromJSON(e){return or.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function zP(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],o=s;if(s)t.push(s);else for(let a in n.marks){let l=n.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function loe(n){return n.tag!=null}function coe(n){return n.style!=null}class tf{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(loe(i))this.tags.push(i);else if(coe(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new qP(this,t,!1);return r.addAll(e,or.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new qP(this,t,!0);return r.addAll(e,or.none,t.from,t.to),Ct.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(foe(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=HP(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=HP(o)),o.node||o.ignore||o.mark||(o.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new tf(e,tf.schemaRules(e)))}}const w7={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},uoe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},S7={ol:!0,ul:!0},Lg=1,qE=2,hv=4;function UP(n,e,t){return e!=null?(e?Lg:0)|(e==="full"?qE:0):n&&n.whitespace=="pre"?Lg|qE:t&-5}class ky{constructor(e,t,r,i,s,o){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=or.none,this.match=s||(o&hv?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(pt.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Lg)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=pt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(pt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!w7.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class qP{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,o=UP(null,t.preserveWhitespace,0)|(r?hv:0);i?s=new ky(i.type,i.attrs,or.none,!0,t.topMatch||i.type.contentMatch,o):r?s=new ky(null,null,or.none,!0,null,o):s=new ky(e.schema.topNodeType,null,or.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&qE?"full":this.localPreserveWS||(i.options&Lg)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;S7.hasOwnProperty(o)&&this.parser.normalizeLists&&doe(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,r));e:if(l?l.ignore:uoe.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(w7.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let f=l&&l.skip?t:this.readStyles(e,t);f&&this.addAll(e,f),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,r,i){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let l=this.enter(o,t.attrs||null,r,t.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[t.mark];r=r.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let o=this.open,a=0;o>=0;o--){let l=this.nodes[o],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+a)&&(i=c,s=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(s);for(let o=0;o<i.length;o++)t=this.enterInner(i[o],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=or.none;for(let a of i.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):WP(a.type,e.type))&&(o=a.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=UP(e,s,o.options);o.options&hv&&o.content.length==0&&(a|=hv);let l=or.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):WP(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ky(e,t,l,i,null,a)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Lg)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function doe(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&S7.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function foe(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function HP(n){let e={};for(let t in n)e[t]=n[t];return e}function WP(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class zh{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=h5(t).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=pv(h5(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&pv(h5(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return pv(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new zh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=GP(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return GP(e.marks)}}function GP(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function h5(n){return n.document||window.document}const KP=new WeakMap;function hoe(n){let e=KP.get(n);return e===void 0&&KP.set(n,e=poe(n)),e}function poe(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function pv(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=hoe(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(t=i.slice(0,o),i=i.slice(o+1));let a,l=t?n.createElementNS(t,i):n.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let f in c)if(c[f]!=null){let m=f.indexOf(" ");m>0?l.setAttributeNS(f.slice(0,m),f.slice(m+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let m=e[f];if(m===0){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:g}=pv(n,m,t,r);if(l.appendChild(p),g){if(a)throw new RangeError("Multiple content holes");a=g}}}return{dom:l,contentDOM:a}}const E7=65535,C7=Math.pow(2,16);function moe(n,e){return n+e*C7}function YP(n){return n&E7}function goe(n){return(n-(n&E7))/C7}const A7=1,_7=2,mv=4,T7=8;class HE{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&T7)>0}get deletedBefore(){return(this.delInfo&(A7|mv))>0}get deletedAfter(){return(this.delInfo&(_7|mv))>0}get deletedAcross(){return(this.delInfo&mv)>0}}class oa{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&oa.empty)return oa.empty}recover(e){let t=0,r=YP(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+goe(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],f=l+c;if(e<=f){let m=c?e==l?-1:e==f?1:t:t,p=l+i+(m<0?0:u);if(r)return p;let g=e==(t<0?l:f)?null:moe(a/3,e-l),v=e==l?_7:e==f?A7:mv;return(t<0?e!=l:e!=f)&&(v|=T7),new HE(p,v,g)}i+=u-c}return r?e+i:new HE(e+i,0,null)}touches(e,t){let r=0,i=YP(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+t],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new oa(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?oa.empty:new oa(e<0?[0,-e,0]:[0,0,e])}}oa.empty=new oa([]);class Og{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Og(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new Og;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new HE(e,i,null)}}const p5=Object.create(null);class Hs{getMap(){return oa.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=p5[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in p5)throw new RangeError("Duplicate use of step JSON ID "+e);return p5[e]=t,t.prototype.jsonID=e,t}}class ri{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ri(e,null)}static fail(e){return new ri(null,e)}static fromReplace(e,t,r,i){try{return ri.ok(e.replace(t,r,i))}catch(s){if(s instanceof Wx)return ri.fail(s.message);throw s}}}function L_(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(L_(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return pt.fromArray(r)}class qd extends Hs{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Ct(L_(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),t.openStart,t.openEnd);return ri.fromReplace(e,this.from,this.to,s)}invert(){return new bc(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new qd(t.pos,r.pos,this.mark)}merge(e){return e instanceof qd&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qd(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qd(t.from,t.to,e.markFromJSON(t.mark))}}Hs.jsonID("addMark",qd);class bc extends Hs{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new Ct(L_(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return ri.fromReplace(e,this.from,this.to,r)}invert(){return new qd(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new bc(t.pos,r.pos,this.mark)}merge(e){return e instanceof bc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new bc(t.from,t.to,e.markFromJSON(t.mark))}}Hs.jsonID("removeMark",bc);class Hd extends Hs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ri.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ri.fromReplace(e,this.pos,this.pos+1,new Ct(pt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Hd(this.pos,t.marks[i]);return new Hd(this.pos,this.mark)}}return new Ph(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Hd(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hd(t.pos,e.markFromJSON(t.mark))}}Hs.jsonID("addNodeMark",Hd);class Ph extends Hs{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ri.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ri.fromReplace(e,this.pos,this.pos+1,new Ct(pt.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Hd(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ph(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ph(t.pos,e.markFromJSON(t.mark))}}Hs.jsonID("removeNodeMark",Ph);class Bi extends Hs{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&WE(e,this.from,this.to)?ri.fail("Structure replace would overwrite content"):ri.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new oa([this.from,this.to-this.from,this.slice.size])}invert(e){return new Bi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new Bi(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Bi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Ct.empty:new Ct(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Bi(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Ct.empty:new Ct(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Bi(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bi(t.from,t.to,Ct.fromJSON(e,t.slice),!!t.structure)}}Hs.jsonID("replace",Bi);class $i extends Hs{constructor(e,t,r,i,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(WE(e,this.from,this.gapFrom)||WE(e,this.gapTo,this.to)))return ri.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ri.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ri.fromReplace(e,this.from,this.to,r):ri.fail("Content does not fit in gap")}getMap(){return new oa([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new $i(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new $i(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new $i(t.from,t.to,t.gapFrom,t.gapTo,Ct.fromJSON(e,t.slice),t.insert,!!t.structure)}}Hs.jsonID("replaceAround",$i);function WE(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function yoe(n,e,t,r){let i=[],s=[],o,a;n.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&u.type.allowsMarkType(r.type)){let m=Math.max(c,e),p=Math.min(c+l.nodeSize,t),g=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(g)||(o&&o.to==m&&o.mark.eq(f[v])?o.to=p:i.push(o=new bc(m,p,f[v])));a&&a.to==m?a.to=p:s.push(a=new qd(m,p,r))}}),i.forEach(l=>n.step(l)),s.forEach(l=>n.step(l))}function voe(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof eb){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let f=l[u],m;for(let p=0;p<i.length;p++){let g=i[p];g.step==s-1&&f.eq(i[p].style)&&(m=g)}m?(m.to=c,m.step=s):i.push({style:f,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>n.step(new bc(o.from,o.to,o.style)))}function O_(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,f=r.matchType(c.type);if(!f)o.push(new Bi(a,u,Ct.empty));else{r=f;for(let m=0;m<c.marks.length;m++)t.allowsMarkType(c.marks[m].type)||n.step(new bc(a,u,c.marks[m]));if(i&&c.isText&&t.whitespace!="pre"){let m,p=/\r?\n|\r/g,g;for(;m=p.exec(c.text);)g||(g=new Ct(pt.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new Bi(a+m.index,a+m.index+m[0].length,g))}}a=u}if(!r.validEnd){let l=r.fillBefore(pt.empty,!0);n.replace(a,a,new Ct(l,0,0))}for(let l=o.length-1;l>=0;l--)n.step(o[l])}function xoe(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function B0(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),s=n.$from.index(r),o=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(s,o,t))return r;if(r==0||i.type.spec.isolating||!xoe(i,s,o))break}return null}function boe(n,e,t){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=pt.empty,f=0;for(let g=s,v=!1;g>t;g--)v||r.index(g)>0?(v=!0,u=pt.from(r.node(g).copy(u)),f++):l--;let m=pt.empty,p=0;for(let g=s,v=!1;g>t;g--)v||i.after(g+1)<i.end(g)?(v=!0,m=pt.from(i.node(g).copy(m)),p++):c++;n.step(new $i(l,c,o,a,new Ct(u.append(m),f,p),u.size-f,!0))}function M_(n,e,t=null,r=n){let i=woe(n,e),s=i&&Soe(r,e);return s?i.map(XP).concat({type:e,attrs:t}).concat(s.map(XP)):null}function XP(n){return{type:n,attrs:null}}function woe(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(r,i,o)?s:null}function Soe(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function Eoe(n,e,t){let r=pt.empty;for(let o=t.length-1;o>=0;o--){if(r.size){let a=t[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=pt.from(t[o].type.create(t[o].attrs,r))}let i=e.start,s=e.end;n.step(new $i(i,s,i,s,new Ct(r,0,0),t.length,!0))}function Coe(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&Aoe(n.doc,n.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!g?c=!1:!p&&g&&(c=!0)}c===!1&&N7(n,o,a,s),O_(n,n.mapping.slice(s).map(a,1),r,void 0,c===null);let u=n.mapping.slice(s),f=u.map(a,1),m=u.map(a+o.nodeSize,1);return n.step(new $i(f,m,f+1,m-1,new Ct(pt.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&k7(n,o,a,s),!1}})}function k7(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=n.mapping.slice(r).map(t+1+s+o.index);n.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function N7(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=n.mapping.slice(r).map(t+1+s);n.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function Aoe(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function _oe(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new $i(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Ct(pt.from(o),0,0),1,!0))}function Iu(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=t-2;c>s;c--,u--){let f=i.node(c),m=i.index(c);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(m,f.childCount),g=r&&r[u+1];g&&(p=p.replaceChild(0,g.type.create(g.attrs)));let v=r&&r[u]||f;if(!f.canReplace(m+1,f.childCount)||!v.type.validContent(p))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function Toe(n,e,t=1,r){let i=n.doc.resolve(e),s=pt.empty,o=pt.empty;for(let a=i.depth,l=i.depth-t,c=t-1;a>l;a--,c--){s=pt.from(i.node(a).copy(s));let u=r&&r[c];o=pt.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}n.step(new Bi(e,e,new Ct(s.append(o),t,t),!0))}function Af(n,e){let t=n.resolve(e),r=t.index();return P7(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function koe(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function P7(n,e){return!!(n&&e&&!n.isLeaf&&koe(n,e))}function tb(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):t>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&P7(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function Noe(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",f=!!o.contentMatch.matchType(i);u&&!f?r=!1:!u&&f&&(r=!0)}let a=n.steps.length;if(r===!1){let u=n.doc.resolve(e+t);N7(n,u.node(),u.before(),a)}o.inlineContent&&O_(n,e+t-1,o,s.node().contentMatchAt(s.index()),r==null);let l=n.mapping.slice(a),c=l.map(e-t);if(n.step(new Bi(c,l.map(e+t,-1),Ct.empty,!0)),r===!0){let u=n.doc.resolve(c);k7(n,u.node(),u.before(),n.steps.length)}return n}function Poe(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function I7(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let f=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=f&&c.canReplaceWith(l,l,f[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function nb(n,e,t=e,r=Ct.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return D7(i,s,r)?new Bi(e,t,r):new Ioe(i,s,r).fit()}function D7(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class Ioe{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=pt.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=pt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Ct(s,o,a);return e>-1?new $i(r.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||r.pos!=this.$to.pos?new Bi(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=m5(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,f=null;if(t==1&&(o?c.matchType(o.type)||(f=c.fillBefore(pt.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:f};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=m5(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Ct(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=m5(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new Ct(Dm(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new Ct(Dm(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let v=0;v<s.length;v++)this.openFrontierNode(s[v]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:f,type:m}=this.frontier[t];if(i){for(let v=0;v<i.childCount;v++)u.push(i.child(v));f=f.matchFragment(i)}let p=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let v=a.child(c),b=f.matchType(v.type);if(!b)break;c++,(c>1||l==0||v.content.size)&&(f=b,u.push(R7(v.mark(m.allowedMarks(v.marks)),c==1?l:0,c==a.childCount?p:-1)))}let g=c==a.childCount;g||(p=-1),this.placed=Rm(this.placed,t,pt.from(u)),this.frontier[t].match=f,g&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,b=a;v<p;v++){let S=b.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),b=S.content}this.unplaced=g?e==0?Ct.empty:new Ct(Dm(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new Ct(Dm(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!g5(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=g5(e,t,i,r,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=g5(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Rm(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Rm(this.placed,this.depth,pt.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(pt.empty,!0);t.childCount&&(this.placed=Rm(this.placed,this.frontier.length,t))}}function Dm(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(Dm(n.firstChild.content,e-1,t)))}function Rm(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Rm(n.lastChild.content,e-1,t)))}function m5(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function R7(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,R7(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(pt.empty,!0)))),n.copy(r)}function g5(n,e,t,r,i){let s=n.node(e),o=i?n.indexAfter(e):n.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!Doe(t,s.content,o)?a:null}function Doe(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function Roe(n){return n.spec.defining||n.spec.definingForContent}function Loe(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(D7(i,s,r))return n.step(new Bi(e,t,r));let o=O7(i,n.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let m=i.depth,p=i.pos-1;m>0;m--,p--){let g=i.node(m).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(m)>-1?a=m:i.before(m)==p&&o.splice(1,0,-m)}let l=o.indexOf(a),c=[],u=r.openStart;for(let m=r.content,p=0;;p++){let g=m.firstChild;if(c.push(g),p==r.openStart)break;m=g.content}for(let m=u-1;m>=0;m--){let p=c[m],g=Roe(p.type);if(g&&!p.sameMarkup(i.node(Math.abs(a)-1)))u=m;else if(g||!p.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let p=(m+u+1)%(r.openStart+1),g=c[p];if(g)for(let v=0;v<o.length;v++){let b=o[(v+l)%o.length],S=!0;b<0&&(S=!1,b=-b);let E=i.node(b-1),_=i.index(b-1);if(E.canReplaceWith(_,_,g.type,g.marks))return n.replace(i.before(b),S?s.after(b):t,new Ct(L7(r.content,0,r.openStart,p),p,r.openEnd))}}let f=n.steps.length;for(let m=o.length-1;m>=0&&(n.replace(e,t,r),!(n.steps.length>f));m--){let p=o[m];p<0||(e=i.before(p),t=s.after(p))}}function L7(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(L7(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(n).append(n);n=o.append(s.matchFragment(o).fillBefore(pt.empty,!0))}return n}function Ooe(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=Poe(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new Ct(pt.from(r),0,0))}function Moe(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=O7(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&t>r.end(o)&&i.end(o)-t!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return n.delete(r.before(o),t);n.delete(e,t)}function O7(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class Qp extends Hs{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ri.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return ri.fromReplace(e,this.pos,this.pos+1,new Ct(pt.from(i),0,t.isLeaf?0:1))}getMap(){return oa.empty}invert(e){return new Qp(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Qp(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qp(t.pos,t.attr,t.value)}}Hs.jsonID("attr",Qp);class Mg extends Hs{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ri.ok(r)}getMap(){return oa.empty}invert(e){return new Mg(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mg(t.attr,t.value)}}Hs.jsonID("docAttr",Mg);let v0=class extends Error{};v0=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};v0.prototype=Object.create(Error.prototype);v0.prototype.constructor=v0;v0.prototype.name="TransformError";class Foe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Og}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new v0(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=Ct.empty){let i=nb(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new Ct(pt.from(r),0,0))}delete(e,t){return this.replace(e,t,Ct.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return Loe(this,e,t,r),this}replaceRangeWith(e,t,r){return Ooe(this,e,t,r),this}deleteRange(e,t){return Moe(this,e,t),this}lift(e,t){return boe(this,e,t),this}join(e,t=1){return Noe(this,e,t),this}wrap(e,t){return Eoe(this,e,t),this}setBlockType(e,t=e,r,i=null){return Coe(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return _oe(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new Qp(e,t,r)),this}setDocAttribute(e,t){return this.step(new Mg(e,t)),this}addNodeMark(e,t){return this.step(new Hd(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof or)t.isInSet(r.marks)&&this.step(new Ph(e,t));else{let i=r.marks,s,o=[];for(;s=t.isInSet(i);)o.push(new Ph(e,s)),i=s.removeFromSet(i);for(let a=o.length-1;a>=0;a--)this.step(o[a])}return this}split(e,t=1,r){return Toe(this,e,t,r),this}addMark(e,t,r){return yoe(this,e,t,r),this}removeMark(e,t,r){return voe(this,e,t,r),this}clearIncompatible(e,t,r){return O_(this,e,t,r),this}}const y5=Object.create(null);class fn{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new joe(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Ct.empty){let r=t.content.lastChild,i=null;for(let a=0;a<t.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?Ct.empty:t),a==0&&ZP(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),ZP(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new on(e):Np(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=t<0?Np(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Np(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ca(e.node(0))}static atStart(e){return Np(e,e,0,0,1)||new ca(e)}static atEnd(e){return Np(e,e,e.content.size,e.childCount,-1)||new ca(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=y5[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in y5)throw new RangeError("Duplicate use of selection JSON ID "+e);return y5[e]=t,t.prototype.jsonID=e,t}getBookmark(){return on.between(this.$anchor,this.$head).getBookmark()}}fn.prototype.visible=!0;class joe{constructor(e,t){this.$from=e,this.$to=t}}let JP=!1;function QP(n){!JP&&!n.parent.inlineContent&&(JP=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class on extends fn{constructor(e,t=e){QP(e),QP(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return fn.near(r);let i=e.resolve(t.map(this.anchor));return new on(i.parent.inlineContent?i:r,r)}replace(e,t=Ct.empty){if(super.replace(e,t),t==Ct.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof on&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new rb(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new on(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=fn.findFrom(t,r,!0)||fn.findFrom(t,-r,!0);if(s)t=s.$head;else return fn.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(fn.findFrom(e,-r,!0)||fn.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new on(e,t)}}fn.jsonID("text",on);class rb{constructor(e,t){this.anchor=e,this.head=t}map(e){return new rb(e.map(this.anchor),e.map(this.head))}resolve(e){return on.between(e.resolve(this.anchor),e.resolve(this.head))}}class Bt extends fn{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?fn.near(s):new Bt(s)}content(){return new Ct(pt.from(this.node),0,0)}eq(e){return e instanceof Bt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new F_(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Bt(e.resolve(t.anchor))}static create(e,t){return new Bt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Bt.prototype.visible=!1;fn.jsonID("node",Bt);class F_{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new rb(r,r):new F_(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Bt.isSelectable(r)?new Bt(t):fn.near(t)}}class ca extends fn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Ct.empty){if(t==Ct.empty){e.delete(0,e.doc.content.size);let r=fn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ca(e)}map(e){return new ca(e)}eq(e){return e instanceof ca}getBookmark(){return Boe}}fn.jsonID("all",ca);const Boe={map(){return this},resolve(n){return new ca(n)}};function Np(n,e,t,r,i,s=!1){if(e.inlineContent)return on.create(n,t);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&Bt.isSelectable(a))return Bt.create(n,t-(i<0?a.nodeSize:0))}else{let l=Np(n,a,t+i,i<0?a.childCount:0,i,s);if(l)return l}t+=a.nodeSize*i}return null}function ZP(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof Bi||i instanceof $i))return;let s=n.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),n.setSelection(fn.near(n.doc.resolve(o),t))}const eI=1,tI=2,nI=4;class Voe extends Foe{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|eI)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&eI)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=tI,this}ensureMarks(e){return or.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&tI)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||or.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=r==t?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),this.selection.empty||this.setSelection(fn.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=nI,this}get scrolledIntoView(){return(this.updated&nI)>0}}function rI(n,e){return!e||!n?n:n.bind(e)}class Lm{constructor(e,t,r){this.name=e,this.init=rI(t.init,r),this.apply=rI(t.apply,r)}}const $oe=[new Lm("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Lm("selection",{init(n,e){return n.selection||fn.atStart(e.doc)},apply(n){return n.selection}}),new Lm("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Lm("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class v5{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=$oe.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Lm(r.key,r.spec.state,r))})}}class Vp{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<o?{state:r,n:t.length}:{state:this,n:0})}t.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Vp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Voe(this)}static create(e){let t=new v5(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Vp(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new v5(this.schema,e.plugins),r=t.fields,i=new Vp(t);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new v5(e.schema,e.plugins),s=new Vp(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=ef.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=fn.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function M7(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=M7(i,e,{})),t[r]=i}return t}class Bo{constructor(e){this.spec=e,this.props={},e.props&&M7(e.props,this,this.props),this.key=e.key?e.key.key:F7("plugin")}getState(e){return e[this.key]}}const x5=Object.create(null);function F7(n){return n in x5?n+"$"+ ++x5[n]:(x5[n]=0,n+"$")}class Uc{constructor(e="key"){this.key=F7(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const cs=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},x0=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let GE=null;const Eu=function(n,e,t){let r=GE||(GE=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},zoe=function(){GE=null},Ih=function(n,e,t,r){return t&&(iI(n,e,t,r,-1)||iI(n,e,t,r,1))},Uoe=/^(img|br|input|textarea|hr)$/i;function iI(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:$a(n))){let o=n.parentNode;if(!o||o.nodeType!=1||g1(n)||Uoe.test(n.nodeName)||n.contentEditable=="false")return!1;e=cs(n)+(i<0?0:1),n=o}else if(n.nodeType==1){let o=n.childNodes[e+(i<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=o,e=i<0?$a(n):0}else return!1}}function $a(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function qoe(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=$a(n)}else if(n.parentNode&&!g1(n))e=cs(n),n=n.parentNode;else return null}}function Hoe(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!g1(n))e=cs(n)+1,n=n.parentNode;else return null}}function Woe(n,e,t){for(let r=e==0,i=e==$a(n);r||i;){if(n==t)return!0;let s=cs(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==$a(n)}}function g1(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const ib=function(n){return n.focusNode&&Ih(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function eh(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function Goe(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Koe(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min($a(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min($a(r.startContainer),r.startOffset)}}}const Mc=typeof navigator<"u"?navigator:null,sI=typeof document<"u"?document:null,_f=Mc&&Mc.userAgent||"",KE=/Edge\/(\d+)/.exec(_f),j7=/MSIE \d/.exec(_f),YE=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_f),jo=!!(j7||YE||KE),nf=j7?document.documentMode:YE?+YE[1]:KE?+KE[1]:0,Fl=!jo&&/gecko\/(\d+)/i.test(_f);Fl&&+(/Firefox\/(\d+)/.exec(_f)||[0,0])[1];const XE=!jo&&/Chrome\/(\d+)/.exec(_f),Vs=!!XE,B7=XE?+XE[1]:0,po=!jo&&!!Mc&&/Apple Computer/.test(Mc.vendor),b0=po&&(/Mobile\/\w+/.test(_f)||!!Mc&&Mc.maxTouchPoints>2),Ba=b0||(Mc?/Mac/.test(Mc.platform):!1),Yoe=Mc?/Win/.test(Mc.platform):!1,Tu=/Android \d/.test(_f),y1=!!sI&&"webkitFontSmoothing"in sI.documentElement.style,Xoe=y1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Joe(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function xu(n,e){return typeof n=="number"?n:n[e]}function Qoe(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function oI(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let o=t||n.dom;o;){if(o.nodeType!=1){o=x0(o);continue}let a=o,l=a==s.body,c=l?Joe(s):Qoe(a),u=0,f=0;if(e.top<c.top+xu(r,"top")?f=-(c.top-e.top+xu(i,"top")):e.bottom>c.bottom-xu(r,"bottom")&&(f=e.bottom-e.top>c.bottom-c.top?e.top+xu(i,"top")-c.top:e.bottom-c.bottom+xu(i,"bottom")),e.left<c.left+xu(r,"left")?u=-(c.left-e.left+xu(i,"left")):e.right>c.right-xu(r,"right")&&(u=e.right-c.right+xu(i,"right")),u||f)if(l)s.defaultView.scrollBy(u,f);else{let p=a.scrollLeft,g=a.scrollTop;f&&(a.scrollTop+=f),u&&(a.scrollLeft+=u);let v=a.scrollLeft-p,b=a.scrollTop-g;e={left:e.left-v,top:e.top-b,right:e.right-v,bottom:e.bottom-b}}let m=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(m))break;o=m=="absolute"?o.offsetParent:x0(o)}}function Zoe(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=n.root.elementFromPoint(s,o);if(!a||a==n.dom||!n.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:V7(n.dom)}}function V7(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=x0(r));return e}function eae({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;$7(t,r==0?0:r-e)}function $7(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let xp=null;function tae(n){if(n.setActive)return n.setActive();if(xp)return n.focus(xp);let e=V7(n);n.focus(xp==null?{get preventScroll(){return xp={preventScroll:!0},!0}}:void 0),xp||(xp=!1,$7(e,0))}function z7(n,e){let t,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=n.firstChild,f=0;u;u=u.nextSibling,f++){let m;if(u.nodeType==1)m=u.getClientRects();else if(u.nodeType==3)m=Eu(u).getClientRects();else continue;for(let p=0;p<m.length;p++){let g=m[p];if(g.top<=o&&g.bottom>=a){o=Math.max(g.bottom,o),a=Math.min(g.top,a);let v=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(v<r){t=u,r=v,i=v&&t.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,u.nodeType==1&&v&&(s=f+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=u,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!t&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=f+1)}}return!t&&l&&(t=l,i=c,r=0),t&&t.nodeType==3?nae(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:z7(t,i)}function nae(n,e){let t=n.nodeValue.length,r=document.createRange();for(let i=0;i<t;i++){r.setEnd(n,i+1),r.setStart(n,i);let s=Pd(r,1);if(s.top!=s.bottom&&j_(e,s))return{node:n,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function j_(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function rae(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function iae(n,e,t){let{node:r,offset:i}=z7(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function sae(n,e,t,r){let i=-1;for(let s=e,o=!1;s!=n.dom;){let a=n.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function U7(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let o=n.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(j_(e,c))return U7(o,e,c)}}if((s=(s+1)%r)==i)break}return n}function oae(n,e){let t=n.dom.ownerDocument,r,i=0,s=Koe(t,e.left,e.top);s&&({node:r,offset:i}=s);let o=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),a;if(!o||!n.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=n.dom.getBoundingClientRect();if(!j_(e,c)||(o=U7(n.dom,e,c),!o))return null}if(po)for(let c=o;r&&c;c=x0(c))c.draggable&&(r=void 0);if(o=rae(o,e),r){if(Fl&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],f;u.nodeName=="IMG"&&(f=u.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let c;y1&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=sae(n,r,i,e))}a==null&&(a=iae(n,o,e));let l=n.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function aI(n){return n.top<n.bottom||n.left<n.right}function Pd(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(aI(r))return r}return Array.prototype.find.call(t,aI)||n.getBoundingClientRect()}const aae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function q7(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),o=y1||Fl;if(r.nodeType==3)if(o&&(aae.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let l=Pd(Eu(r,i,i),t);if(Fl&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Pd(Eu(r,i-1,i-1),-1);if(c.top==l.top){let u=Pd(Eu(r,i,i+1),-1);if(u.top!=l.top)return vm(u,u.left<c.left)}}return l}else{let l=i,c=i,u=t<0?1:-1;return t<0&&!i?(c++,u=-1):t>=0&&i==r.nodeValue.length?(l--,u=1):t<0?l--:c++,vm(Pd(Eu(r,l,c),u),u<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==$a(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return b5(l.getBoundingClientRect(),!1)}if(s==null&&i<$a(r)){let l=r.childNodes[i];if(l.nodeType==1)return b5(l.getBoundingClientRect(),!0)}return b5(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==$a(r))){let l=r.childNodes[i-1],c=l.nodeType==3?Eu(l,$a(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return vm(Pd(c,1),!1)}if(s==null&&i<$a(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Eu(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return vm(Pd(c,-1),!0)}return vm(Pd(r.nodeType==3?Eu(r):r,-t),t>=0)}function vm(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function b5(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function H7(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function lae(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return H7(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=q7(n,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Eu(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const cae=/[\u0590-\u08ac]/;function uae(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=n.domSelection();return a?!cae.test(r.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:H7(n,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:f}=n.domSelectionRange(),m=a.caretBidiLevel;a.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:g,focusOffset:v}=n.domSelectionRange(),b=g&&!p.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==v;try{a.collapse(u,f),l&&(l!=u||c!=f)&&a.extend&&a.extend(l,c)}catch{}return m!=null&&(a.caretBidiLevel=m),b}):r.pos==r.start()||r.pos==r.end()}let lI=null,cI=null,uI=!1;function dae(n,e,t){return lI==e&&cI==t?uI:(lI=e,cI=t,uI=t=="up"||t=="down"?lae(n,e,t):uae(n,e,t))}const Ga=0,dI=1,lh=2,Fc=3;class v1{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Ga,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>cs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!t||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let o=0;o<i.children.length;o++){let a=i.children[o];if(a.size){i=a;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof G7){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof W7&&s.side>=0;r--);if(t<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?cs(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?cs(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let f=a;f>0;f--){let m=this.children[f-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){i=cs(m.dom)+1;break}e-=m.size}i==-1&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let f=this.children[u];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){s=cs(f.dom);break}t+=f.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let p=0,g=0;p<this.children.length;p++){let v=this.children[p],b=g+v.size;if(s>g&&o<b)return v.setSelection(e-g-v.border,t-g-v.border,r,i);g=b}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),f=!1;if((Fl||po)&&e==t){let{node:p,offset:g}=a;if(p.nodeType==3){if(f=!!(g&&p.nodeValue[g-1]==`
`),f&&g==p.nodeValue.length)for(let v=p,b;v;v=v.parentNode){if(b=v.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:cs(b)+1});break}let S=v.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let v=p.childNodes[g-1];f=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(Fl&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||f&&po)&&Ih(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Ih(l.node,l.offset,u.focusNode,u.focusOffset))return;let m=!1;if((c.extend||e==t)&&!f){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>t){let g=a;a=l,l=g}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&t>=r:e<o&&t>r){let a=r+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==r||t==o?lh:dI,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Fc:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?lh:Fc}r=o}this.dirty=lh}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?lh:dI;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class W7 extends v1{constructor(e,t,r,i){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Ga&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class fae extends v1{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Dh extends v1{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],o=s&&s(t,i,r);return(!o||!o.dom)&&(o=zh.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Dh(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Fc||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Fc&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Ga){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ga}}slice(e,t,r){let i=Dh.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;t<o&&(s=QE(s,t,o,r)),e>0&&(s=QE(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class rf extends v1{constructor(e,t,r,i,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,t,r,i,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,f=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:f}=zh.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!f&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let m=u;return u=X7(u,r,t),c?l=new hae(e,t,r,i,u,f||null,m,c,s,o+1):t.isText?new sb(e,t,r,i,u,m,s):new rf(e,t,r,i,u,f||null,m,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>pt.empty)}return e}matchesNode(e,t,r){return this.dirty==Ga&&e.eq(this.node)&&Xx(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new mae(this,o&&o.node,e);vae(this.node,this.innerDeco,(c,u,f)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!f&&l.syncToMarks(u==this.node.childCount?or.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,f,m)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,f,m)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,f,p,e)||l.updateNextNode(c,u,f,e,m,i)||l.addNode(c,u,f,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==lh)&&(o&&this.protectLocalComposition(e,o),K7(this.contentDOM,this.children,e),b0&&xae(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof on)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=bae(this.node.content,o,r-t,i-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new fae(this,s,t,i);e.input.compositionNodes.push(o),this.children=QE(this.children,r,r+i.length,e,o)}update(e,t,r,i){return this.dirty==Fc||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ga}updateOuterDeco(e){if(Xx(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Y7(this.dom,this.nodeDOM,JE(this.outerDeco,this.node,t),JE(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function fI(n,e,t,r,i){X7(r,e,n);let s=new rf(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class sb extends rf{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Fc||this.dirty!=Ga&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Ga||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ga,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new sb(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Fc)}get domAtom(){return!1}isText(e){return this.node.text==e}}class G7 extends v1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ga&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hae extends rf{constructor(e,t,r,i,s,o,a,l,c,u){super(e,t,r,i,s,o,a,c,u),this.spec=l}update(e,t,r,i){if(this.dirty==Fc)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function K7(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==n){for(;a!=r;)r=hI(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(o instanceof Dh){let l=r?r.previousSibling:n.lastChild;K7(o.contentDOM,o.children,t),r=l?l.nextSibling:n.firstChild}}for(;r;)r=hI(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const Qm=function(n){n&&(this.nodeName=n)};Qm.prototype=Object.create(null);const ch=[new Qm];function JE(n,e,t){if(n.length==0)return ch;let r=t?ch[0]:new Qm,i=[r];for(let s=0;s<n.length;s++){let o=n[s].type.attrs;if(o){o.nodeName&&i.push(r=new Qm(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&i.length==1&&i.push(r=new Qm(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Y7(n,e,t,r){if(t==ch&&r==ch)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=n&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=ch[0]),i=l}pae(i,a||ch[0],o)}return i}function pae(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function X7(n,e,t){return Y7(n,n,ch,JE(e,t,n.nodeType!=1))}function Xx(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function hI(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class mae{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gae(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Ga,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Dh.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let o=this.top.children[i];return o.dirty==Fc&&o.dom==o.contentDOM&&(o.dirty=lh),o.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof rf){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,f,m=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Fc&&Xx(t,l.outerDeco));if(!m&&l.update(e,t,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!m&&(f=this.recreateWrapper(l,e,t,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=lh,f.updateChildren(i,o+1),f.dirty=Ga),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Xx(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=rf.create(this.top,t,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,r,i,s){let o=rf.create(this.top,e,t,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new W7(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Dh;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof sb)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((po||Vs)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new G7(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gae(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=t.children[r-1];if(c instanceof Dh)t=c,r=c.children.length;else{a=c,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=n.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function yae(n,e){return n.type.side-e.type.side}function vae(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let c=0;c<n.childCount;c++){let u=n.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,f;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(u?(f||(f=[u])).push(b):u=b)}if(u)if(f){f.sort(yae);for(let b=0;b<f.length;b++)t(f[b],c,!!l)}else t(u,c,!!l);let m,p;if(l)p=-1,m=l,l=null;else if(c<n.childCount)p=c,m=n.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let g=s+m.nodeSize;if(m.isText){let b=g;o<i.length&&i[o].from<b&&(b=i[o].from);for(let S=0;S<a.length;S++)a[S].to<b&&(b=a[S].to);b<g&&(l=m.cut(b-s),m=m.cut(0,b-s),g=b,p=-1)}else for(;o<i.length&&i[o].to<g;)o++;let v=m.isInline&&!m.isLeaf?a.filter(b=>!b.inline):a.slice();r(m,v,e.forChild(s,m),p),s=g}}function xae(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function bae(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let o=n.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<n.childCount;){let c=n.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function QE(n,e,t,r,i){let s=[];for(let o=0,a=0;o<n.length;o++){let l=n[o],c=a,u=a+=l.size;c>=t||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>t&&s.push(l.slice(t-c,l.size,r)))}return s}function B_(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,o=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(ib(t)){for(l=o;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&Bt.isSelectable(f)&&i.parent&&!(f.isInline&&Woe(t.focusNode,t.focusOffset,i.dom))){let m=i.posBefore;c=new Bt(o==m?a:r.resolve(m))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let f=o,m=o;for(let p=0;p<t.rangeCount;p++){let g=t.getRangeAt(p);f=Math.min(f,n.docView.posFromDOM(g.startContainer,g.startOffset,1)),m=Math.max(m,n.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(f<0)return null;[l,o]=m==n.state.selection.anchor?[m,f]:[f,m],a=r.resolve(o)}else l=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let f=e=="pointer"||n.state.selection.head<a.pos&&!s?1:-1;c=V_(n,u,a,f)}return c}function J7(n){return n.editable?n.hasFocus():Z7(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Du(n,e=!1){let t=n.state.selection;if(Q7(n,t),!!J7(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Vs){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ih(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Sae(n);else{let{anchor:r,head:i}=t,s,o;pI&&!(t instanceof on)&&(t.$from.parent.inlineContent||(s=mI(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=mI(n,t.to))),n.docView.setSelection(r,i,n,e),pI&&(s&&gI(s),o&&gI(o)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wae(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const pI=po||Vs&&B7<63;function mI(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(po&&i&&i.contentEditable=="false")return w5(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return w5(i);if(s)return w5(s)}}function w5(n){return n.contentEditable="true",po&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function gI(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function wae(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!J7(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Sae(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?t.setStart(r.parentNode,cs(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!i&&!n.state.selection.visible&&jo&&nf<=11&&(r.disabled=!0,r.disabled=!1)}function Q7(n,e){if(e instanceof Bt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(yI(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else yI(n)}function yI(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function V_(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||on.between(e,t,r)}function vI(n){return n.editable&&!n.hasFocus()?!1:Z7(n)}function Z7(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Eae(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Ih(e.node,e.offset,t.anchorNode,t.anchorOffset)}function ZE(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&fn.findFrom(s,e)}function Id(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function xI(n,e,t){let r=n.state.selection;if(r instanceof on)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return Id(n,new on(r.$anchor,o))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=ZE(n.state,e);return i&&i instanceof Bt?Id(n,i):!1}else if(!(Ba&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=n.docView.descAt(a))&&!o.contentDOM?Bt.isSelectable(s)?Id(n,new Bt(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):y1?Id(n,new on(n.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Bt&&r.node.isInline)return Id(n,new on(e>0?r.$to:r.$from));{let i=ZE(n.state,e);return i?Id(n,i):!1}}}function Jx(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Zm(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function bp(n,e){return e<0?Cae(n):Aae(n)}function Cae(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,o=!1;for(Fl&&t.nodeType==1&&r<Jx(t)&&Zm(t.childNodes[r],-1)&&(o=!0);;)if(r>0){if(t.nodeType!=1)break;{let a=t.childNodes[r-1];if(Zm(a,-1))i=t,s=--r;else if(a.nodeType==3)t=a,r=t.nodeValue.length;else break}}else{if(ej(t))break;{let a=t.previousSibling;for(;a&&Zm(a,-1);)i=t.parentNode,s=cs(a),a=a.previousSibling;if(a)t=a,r=Jx(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}o?eC(n,t,r):i&&eC(n,i,s)}function Aae(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=Jx(t),s,o;for(;;)if(r<i){if(t.nodeType!=1)break;let a=t.childNodes[r];if(Zm(a,1))s=t,o=++r;else break}else{if(ej(t))break;{let a=t.nextSibling;for(;a&&Zm(a,1);)s=a.parentNode,o=cs(a)+1,a=a.nextSibling;if(a)t=a,r=0,i=Jx(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&eC(n,s,o)}function ej(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function _ae(n,e){for(;n&&e==n.childNodes.length&&!g1(n);)e=cs(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function Tae(n,e){for(;n&&!e&&!g1(n);)e=cs(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function eC(n,e,t){if(e.nodeType!=3){let s,o;(o=_ae(e,t))?(e=o,t=0):(s=Tae(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(ib(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Du(n)},50)}function bI(n,e){let t=n.state.doc.resolve(e);if(!(Vs||Yoe)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function wI(n,e,t){let r=n.state.selection;if(r instanceof on&&!r.empty||t.indexOf("s")>-1||Ba&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let o=ZE(n.state,e);if(o&&o instanceof Bt)return Id(n,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof ca?fn.near(o,e):fn.findFrom(o,e);return a?Id(n,a):!1}return!1}function SI(n,e){if(!(n.state.selection instanceof on))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=n.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),n.dispatch(o),!0}return!1}function EI(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function kae(n){if(!po||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;EI(n,r,"true"),setTimeout(()=>EI(n,r,"false"),20)}return!1}function Nae(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function Pae(n,e){let t=e.keyCode,r=Nae(e);if(t==8||Ba&&t==72&&r=="c")return SI(n,-1)||bp(n,-1);if(t==46&&!e.shiftKey||Ba&&t==68&&r=="c")return SI(n,1)||bp(n,1);if(t==13||t==27)return!0;if(t==37||Ba&&t==66&&r=="c"){let i=t==37?bI(n,n.state.selection.from)=="ltr"?-1:1:-1;return xI(n,i,r)||bp(n,i)}else if(t==39||Ba&&t==70&&r=="c"){let i=t==39?bI(n,n.state.selection.from)=="ltr"?1:-1:1;return xI(n,i,r)||bp(n,i)}else{if(t==38||Ba&&t==80&&r=="c")return wI(n,-1,r)||bp(n,-1);if(t==40||Ba&&t==78&&r=="c")return kae(n)||wI(n,1,r)||bp(n,1);if(r==(Ba?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function $_(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let o=n.someProp("clipboardSerializer")||zh.fromSchema(n.state.schema),a=oj(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,f=0;for(;c&&c.nodeType==1&&(u=sj[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let g=a.createElement(u[p]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${f?` -${f}`:""} ${JSON.stringify(t)}`);let m=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:m,slice:e}}function tj(n,e,t,r,i){let s=i.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(r||s||!t);if(l){if(n.someProp("transformPastedText",m=>{e=m(e,s||r,n)}),s)return e?new Ct(pt.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Ct.empty;let f=n.someProp("clipboardTextParser",m=>m(e,i,r,n));if(f)a=f;else{let m=i.marks(),{schema:p}=n.state,g=zh.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let b=o.appendChild(document.createElement("p"));v&&b.appendChild(g.serializeNode(p.text(v,m)))})}}else n.someProp("transformPastedHTML",f=>{t=f(t,n)}),o=Lae(t),y1&&Oae(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let f=+u[3];f>0;f--){let m=o.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;o=m}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||tf.fromSchema(n.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!Iae.test(m.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Mae(CI(a,+u[1],+u[2]),u[4]);else if(a=Ct.maxOpen(Dae(a.content,i),!0),a.openStart||a.openEnd){let f=0,m=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;m<a.openEnd&&!p.type.spec.isolating;m++,p=p.lastChild);a=CI(a,f,m)}return n.someProp("transformPasted",f=>{a=f(a,n)}),a}const Iae=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Dae(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(n.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&rj(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=ij(o[o.length-1],s.length));let u=nj(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return pt.from(o)}return n}function nj(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,pt.from(n));return n}function rj(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=rj(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(pt.from(nj(t,n,i+1))))}}function ij(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,ij(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(pt.empty,!0);return n.copy(t.append(r))}function tC(n,e,t,r,i,s){let o=e<0?n.firstChild:n.lastChild,a=o.content;return n.childCount>1&&(s=0),i<r-1&&(a=tC(a,e,t,r,i+1,s)),i>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(pt.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,o.copy(a))}function CI(n,e,t){return e<n.openStart&&(n=new Ct(tC(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new Ct(tC(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const sj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let AI=null;function oj(){return AI||(AI=document.implementation.createHTMLDocument("title"))}let S5=null;function Rae(n){let e=window.trustedTypes;return e?(S5||(S5=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),S5.createHTML(n)):n}function Lae(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=oj().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&sj[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=Rae(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function Oae(n){let e=n.querySelectorAll(Vs?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function Mae(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:o}=n;for(let a=r.length-2;a>=0;a-=2){let l=t.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=pt.from(l.create(r[a+1],i)),s++,o++}return new Ct(i,s,o)}const mo={},go={},Fae={touchstart:!0,touchmove:!0};class jae{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Bae(n){for(let e in mo){let t=mo[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{$ae(n,r)&&!z_(n,r)&&(n.editable||!(r.type in go))&&t(n,r)},Fae[e]?{passive:!0}:void 0)}po&&n.dom.addEventListener("input",()=>null),nC(n)}function Wd(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function Vae(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function nC(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>z_(n,r))})}function z_(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function $ae(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function zae(n,e){!z_(n,e)&&mo[e.type]&&(n.editable||!(e.type in go))&&mo[e.type](n,e)}go.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!lj(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Tu&&Vs&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),b0&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,eh(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||Pae(n,t)?t.preventDefault():Wd(n,"key")};go.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};go.keypress=(n,e)=>{let t=e;if(lj(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Ba&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof on)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function ob(n){return{left:n.clientX,top:n.clientY}}function Uae(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function U_(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(n.someProp(e,a=>o>s.depth?a(n,t,s.nodeAfter,s.before(o),i,!0):a(n,t,s.node(o),s.before(o),i,!1)))return!0;return!1}function Zp(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function qae(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Bt.isSelectable(r)?(Zp(n,new Bt(t)),!0):!1}function Hae(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Bt&&(r=t.node);let s=n.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Bt.isSelectable(a)){r&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(o);break}}return i!=null?(Zp(n,Bt.create(n.state.doc,i)),!0):!1}function Wae(n,e,t,r,i){return U_(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?Hae(n,t):qae(n,t))}function Gae(n,e,t,r){return U_(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function Kae(n,e,t,r){return U_(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||Yae(n,t,r)}function Yae(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Zp(n,on.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)Zp(n,on.create(r,a+1,a+1+o.content.size));else if(Bt.isSelectable(o))Zp(n,Bt.create(r,a));else continue;return!0}}function q_(n){return Qx(n)}const aj=Ba?"metaKey":"ctrlKey";mo.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=q_(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&Uae(t,n.input.lastClick)&&!t[aj]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let o=n.posAtCoords(ob(t));o&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new Xae(n,o,t,!!r)):(s=="doubleClick"?Gae:Kae)(n,o.pos,o.inside,t)?t.preventDefault():Wd(n,"pointer"))};class Xae{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[aj],this.allowDefault=r.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Bt&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Fl&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wd(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Du(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ob(e))),this.updateAllowDefault(e),this.allowDefault||!t?Wd(this.view,"pointer"):Wae(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||po&&this.mightDrag&&!this.mightDrag.node.isAtom||Vs&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Zp(this.view,fn.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Wd(this.view,"pointer")}move(e){this.updateAllowDefault(e),Wd(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mo.touchstart=n=>{n.input.lastTouch=Date.now(),q_(n),Wd(n,"pointer")};mo.touchmove=n=>{n.input.lastTouch=Date.now(),Wd(n,"pointer")};mo.contextmenu=n=>q_(n);function lj(n,e){return n.composing?!0:po&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const Jae=Tu?5e3:-1;go.compositionstart=go.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof on&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),Qx(n,!0),n.markCursor=null;else if(Qx(n,!e.selection.empty),Fl&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=n.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}n.input.composing=!0}cj(n,Jae)};go.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,cj(n,20))};function cj(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>Qx(n),e))}function uj(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=Zae());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function Qae(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=qoe(e.focusNode,e.focusOffset),r=Hoe(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return r}}return t||r}function Zae(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Qx(n,e=!1){if(!(Tu&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),uj(n),e||n.docView&&n.docView.dirty){let t=B_(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function ele(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const Fg=jo&&nf<15||b0&&Xoe<604;mo.copy=go.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=Fg?null:t.clipboardData,o=r.content(),{dom:a,text:l}=$_(n,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):ele(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function tle(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function nle(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?jg(n,r.value,null,i,e):jg(n,r.textContent,r.innerHTML,i,e)},50)}function jg(n,e,t,r,i){let s=tj(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,i,s||Ct.empty)))return!0;if(!s)return!1;let o=tle(s),a=o?n.state.tr.replaceSelectionWith(o,r):n.state.tr.replaceSelection(s);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function dj(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}go.paste=(n,e)=>{let t=e;if(n.composing&&!Tu)return;let r=Fg?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&jg(n,dj(r),r.getData("text/html"),i,t)?t.preventDefault():nle(n,t)};class fj{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const rle=Ba?"altKey":"ctrlKey";function hj(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[rle]}mo.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(ob(t)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Bt?i.to-1:i.to))){if(r&&r.mightDrag)o=Bt.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let f=n.docView.nearestDesc(t.target,!0);f&&f.node.type.spec.draggable&&f!=n.docView&&(o=Bt.create(n.state.doc,f.posBefore))}}let a=(o||n.state.selection).content(),{dom:l,text:c,slice:u}=$_(n,a);(!t.dataTransfer.files.length||!Vs||B7>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Fg?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Fg||t.dataTransfer.setData("text/plain",c),n.dragging=new fj(u,hj(n,t),o)};mo.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};go.dragover=go.dragenter=(n,e)=>e.preventDefault();go.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let i=n.posAtCoords(ob(t));if(!i)return;let s=n.state.doc.resolve(i.pos),o=r&&r.slice;o?n.someProp("transformPasted",g=>{o=g(o,n)}):o=tj(n,dj(t.dataTransfer),Fg?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&hj(n,t));if(n.someProp("handleDrop",g=>g(n,t,o||Ct.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?I7(n.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=n.state.tr;if(a){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let u=c.mapping.map(l),f=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=c.doc;if(f?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(m))return;let p=c.doc.resolve(u);if(f&&Bt.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Bt(p));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((v,b,S,E)=>g=E),c.setSelection(V_(n,p,c.doc.resolve(g)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))};mo.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Du(n)},20))};mo.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};mo.beforeinput=(n,e)=>{if(Vs&&Tu&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,eh(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in go)mo[n]=go[n];function Bg(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Zx{constructor(e,t){this.toDOM=e,this.spec=t||vh,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:o}=e.mapResult(t.from+i,this.side<0?-1:1);return o?null:new za(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Zx&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Bg(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class sf{constructor(e,t){this.attrs=e,this.spec=t||vh}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new za(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof sf&&Bg(this.attrs,e.attrs)&&Bg(this.spec,e.spec)}static is(e){return e.type instanceof sf}destroy(){}}class H_{constructor(e,t){this.attrs=e,this.spec=t||vh}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=s.pos?null:new za(s.pos-r,o.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof H_&&Bg(this.attrs,e.attrs)&&Bg(this.spec,e.spec)}destroy(){}}class za{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new za(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new za(e,e,new Zx(t,r))}static inline(e,t,r,i){return new za(e,t,new sf(r,i))}static node(e,t,r,i){return new za(e,t,new H_(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sf}get widget(){return this.type instanceof Zx}}const Pp=[],vh={};class mi{constructor(e,t){this.local=e.length?e:Pp,this.children=t.length?t:Pp}static create(e,t){return t.length?e2(t,e,0,vh):Ls}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,r,i+a,s)}}map(e,t,r){return this==Ls||e.maps.length==0?this:this.mapInner(e,t,0,0,r||vh)}mapInner(e,t,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?ile(this.children,o||[],e,t,r,i,s):o?new mi(o.sort(xh),Pp):Ls}add(e,t){return t.length?this==Ls?mi.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=mj(t,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,e2(u,a,c+1,vh)),s+=3}});let o=pj(s?gj(t):t,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new mi(o.length?this.local.concat(o).sort(xh):this.local,i||this.children)}remove(e){return e.length==0||this==Ls?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+t,l=r[s+1]+t;for(let u=0,f;u<e.length;u++)(f=e[u])&&f.from>a&&f.to<l&&(e[u]=null,(o||(o=[])).push(f));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=Ls?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,t)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new mi(i,r):Ls}forChild(e,t){if(this==Ls)return this;if(t.isLeaf)return mi.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof sf){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new mi(i.sort(xh),Pp);return r?new Bd([a,r]):a}return r||Ls}eq(e){if(this==e)return!0;if(!(e instanceof mi)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return W_(this.localsInner(e))}localsInner(e){if(this==Ls)return Pp;if(e.inlineContent||!this.local.some(sf.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof sf||t.push(this.local[r]);return t}forEachSet(e){e(this)}}mi.empty=new mi([],[]);mi.removeOverlap=W_;const Ls=mi.empty;class Bd{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,vh));return Bd.from(r)}forChild(e,t){if(t.isLeaf)return mi.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Ls&&(s instanceof Bd?r=r.concat(s.members):r.push(s))}return Bd.from(r)}eq(e){if(!(e instanceof Bd)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?W_(r?t:t.sort(xh)):Pp}static from(e){switch(e.length){case 0:return Ls;case 1:return e[0];default:return new Bd(e.every(t=>t instanceof mi)?e:e.reduce((t,r)=>t.concat(r instanceof mi?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function ile(n,e,t,r,i,s,o){let a=n.slice();for(let c=0,u=s;c<t.maps.length;c++){let f=0;t.maps[c].forEach((m,p,g,v)=>{let b=v-g-(p-m);for(let S=0;S<a.length;S+=3){let E=a[S+1];if(E<0||m>E+u-f)continue;let _=a[S]+u-f;p>=_?a[S+1]=m<=_?-2:-1:m>=u&&b&&(a[S]+=b,a[S+1]+=b)}f+=b}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(n[c]+s),f=u-i;if(f<0||f>=r.content.size){l=!0;continue}let m=t.map(n[c+1]+s,-1),p=m-i,{index:g,offset:v}=r.content.findIndex(f),b=r.maybeChild(g);if(b&&v==f&&v+b.nodeSize==p){let S=a[c+2].mapInner(t,b,u+1,n[c]+s+1,o);S!=Ls?(a[c]=f,a[c+1]=p,a[c+2]=S):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=sle(a,n,e,t,i,s,o),u=e2(c,r,0,o);e=u.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,m=0;f<u.children.length;f+=3){let p=u.children[f];for(;m<a.length&&a[m]<p;)m+=3;a.splice(m,0,u.children[f],u.children[f+1],u.children[f+2])}}return new mi(e.sort(xh),a)}function pj(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new za(i.from+e,i.to+e,i.type))}return t}function sle(n,e,t,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let f=l.local[u].map(r,i,c);f?t.push(f):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&a(n[l+2],e[l]+s+1);return t}function mj(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,o;s<n.length;s++)(o=n[s])&&o.from>t&&o.to<r&&((i||(i=[])).push(o),n[s]=null);return i}function gj(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function e2(n,e,t,r){let i=[],s=!1;e.forEach((a,l)=>{let c=mj(n,a,l+t);if(c){s=!0;let u=e2(c,a,t+l+1,r);u!=Ls&&i.push(l,l+a.nodeSize,u)}});let o=pj(s?gj(n):n,-t).sort(xh);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new mi(o,i):Ls}function xh(n,e){return n.from-e.from||n.to-e.to}function W_(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),_I(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),_I(e,i,r.copy(s.from,r.to)));break}}}return e}function _I(n,e,t){for(;e<n.length&&xh(t,n[e])>0;)e++;n.splice(e,0,t)}function E5(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Ls&&e.push(r)}),n.cursorWrapper&&e.push(mi.create(n.state.doc,[n.cursorWrapper.deco])),Bd.from(e)}const ole={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ale=jo&&nf<=11;class lle{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class cle{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lle,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);jo&&nf<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ale&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ole)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(vI(this.view)){if(this.suppressingSelectionUpdates)return Du(this.view);if(jo&&nf<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ih(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=x0(s))t.add(s);for(let s=e.anchorNode;s;s=x0(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&vI(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let f=this.registerMutation(t[u],l);f&&(s=s<0?f.from:Math.min(f.from,s),o=o<0?f.to:Math.max(f.to,o),f.typeOver&&(a=!0))}if(Fl&&l.length){let u=l.filter(f=>f.nodeName=="BR");if(u.length==2){let[f,m]=u;f.parentNode&&f.parentNode.parentNode==m.parentNode?m.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let m of u){let p=m.parentNode;p&&p.nodeName=="LI"&&(!f||fle(e,f)!=p)&&m.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ib(r)&&(c=B_(e))&&c.eq(fn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Du(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),ule(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Du(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let f=e.addedNodes[u];t.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(jo&&nf<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:f,nextSibling:m}=e.addedNodes[u];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m)}let o=i&&i.parentNode==e.target?cs(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?cs(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let TI=new WeakMap,kI=!1;function ule(n){if(!TI.has(n)&&(TI.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Fl,kI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kI=!0}}function NI(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.domAtPos(n.state.selection.anchor);return Ih(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function dle(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return NI(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?NI(n,t):null}function fle(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function hle(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=n.docView.parseRange(e,t),l=n.domSelectionRange(),c,u=l.anchorNode;if(u&&n.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],ib(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Vs&&n.input.lastKeyCode===8)for(let b=s;b>i;b--){let S=r.childNodes[b-1],E=S.pmViewDesc;if(S.nodeName=="BR"&&!E){s=b;break}if(!E||E.size)break}let f=n.state.doc,m=n.someProp("domParser")||tf.fromSchema(n.state.schema),p=f.resolve(o),g=null,v=m.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:ple,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=b),g={anchor:b+o,head:S+o}}return{doc:v,sel:g,from:o,to:a}}function ple(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(po&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||po&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const mle=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gle(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let C=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,I=B_(n,C);if(I&&!n.state.selection.eq(I)){if(Vs&&Tu&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",N=>N(n,eh(13,"Enter"))))return;let P=n.state.tr.setSelection(I);C=="pointer"?P.setMeta("pointer",!0):C=="key"&&P.scrollIntoView(),s&&P.setMeta("composition",s),n.dispatch(P)}return}let o=n.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=n.state.doc.resolve(t).after(a+1);let l=n.state.selection,c=hle(n,e,t),u=n.state.doc,f=u.slice(c.from,c.to),m,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(m=n.state.selection.to,p="end"):(m=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let g=xle(f.content,c.doc.content,c.from,m,p);if(g&&n.input.domChangeCount++,(b0&&n.input.lastIOSEnter>Date.now()-225||Tu)&&i.some(C=>C.nodeType==1&&!mle.test(C.nodeName))&&(!g||g.endA>=g.endB)&&n.someProp("handleKeyDown",C=>C(n,eh(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!g)if(r&&l instanceof on&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let C=PI(n,n.state.doc,c.sel);if(C&&!C.eq(n.state.selection)){let I=n.state.tr.setSelection(C);s&&I.setMeta("composition",s),n.dispatch(I)}}return}n.state.selection.from<n.state.selection.to&&g.start==g.endB&&n.state.selection instanceof on&&(g.start>n.state.selection.from&&g.start<=n.state.selection.from+2&&n.state.selection.from>=c.from?g.start=n.state.selection.from:g.endA<n.state.selection.to&&g.endA>=n.state.selection.to-2&&n.state.selection.to<=c.to&&(g.endB+=n.state.selection.to-g.endA,g.endA=n.state.selection.to)),jo&&nf<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let v=c.doc.resolveNoCache(g.start-c.from),b=c.doc.resolveNoCache(g.endB-c.from),S=u.resolve(g.start),E=v.sameParent(b)&&v.parent.inlineContent&&S.end()>=g.endA,_;if((b0&&n.input.lastIOSEnter>Date.now()-225&&(!E||i.some(C=>C.nodeName=="DIV"||C.nodeName=="P"))||!E&&v.pos<c.doc.content.size&&(!v.sameParent(b)||!v.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(v.pos,b.pos,"",""))&&(_=fn.findFrom(c.doc.resolve(v.pos+1),1,!0))&&_.head>v.pos)&&n.someProp("handleKeyDown",C=>C(n,eh(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>g.start&&vle(u,g.start,g.endA,v,b)&&n.someProp("handleKeyDown",C=>C(n,eh(8,"Backspace")))){Tu&&Vs&&n.domObserver.suppressSelectionUpdates();return}Vs&&g.endB==g.start&&(n.input.lastChromeDelete=Date.now()),Tu&&!E&&v.start()!=b.start()&&b.parentOffset==0&&v.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,b=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{n.someProp("handleKeyDown",function(C){return C(n,eh(13,"Enter"))})},20));let R=g.start,B=g.endA,U=C=>{let I=C||n.state.tr.replace(R,B,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let P=PI(n,I.doc,c.sel);P&&!(Vs&&n.composing&&P.empty&&(g.start!=g.endB||n.input.lastChromeDelete<Date.now()-100)&&(P.head==R||P.head==I.mapping.map(B)-1)||jo&&P.empty&&P.head==R)&&I.setSelection(P)}return s&&I.setMeta("composition",s),I.scrollIntoView()},O;if(E){if(v.pos==b.pos){jo&&nf<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Du(n),20));let C=U(n.state.tr.delete(R,B)),I=u.resolve(g.start).marksAcross(u.resolve(g.endA));I&&C.ensureMarks(I),n.dispatch(C)}else if(g.endA==g.endB&&(O=yle(v.parent.content.cut(v.parentOffset,b.parentOffset),S.parent.content.cut(S.parentOffset,g.endA-S.start())))){let C=U(n.state.tr);O.type=="add"?C.addMark(R,B,O.mark):C.removeMark(R,B,O.mark),n.dispatch(C)}else if(v.parent.child(v.index()).isText&&v.index()==b.index()-(b.textOffset?0:1)){let C=v.parent.textBetween(v.parentOffset,b.parentOffset),I=()=>U(n.state.tr.insertText(C,R,B));n.someProp("handleTextInput",P=>P(n,R,B,C,I))||n.dispatch(I())}}else n.dispatch(U())}function PI(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:V_(n,e.resolve(t.anchor),e.resolve(t.head))}function yle(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<t.length;u++)s=t[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(pt.from(c).eq(n))return{mark:a,type:o}}function vle(n,e,t,r,i){if(t-e<=i.pos-r.pos||C5(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=n.resolve(C5(s,!0,!0));return!o.parent.isTextblock||o.pos>t||C5(o,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function C5(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function xle(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&n.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&II(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<n.size&&II(n.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function II(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class yj{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new jae,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(MI),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=LI(this),RI(this),this.nodeViews=OI(this),this.docView=fI(this.state.doc,DI(this),E5(this),this.dom,this),this.domObserver=new cle(this,(r,i,s,o)=>gle(this,r,i,s,o)),this.domObserver.start(),Bae(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nC(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(MI),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(uj(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=OI(this);wle(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&nC(this),this.editable=LI(this),RI(this);let l=E5(this),c=DI(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=s||!this.docView.matchesNode(e.doc,c,l);(f||!e.selection.eq(i.selection))&&(o=!0);let m=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Zoe(this);if(o){this.domObserver.stop();let p=f&&(jo||Vs)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&ble(i.selection,e.selection);if(f){let g=Vs?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Qae(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=fI(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Eae(this))?Du(this,p):(Q7(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():m&&eae(m)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Bt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&oI(this,t.getBoundingClientRect(),e)}else oI(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new fj(e.slice,e.move,i<0?void 0:Bt.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=t?t(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=t?t(a):a))return i}}hasFocus(){if(jo){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tae(this.dom),Du(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return oae(this,e)}coordsAtPos(e,t=1){return q7(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return dae(this,t||this.state,e)}pasteHTML(e,t){return jg(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return jg(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return $_(this,e)}destroy(){this.docView&&(Vae(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],E5(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,zoe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return zae(this,e)}domSelectionRange(){let e=this.domSelection();return e?po&&this.root.nodeType===11&&Goe(this.dom.ownerDocument)==this.dom&&dle(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}yj.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function DI(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[za.node(0,n.state.doc.content.size,e)]}function RI(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:za.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function LI(n){return!n.someProp("editable",e=>e(n.state)===!1)}function ble(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function OI(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function wle(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function MI(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var mf={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},t2={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Sle=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ele=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var us=0;us<10;us++)mf[48+us]=mf[96+us]=String(us);for(var us=1;us<=24;us++)mf[us+111]="F"+us;for(var us=65;us<=90;us++)mf[us]=String.fromCharCode(us+32),t2[us]=String.fromCharCode(us);for(var A5 in mf)t2.hasOwnProperty(A5)||(t2[A5]=mf[A5]);function Cle(n){var e=Sle&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Ele&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?t2:mf)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const Ale=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),_le=typeof navigator<"u"&&/Win/.test(navigator.platform);function Tle(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Ale?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function kle(n){let e=Object.create(null);for(let t in n)e[Tle(t)]=n[t];return e}function _5(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function Nle(n){return new Bo({props:{handleKeyDown:vj(n)}})}function vj(n){let e=kle(n);return function(t,r){let i=Cle(r),s,o=e[_5(i,r)];if(o&&o(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[_5(i,r,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(_le&&r.ctrlKey&&r.altKey)&&(s=mf[r.keyCode])&&s!=i){let a=e[_5(s,r)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const G_=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function xj(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const bj=(n,e,t)=>{let r=xj(n,t);if(!r)return!1;let i=K_(r);if(!i){let o=r.blockRange(),a=o&&B0(o);return a==null?!1:(e&&e(n.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(Nj(n,i,e,-1))return!0;if(r.parent.content.size==0&&(w0(s,"end")||Bt.isSelectable(s)))for(let o=r.depth;;o--){let a=nb(n.doc,r.before(o),r.after(o),Ct.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=n.tr.step(a);l.setSelection(w0(s,"end")?fn.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Bt.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Ple=(n,e,t)=>{let r=xj(n,t);if(!r)return!1;let i=K_(r);return i?wj(n,i,e):!1},Ile=(n,e,t)=>{let r=Ej(n,t);if(!r)return!1;let i=Y_(r);return i?wj(n,i,e):!1};function wj(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=nb(n.doc,s,l,Ct.empty);if(!c||c.from!=s||c instanceof Bi&&c.slice.size>=l-s)return!1;if(t){let u=n.tr.step(c);u.setSelection(on.create(u.doc,s)),t(u.scrollIntoView())}return!0}function w0(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Sj=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=K_(r)}let o=s&&s.nodeBefore;return!o||!Bt.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Bt.create(n.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function K_(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Ej(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Cj=(n,e,t)=>{let r=Ej(n,t);if(!r)return!1;let i=Y_(r);if(!i)return!1;let s=i.nodeAfter;if(Nj(n,i,e,1))return!0;if(r.parent.content.size==0&&(w0(s,"start")||Bt.isSelectable(s))){let o=nb(n.doc,r.before(),r.after(),Ct.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=n.tr.step(o);a.setSelection(w0(s,"start")?fn.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Bt.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Aj=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Y_(r)}let o=s&&s.nodeAfter;return!o||!Bt.isSelectable(o)?!1:(e&&e(n.tr.setSelection(Bt.create(n.doc,s.pos)).scrollIntoView()),!0)};function Y_(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const Dle=(n,e)=>{let t=n.selection,r=t instanceof Bt,i;if(r){if(t.node.isTextblock||!Af(n.doc,t.from))return!1;i=t.from}else if(i=tb(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Bt.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Rle=(n,e)=>{let t=n.selection,r;if(t instanceof Bt){if(t.node.isTextblock||!Af(n.doc,t.to))return!1;r=t.to}else if(r=tb(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},Lle=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&B0(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},_j=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function X_(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const Ole=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),o=X_(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=n.tr.replaceWith(a,a,o.createAndFill());l.setSelection(fn.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Tj=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof ca||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=X_(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(o,s.createAndFill());a.setSelection(on.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},kj=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Iu(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&B0(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function Mle(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Bt&&e.selection.node.isBlock)return!r.parentOffset||!Iu(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),a=X_(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&a?{type:a}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof on||e.selection instanceof ca)&&u.deleteSelection();let f=u.mapping.map(r.pos),m=Iu(u.doc,f,s.length,s);if(m||(s[0]=a?{type:a}:null,m=Iu(u.doc,f,s.length,s)),!m)return!1;if(u.split(f,s.length,s),!l&&c&&r.node(o).type!=a){let p=u.mapping.map(r.before(o)),g=u.doc.resolve(p);a&&r.node(o-1).canReplaceWith(g.index(),g.index()+1,a)&&u.setNodeMarkup(u.mapping.map(r.before(o)),a)}return t&&t(u.scrollIntoView()),!0}}const Fle=Mle(),jle=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Bt.create(n.doc,i))),!0)};function Ble(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Af(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function Nj(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&Ble(n,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let p=e.pos+s.nodeSize,g=pt.empty;for(let S=o.length-1;S>=0;S--)g=pt.from(o[S].create(null,g));g=pt.from(i.copy(g));let v=n.tr.step(new $i(e.pos-1,p,e.pos,p,new Ct(g,1,0),o.length,!0)),b=v.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&Af(v.doc,b.pos)&&v.join(b.pos),t(v.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:fn.findFrom(e,1),f=u&&u.$from.blockRange(u.$to),m=f&&B0(f);if(m!=null&&m>=e.depth)return t&&t(n.tr.lift(f,m).scrollIntoView()),!0;if(c&&w0(s,"start",!0)&&w0(i,"end")){let p=i,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let v=s,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(t){let S=pt.empty;for(let _=g.length-1;_>=0;_--)S=pt.from(g[_].copy(S));let E=n.tr.step(new $i(e.pos-g.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new Ct(S,g.length,0),0,!0));t(E.scrollIntoView())}return!0}}return!1}function Pj(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection(on.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const Vle=Pj(-1),$le=Pj(1);function zle(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s),a=o&&M_(o,n,e);return a?(r&&r(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function FI(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(n,e)))if(l.type==n)i=!0;else{let u=t.doc.resolve(c),f=u.index();i=u.parent.canReplaceWith(f,f+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,n,e)}r(s.scrollIntoView())}return!0}}function J_(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}J_(G_,bj,Sj);J_(G_,Cj,Aj);J_(_j,Tj,kj,Fle);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Ule(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,o=i.blockRange(s);if(!o)return!1;let a=r?t.tr:null;return qle(a,o,n,e)?(r&&r(a.scrollIntoView()),!0):!1}}function qle(n,e,t,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Kx(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Kx(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let a=M_(s,t,r,e);return a?(n&&Hle(n,e,a,i,t),!0):!1}function Hle(n,e,t,r,i){let s=pt.empty;for(let u=t.length-1;u>=0;u--)s=pt.from(t[u].type.create(t[u].attrs,s));n.step(new $i(e.start-(r?2:0),e.end,e.start,e.end,new Ct(s,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==i&&(o=u+1);let a=t.length-o,l=e.start+t.length-(r?2:0),c=e.parent;for(let u=e.startIndex,f=e.endIndex,m=!0;u<f;u++,m=!1)!m&&Iu(n.doc,l,a)&&(n.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return n}function Wle(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?Gle(e,t,n,s):Kle(e,t,s):!0:!1}}function Gle(n,e,t,r){let i=n.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new $i(s-1,o,s,o,new Ct(pt.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new Kx(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=B0(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(s,-1)-1);return Af(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}function Kle(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,g=t.endIndex-1,v=t.startIndex;g>v;g--)p-=i.child(g).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(t.start),o=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?pt.empty:pt.from(i))))return!1;let f=s.pos,m=f+o.nodeSize;return r.step(new $i(f-(a?1:0),m+(l?1:0),f+1,m-1,new Ct((a?pt.empty:pt.from(i.copy(pt.empty))).append(l?pt.empty:pt.from(i.copy(pt.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function Yle(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==n);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=n)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=pt.from(c?n.create():null),f=new Ct(pt.from(n.create(null,pt.from(a.type.create(null,u)))),c?3:1,0),m=s.start,p=s.end;t(e.tr.step(new $i(m-(c?3:1),p,m,p,f,1,!0)).scrollIntoView())}return!0}}function ab(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}class lb{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:i}=t,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const f=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,p])=>[m,(...v)=>{const b=this.buildProps(c,t),S=p(...v)(b);return a.push(S),f}])),run:u};return f}createCan(e){const{rawCommands:t,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,t=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:ab({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class Xle{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(i=>i!==t):delete this.callbacks[e]),this}once(e,t){const r=(...i)=>{this.off(e,r),t.apply(this,i)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function It(n,e,t){return n.config[e]===void 0&&n.parent?It(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?It(n.parent,e,t):null}):n.config[e]}function cb(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Ij(n){const e=[],{nodeExtensions:t,markExtensions:r}=cb(n),i=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=It(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(f=>{Object.entries(u.attributes).forEach(([m,p])=>{e.push({type:f,name:m,attribute:{...s,...p}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=It(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,f])=>{const m={...s,...f};typeof(m==null?void 0:m.default)=="function"&&(m.default=m.default()),m!=null&&m.isRequired&&(m==null?void 0:m.default)===void 0&&delete m.default,e.push({type:o.name,name:u,attribute:m})})}),e}function Ui(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ps(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?String(s).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[f,m]=u.split(":").map(p=>p.trim());c.set(f,m)}),a.forEach(u=>{const[f,m]=u.split(":").map(p=>p.trim());c.set(f,m)}),r[i]=Array.from(c.entries()).map(([u,f])=>`${u}: ${f}`).join("; ")}else r[i]=s}),r},{})}function rC(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>ps(t,r),{})}function Dj(n){return typeof n=="function"}function gn(n,e=void 0,...t){return Dj(n)?e?n.bind(e)(...t):n(...t):n}function Jle(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Qle(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function jI(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):Qle(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function BI(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&Jle(t)?!1:t!=null))}function Zle(n,e){var t;const r=Ij(n),{nodeExtensions:i,markExtensions:s}=cb(n),o=(t=i.find(c=>It(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(S=>S.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},m=n.reduce((S,E)=>{const _=It(E,"extendNodeSchema",f);return{...S,..._?_(c):{}}},{}),p=BI({...m,content:gn(It(c,"content",f)),marks:gn(It(c,"marks",f)),group:gn(It(c,"group",f)),inline:gn(It(c,"inline",f)),atom:gn(It(c,"atom",f)),selectable:gn(It(c,"selectable",f)),draggable:gn(It(c,"draggable",f)),code:gn(It(c,"code",f)),whitespace:gn(It(c,"whitespace",f)),linebreakReplacement:gn(It(c,"linebreakReplacement",f)),defining:gn(It(c,"defining",f)),isolating:gn(It(c,"isolating",f)),attrs:Object.fromEntries(u.map(S=>{var E;return[S.name,{default:(E=S==null?void 0:S.attribute)===null||E===void 0?void 0:E.default}]}))}),g=gn(It(c,"parseHTML",f));g&&(p.parseDOM=g.map(S=>jI(S,u)));const v=It(c,"renderHTML",f);v&&(p.toDOM=S=>v({node:S,HTMLAttributes:rC(S,u)}));const b=It(c,"renderText",f);return b&&(p.toText=b),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(b=>b.type===c.name),f={name:c.name,options:c.options,storage:c.storage,editor:e},m=n.reduce((b,S)=>{const E=It(S,"extendMarkSchema",f);return{...b,...E?E(c):{}}},{}),p=BI({...m,inclusive:gn(It(c,"inclusive",f)),excludes:gn(It(c,"excludes",f)),group:gn(It(c,"group",f)),spanning:gn(It(c,"spanning",f)),code:gn(It(c,"code",f)),attrs:Object.fromEntries(u.map(b=>{var S;return[b.name,{default:(S=b==null?void 0:b.attribute)===null||S===void 0?void 0:S.default}]}))}),g=gn(It(c,"parseHTML",f));g&&(p.parseDOM=g.map(b=>jI(b,u)));const v=It(c,"renderHTML",f);return v&&(p.toDOM=b=>v({mark:b,HTMLAttributes:rC(b,u)})),[c.name,p]}));return new b7({topNode:o,nodes:a,marks:l})}function T5(n,e){return e.nodes[n]||e.marks[n]||null}function VI(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Q_(n,e){const t=zh.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}const ece=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),t};function Z_(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class ub{constructor(e){this.find=e.find,this.handler=e.handler}}const tce=(n,e)=>{if(Z_(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Ny(n){var e;const{editor:t,from:r,to:i,text:s,rules:o,plugin:a}=n,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(m=>m.type.spec.code))return!1;let u=!1;const f=ece(c)+s;return o.forEach(m=>{if(u)return;const p=tce(f,m.find);if(!p)return;const g=l.state.tr,v=ab({state:l.state,transaction:g}),b={from:r-(p[0].length-s.length),to:i},{commands:S,chain:E,can:_}=new lb({editor:t,state:v});m.handler({state:v,range:b,match:p,commands:S,chain:E,can:_})===null||!g.steps.length||(g.setMeta(a,{transform:g,from:r,to:i,text:s}),l.dispatch(g),u=!0)}),u}function nce(n){const{editor:e,rules:t}=n,r=new Bo({state:{init(){return null},apply(i,s,o){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=Q_(pt.from(u),o.schema);const{from:f}=l,m=f+u.length;Ny({editor:e,from:f,to:m,text:u,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return Ny({editor:e,from:s,to:o,text:a,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Ny({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?Ny({editor:e,from:o.pos,to:o.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function rce(n){return Object.prototype.toString.call(n).slice(8,-1)}function Py(n){return rce(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function db(n,e){const t={...n};return Py(n)&&Py(e)&&Object.keys(e).forEach(r=>{Py(e[r])&&Py(n[r])?t[r]=db(n[r],e[r]):t[r]=e[r]}),t}class jc{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=gn(It(this,"addOptions",{name:this.name}))),this.storage=gn(It(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new jc(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>db(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new jc(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=gn(It(t,"addOptions",{name:t.name})),t.storage=gn(It(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function ice(n){return typeof n=="number"}class sce{constructor(e){this.find=e.find,this.handler=e.handler}}const oce=(n,e,t)=>{if(Z_(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function ace(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=n,{commands:l,chain:c,can:u}=new lb({editor:e,state:t}),f=[];return t.doc.nodesBetween(r,i,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const v=Math.max(r,g),b=Math.min(i,g+p.content.size),S=p.textBetween(v-g,b-g,void 0,"");oce(S,s.find,o).forEach(_=>{if(_.index===void 0)return;const R=v+_.index+1,B=R+_[0].length,U={from:t.tr.mapping.map(R),to:t.tr.mapping.map(B)},O=s.handler({state:t,range:U,match:_,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});f.push(O)})}),f.every(p=>p!==null)}let Iy=null;const lce=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function cce(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:f,to:m,rule:p,pasteEvt:g})=>{const v=u.tr,b=ab({state:u,transaction:v});if(!(!ace({editor:e,state:b,from:Math.max(f-1,0),to:m.b-1,rule:p,pasteEvent:g,dropEvent:a})||!v.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return t.map(u=>new Bo({view(f){const m=g=>{var v;r=!((v=f.dom.parentElement)===null||v===void 0)&&v.contains(g.target)?f.dom.parentElement:null,r&&(Iy=e)},p=()=>{Iy&&(Iy=null)};return window.addEventListener("dragstart",m),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",m),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(f,m)=>{if(s=r===f.dom.parentElement,a=m,!s){const p=Iy;p&&setTimeout(()=>{const g=p.state.selection;g&&p.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},paste:(f,m)=>{var p;const g=(p=m.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=m,i=!!(g!=null&&g.includes("data-pm-slice")),!1}}},appendTransaction:(f,m,p)=>{const g=f[0],v=g.getMeta("uiEvent")==="paste"&&!i,b=g.getMeta("uiEvent")==="drop"&&!s,S=g.getMeta("applyPasteRules"),E=!!S;if(!v&&!b&&!E)return;if(E){let{text:B}=S;typeof B=="string"?B=B:B=Q_(pt.from(B),p.schema);const{from:U}=S,O=U+B.length,C=lce(B);return l({rule:u,state:p,from:U,to:{b:O},pasteEvt:C})}const _=m.doc.content.findDiffStart(p.doc.content),R=m.doc.content.findDiffEnd(p.doc.content);if(!(!ice(_)||!R||_===R.b))return l({rule:u,state:p,from:_,to:R,pasteEvt:o})}}))}function uce(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class $p{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=$p.resolve(e),this.schema=Zle(this.extensions,t),this.setupExtensions()}static resolve(e){const t=$p.sort($p.flatten(e)),r=uce(t.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},i=It(t,"addExtensions",r);return i?[t,...this.flatten(i())]:t}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=It(r,"priority")||100,o=It(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:T5(t.name,this.schema)},i=It(t,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,t=$p.sort([...this.extensions].reverse()),r=[],i=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:T5(o.name,this.schema)},l=[],c=It(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&It(o,"exitable",a)&&(u.ArrowRight=()=>jc.handleExit({editor:e,mark:o})),c){const v=Object.fromEntries(Object.entries(c()).map(([b,S])=>[b,()=>S({editor:e})]));u={...u,...v}}const f=Nle(u);l.push(f);const m=It(o,"addInputRules",a);VI(o,e.options.enableInputRules)&&m&&r.push(...m());const p=It(o,"addPasteRules",a);VI(o,e.options.enablePasteRules)&&p&&i.push(...p());const g=It(o,"addProseMirrorPlugins",a);if(g){const v=g();l.push(...v)}return l}).flat();return[nce({editor:e,rules:r}),...cce({editor:e,rules:i}),...s]}get attributes(){return Ij(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=cb(this.extensions);return Object.fromEntries(t.filter(r=>!!It(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Ui(r.name,this.schema)},o=It(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,f,m)=>{const p=rC(l,i);return o()({node:l,view:c,getPos:u,decorations:f,innerDecorations:m,editor:e,extension:r,HTMLAttributes:p})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:T5(e.name,this.schema)};e.type==="mark"&&(!((t=gn(It(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const i=It(e,"onBeforeCreate",r),s=It(e,"onCreate",r),o=It(e,"onUpdate",r),a=It(e,"onSelectionUpdate",r),l=It(e,"onTransaction",r),c=It(e,"onFocus",r),u=It(e,"onBlur",r),f=It(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),f&&this.editor.on("destroy",f)})}}class Us{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=gn(It(this,"addOptions",{name:this.name}))),this.storage=gn(It(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Us(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>db(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Us({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=gn(It(t,"addOptions",{name:t.name})),t.storage=gn(It(t,"addStorage",{name:t.name,options:t.options})),t}}function Rj(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=t||{};let a="";return n.nodesBetween(r,i,(l,c,u,f)=>{var m;l.isBlock&&c>r&&(a+=s);const p=o==null?void 0:o[l.type.name];if(p)return u&&(a+=p({node:l,pos:c,parent:u,index:f,range:e})),!1;l.isText&&(a+=(m=l==null?void 0:l.text)===null||m===void 0?void 0:m.slice(Math.max(r,c)-c,i-c))}),a}function Lj(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const dce=Us.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Bo({key:new Uc("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=Lj(t);return Rj(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),fce=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),hce=(n=!1)=>({commands:e})=>e.setContent("",n),pce=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:o})=>{n.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,f=c.resolve(u.map(l)),m=c.resolve(u.map(l+a.nodeSize)),p=f.blockRange(m);if(!p)return;const g=B0(p);if(a.type.isTextblock){const{defaultType:v}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,v)}(g||g===0)&&e.lift(p,g)})}),!0},mce=n=>e=>n(e),gce=()=>({state:n,dispatch:e})=>Tj(n,e),yce=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new on(r.doc.resolve(o-1))),!0},vce=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);n.delete(a,l).scrollIntoView()}return!0}return!1},xce=n=>({tr:e,state:t,dispatch:r})=>{const i=Ui(n,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},bce=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},wce=()=>({state:n,dispatch:e})=>G_(n,e),Sce=()=>({commands:n})=>n.keyboardShortcut("Enter"),Ece=()=>({state:n,dispatch:e})=>Ole(n,e);function n2(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:Z_(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function Oj(n,e,t={}){return n.find(r=>r.type===e&&n2(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function $I(n,e,t={}){return!!Oj(n,e,t)}function e4(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===e)||(t=t||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!Oj([...i.node.marks],e,t)))return;let o=i.index,a=n.start()+i.offset,l=o+1,c=a+i.node.nodeSize;for(;o>0&&$I([...n.parent.child(o-1).marks],e,t);)o-=1,a-=n.parent.child(o).nodeSize;for(;l<n.parent.childCount&&$I([...n.parent.child(l).marks],e,t);)c+=n.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Tf(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const Cce=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=Tf(n,r.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(i){const f=e4(l,s,e);if(f&&f.from<=c&&f.to>=u){const m=on.create(o,f.from,f.to);t.setSelection(m)}}return!0},Ace=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Mj(n){return n instanceof on}function uh(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Fj(n,e=null){if(!e)return null;const t=fn.atStart(n),r=fn.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?on.create(n,uh(0,i,s),uh(n.content.size,i,s)):on.create(n,uh(e,i,s),uh(e,i,s))}function _ce(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function t4(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Tce=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(t4()||_ce())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Mj(t.state.selection))return o(),!0;const a=Fj(i.doc,n)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},kce=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),Nce=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),jj=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&jj(r)}return n};function Dy(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return jj(t)}function Vg(n,e,t){if(n instanceof ef||n instanceof pt)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return pt.fromArray(n.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(n);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Vg("",e,t)}if(i){if(t.errorOnInvalidContent){let o=!1,a="";const l=new b7({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?tf.fromSchema(l).parseSlice(Dy(n),t.parseOptions):tf.fromSchema(l).parse(Dy(n),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=tf.fromSchema(e);return t.slice?s.parseSlice(Dy(n),t.parseOptions).content:s.parse(Dy(n),t.parseOptions)}return Vg("",e,t)}function Pce(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof Bi||i instanceof $i))return;const s=n.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),n.setSelection(fn.near(n.doc.resolve(o),t))}const Ice=n=>!("type"in n),Dce=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;const l=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Vg(e,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(b){l(b)}try{a=Vg(e,s.schema,{parseOptions:c,errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(b){return l(b),!1}let{from:u,to:f}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},m=!0,p=!0;if((Ice(a)?a:[a]).forEach(b=>{b.check(),m=m?b.isText&&b.marks.length===0:!1,p=p?b.isBlock:!1}),u===f&&p){const{parent:b}=r.doc.resolve(u);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(u-=1,f+=1)}let v;if(m){if(Array.isArray(e))v=e.map(b=>b.text||"").join("");else if(e instanceof pt){let b="";e.forEach(S=>{S.text&&(b+=S.text)}),v=b}else typeof e=="object"&&e&&e.text?v=e.text:v=e;r.insertText(v,u,f)}else v=a,r.replaceWith(u,f,v);t.updateSelection&&Pce(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:v}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:v})}return!0},Rce=()=>({state:n,dispatch:e})=>Dle(n,e),Lce=()=>({state:n,dispatch:e})=>Rle(n,e),Oce=()=>({state:n,dispatch:e})=>bj(n,e),Mce=()=>({state:n,dispatch:e})=>Cj(n,e),Fce=()=>({state:n,dispatch:e,tr:t})=>{try{const r=tb(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},jce=()=>({state:n,dispatch:e,tr:t})=>{try{const r=tb(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},Bce=()=>({state:n,dispatch:e})=>Ple(n,e),Vce=()=>({state:n,dispatch:e})=>Ile(n,e);function Bj(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $ce(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))t4()||Bj()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const zce=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=$ce(n).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function $g(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,o=e?Ui(e,n.schema):null,a=[];n.doc.nodesBetween(r,i,(f,m)=>{if(f.isText)return;const p=Math.max(r,m),g=Math.min(i,m+f.nodeSize);a.push({node:f,from:p,to:g})});const l=i-r,c=a.filter(f=>o?o.name===f.node.type.name:!0).filter(f=>n2(f.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((f,m)=>f+m.to-m.from,0)>=l}const Uce=(n,e={})=>({state:t,dispatch:r})=>{const i=Ui(n,t.schema);return $g(t,i,e)?Lle(t,r):!1},qce=()=>({state:n,dispatch:e})=>kj(n,e),Hce=n=>({state:e,dispatch:t})=>{const r=Ui(n,e.schema);return Wle(r)(e,t)},Wce=()=>({state:n,dispatch:e})=>_j(n,e);function fb(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function zI(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}const Gce=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=fb(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Ui(n,r.schema)),a==="mark"&&(o=Tf(n,r.schema)),i&&t.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&t.setNodeMarkup(u,void 0,zI(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(f=>{o===f.type&&t.addMark(u,u+c.nodeSize,o.create(zI(f.attrs,e)))})})}),!0):!1},Kce=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),Yce=()=>({tr:n,dispatch:e})=>{if(e){const t=new ca(n.doc);n.setSelection(t)}return!0},Xce=()=>({state:n,dispatch:e})=>Sj(n,e),Jce=()=>({state:n,dispatch:e})=>Aj(n,e),Qce=()=>({state:n,dispatch:e})=>jle(n,e),Zce=()=>({state:n,dispatch:e})=>$le(n,e),eue=()=>({state:n,dispatch:e})=>Vle(n,e);function iC(n,e,t={},r={}){return Vg(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const tue=(n,e=!1,t={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(t.preserveWhitespace!=="full"){const f=iC(n,i.schema,t,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},n,{parseOptions:t,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function Vj(n,e){const t=Tf(e,n.schema),{from:r,to:i,empty:s}=n.selection,o=[];s?(n.storedMarks&&o.push(...n.storedMarks),o.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function nue(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function rue(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function n4(n){return e=>rue(e.$from,n)}function iue(n,e){const t={from:0,to:n.content.size};return Rj(n,t,e)}function sue(n,e){const t=Ui(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function oue(n,e){const t=fb(typeof e=="string"?e:e.name,n.schema);return t==="node"?sue(n,e):t==="mark"?Vj(n,e):{}}function $j(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),o=e4(s,i.type);o&&r.push({mark:i,...o})}):t.nodesBetween(n,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function gv(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function sC(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?Tf(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(f=>s?s.name===f.type.name:!0).find(f=>n2(f.attrs,t,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:f,$to:m})=>{const p=f.pos,g=m.pos;n.doc.nodesBetween(p,g,(v,b)=>{if(!v.isText&&!v.marks.length)return;const S=Math.max(p,b),E=Math.min(g,b+v.nodeSize),_=E-S;o+=_,a.push(...v.marks.map(R=>({mark:R,from:S,to:E})))})}),o===0)return!1;const l=a.filter(f=>s?s.name===f.mark.type.name:!0).filter(f=>n2(f.mark.attrs,t,{strict:!1})).reduce((f,m)=>f+m.to-m.from,0),c=a.filter(f=>s?f.mark.type!==s&&f.mark.type.excludes(s):!0).reduce((f,m)=>f+m.to-m.from,0);return(l>0?l+c:l)>=o}function aue(n,e,t={}){if(!e)return $g(n,null,t)||sC(n,null,t);const r=fb(e,n.schema);return r==="node"?$g(n,e,t):r==="mark"?sC(n,e,t):!1}function UI(n,e){const{nodeExtensions:t}=cb(e),r=t.find(o=>o.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=gn(It(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function r4(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(r4(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function lue(n){return n instanceof Bt}function cue(n,e,t){var r;const{selection:i}=e;let s=null;if(Mj(i)&&(s=i.$cursor),s){const a=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(a.pos,l.pos,(u,f,m)=>{if(c)return!1;if(u.isInline){const p=!m||m.type.allowsMarkType(t),g=!!t.isInSet(u.marks)||!u.marks.some(v=>v.type.excludes(t));c=p&&g}return!c}),c})}const uue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Tf(n,r.schema);if(i)if(o){const c=Vj(r,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;r.doc.nodesBetween(u,f,(m,p)=>{const g=Math.max(p,u),v=Math.min(p+m.nodeSize,f);m.marks.find(S=>S.type===l)?m.marks.forEach(S=>{l===S.type&&t.addMark(g,v,l.create({...S.attrs,...e}))}):t.addMark(g,v,l.create(e))})});return cue(r,t,l)},due=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),fue=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=Ui(n,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:a})=>FI(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>FI(s,{...o,...e})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hue=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=uh(n,0,r.content.size),s=Bt.create(r,i);e.setSelection(s)}return!0},pue=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,o=on.atStart(r).from,a=on.atEnd(r).to,l=uh(i,o,a),c=uh(s,o,a),u=on.create(r,l,c);e.setSelection(u)}return!0},mue=n=>({state:e,dispatch:t})=>{const r=Ui(n,e.schema);return Yle(r)(e,t)};function qI(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e==null?void 0:e.includes(i.type.name));n.tr.ensureMarks(r)}}const gue=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=gv(c,a.node().type.name,a.node().attrs);if(s instanceof Bt&&s.node.isBlock)return!a.parentOffset||!Iu(o,a.pos)?!1:(r&&(n&&qI(t,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,m=a.depth===0?void 0:nue(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&m?[{type:m,attrs:u}]:void 0,g=Iu(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!g&&Iu(e.doc,e.mapping.map(a.pos),1,m?[{type:m}]:void 0)&&(g=!0,p=m?[{type:m,attrs:u}]:void 0),r){if(g&&(s instanceof on&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,p),m&&!f&&!a.parentOffset&&a.parent.type!==m)){const v=e.mapping.map(a.before()),b=e.doc.resolve(v);a.node(-1).canReplaceWith(b.index(),b.index()+1,m)&&e.setNodeMarkup(e.mapping.map(a.before()),m)}n&&qI(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},yue=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var o;const a=Ui(n,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const f=l.node(-1);if(f.type!==a)return!1;const m=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let S=pt.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let C=l.depth-E;C>=l.depth-3;C-=1)S=pt.from(l.node(C).copy(S));const _=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R={...gv(m,l.node().type.name,l.node().attrs),...e},B=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(R))||void 0;S=S.append(pt.from(a.createAndFill(null,B)||void 0));const U=l.before(l.depth-(E-1));t.replace(U,l.after(-_),new Ct(S,4-E,0));let O=-1;t.doc.nodesBetween(U,t.doc.content.size,(C,I)=>{if(O>-1)return!1;C.isTextblock&&C.content.size===0&&(O=I+1)}),O>-1&&t.setSelection(on.near(t.doc.resolve(O))),t.scrollIntoView()}return!0}const p=c.pos===l.end()?f.contentMatchAt(0).defaultType:null,g={...gv(m,f.type.name,f.attrs),...e},v={...gv(m,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const b=p?[{type:a,attrs:g},{type:p,attrs:v}]:[{type:a,attrs:g}];if(!Iu(t.doc,l.pos,2))return!1;if(i){const{selection:S,storedMarks:E}=r,{splittableMarks:_}=s.extensionManager,R=E||S.$to.parentOffset&&S.$from.marks();if(t.split(l.pos,2,b).scrollIntoView(),!R||!i)return!0;const B=R.filter(U=>_.includes(U.type.name));t.ensureMarks(B)}return!0},k5=(n,e)=>{const t=n4(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Af(n.doc,t.pos)&&n.join(t.pos),!0},N5=(n,e)=>{const t=n4(o=>o.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===(i==null?void 0:i.type)&&Af(n.doc,r)&&n.join(r),!0},vue=(n,e,t,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:f,splittableMarks:m}=i.extensionManager,p=Ui(n,o.schema),g=Ui(e,o.schema),{selection:v,storedMarks:b}=o,{$from:S,$to:E}=v,_=S.blockRange(E),R=b||v.$to.parentOffset&&v.$from.marks();if(!_)return!1;const B=n4(U=>UI(U.type.name,f))(v);if(_.depth>=1&&B&&_.depth-B.depth<=1){if(B.node.type===p)return c.liftListItem(g);if(UI(B.node.type.name,f)&&p.validContent(B.node.content)&&a)return l().command(()=>(s.setNodeMarkup(B.pos,p),!0)).command(()=>k5(s,p)).command(()=>N5(s,p)).run()}return!t||!R||!a?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>k5(s,p)).command(()=>N5(s,p)).run():l().command(()=>{const U=u().wrapInList(p,r),O=R.filter(C=>m.includes(C.type.name));return s.ensureMarks(O),U?!0:c.clearNodes()}).wrapInList(p,r).command(()=>k5(s,p)).command(()=>N5(s,p)).run()},xue=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,o=Tf(n,r.schema);return sC(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},bue=(n,e,t={})=>({state:r,commands:i})=>{const s=Ui(n,r.schema),o=Ui(e,r.schema),a=$g(r,s,t);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...t})},wue=(n,e={})=>({state:t,commands:r})=>{const i=Ui(n,t.schema);return $g(t,i,e)?r.lift(i):r.wrapIn(i,e)},Sue=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const o=n.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,n.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},Eue=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},Cue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Tf(n,r.schema),{$from:c,empty:u,ranges:f}=a;if(!i)return!0;if(u&&o){let{from:m,to:p}=a;const g=(s=c.marks().find(b=>b.type===l))===null||s===void 0?void 0:s.attrs,v=e4(c,l,g);v&&(m=v.from,p=v.to),t.removeMark(m,p,l)}else f.forEach(m=>{t.removeMark(m.$from.pos,m.$to.pos,l)});return t.removeStoredMark(l),!0},Aue=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,o=null;const a=fb(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(s=Ui(n,r.schema)),a==="mark"&&(o=Tf(n,r.schema)),i&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let f,m,p,g;t.selection.empty?r.doc.nodesBetween(c,u,(v,b)=>{s&&s===v.type&&(p=Math.max(b,c),g=Math.min(b+v.nodeSize,u),f=b,m=v)}):r.doc.nodesBetween(c,u,(v,b)=>{b<c&&s&&s===v.type&&(p=Math.max(b,c),g=Math.min(b+v.nodeSize,u),f=b,m=v),b>=c&&b<=u&&(s&&s===v.type&&t.setNodeMarkup(b,void 0,{...v.attrs,...e}),o&&v.marks.length&&v.marks.forEach(S=>{if(o===S.type){const E=Math.max(b,c),_=Math.min(b+v.nodeSize,u);t.addMark(E,_,o.create({...S.attrs,...e}))}}))}),m&&(f!==void 0&&t.setNodeMarkup(f,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(v=>{o===v.type&&t.addMark(p,g,o.create({...v.attrs,...e}))}))}),!0):!1},_ue=(n,e={})=>({state:t,dispatch:r})=>{const i=Ui(n,t.schema);return zle(i,e)(t,r)},Tue=(n,e={})=>({state:t,dispatch:r})=>{const i=Ui(n,t.schema);return Ule(i,e)(t,r)};var kue=Object.freeze({__proto__:null,blur:fce,clearContent:hce,clearNodes:pce,command:mce,createParagraphNear:gce,cut:yce,deleteCurrentNode:vce,deleteNode:xce,deleteRange:bce,deleteSelection:wce,enter:Sce,exitCode:Ece,extendMarkRange:Cce,first:Ace,focus:Tce,forEach:kce,insertContent:Nce,insertContentAt:Dce,joinBackward:Oce,joinDown:Lce,joinForward:Mce,joinItemBackward:Fce,joinItemForward:jce,joinTextblockBackward:Bce,joinTextblockForward:Vce,joinUp:Rce,keyboardShortcut:zce,lift:Uce,liftEmptyBlock:qce,liftListItem:Hce,newlineInCode:Wce,resetAttributes:Gce,scrollIntoView:Kce,selectAll:Yce,selectNodeBackward:Xce,selectNodeForward:Jce,selectParentNode:Qce,selectTextblockEnd:Zce,selectTextblockStart:eue,setContent:tue,setMark:uue,setMeta:due,setNode:fue,setNodeSelection:hue,setTextSelection:pue,sinkListItem:mue,splitBlock:gue,splitListItem:yue,toggleList:vue,toggleMark:xue,toggleNode:bue,toggleWrap:wue,undoInputRule:Sue,unsetAllMarks:Eue,unsetMark:Cue,updateAttributes:Aue,wrapIn:_ue,wrapInList:Tue});const Nue=Us.create({name:"commands",addCommands(){return{...kue}}}),Pue=Us.create({name:"drop",addProseMirrorPlugins(){return[new Bo({key:new Uc("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),Iue=Us.create({name:"editable",addProseMirrorPlugins(){return[new Bo({key:new Uc("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Due=new Uc("focusEvents"),Rue=Us.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Bo({key:Due,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Lue=Us.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:f}=l,{pos:m,parent:p}=f,g=f.parent.isTextblock&&m>0?a.doc.resolve(m-1):f,v=g.parent.type.spec.isolating,b=f.pos-f.parentOffset,S=v&&g.parent.childCount===1?b===f.pos:fn.atStart(c).from===m;return!u||!p.type.isTextblock||p.textContent.length||!S||S&&f.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return t4()||Bj()?s:i},addProseMirrorPlugins(){return[new Bo({key:new Uc("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!e.doc.eq(t.doc),i=n.some(v=>v.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=fn.atStart(e.doc).from,c=fn.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!r4(t.doc))return;const m=t.tr,p=ab({state:t,transaction:m}),{commands:g}=new lb({editor:this.editor,state:p});if(g.clearNodes(),!!m.steps.length)return m}})]}}),Oue=Us.create({name:"paste",addProseMirrorPlugins(){return[new Bo({key:new Uc("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),Mue=Us.create({name:"tabindex",addProseMirrorPlugins(){return[new Bo({key:new Uc("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class th{get name(){return this.node.type.name}constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new th(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new th(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new th(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new th(a,this.editor,i,i?t:null);i&&(l.actualDepth=this.depth+1),e.push(new th(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const Fue=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jue(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}class Bue extends Xle{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:i})=>this.options.onDrop(t,r,i)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jue(Fue,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=Dj(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=r.filter(a=>!a.key.startsWith(o))}),t.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,t;const i=[...this.options.enableCoreExtensions?[Iue,dce.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),Nue,Rue,Lue,Mue,Pue,Oue].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new $p(i,this)}createCommandManager(){this.commandManager=new lb({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=iC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=iC(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=Fj(t,this.options.autofocus);this.view=new yj(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Vp.create({doc:t,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return oue(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,i=typeof e=="string"?t:e;return aue(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Q_(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return iue(this.state.doc,{blockSeparator:t,textSerializers:{...Lj(this.schema),...r}})}get isEmpty(){return r4(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new th(t,this)}get $doc(){return this.$pos(0)}}function S0(n){return new ub({find:n.find,handler:({state:e,range:t,match:r})=>{const i=gn(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if($j(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===n.type&&v!==p.mark.type)).filter(p=>p.to>c).length)return null;u<t.to&&s.delete(u,t.to),c>t.from&&s.delete(t.from+l,c);const m=t.from+l+o.length;s.addMark(t.from+l,m,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function Vue(n){return new ub({find:n.find,handler:({state:e,range:t,match:r})=>{const i=gn(n.getAttributes,void 0,r)||{},{tr:s}=e,o=t.from;let a=t.to;const l=n.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const f=r[0][r[0].length-1];s.insertText(f,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=n.type.isInline?o:o-1;s.insert(c,n.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function oC(n){return new ub({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=gn(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)}})}function zg(n){return new ub({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=gn(n.getAttributes,void 0,r)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&M_(l,n.type,s);if(!c)return null;if(o.wrap(l,c),n.keepMarks&&n.editor){const{selection:f,storedMarks:m}=e,{splittableMarks:p}=n.editor.extensionManager,g=m||f.$to.parentOffset&&f.$from.marks();if(g){const v=g.filter(b=>p.includes(b.type.name));o.ensureMarks(v)}}if(n.keepAttributes){const f=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,s).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===n.type&&Af(o.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,u))&&o.join(t.from-1)}})}let zl=class aC{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=gn(It(this,"addOptions",{name:this.name}))),this.storage=gn(It(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new aC(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>db(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new aC(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=gn(It(t,"addOptions",{name:t.name})),t.storage=gn(It(t,"addStorage",{name:t.name,options:t.options})),t}};function E0(n){return new sce({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=gn(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=t.to;if(a){const u=l.search(/\S/),f=t.from+l.indexOf(a),m=f+a.length;if($j(t.from,t.to,e.doc).filter(g=>g.mark.type.excluded.find(b=>b===n.type&&b!==g.mark.type)).filter(g=>g.to>f).length)return null;m<t.to&&o.delete(m,t.to),f>t.from&&o.delete(t.from+u,f),c=t.from+u+a.length,o.addMark(t.from+u,c,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function $ue(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zj={exports:{}},P5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function zue(){if(HI)return P5;HI=1;var n=dt;function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function a(f,m){var p=m(),g=r({inst:{value:p,getSnapshot:m}}),v=g[0].inst,b=g[1];return s(function(){v.value=p,v.getSnapshot=m,l(v)&&b({inst:v})},[f,p,m]),i(function(){return l(v)&&b({inst:v}),f(function(){l(v)&&b({inst:v})})},[f]),o(p),p}function l(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!t(f,p)}catch{return!0}}function c(f,m){return m()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return P5.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,P5}zj.exports=zue();var i4=zj.exports;const Uue=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},que=({contentComponent:n})=>{const e=i4.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return dt.createElement(dt.Fragment,null,Object.values(e))};function Hue(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:Oz.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}class Wue extends dt.Component{constructor(e){var t;super(e),this.editorContentRef=dt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=Hue(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return dt.createElement(dt.Fragment,null,dt.createElement("div",{ref:Uue(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&dt.createElement(que,{contentComponent:e.contentComponent}))}}const Gue=F.forwardRef((n,e)=>{const t=dt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return dt.createElement(Wue,{key:t,innerRef:e,...n})}),Kue=dt.memo(Gue);var Yue=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(!n(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!n(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!n(e[o],t[o]))return!1}return!0}return e!==e&&t!==t},Xue=$ue(Yue),Uj={exports:{}},I5={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WI;function Jue(){if(WI)return I5;WI=1;var n=dt,e=i4;function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,a=n.useMemo,l=n.useDebugValue;return I5.useSyncExternalStoreWithSelector=function(c,u,f,m,p){var g=s(null);if(g.current===null){var v={hasValue:!1,value:null};g.current=v}else v=g.current;g=a(function(){function S(U){if(!E){if(E=!0,_=U,U=m(U),p!==void 0&&v.hasValue){var O=v.value;if(p(O,U))return R=O}return R=U}if(O=R,r(_,U))return O;var C=m(U);return p!==void 0&&p(O,C)?O:(_=U,R=C)}var E=!1,_,R,B=f===void 0?null:f;return[function(){return S(u())},B===null?void 0:function(){return S(B())}]},[u,f,m,p]);var b=i(c,g[0],g[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),l(b),b},I5}Uj.exports=Jue();var Que=Uj.exports;const Zue=typeof window<"u"?F.useLayoutEffect:F.useEffect;class ede{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function tde(n){var e;const[t]=F.useState(()=>new ede(n.editor)),r=Que.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:Xue);return Zue(()=>t.watch(n.editor),[n.editor,t]),F.useDebugValue(r),r}const nde=!1,lC=typeof window>"u",rde=lC||!!(typeof window<"u"&&window.next);class s4{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?lC||rde?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new Bue(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var o;return i===((o=t.extensions)===null||o===void 0?void 0:o[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?s4.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function ide(n={},e=[]){const t=F.useRef(n);t.current=n;const[r]=F.useState(()=>new s4(t)),i=i4.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return F.useDebugValue(i),F.useEffect(r.onRender(e)),tde({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),i}const sde=F.createContext({editor:null});sde.Consumer;const ode=F.createContext({onDragStart:void 0}),ade=()=>F.useContext(ode);dt.forwardRef((n,e)=>{const{onDragStart:t}=ade(),r=n.as||"div";return dt.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const lde=/^\s*>\s$/,cde=zl.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[zg({find:lde,type:this.type})]}}),ude=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,dde=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,fde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,hde=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,pde=jc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[S0({find:ude,type:this.type}),S0({find:fde,type:this.type})]},addPasteRules(){return[E0({find:dde,type:this.type}),E0({find:hde,type:this.type})]}}),mde="listItem",GI="textStyle",KI=/^\s*([-+*])\s$/,gde=zl.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mde,this.editor.getAttributes(GI)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=zg({find:KI,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=zg({find:KI,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(GI),editor:this.editor})),[n]}}),yde=/(^|[^`])`([^`]+)`(?!`)/,vde=/(^|[^`])`([^`]+)`(?!`)/g,xde=jc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[S0({find:yde,type:this.type})]},addPasteRules(){return[E0({find:vde,type:this.type})]}}),bde=/^```([a-z]+)?[\s\n]$/,wde=/^~~~([a-z]+)?[\s\n]$/,Sde=zl.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=n.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ps(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:c})=>(c.setSelection(fn.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[oC({find:bde,type:this.type,getAttributes:n=>({language:n[1]})}),oC({find:wde,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Bo({key:new Uc("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!t||!s)return!1;const{tr:o,schema:a}=n.state,l=a.text(t.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(on.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),n.dispatch(o),!0}}})]}}),Ede=zl.create({name:"doc",topNode:!0,content:"block+"});function Cde(n={}){return new Bo({view(e){return new Ade(e,n)}})}class Ade{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),o=s.width/i.offsetWidth,a=s.height/i.offsetHeight;if(t){let f=e.nodeBefore,m=e.nodeAfter;if(f||m){let p=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(p){let g=p.getBoundingClientRect(),v=f?g.bottom:g.top;f&&m&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*a;r={left:g.left,right:g.right,top:v-b,bottom:v+b}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),m=this.width/2*o;r={left:f.left-m,right:f.left+m,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let f=l.getBoundingClientRect(),m=f.width/l.offsetWidth,p=f.height/l.offsetHeight;c=f.left-l.scrollLeft*m,u=f.top-l.scrollTop*p}this.element.style.left=(r.left-c)/o+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/o+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=I7(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const _de=Us.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Cde(this.options)]}});class Vr extends fn{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Vr.valid(r)?new Vr(r):fn.near(r)}content(){return Ct.empty}eq(e){return e instanceof Vr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Vr(e.resolve(t.pos))}getBookmark(){return new o4(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!Tde(e)||!kde(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Vr.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=t;let l=e.doc.resolve(i);if(Vr.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Bt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=o,i+=t;let a=e.doc.resolve(i);if(Vr.valid(a))return a}return null}}}Vr.prototype.visible=!1;Vr.findFrom=Vr.findGapCursorFrom;fn.jsonID("gapcursor",Vr);class o4{constructor(e){this.pos=e}map(e){return new o4(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Vr.valid(t)?new Vr(t):fn.near(t)}}function Tde(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function kde(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Nde(){return new Bo({props:{decorations:Rde,createSelectionBetween(n,e,t){return e.pos==t.pos&&Vr.valid(t)?new Vr(t):null},handleClick:Ide,handleKeyDown:Pde,handleDOMEvents:{beforeinput:Dde}}})}const Pde=vj({ArrowLeft:Ry("horiz",-1),ArrowRight:Ry("horiz",1),ArrowUp:Ry("vert",-1),ArrowDown:Ry("vert",1)});function Ry(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof on){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=Vr.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new Vr(c))),!0):!1}}function Ide(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Vr.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Bt.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Vr(r))),!0)}function Dde(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Vr))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=pt.empty;for(let o=r.length-1;o>=0;o--)i=pt.from(r[o].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new Ct(i,0,0));return s.setSelection(on.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function Rde(n){if(!(n.selection instanceof Vr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",mi.create(n.doc,[za.widget(n.selection.head,e,{key:"gapcursor"})])}const Lde=Us.create({name:"gapCursor",addProseMirrorPlugins(){return[Nde()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=gn(It(n,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),Ode=zl.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ps(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const f=l.filter(m=>a.includes(m.type.name));c.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Mde=zl.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ps(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>oC({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var r2=200,zi=function(){};zi.prototype.append=function(e){return e.length?(e=zi.from(e),!this.length&&e||e.length<r2&&this.leafAppend(e)||this.length<r2&&e.leafPrepend(this)||this.appendInner(e)):this};zi.prototype.prepend=function(e){return e.length?zi.from(e).append(this):this};zi.prototype.appendInner=function(e){return new Fde(this,e)};zi.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?zi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};zi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};zi.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};zi.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},t,r),i};zi.from=function(e){return e instanceof zi?e:e&&e.length?new qj(e):zi.empty};var qj=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=r2)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=r2)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(zi);zi.empty=new qj([]);var Fde=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(zi);const jde=500;class kl{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((f,m)=>{if(!f.step){i||(i=this.remapping(r,m+1),s=i.maps.length),s--,u.push(f);return}if(i){u.push(new mc(f.map));let p=f.step.map(i.slice(s)),g;p&&o.maybeStep(p).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],c.push(new mc(g,void 0,void 0,c.length+u.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(s)):f.selection,l=new kl(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let f=e.steps[u].invert(e.docs[u]),m=new mc(e.mapping.maps[u],f,t),p;(p=l&&l.merge(m))&&(m=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(m),t&&(o++,t=void 0),i||(l=m)}let c=o-r.depth;return c>Vde&&(a=Bde(a,c),o-=c),new kl(a.append(s),o)}remapping(e,t){let r=new Og;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,t),r}addMaps(e){return this.eventCount==0?this:new kl(this.items.append(e.map(t=>new mc(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(m=>{m.selection&&a--},i);let l=t;this.items.forEach(m=>{let p=s.getMirror(--l);if(p==null)return;o=Math.min(o,p);let g=s.maps[p];if(m.step){let v=e.steps[p].invert(e.docs[p]),b=m.selection&&m.selection.map(s.slice(l+1,p));b&&a++,r.push(new mc(g,v,b))}else r.push(new mc(g))},i);let c=[];for(let m=t;m<o;m++)c.push(new mc(s.maps[m]));let u=this.items.slice(0,i).append(c).append(r),f=new kl(u,a);return f.emptyItemCount()>jde&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(r)),c=l&&l.getMap();if(r--,c&&t.appendMap(c,r),l){let u=o.selection&&o.selection.map(t.slice(r));u&&s++;let f=new mc(c.invert(),l,u),m,p=i.length-1;(m=i.length&&i[p].merge(f))?i[p]=m:i.push(f)}}else o.map&&r--},this.items.length,0),new kl(zi.from(i.reverse()),s)}}kl.empty=new kl(zi.empty,0);function Bde(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}class mc{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new mc(t.getMap().invert(),t,this.selection)}}}class Dd{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Vde=20;function $de(n,e,t,r){let i=t.getMeta(bh),s;if(i)return i.historyState;t.getMeta(qde)&&(n=new Dd(n.done,n.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(o&&o.getMeta(bh))return o.getMeta(bh).redo?new Dd(n.done.addTransform(t,void 0,r,yv(e)),n.undone,YI(t.mapping.maps),n.prevTime,n.prevComposition):new Dd(n.done,n.undone.addTransform(t,void 0,r,yv(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=n.prevTime==0||!o&&n.prevComposition!=a&&(n.prevTime<(t.time||0)-r.newGroupDelay||!zde(t,n.prevRanges)),c=o?D5(n.prevRanges,t.mapping):YI(t.mapping.maps);return new Dd(n.done.addTransform(t,l?e.selection.getBookmark():void 0,r,yv(e)),kl.empty,c,t.time,a??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Dd(n.done.rebased(t,s),n.undone.rebased(t,s),D5(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Dd(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),D5(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function zde(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function YI(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,o)=>e.push(s,o));return e}function D5(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function Ude(n,e,t){let r=yv(e),i=bh.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new Dd(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(bh,{redo:t,historyState:l})}let R5=!1,XI=null;function yv(n){let e=n.plugins;if(XI!=e){R5=!1,XI=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){R5=!0;break}}return R5}const bh=new Uc("history"),qde=new Uc("closeHistory");function Hde(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Bo({key:bh,state:{init(){return new Dd(kl.empty,kl.empty,null,0,-1)},apply(e,t,r){return $de(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?Wj:r=="historyRedo"?Gj:null;return i?(t.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Hj(n,e){return(t,r)=>{let i=bh.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=Ude(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const Wj=Hj(!1,!0),Gj=Hj(!0,!0),Wde=Us.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Wj(n,e),redo:()=>({state:n,dispatch:e})=>Gj(n,e)}},addProseMirrorPlugins(){return[Hde(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Gde=zl.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ps(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{const{selection:t}=e,{$from:r,$to:i}=t,s=n();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):lue(t)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(on.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Bt.create(o.doc,c.pos)):o.setSelection(on.create(o.doc,c.pos));else{const f=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(o.insert(u,f),o.setSelection(on.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Vue({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Kde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Yde=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Xde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Jde=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Qde=jc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[S0({find:Kde,type:this.type}),S0({find:Xde,type:this.type})]},addPasteRules(){return[E0({find:Yde,type:this.type}),E0({find:Jde,type:this.type})]}}),Zde=zl.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ps(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),efe="listItem",JI="textStyle",QI=/^(\d+)\.\s$/,tfe=zl.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",ps(this.options.HTMLAttributes,t),0]:["ol",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(efe,this.editor.getAttributes(JI)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=zg({find:QI,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=zg({find:QI,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(JI)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),nfe=zl.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),rfe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ife=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,sfe=jc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[S0({find:rfe,type:this.type})]},addPasteRules(){return[E0({find:ife,type:this.type})]}}),ofe=zl.create({name:"text",group:"inline"}),afe=Us.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(pde.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(cde.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(gde.configure(this.options.bulletList)),this.options.code!==!1&&n.push(xde.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(Sde.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(Ede.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(_de.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(Lde.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(Ode.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(Mde.configure(this.options.heading)),this.options.history!==!1&&n.push(Wde.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(Gde.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push(Qde.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Zde.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(tfe.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(nfe.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(sfe.configure(this.options.strike)),this.options.text!==!1&&n.push(ofe.configure(this.options.text)),n}}),lfe=jc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),cfe=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,i;const s=t.getAttribute("style"),o=(i=(r=t.parentElement)===null||r===void 0?void 0:r.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");t.setAttribute("style",`${o};${s}`)})},ufe=jc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&cfe(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",ps(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(s=>!!s))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),dfe=Us.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}});function i2({content:n,onChange:e,withDefaultStyles:t=!1}){const r=ide({extensions:[afe,lfe,ufe,dfe],content:n,editorProps:{attributes:{class:t?"prose max-w-full min-h-[150px] border border-gray-300 rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-blue-500":""}},onUpdate({editor:i}){e(i.getHTML())}});return r?A.jsxs("div",{className:"space-y-2",children:[A.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleBold().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("bold")?"bg-black text-white":"bg-gray-200"}`,children:"Bold"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleItalic().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("italic")?"bg-black text-white":"bg-gray-200"}`,children:"Italic"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleUnderline().run(),className:`px-2 py-1 text-sm rounded ${r.isActive("underline")?"bg-black text-white":"bg-gray-200"}`,children:"Underline"}),A.jsx("button",{type:"button",onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),className:`px-2 py-1 text-sm rounded ${r.isActive("heading",{level:2})?"bg-black text-white":"bg-gray-200"}`,children:"H2"}),A.jsx("input",{type:"color",onInput:i=>r.chain().focus().setColor(i.target.value).run(),className:"w-8 h-8 p-0 border rounded cursor-pointer"})]}),A.jsx(Kue,{editor:r})]}):null}function ffe(n){return n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-")}function hfe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return F.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function V0(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function a4(n){return"nodeType"in n}function Vo(n){var e,t;return n?V0(n)?n:a4(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function l4(n){const{Document:e}=Vo(n);return n instanceof e}function x1(n){return V0(n)?!1:n instanceof Vo(n).HTMLElement}function Kj(n){return n instanceof Vo(n).SVGElement}function $0(n){return n?V0(n)?n.document:a4(n)?l4(n)?n:x1(n)||Kj(n)?n.ownerDocument:document:document:document}const Bc=hb?F.useLayoutEffect:F.useEffect;function c4(n){const e=F.useRef(n);return Bc(()=>{e.current=n}),F.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function pfe(){const n=F.useRef(null),e=F.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=F.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function Ug(n,e){e===void 0&&(e=[n]);const t=F.useRef(n);return Bc(()=>{t.current!==n&&(t.current=n)},e),t}function b1(n,e){const t=F.useRef();return F.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function s2(n){const e=c4(n),t=F.useRef(null),r=F.useCallback(i=>{i!==t.current&&(e==null||e(i,t.current)),t.current=i},[]);return[t,r]}function cC(n){const e=F.useRef();return F.useEffect(()=>{e.current=n},[n]),e.current}let L5={};function w1(n,e){return F.useMemo(()=>{if(e)return e;const t=L5[n]==null?0:L5[n]+1;return L5[n]=t,n+"-"+t},[n,e])}function Yj(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+n*c)}return s},{...e})}}const e0=Yj(1),qg=Yj(-1);function mfe(n){return"clientX"in n&&"clientY"in n}function u4(n){if(!n)return!1;const{KeyboardEvent:e}=Vo(n.target);return e&&n instanceof e}function gfe(n){if(!n)return!1;const{TouchEvent:e}=Vo(n.target);return e&&n instanceof e}function uC(n){if(gfe(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return mfe(n)?{x:n.clientX,y:n.clientY}:null}const C0=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[C0.Translate.toString(n),C0.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),ZI="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function yfe(n){return n.matches(ZI)?n:n.querySelector(ZI)}const vfe={display:"none"};function xfe(n){let{id:e,value:t}=n;return dt.createElement("div",{id:e,style:vfe},t)}function bfe(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return dt.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function wfe(){const[n,e]=F.useState("");return{announce:F.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const Xj=F.createContext(null);function Sfe(n){const e=F.useContext(Xj);F.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Efe(){const[n]=F.useState(()=>new Set),e=F.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[F.useCallback(r=>{let{type:i,event:s}=r;n.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[n]),e]}const Cfe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Afe={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function _fe(n){let{announcements:e=Afe,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=Cfe}=n;const{announce:s,announcement:o}=wfe(),a=w1("DndLiveRegion"),[l,c]=F.useState(!1);if(F.useEffect(()=>{c(!0)},[]),Sfe(F.useMemo(()=>({onDragStart(f){let{active:m}=f;s(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;e.onDragMove&&s(e.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;s(e.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;s(e.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;s(e.onDragCancel({active:m,over:p}))}}),[s,e])),!l)return null;const u=dt.createElement(dt.Fragment,null,dt.createElement(xfe,{id:r,value:i.draggable}),dt.createElement(bfe,{id:a,announcement:o}));return t?fs.createPortal(u,t):u}var gi;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(gi||(gi={}));function o2(){}function a2(n,e){return F.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Jj(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return F.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const jl=Object.freeze({x:0,y:0});function Qj(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function Zj(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function Tfe(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function e6(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function eB(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function t6(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const tB=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=t6(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const c=Qj(t6(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(Zj)},kfe=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=e6(e),s=[];for(const o of r){const{id:a}=o,l=t.get(a);if(l){const c=e6(l),u=i.reduce((m,p,g)=>m+Qj(c[g],p),0),f=Number((u/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:f}})}}return s.sort(Zj)};function Nfe(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),o=i-r,a=s-t;if(r<i&&t<s){const l=e.width*e.height,c=n.width*n.height,u=o*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const Pfe=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:o}=s,a=t.get(o);if(a){const l=Nfe(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(Tfe)};function Ife(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function nB(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:jl}function Dfe(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+n*a.y,bottom:o.bottom+n*a.y,left:o.left+n*a.x,right:o.right+n*a.x}),{...t})}}const Rfe=Dfe(1);function Lfe(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Ofe(n,e,t){const r=Lfe(e);if(!r)return n;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=n.left-o-(1-i)*parseFloat(t),c=n.top-a-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),u=i?n.width/i:n.width,f=s?n.height/s:n.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const Mfe={ignoreTransform:!1};function z0(n,e){e===void 0&&(e=Mfe);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Vo(n).getComputedStyle(n);c&&(t=Ofe(t,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=t;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function n6(n){return z0(n,{ignoreTransform:!0})}function Ffe(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function jfe(n,e){return e===void 0&&(e=Vo(n).getComputedStyle(n)),e.position==="fixed"}function Bfe(n,e){e===void 0&&(e=Vo(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function pb(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(l4(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!x1(i)||Kj(i)||t.includes(i))return t;const s=Vo(n).getComputedStyle(i);return i!==n&&Bfe(i,s)&&t.push(i),jfe(i,s)?t:r(i.parentNode)}return n?r(n):t}function rB(n){const[e]=pb(n,1);return e??null}function O5(n){return!hb||!n?null:V0(n)?n:a4(n)?l4(n)||n===$0(n).scrollingElement?window:x1(n)?n:null:null}function iB(n){return V0(n)?n.scrollX:n.scrollLeft}function sB(n){return V0(n)?n.scrollY:n.scrollTop}function dC(n){return{x:iB(n),y:sB(n)}}var Oi;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Oi||(Oi={}));function oB(n){return!hb||!n?!1:n===document.scrollingElement}function aB(n){const e={x:0,y:0},t=oB(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,o=n.scrollTop>=r.y,a=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const Vfe={x:.2,y:.2};function $fe(n,e,t,r,i){let{top:s,left:o,right:a,bottom:l}=t;r===void 0&&(r=10),i===void 0&&(i=Vfe);const{isTop:c,isBottom:u,isLeft:f,isRight:m}=aB(n),p={x:0,y:0},g={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(p.y=Oi.Backward,g.y=r*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(p.y=Oi.Forward,g.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!m&&a>=e.right-v.width?(p.x=Oi.Forward,g.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&o<=e.left+v.width&&(p.x=Oi.Backward,g.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:p,speed:g}}function zfe(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function lB(n){return n.reduce((e,t)=>e0(e,dC(t)),jl)}function Ufe(n){return n.reduce((e,t)=>e+iB(t),0)}function qfe(n){return n.reduce((e,t)=>e+sB(t),0)}function Hfe(n,e){if(e===void 0&&(e=z0),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);rB(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const Wfe=[["x",["left","right"],Ufe],["y",["top","bottom"],qfe]];class d4{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=pb(t),i=lB(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of Wfe)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eg{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function Gfe(n){const{EventTarget:e}=Vo(n);return n instanceof e?n:$0(n)}function M5(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Va;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Va||(Va={}));function r6(n){n.preventDefault()}function Kfe(n){n.stopPropagation()}var An;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(An||(An={}));const cB={start:[An.Space,An.Enter],cancel:[An.Esc],end:[An.Space,An.Enter,An.Tab]},Yfe=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case An.Right:return{...t,x:t.x+25};case An.Left:return{...t,x:t.x-25};case An.Down:return{...t,y:t.y+25};case An.Up:return{...t,y:t.y-25}}};class mb{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new eg($0(t)),this.windowListeners=new eg(Vo(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Va.Resize,this.handleCancel),this.windowListeners.add(Va.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Va.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&Hfe(r),t(jl)}handleKeyDown(e){if(u4(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=cB,coordinateGetter:o=Yfe,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:jl;this.referenceCoordinates||(this.referenceCoordinates=u);const f=o(e,{active:t,context:r.current,currentCoordinates:u});if(f){const m=qg(f,u),p={x:0,y:0},{scrollableAncestors:g}=r.current;for(const v of g){const b=e.code,{isTop:S,isRight:E,isLeft:_,isBottom:R,maxScroll:B,minScroll:U}=aB(v),O=zfe(v),C={x:Math.min(b===An.Right?O.right-O.width/2:O.right,Math.max(b===An.Right?O.left:O.left+O.width/2,f.x)),y:Math.min(b===An.Down?O.bottom-O.height/2:O.bottom,Math.max(b===An.Down?O.top:O.top+O.height/2,f.y))},I=b===An.Right&&!E||b===An.Left&&!_,P=b===An.Down&&!R||b===An.Up&&!S;if(I&&C.x!==f.x){const N=v.scrollLeft+m.x,D=b===An.Right&&N<=B.x||b===An.Left&&N>=U.x;if(D&&!m.y){v.scrollTo({left:N,behavior:a});return}D?p.x=v.scrollLeft-N:p.x=b===An.Right?v.scrollLeft-B.x:v.scrollLeft-U.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if(P&&C.y!==f.y){const N=v.scrollTop+m.y,D=b===An.Down&&N<=B.y||b===An.Up&&N>=U.y;if(D&&!m.x){v.scrollTo({top:N,behavior:a});return}D?p.y=v.scrollTop-N:p.y=b===An.Down?v.scrollTop-B.y:v.scrollTop-U.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,e0(qg(f,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}mb.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=cB,onActivation:i}=e,{active:s}=t;const{code:o}=n.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&n.target!==a?!1:(n.preventDefault(),i==null||i({event:n.nativeEvent}),!0)}return!1}}];function i6(n){return!!(n&&"distance"in n)}function s6(n){return!!(n&&"delay"in n)}class f4{constructor(e,t,r){var i;r===void 0&&(r=Gfe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:o}=s;this.props=e,this.events=t,this.document=$0(o),this.documentListeners=new eg(this.document),this.listeners=new eg(r),this.windowListeners=new eg(Vo(o)),this.initialCoordinates=(i=uC(s))!=null?i:jl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Va.Resize,this.handleCancel),this.windowListeners.add(Va.DragStart,r6),this.windowListeners.add(Va.VisibilityChange,this.handleCancel),this.windowListeners.add(Va.ContextMenu,r6),this.documentListeners.add(Va.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(s6(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(i6(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Va.Click,Kfe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Va.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(t=uC(e))!=null?t:jl,c=qg(i,l);if(!r&&a){if(i6(a)){if(a.tolerance!=null&&M5(c,a.tolerance))return this.handleCancel();if(M5(c,a.distance))return this.handleStart()}if(s6(a)&&M5(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===An.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Xfe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gb extends f4{constructor(e){const{event:t}=e,r=$0(t.target);super(e,Xfe,r)}}gb.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r==null||r({event:t}),!0)}}];const Jfe={move:{name:"mousemove"},end:{name:"mouseup"}};var fC;(function(n){n[n.RightClick=2]="RightClick"})(fC||(fC={}));class Qfe extends f4{constructor(e){super(e,Jfe,$0(e.event.target))}}Qfe.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===fC.RightClick?!1:(r==null||r({event:t}),!0)}}];const F5={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Zfe extends f4{constructor(e){super(e,F5)}static setup(){return window.addEventListener(F5.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(F5.move.name,e)};function e(){}}}Zfe.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r==null||r({event:t}),!0)}}];var tg;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(tg||(tg={}));var l2;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(l2||(l2={}));function ehe(n){let{acceleration:e,activator:t=tg.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=l2.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:m}=n;const p=nhe({delta:f,disabled:!s}),[g,v]=pfe(),b=F.useRef({x:0,y:0}),S=F.useRef({x:0,y:0}),E=F.useMemo(()=>{switch(t){case tg.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case tg.DraggableRect:return i}},[t,i,l]),_=F.useRef(null),R=F.useCallback(()=>{const U=_.current;if(!U)return;const O=b.current.x*S.current.x,C=b.current.y*S.current.y;U.scrollBy(O,C)},[]),B=F.useMemo(()=>a===l2.TreeOrder?[...c].reverse():c,[a,c]);F.useEffect(()=>{if(!s||!c.length||!E){v();return}for(const U of B){if((r==null?void 0:r(U))===!1)continue;const O=c.indexOf(U),C=u[O];if(!C)continue;const{direction:I,speed:P}=$fe(U,C,E,e,m);for(const N of["x","y"])p[N][I[N]]||(P[N]=0,I[N]=0);if(P.x>0||P.y>0){v(),_.current=U,g(R,o),b.current=P,S.current=I;return}}b.current={x:0,y:0},S.current={x:0,y:0},v()},[e,R,r,v,s,o,JSON.stringify(E),JSON.stringify(p),g,c,B,u,JSON.stringify(m)])}const the={x:{[Oi.Backward]:!1,[Oi.Forward]:!1},y:{[Oi.Backward]:!1,[Oi.Forward]:!1}};function nhe(n){let{delta:e,disabled:t}=n;const r=cC(e);return b1(i=>{if(t||!r||!i)return the;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Oi.Backward]:i.x[Oi.Backward]||s.x===-1,[Oi.Forward]:i.x[Oi.Forward]||s.x===1},y:{[Oi.Backward]:i.y[Oi.Backward]||s.y===-1,[Oi.Forward]:i.y[Oi.Forward]||s.y===1}}},[t,e,r])}function rhe(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return b1(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function ihe(n,e){return F.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...t,...s]},[]),[n,e])}var Hg;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Hg||(Hg={}));var hC;(function(n){n.Optimized="optimized"})(hC||(hC={}));const o6=new Map;function she(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,o]=F.useState(null),{frequency:a,measure:l,strategy:c}=i,u=F.useRef(n),f=b(),m=Ug(f),p=F.useCallback(function(S){S===void 0&&(S=[]),!m.current&&o(E=>E===null?S:E.concat(S.filter(_=>!E.includes(_))))},[m]),g=F.useRef(null),v=b1(S=>{if(f&&!t)return o6;if(!S||S===o6||u.current!==n||s!=null){const E=new Map;for(let _ of n){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){E.set(_.id,_.rect.current);continue}const R=_.node.current,B=R?new d4(l(R),R):null;_.rect.current=B,B&&E.set(_.id,B)}return E}return S},[n,s,t,f,l]);return F.useEffect(()=>{u.current=n},[n]),F.useEffect(()=>{f||p()},[t,f]),F.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),F.useEffect(()=>{f||typeof a!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},a))},[a,f,p,...r]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function b(){switch(c){case Hg.Always:return!1;case Hg.BeforeDragging:return t;default:return!t}}}function uB(n,e){return b1(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function ohe(n,e){return uB(n,e)}function ahe(n){let{callback:e,disabled:t}=n;const r=c4(e),i=F.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function yb(n){let{callback:e,disabled:t}=n;const r=c4(e),i=F.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return F.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function lhe(n){return new d4(z0(n),n)}function a6(n,e,t){e===void 0&&(e=lhe);const[r,i]=F.useState(null);function s(){i(l=>{if(!n)return null;if(n.isConnected===!1){var c;return(c=l??t)!=null?c:null}const u=e(n);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=ahe({callback(l){if(n)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(n)){s();break}}}}),a=yb({callback:s});return Bc(()=>{s(),n?(a==null||a.observe(n),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[n]),r}function che(n){const e=uB(n);return nB(n,e)}const l6=[];function uhe(n){const e=F.useRef(n),t=b1(r=>n?r&&r!==l6&&n&&e.current&&n.parentNode===e.current.parentNode?r:pb(n):l6,[n]);return F.useEffect(()=>{e.current=n},[n]),t}function dhe(n){const[e,t]=F.useState(null),r=F.useRef(n),i=F.useCallback(s=>{const o=O5(s.target);o&&t(a=>a?(a.set(o,dC(o)),new Map(a)):null)},[]);return F.useEffect(()=>{const s=r.current;if(n!==s){o(s);const a=n.map(l=>{const c=O5(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,dC(c)]):null}).filter(l=>l!=null);t(a.length?new Map(a):null),r.current=n}return()=>{o(n),o(s)};function o(a){a.forEach(l=>{const c=O5(l);c==null||c.removeEventListener("scroll",i)})}},[i,n]),F.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,o)=>e0(s,o),jl):lB(n):jl,[n,e])}function c6(n,e){e===void 0&&(e=[]);const t=F.useRef(null);return F.useEffect(()=>{t.current=null},e),F.useEffect(()=>{const r=n!==jl;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?qg(n,t.current):jl}function fhe(n){F.useEffect(()=>{if(!hb)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t==null||t()}},n.map(e=>{let{sensor:t}=e;return t}))}function hhe(n,e){return F.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=o=>{s(o,e)},t},{}),[n,e])}function dB(n){return F.useMemo(()=>n?Ffe(n):null,[n])}const u6=[];function phe(n,e){e===void 0&&(e=z0);const[t]=n,r=dB(t?Vo(t):null),[i,s]=F.useState(u6);function o(){s(()=>n.length?n.map(l=>oB(l)?r:new d4(e(l),l)):u6)}const a=yb({callback:o});return Bc(()=>{a==null||a.disconnect(),o(),n.forEach(l=>a==null?void 0:a.observe(l))},[n]),i}function mhe(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return x1(e)?e:n}function ghe(n){let{measure:e}=n;const[t,r]=F.useState(null),i=F.useCallback(c=>{for(const{target:u}of c)if(x1(u)){r(f=>{const m=e(u);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),s=yb({callback:i}),o=F.useCallback(c=>{const u=mhe(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=s2(o);return F.useMemo(()=>({nodeRef:a,rect:t,setRef:l}),[t,a,l])}const yhe=[{sensor:gb,options:{}},{sensor:mb,options:{}}],vhe={current:{}},vv={draggable:{measure:n6},droppable:{measure:n6,strategy:Hg.WhileDragging,frequency:hC.Optimized},dragOverlay:{measure:z0}};class ng extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const xhe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ng,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:o2},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vv,measureDroppableContainers:o2,windowRect:null,measuringScheduled:!1},bhe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:o2,draggableNodes:new Map,over:null,measureDroppableContainers:o2},vb=F.createContext(bhe),fB=F.createContext(xhe);function whe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ng}}}function She(n,e){switch(e.type){case gi.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case gi.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case gi.DragEnd:case gi.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gi.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new ng(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case gi.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const o=new ng(n.droppable.containers);return o.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:o}}}case gi.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new ng(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function Ehe(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=F.useContext(vb),s=cC(r),o=cC(t==null?void 0:t.id);return F.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!u4(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=yfe(u);if(f){f.focus();break}}})}},[r,e,i,o,s]),null}function Che(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function Ahe(n){return F.useMemo(()=>({draggable:{...vv.draggable,...n==null?void 0:n.draggable},droppable:{...vv.droppable,...n==null?void 0:n.droppable},dragOverlay:{...vv.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function _he(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=F.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Bc(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=t(c),f=nB(u,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=rB(c);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,a,r,t])}const hB=F.createContext({...jl,scaleX:1,scaleY:1});var Rd;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Rd||(Rd={}));const pB=F.memo(function(e){var t,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=yhe,collisionDetection:f=Pfe,measuring:m,modifiers:p,...g}=e;const v=F.useReducer(She,void 0,whe),[b,S]=v,[E,_]=Efe(),[R,B]=F.useState(Rd.Uninitialized),U=R===Rd.Initialized,{draggable:{active:O,nodes:C,translate:I},droppable:{containers:P}}=b,N=O!=null?C.get(O):null,D=F.useRef({initial:null,translated:null}),L=F.useMemo(()=>{var hn;return O!=null?{id:O,data:(hn=N==null?void 0:N.data)!=null?hn:vhe,rect:D}:null},[O,N]),W=F.useRef(null),[ie,oe]=F.useState(null),[re,X]=F.useState(null),de=Ug(g,Object.values(g)),ae=w1("DndDescribedBy",o),Y=F.useMemo(()=>P.getEnabled(),[P]),$=Ahe(m),{droppableRects:K,measureDroppableContainers:J,measuringScheduled:ee}=she(Y,{dragging:U,dependencies:[I.x,I.y],config:$.droppable}),ce=rhe(C,O),ue=F.useMemo(()=>re?uC(re):null,[re]),ge=nr(),ye=ohe(ce,$.draggable.measure);_he({activeNode:O!=null?C.get(O):null,config:ge.layoutShiftCompensation,initialRect:ye,measure:$.draggable.measure});const Se=a6(ce,$.draggable.measure,ye),Ae=a6(ce?ce.parentElement:null),je=F.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$e=P.getNodeFor((t=je.current.over)==null?void 0:t.id),st=ghe({measure:$.dragOverlay.measure}),we=(r=st.nodeRef.current)!=null?r:ce,pe=U?(i=st.rect)!=null?i:Se:null,qe=!!(st.nodeRef.current&&st.rect),Fe=che(qe?null:Se),Oe=dB(we?Vo(we):null),Ie=uhe(U?$e??ce:null),Ge=phe(Ie),le=Che(p,{transform:{x:I.x-Fe.x,y:I.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:re,active:L,activeNodeRect:Se,containerNodeRect:Ae,draggingNodeRect:pe,over:je.current.over,overlayNodeRect:st.rect,scrollableAncestors:Ie,scrollableAncestorRects:Ge,windowRect:Oe}),be=ue?e0(ue,I):null,_e=dhe(Ie),Ke=c6(_e),ze=c6(_e,[Se]),Ue=e0(le,Ke),nt=pe?Rfe(pe,le):null,ht=L&&nt?f({active:L,collisionRect:nt,droppableRects:K,droppableContainers:Y,pointerCoordinates:be}):null,vt=eB(ht,"id"),[it,jt]=F.useState(null),qt=qe?le:e0(le,ze),Qn=Ife(qt,(s=it==null?void 0:it.rect)!=null?s:null,Se),Kt=F.useRef(null),un=F.useCallback((hn,rn)=>{let{sensor:Et,options:Jt}=rn;if(W.current==null)return;const $n=C.get(W.current);if(!$n)return;const pn=hn.nativeEvent,Rn=new Et({active:W.current,activeNode:$n,event:pn,options:Jt,context:je,onAbort(gt){if(!C.get(gt))return;const{onDragAbort:Qt}=de.current,dn={id:gt};Qt==null||Qt(dn),E({type:"onDragAbort",event:dn})},onPending(gt,Gn,Qt,dn){if(!C.get(gt))return;const{onDragPending:Cn}=de.current,kn={id:gt,constraint:Gn,initialCoordinates:Qt,offset:dn};Cn==null||Cn(kn),E({type:"onDragPending",event:kn})},onStart(gt){const Gn=W.current;if(Gn==null)return;const Qt=C.get(Gn);if(!Qt)return;const{onDragStart:dn}=de.current,bn={activatorEvent:pn,active:{id:Gn,data:Qt.data,rect:D}};fs.unstable_batchedUpdates(()=>{dn==null||dn(bn),B(Rd.Initializing),S({type:gi.DragStart,initialCoordinates:gt,active:Gn}),E({type:"onDragStart",event:bn}),oe(Kt.current),X(pn)})},onMove(gt){S({type:gi.DragMove,coordinates:gt})},onEnd:ar(gi.DragEnd),onCancel:ar(gi.DragCancel)});Kt.current=Rn;function ar(gt){return async function(){const{active:Qt,collisions:dn,over:bn,scrollAdjustedTranslate:Cn}=je.current;let kn=null;if(Qt&&Cn){const{cancelDrop:xi}=de.current;kn={activatorEvent:pn,active:Qt,collisions:dn,delta:Cn,over:bn},gt===gi.DragEnd&&typeof xi=="function"&&await Promise.resolve(xi(kn))&&(gt=gi.DragCancel)}W.current=null,fs.unstable_batchedUpdates(()=>{S({type:gt}),B(Rd.Uninitialized),jt(null),oe(null),X(null),Kt.current=null;const xi=gt===gi.DragEnd?"onDragEnd":"onDragCancel";if(kn){const Wi=de.current[xi];Wi==null||Wi(kn),E({type:xi,event:kn})}})}}},[C]),xr=F.useCallback((hn,rn)=>(Et,Jt)=>{const $n=Et.nativeEvent,pn=C.get(Jt);if(W.current!==null||!pn||$n.dndKit||$n.defaultPrevented)return;const Rn={active:pn};hn(Et,rn.options,Rn)===!0&&($n.dndKit={capturedBy:rn.sensor},W.current=Jt,un(Et,rn))},[C,un]),Xt=ihe(u,xr);fhe(u),Bc(()=>{Se&&R===Rd.Initializing&&B(Rd.Initialized)},[Se,R]),F.useEffect(()=>{const{onDragMove:hn}=de.current,{active:rn,activatorEvent:Et,collisions:Jt,over:$n}=je.current;if(!rn||!Et)return;const pn={active:rn,activatorEvent:Et,collisions:Jt,delta:{x:Ue.x,y:Ue.y},over:$n};fs.unstable_batchedUpdates(()=>{hn==null||hn(pn),E({type:"onDragMove",event:pn})})},[Ue.x,Ue.y]),F.useEffect(()=>{const{active:hn,activatorEvent:rn,collisions:Et,droppableContainers:Jt,scrollAdjustedTranslate:$n}=je.current;if(!hn||W.current==null||!rn||!$n)return;const{onDragOver:pn}=de.current,Rn=Jt.get(vt),ar=Rn&&Rn.rect.current?{id:Rn.id,rect:Rn.rect.current,data:Rn.data,disabled:Rn.disabled}:null,gt={active:hn,activatorEvent:rn,collisions:Et,delta:{x:$n.x,y:$n.y},over:ar};fs.unstable_batchedUpdates(()=>{jt(ar),pn==null||pn(gt),E({type:"onDragOver",event:gt})})},[vt]),Bc(()=>{je.current={activatorEvent:re,active:L,activeNode:ce,collisionRect:nt,collisions:ht,droppableRects:K,draggableNodes:C,draggingNode:we,draggingNodeRect:pe,droppableContainers:P,over:it,scrollableAncestors:Ie,scrollAdjustedTranslate:Ue},D.current={initial:pe,translated:nt}},[L,ce,ht,nt,C,we,pe,K,P,it,Ie,Ue]),ehe({...ge,delta:I,draggingRect:nt,pointerCoordinates:be,scrollableAncestors:Ie,scrollableAncestorRects:Ge});const vi=F.useMemo(()=>({active:L,activeNode:ce,activeNodeRect:Se,activatorEvent:re,collisions:ht,containerNodeRect:Ae,dragOverlay:st,draggableNodes:C,droppableContainers:P,droppableRects:K,over:it,measureDroppableContainers:J,scrollableAncestors:Ie,scrollableAncestorRects:Ge,measuringConfiguration:$,measuringScheduled:ee,windowRect:Oe}),[L,ce,Se,re,ht,Ae,st,C,P,K,it,J,Ie,Ge,$,ee,Oe]),Tn=F.useMemo(()=>({activatorEvent:re,activators:Xt,active:L,activeNodeRect:Se,ariaDescribedById:{draggable:ae},dispatch:S,draggableNodes:C,over:it,measureDroppableContainers:J}),[re,Xt,L,Se,S,ae,C,it,J]);return dt.createElement(Xj.Provider,{value:_},dt.createElement(vb.Provider,{value:Tn},dt.createElement(fB.Provider,{value:vi},dt.createElement(hB.Provider,{value:Qn},c)),dt.createElement(Ehe,{disabled:(a==null?void 0:a.restoreFocus)===!1})),dt.createElement(_fe,{...a,hiddenTextDescribedById:ae}));function nr(){const hn=(ie==null?void 0:ie.autoScrollEnabled)===!1,rn=typeof l=="object"?l.enabled===!1:l===!1,Et=U&&!hn&&!rn;return typeof l=="object"?{...l,enabled:Et}:{enabled:Et}}}),The=F.createContext(null),d6="button",khe="Draggable";function Nhe(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=w1(khe),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:m}=F.useContext(vb),{role:p=d6,roleDescription:g="draggable",tabIndex:v=0}=i??{},b=(l==null?void 0:l.id)===e,S=F.useContext(b?hB:The),[E,_]=s2(),[R,B]=s2(),U=hhe(o,e),O=Ug(t);Bc(()=>(f.set(e,{id:e,key:s,node:E,activatorNode:R,data:O}),()=>{const I=f.get(e);I&&I.key===s&&f.delete(e)}),[f,e]);const C=F.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":r,"aria-pressed":b&&p===d6?!0:void 0,"aria-roledescription":g,"aria-describedby":u.draggable}),[r,p,v,b,g,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:C,isDragging:b,listeners:r?void 0:U,node:E,over:m,setNodeRef:_,setActivatorNodeRef:B,transform:S}}function Phe(){return F.useContext(fB)}const Ihe="Droppable",Dhe={timeout:25};function Rhe(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=w1(Ihe),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=F.useContext(vb),u=F.useRef({disabled:t}),f=F.useRef(!1),m=F.useRef(null),p=F.useRef(null),{disabled:g,updateMeasurementsFor:v,timeout:b}={...Dhe,...i},S=Ug(v??r),E=F.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(S.current)?S.current:[S.current]),p.current=null},b)},[b]),_=yb({callback:E,disabled:g||!o}),R=F.useCallback((C,I)=>{_&&(I&&(_.unobserve(I),f.current=!1),C&&_.observe(C))},[_]),[B,U]=s2(R),O=Ug(e);return F.useEffect(()=>{!_||!B.current||(_.disconnect(),f.current=!1,_.observe(B.current))},[B,_]),F.useEffect(()=>(a({type:gi.RegisterDroppable,element:{id:r,key:s,disabled:t,node:B,rect:m,data:O}}),()=>a({type:gi.UnregisterDroppable,key:s,id:r})),[r]),F.useEffect(()=>{t!==u.current.disabled&&(a({type:gi.SetDroppableDisabled,id:r,key:s,disabled:t}),u.current.disabled=t)},[r,s,t,a]),{active:o,rect:m,isOver:(l==null?void 0:l.id)===r,node:B,over:l,setNodeRef:U}}function xb(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function Lhe(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function Ly(n){return n!==null&&n>=0}function Ohe(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Mhe(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const mB=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=xb(e,r,t),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Oy={scaleX:1,scaleY:1},gB=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:s,overIndex:o}=n;const a=(e=s[t])!=null?e:r;if(!a)return null;if(i===t){const c=s[o];return c?{x:0,y:t<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Oy}:null}const l=Fhe(s,i,t);return i>t&&i<=o?{x:0,y:-a.height-l,...Oy}:i<t&&i>=o?{x:0,y:a.height+l,...Oy}:{x:0,y:0,...Oy}};function Fhe(n,e,t){const r=n[e],i=n[e-1],s=n[e+1];return r?t<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const yB="Sortable",vB=dt.createContext({activeIndex:-1,containerId:yB,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mB,disabled:{draggable:!1,droppable:!1}});function xB(n){let{children:e,id:t,items:r,strategy:i=mB,disabled:s=!1}=n;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=Phe(),f=w1(yB,t),m=a.rect!==null,p=F.useMemo(()=>r.map(U=>typeof U=="object"&&"id"in U?U.id:U),[r]),g=o!=null,v=o?p.indexOf(o.id):-1,b=c?p.indexOf(c.id):-1,S=F.useRef(p),E=!Ohe(p,S.current),_=b!==-1&&v===-1||E,R=Mhe(s);Bc(()=>{E&&g&&u(p)},[E,p,g,u]),F.useEffect(()=>{S.current=p},[p]);const B=F.useMemo(()=>({activeIndex:v,containerId:f,disabled:R,disableTransforms:_,items:p,overIndex:b,useDragOverlay:m,sortedRects:Lhe(p,l),strategy:i}),[v,f,R.draggable,R.droppable,_,p,b,l,m,i]);return dt.createElement(vB.Provider,{value:B},e)}const jhe=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return xb(t,r,i).indexOf(e)},Bhe=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=n;return!c||!r||a!==s&&i===o?!1:t?!0:o!==i&&e===l},Vhe={duration:200,easing:"ease"},bB="transform",$he=C0.Transition.toString({property:bB,duration:0,easing:"linear"}),zhe={roleDescription:"sortable"};function Uhe(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,o]=F.useState(null),a=F.useRef(t);return Bc(()=>{if(!e&&t!==a.current&&r.current){const l=i.current;if(l){const c=z0(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}t!==a.current&&(a.current=t)},[e,t,r,i]),F.useEffect(()=>{s&&o(null)},[s]),s}function wB(n){let{animateLayoutChanges:e=Bhe,attributes:t,disabled:r,data:i,getNewIndex:s=jhe,id:o,strategy:a,resizeObserverConfig:l,transition:c=Vhe}=n;const{items:u,containerId:f,activeIndex:m,disabled:p,disableTransforms:g,sortedRects:v,overIndex:b,useDragOverlay:S,strategy:E}=F.useContext(vB),_=qhe(r,p),R=u.indexOf(o),B=F.useMemo(()=>({sortable:{containerId:f,index:R,items:u},...i}),[f,i,R,u]),U=F.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:O,node:C,isOver:I,setNodeRef:P}=Rhe({id:o,data:B,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:U,...l}}),{active:N,activatorEvent:D,activeNodeRect:L,attributes:W,setNodeRef:ie,listeners:oe,isDragging:re,over:X,setActivatorNodeRef:de,transform:ae}=Nhe({id:o,data:B,attributes:{...zhe,...t},disabled:_.draggable}),Y=hfe(P,ie),$=!!N,K=$&&!g&&Ly(m)&&Ly(b),J=!S&&re,ee=J&&K?ae:null,ue=K?ee??(a??E)({rects:v,activeNodeRect:L,activeIndex:m,overIndex:b,index:R}):null,ge=Ly(m)&&Ly(b)?s({id:o,items:u,activeIndex:m,overIndex:b}):R,ye=N==null?void 0:N.id,Se=F.useRef({activeId:ye,items:u,newIndex:ge,containerId:f}),Ae=u!==Se.current.items,je=e({active:N,containerId:f,isDragging:re,isSorting:$,id:o,index:R,items:u,newIndex:Se.current.newIndex,previousItems:Se.current.items,previousContainerId:Se.current.containerId,transition:c,wasDragging:Se.current.activeId!=null}),$e=Uhe({disabled:!je,index:R,node:C,rect:O});return F.useEffect(()=>{$&&Se.current.newIndex!==ge&&(Se.current.newIndex=ge),f!==Se.current.containerId&&(Se.current.containerId=f),u!==Se.current.items&&(Se.current.items=u)},[$,ge,f,u]),F.useEffect(()=>{if(ye===Se.current.activeId)return;if(ye!=null&&Se.current.activeId==null){Se.current.activeId=ye;return}const we=setTimeout(()=>{Se.current.activeId=ye},50);return()=>clearTimeout(we)},[ye]),{active:N,activeIndex:m,attributes:W,data:B,rect:O,index:R,newIndex:ge,items:u,isOver:I,isSorting:$,isDragging:re,listeners:oe,node:C,overIndex:b,over:X,setNodeRef:Y,setActivatorNodeRef:de,setDroppableNodeRef:P,setDraggableNodeRef:ie,transform:$e??ue,transition:st()};function st(){if($e||Ae&&Se.current.newIndex===R)return $he;if(!(J&&!u4(D)||!c)&&($||je))return C0.Transition.toString({...c,property:bB})}}function qhe(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n==null?void 0:n.draggable)!=null?t:e.draggable,droppable:(r=n==null?void 0:n.droppable)!=null?r:e.droppable}}function c2(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const Hhe=[An.Down,An.Right,An.Up,An.Left],SB=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=e;if(Hhe.includes(n.code)){if(n.preventDefault(),!t||!r)return;const l=[];s.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(n.code){case An.Down:r.top<m.top&&l.push(f);break;case An.Up:r.top>m.top&&l.push(f);break;case An.Left:r.left>m.left&&l.push(f);break;case An.Right:r.left<m.left&&l.push(f);break}});const c=kfe({collisionRect:r,droppableRects:i,droppableContainers:l});let u=eB(c,"id");if(u===(o==null?void 0:o.id)&&c.length>1&&(u=c[1].id),u!=null){const f=s.get(t.id),m=s.get(u),p=m?i.get(m.id):null,g=m==null?void 0:m.node.current;if(g&&p&&f&&m){const b=pb(g).some((U,O)=>a[O]!==U),S=EB(f,m),E=Whe(f,m),_=b||!S?{x:0,y:0}:{x:E?r.width-p.width:0,y:E?r.height-p.height:0},R={x:p.left,y:p.top};return _.x&&_.y?R:qg(R,_)}}}};function EB(n,e){return!c2(n)||!c2(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function Whe(n,e){return!c2(n)||!c2(e)||!EB(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const Ghe="https://api.cloudinary.com/v1_1/ddkyumyw3/image/upload",Khe="unsigned_preset";function Yhe({id:n,url:e,onRemove:t,onMoveLeft:r,onMoveRight:i}){const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c}=wB({id:n}),u={transform:C0.Transform.toString(l),transition:c};return A.jsxs("div",{className:"relative group",children:[A.jsx("div",{ref:a,style:u,className:"cursor-move",...s,...o,children:A.jsx("img",{src:e,alt:"Vista previa",className:"w-full h-40 object-cover rounded border"})}),A.jsx("button",{type:"button",onClick:t,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition",children:""}),A.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between opacity-100 transition",children:[A.jsx("button",{type:"button",onClick:r,className:"bg-black/60 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black",children:""}),A.jsx("button",{type:"button",onClick:i,className:"bg-black/60 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black",children:""})]})]})}function Xhe({product:n,onSave:e,onClose:t}){var ae,Y,$,K,J;const[r,i]=F.useState({...n}),[s,o]=F.useState(!1),[a,l]=F.useState(""),[c,u]=F.useState(!1),[f,m]=F.useState([]),[p,g]=F.useState([]),[v,b]=F.useState(typeof n.category=="string"?n.category:((ae=n.category)==null?void 0:ae.id)||""),[S,E]=F.useState(()=>{var ee;return typeof n.subcategory=="string"?n.subcategory:typeof n.subcategory=="object"&&((ee=n.subcategory)!=null&&ee.id)?n.subcategory.id:""}),[_,R]=F.useState(""),[B,U]=F.useState(((Y=n.description)==null?void 0:Y.en)||""),[O,C]=F.useState((($=n.description)==null?void 0:$.es)||""),[I,P]=F.useState(n.variants||[{label:{es:"",en:""},options:[{value:"",priceUSD:0}]}]),N=Jj(a2(gb),a2(mb,{coordinateGetter:SB}));F.useEffect(()=>{(async()=>{try{const ce=await Z2(),ue=(await Promise.all(ce.map(async ge=>(await Dg(ge.id)).map(Se=>({...Se,categoryId:ge.id}))))).flat();m(ce.map(ge=>({...ge,categoryId:ge.id}))),g(ue)}catch(ce){console.error("[EditProductModal] Error al cargar datos desde Firebase:",ce)}})()},[]);const D=async ee=>{const ce=new FormData;ce.append("file",ee),ce.append("upload_preset",Khe);try{const ue=await fetch(Ghe,{method:"POST",body:ce});if(!ue.ok)throw new Error(`Error de Cloudinary: ${ue.statusText}`);return(await ue.json()).secure_url}catch(ue){throw console.error("Error al subir la imagen a Cloudinary:",ue),ue}},L=(ee,ce)=>{i(ue=>({...ue,[ee]:ce}))},W=async ee=>{if(!(!ee.target.files||ee.target.files.length===0)){u(!0),l("");try{const ce=Array.from(ee.target.files),ue=[];for(const ge of ce){if(!ge.type.startsWith("image/")){l("Uno de los archivos no es una imagen vlida."),u(!1);return}const ye=await D(ge);ue.push(ye)}i(ge=>({...ge,images:[...ge.images||[],...ue]})),ee.target.value=""}catch(ce){console.error("Error en la carga de imgenes:",ce),l("Error al subir una o ms imgenes. Intente nuevamente.")}finally{u(!1)}}},ie=async()=>{var ee,ce,ue,ge,ye,Se;l(""),o(!0);try{if(!((ee=r.title)!=null&&ee.en.trim())){l("El nombre del producto es obligatorio."),o(!1);return}if(!v||!S){l("Debe seleccionar categora y subcategora."),o(!1);return}if(!r.images||r.images.length===0){l("Debe subir al menos una imagen del producto."),o(!1);return}const Ae=String(r.id),{id:je,...$e}=r;r.variants=I;const st=f.find(Fe=>Fe.id===v),we=p.find(Fe=>Fe.id===S),pe=I.reduce((Fe,Oe)=>Fe+Oe.options.reduce((Ie,Ge)=>Ie+(Ge.stock||0),0),0),qe={id:Ae,...$e,stockTotal:pe,title:{en:((ue=(ce=$e.title)==null?void 0:ce.en)==null?void 0:ue.trim())||"",es:((ye=(ge=$e.title)==null?void 0:ge.es)==null?void 0:ye.trim())||""},slug:$e.slug??ffe(((Se=$e.title)==null?void 0:Se.en)??""),images:$e.images||[],priceUSD:$e.priceUSD||0,stock:{},category:{id:(st==null?void 0:st.id)??"",name:(st==null?void 0:st.name)??""},subcategory:{id:(we==null?void 0:we.id)??"",name:(we==null?void 0:we.name)??""},defaultDescriptionType:$e.defaultDescriptionType||"none",extraDescriptionTop:$e.extraDescriptionTop||"",extraDescriptionBottom:$e.extraDescriptionBottom||"",description:{en:B.trim(),es:O.trim()},allowCustomization:$e.allowCustomization||!1,descriptionPosition:$e.descriptionPosition||"bottom",active:$e.active!==void 0?$e.active:!0};await VE(Ae,{...qe,variants:I}),e({...qe,variants:I})}catch(Ae){console.error("Error al guardar producto:",Ae),l("Error al guardar el producto. Intenta nuevamente.")}finally{o(!1)}},oe=ee=>{const{active:ce,over:ue}=ee;ue&&ce.id!==ue.id&&i(ge=>{const ye=ge.images||[],Se=ye.findIndex(je=>je===ce.id),Ae=ye.findIndex(je=>je===ue.id);return{...ge,images:xb(ye,Se,Ae)}})},re=ee=>{ee>0&&r.images&&i(ce=>{const ue=[...ce.images||[]];return[ue[ee-1],ue[ee]]=[ue[ee],ue[ee-1]],{...ce,images:ue}})},X=ee=>{r.images&&ee<r.images.length-1&&i(ce=>{const ue=[...ce.images||[]];return[ue[ee],ue[ee+1]]=[ue[ee+1],ue[ee]],{...ce,images:ue}})},de=ee=>{i(ce=>{const ue=[...ce.images||[]];return ue.splice(ee,1),{...ce,images:ue}})};return A.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:A.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[A.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t}),A.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),A.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-5xl sm:w-full",children:[A.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:A.jsxs("button",{type:"button",onClick:t,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[A.jsx("span",{className:"sr-only",children:"Cerrar"}),A.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),A.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[A.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",id:"modal-title",children:"Editar Producto"}),a&&A.jsx("div",{className:"mb-4 p-2 bg-red-100 border border-red-400 text-red-700 rounded",children:a}),A.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto p-1",children:[A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[A.jsxs("div",{className:"lg:col-span-4",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo Interno"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo (EN)"}),A.jsx("input",{type:"text",value:((K=r.title)==null?void 0:K.en)||"",onChange:ee=>L("title",{...r.title,en:ee.target.value}),className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo (ES)"}),A.jsx("input",{type:"text",value:((J=r.title)==null?void 0:J.es)||"",onChange:ee=>L("title",{...r.title,es:ee.target.value}),className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none"})]})]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),A.jsxs("select",{value:v,onChange:ee=>{b(ee.target.value),E(""),R("")},className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[A.jsx("option",{value:"",children:"Seleccionar Categora"}),f.map(ee=>A.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategora"}),A.jsxs("select",{value:S,onChange:ee=>{E(ee.target.value),R("")},className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[A.jsx("option",{value:"",children:"Seleccionar Subcategora"}),p.filter(ee=>ee.categoryId===v).map(ee=>A.jsx("option",{value:ee.id,children:typeof ee.name=="string"?ee.name:typeof ee.name=="object"&&ee.name!==null&&"en"in ee.name&&"es"in ee.name?ee.name.en??ee.name.es??"":""},ee.id))]})]}),A.jsxs("div",{className:"lg:col-span-2",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio USD"}),A.jsx("input",{type:"number",value:r.priceUSD||0,onChange:ee=>L("priceUSD",parseFloat(ee.target.value)),className:"remove-arrows shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md appearance-none",min:"0",step:"0.01",required:!0})]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (EN)"}),A.jsx(i2,{content:B,onChange:U,withDefaultStyles:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin (ES)"}),A.jsx(i2,{content:O,onChange:C,withDefaultStyles:!0})]})]}),A.jsxs("div",{className:"mt-6",children:[A.jsx("label",{className:"block font-semibold mb-2",children:"Variantes del producto"}),I.map((ee,ce)=>A.jsxs("div",{className:"mb-4 border p-3 rounded-md bg-gray-50",children:[A.jsxs("div",{className:"flex gap-4 mb-2",children:[A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en espaol (Ej: Tamao)",value:ee.label.es,onChange:ue=>{const ge=[...I];ge[ce].label.es=ue.target.value,P(ge)}}),A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en ingls (Ej: Size)",value:ee.label.en,onChange:ue=>{const ge=[...I];ge[ce].label.en=ue.target.value,P(ge)}})]}),ee.options.map((ue,ge)=>A.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1 items-end",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Valor"}),A.jsx("input",{type:"text",className:"border p-2 w-full",placeholder:"Ej: 60 cpsulas",value:ue.value,onChange:ye=>{const Se=[...I];Se[ce].options[ge].value=ye.target.value,P(Se)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Precio USD"}),A.jsx("input",{type:"number",step:"0.01",min:0,className:"border p-2 w-full",placeholder:"Ej: 19.99",value:ue.priceUSD,onChange:ye=>{const Se=[...I];Se[ce].options[ge].priceUSD=parseFloat(ye.target.value),P(Se)}})]}),A.jsxs("div",{className:"flex gap-1 items-end",children:[A.jsxs("div",{className:"w-full",children:[A.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-1",children:"Stock"}),A.jsx("input",{type:"number",min:0,className:"border p-2 w-full",placeholder:"Ej: 10",value:ue.stock||0,onChange:ye=>{const Se=[...I];Se[ce].options[ge].stock=parseInt(ye.target.value),P(Se)}})]}),A.jsx("button",{type:"button",onClick:()=>{const ye=[...I];ye[ce].options=ye[ce].options.filter((Se,Ae)=>Ae!==ge),P(ye)},className:"ml-1 px-2 py-1 text-xs bg-red-500 text-white rounded hover:bg-red-600",children:""})]})]},ge)),A.jsx("button",{type:"button",className:"text-blue-600 text-sm mt-2",onClick:()=>{const ue=[...I];ue[ce].options.push({value:"",priceUSD:0}),P(ue)},children:"+ Agregar opcin"}),A.jsx("button",{type:"button",onClick:()=>{const ue=I.filter((ge,ye)=>ye!==ce);P(ue)},className:"bg-red-500 text-white px-2 py-1 rounded mt-2 ml-2",children:"Eliminar"})]},ce)),A.jsx("button",{type:"button",className:"text-blue-600 mt-2",onClick:()=>{P([...I,{label:{es:"",en:""},options:[{value:"",priceUSD:0}]}])},children:"+ Agregar variante"})]}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Imgenes"}),A.jsx("div",{className:"mb-4",children:A.jsxs("label",{className:"inline-block px-4 py-2 bg-black text-white rounded-md shadow-sm hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:[A.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:W,accept:"image/*",disabled:c}),c?"Subiendo...":"Agregar Imagen"]})}),r.images&&r.images.length>0?A.jsx(pB,{sensors:N,collisionDetection:tB,onDragEnd:oe,children:A.jsx(xB,{items:r.images,strategy:gB,children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:r.images.map((ee,ce)=>A.jsx(Yhe,{id:ee,url:ee,onRemove:()=>de(ce),onMoveLeft:()=>re(ce),onMoveRight:()=>X(ce)},ee))})})}):A.jsx("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:A.jsx("p",{className:"text-gray-500",children:"No hay imgenes. Por favor suba al menos una imagen."})})]})]})]}),A.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[A.jsx("button",{type:"button",onClick:ie,disabled:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-black text-base font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black sm:ml-3 sm:w-auto sm:text-sm disabled:bg-gray-400",children:s?"Guardando...":"Guardar Cambios"}),A.jsx("button",{type:"button",onClick:t,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})}function Jhe({title:n,message:e,onConfirm:t,onCancel:r,isLoading:i=!1}){return A.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:A.jsxs(ji.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm text-center",children:[A.jsx("h2",{className:"text-lg font-bold mb-2",children:n}),A.jsx("p",{className:"text-gray-600 mb-6",children:e}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-300 hover:bg-gray-400 text-sm font-medium",disabled:i,children:"Cancelar"}),A.jsx("button",{onClick:t,className:`px-4 py-2 rounded-lg text-white text-sm font-medium ${i?"bg-gray-400":"bg-red-600 hover:bg-red-700"}`,disabled:i,children:i?"Eliminando...":"Eliminar"})]})]})})}function Qhe(){const[n,e]=F.useState([]),[t,r]=F.useState("Todas"),[i,s]=F.useState(null),[o,a]=F.useState(""),[l,c]=F.useState(!0),[u,f]=F.useState(null),[m,p]=F.useState(null),[g,v]=F.useState(!1);F.useEffect(()=>{(async()=>{c(!0),f(null);try{const I=await Ud();e(I)}catch(I){console.error("Error al cargar productos:",I),f("No se pudieron cargar los productos. Intenta nuevamente.")}finally{c(!1)}})()},[]);const b=async C=>{try{const I=await _se(C);I?(p(I),v(!0)):f(`No se encontr el producto con ID: ${C}`)}catch(I){console.error("Error al cargar producto para editar:",I),f("No se pudo cargar el producto para editar. Intenta nuevamente.")}},S=async C=>{try{if(C.id){await VE(C.id,C);const I=await Ud();e(I),v(!1),p(null)}}catch(I){console.error("Error al guardar cambios:",I),f("No se pudo guardar el producto. Intenta nuevamente.")}},E=async C=>{try{const I=n.find(N=>N.id===C);if(!I)return;await VE(C,{active:!I.active});const P=await Ud();e(P)}catch(I){console.error("Error al actualizar estado:",I),f("No se pudo actualizar el estado del producto.")}},_=(C,I)=>{s(C),a(I)},R=async()=>{if(i)try{await Pse(i);const C=await Ud();e(C),s(null),a("")}catch(C){console.error("Error al eliminar producto:",C),f("No se pudo eliminar el producto.")}},B=()=>{s(null),a("")},U=["Todas",...Array.from(new Set(n.map(C=>{var I;return typeof C.category=="object"?(I=C.category)==null?void 0:I.name:C.category}).filter(Boolean)))].sort(),O=t==="Todas"?n:n.filter(C=>{var I;return(typeof C.category=="object"?(I=C.category)==null?void 0:I.name:C.category)===t});return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsx("h2",{className:"text-xl font-bold mb-4",children:"Publicaciones"}),u&&A.jsxs("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-md",children:[u,A.jsx("button",{onClick:()=>f(null),className:"ml-2",children:""})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"mr-2 font-medium",children:"Filtrar por categora:"}),A.jsx("select",{value:t,onChange:C=>r(C.target.value),className:"px-3 py-2 border rounded shadow focus:ring-black",children:U.map(C=>A.jsx("option",{value:C,children:C},C))})]}),l?A.jsx("div",{className:"text-center py-8",children:"Cargando productos..."}):O.length===0?A.jsx("div",{className:"text-center py-8 text-gray-500 italic",children:"No hay productos."}):A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"Ttulo"}),A.jsx("th",{className:"py-2 text-left",children:"Liga"}),A.jsx("th",{className:"py-2 text-left",children:"Precio"}),A.jsx("th",{className:"py-2 text-left",children:"Stock"}),A.jsx("th",{className:"py-2 text-left",children:"Estado"}),A.jsx("th",{className:"py-2 text-left",children:"Acciones"})]})}),A.jsx("tbody",{children:O.map(C=>{var I;return A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:C.title.es}),A.jsx("td",{className:"py-2",children:typeof C.category=="object"?(I=C.category)==null?void 0:I.name:C.category||"Sin categora"}),A.jsxs("td",{className:"py-2",children:["US$ ",C.priceUSD]}),A.jsx("td",{className:"py-2",children:C.stockTotal??0}),A.jsx("td",{className:"py-2",children:A.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.active?"Activo":"Inactivo"})}),A.jsxs("td",{className:"py-2 space-x-2",children:[A.jsx("button",{onClick:()=>b(C.id),className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-xs",children:"Editar"}),A.jsx("button",{onClick:()=>E(C.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded text-xs",children:C.active?"Desactivar":"Activar"}),A.jsx("button",{onClick:()=>_(C.id,C.title.es),className:"bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-xs",children:"Eliminar"})]})]},C.id)})})]})}),i&&A.jsx(Jhe,{title:"Eliminar producto?",message:`Seguro que quieres eliminar "${o}"?`,onConfirm:R,onCancel:B,isLoading:!1}),g&&m&&A.jsx(Xhe,{product:m,onSave:S,onClose:()=>{v(!1),p(null)}})]})}var S1=n=>n.type==="checkbox",dh=n=>n instanceof Date,ao=n=>n==null;const CB=n=>typeof n=="object";var Qr=n=>!ao(n)&&!Array.isArray(n)&&CB(n)&&!dh(n),Zhe=n=>Qr(n)&&n.target?S1(n.target)?n.target.checked:n.target.value:n,epe=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,tpe=(n,e)=>n.has(epe(e)),npe=n=>{const e=n.constructor&&n.constructor.prototype;return Qr(e)&&e.hasOwnProperty("isPrototypeOf")},h4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ds(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(h4&&(n instanceof Blob||r))&&(t||Qr(n)))if(e=t?[]:{},!t&&!npe(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=Ds(n[i]));else return n;return e}var bb=n=>Array.isArray(n)?n.filter(Boolean):[],ti=n=>n===void 0,Rt=(n,e,t)=>{if(!e||!Qr(n))return t;const r=bb(e.split(/[,[\].]+?/)).reduce((i,s)=>ao(i)?i:i[s],n);return ti(r)||r===n?ti(n[e])?t:n[e]:r},yc=n=>typeof n=="boolean",p4=n=>/^\w*$/.test(n),AB=n=>bb(n.replace(/["|']|\]/g,"").split(/\.|\[/)),pr=(n,e,t)=>{let r=-1;const i=p4(e)?[e]:AB(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=t;if(r!==o){const c=n[a];l=Qr(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;n[a]=l,n=n[a]}};const f6={BLUR:"blur",FOCUS_OUT:"focusout"},Nl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};dt.createContext(null);var rpe=(n,e,t,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in n)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Nl.all&&(e._proxyFormState[o]=!r||Nl.all),n[o]}});return i},pC=n=>ao(n)||!CB(n);function Vd(n,e){if(pC(n)||pC(e))return n===e;if(dh(n)&&dh(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const i of t){const s=n[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(dh(s)&&dh(o)||Qr(s)&&Qr(o)||Array.isArray(s)&&Array.isArray(o)?!Vd(s,o):s!==o)return!1}}return!0}var wc=n=>typeof n=="string",ipe=(n,e,t,r,i)=>wc(n)?(r&&e.watch.add(n),Rt(t,n,i)):Array.isArray(n)?n.map(s=>(r&&e.watch.add(s),Rt(t,s))):(r&&(e.watchAll=!0),t),spe=(n,e,t,r,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:i||!0}}:{},rg=n=>Array.isArray(n)?n:[n],h6=()=>{let n=[];return{get observers(){return n},next:i=>{for(const s of n)s.next&&s.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(s=>s!==i)}}),unsubscribe:()=>{n=[]}}},oo=n=>Qr(n)&&!Object.keys(n).length,m4=n=>n.type==="file",Pl=n=>typeof n=="function",u2=n=>{if(!h4)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_B=n=>n.type==="select-multiple",g4=n=>n.type==="radio",ope=n=>g4(n)||S1(n),j5=n=>u2(n)&&n.isConnected;function ape(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=ti(n)?r++:n[e[r++]];return n}function lpe(n){for(const e in n)if(n.hasOwnProperty(e)&&!ti(n[e]))return!1;return!0}function pi(n,e){const t=Array.isArray(e)?e:p4(e)?[e]:AB(e),r=t.length===1?n:ape(n,t),i=t.length-1,s=t[i];return r&&delete r[s],i!==0&&(Qr(r)&&oo(r)||Array.isArray(r)&&lpe(r))&&pi(n,t.slice(0,-1)),n}var TB=n=>{for(const e in n)if(Pl(n[e]))return!0;return!1};function d2(n,e={}){const t=Array.isArray(n);if(Qr(n)||t)for(const r in n)Array.isArray(n[r])||Qr(n[r])&&!TB(n[r])?(e[r]=Array.isArray(n[r])?[]:{},d2(n[r],e[r])):ao(n[r])||(e[r]=!0);return e}function kB(n,e,t){const r=Array.isArray(n);if(Qr(n)||r)for(const i in n)Array.isArray(n[i])||Qr(n[i])&&!TB(n[i])?ti(e)||pC(t[i])?t[i]=Array.isArray(n[i])?d2(n[i],[]):{...d2(n[i])}:kB(n[i],ao(e)?{}:e[i],t[i]):t[i]=!Vd(n[i],e[i]);return t}var xm=(n,e)=>kB(n,e,d2(e));const p6={value:!1,isValid:!1},m6={value:!0,isValid:!0};var NB=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!ti(n[0].attributes.value)?ti(n[0].value)||n[0].value===""?m6:{value:n[0].value,isValid:!0}:m6:p6}return p6},PB=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>ti(n)?n:e?n===""?NaN:n&&+n:t&&wc(n)?new Date(n):r?r(n):n;const g6={isValid:!1,value:null};var IB=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,g6):g6;function y6(n){const e=n.ref;return m4(e)?e.files:g4(e)?IB(n.refs).value:_B(e)?[...e.selectedOptions].map(({value:t})=>t):S1(e)?NB(n.refs).value:PB(ti(e.value)?n.ref.value:e.value,n)}var cpe=(n,e,t,r)=>{const i={};for(const s of n){const o=Rt(e,s);o&&pr(i,s,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:r}},f2=n=>n instanceof RegExp,bm=n=>ti(n)?n:f2(n)?n.source:Qr(n)?f2(n.value)?n.value.source:n.value:n,v6=n=>({isOnSubmit:!n||n===Nl.onSubmit,isOnBlur:n===Nl.onBlur,isOnChange:n===Nl.onChange,isOnAll:n===Nl.all,isOnTouch:n===Nl.onTouched});const x6="AsyncFunction";var upe=n=>!!n&&!!n.validate&&!!(Pl(n.validate)&&n.validate.constructor.name===x6||Qr(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===x6)),dpe=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),b6=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const ig=(n,e,t,r)=>{for(const i of t||Object.keys(n)){const s=Rt(n,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ig(a,e))break}else if(Qr(a)&&ig(a,e))break}}};function w6(n,e,t){const r=Rt(n,t);if(r||p4(t))return{error:r,name:t};const i=t.split(".");for(;i.length;){const s=i.join("."),o=Rt(e,s),a=Rt(n,s);if(o&&!Array.isArray(o)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:t}}var fpe=(n,e,t,r)=>{t(n);const{name:i,...s}=n;return oo(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Nl.all))},hpe=(n,e,t)=>!n||!e||n===e||rg(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),ppe=(n,e,t,r,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?r.isOnBlur:i.isOnBlur)?!n:(t?r.isOnChange:i.isOnChange)?n:!0,mpe=(n,e)=>!bb(Rt(n,e)).length&&pi(n,e),gpe=(n,e,t)=>{const r=rg(Rt(n,t));return pr(r,"root",e[t]),pr(n,t,r),n},xv=n=>wc(n);function S6(n,e,t="validate"){if(xv(n)||Array.isArray(n)&&n.every(xv)||yc(n)&&!n)return{type:t,message:xv(n)?n:"",ref:e}}var wp=n=>Qr(n)&&!f2(n)?n:{value:n,message:""},E6=async(n,e,t,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:m,pattern:p,validate:g,name:v,valueAsNumber:b,mount:S}=n._f,E=Rt(t,v);if(!S||e.has(v))return{};const _=a?a[0]:o,R=D=>{i&&_.reportValidity&&(_.setCustomValidity(yc(D)?"":D||""),_.reportValidity())},B={},U=g4(o),O=S1(o),C=U||O,I=(b||m4(o))&&ti(o.value)&&ti(E)||u2(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,P=spe.bind(null,v,r,B),N=(D,L,W,ie=bu.maxLength,oe=bu.minLength)=>{const re=D?L:W;B[v]={type:D?ie:oe,message:re,ref:o,...P(D?ie:oe,re)}};if(s?!Array.isArray(E)||!E.length:l&&(!C&&(I||ao(E))||yc(E)&&!E||O&&!NB(a).isValid||U&&!IB(a).isValid)){const{value:D,message:L}=xv(l)?{value:!!l,message:l}:wp(l);if(D&&(B[v]={type:bu.required,message:L,ref:_,...P(bu.required,L)},!r))return R(L),B}if(!I&&(!ao(f)||!ao(m))){let D,L;const W=wp(m),ie=wp(f);if(!ao(E)&&!isNaN(E)){const oe=o.valueAsNumber||E&&+E;ao(W.value)||(D=oe>W.value),ao(ie.value)||(L=oe<ie.value)}else{const oe=o.valueAsDate||new Date(E),re=ae=>new Date(new Date().toDateString()+" "+ae),X=o.type=="time",de=o.type=="week";wc(W.value)&&E&&(D=X?re(E)>re(W.value):de?E>W.value:oe>new Date(W.value)),wc(ie.value)&&E&&(L=X?re(E)<re(ie.value):de?E<ie.value:oe<new Date(ie.value))}if((D||L)&&(N(!!D,W.message,ie.message,bu.max,bu.min),!r))return R(B[v].message),B}if((c||u)&&!I&&(wc(E)||s&&Array.isArray(E))){const D=wp(c),L=wp(u),W=!ao(D.value)&&E.length>+D.value,ie=!ao(L.value)&&E.length<+L.value;if((W||ie)&&(N(W,D.message,L.message),!r))return R(B[v].message),B}if(p&&!I&&wc(E)){const{value:D,message:L}=wp(p);if(f2(D)&&!E.match(D)&&(B[v]={type:bu.pattern,message:L,ref:o,...P(bu.pattern,L)},!r))return R(L),B}if(g){if(Pl(g)){const D=await g(E,t),L=S6(D,_);if(L&&(B[v]={...L,...P(bu.validate,L.message)},!r))return R(L.message),B}else if(Qr(g)){let D={};for(const L in g){if(!oo(D)&&!r)break;const W=S6(await g[L](E,t),_,L);W&&(D={...W,...P(L,W.message)},R(W.message),r&&(B[v]=D))}if(!oo(D)&&(B[v]={ref:_,...D},!r))return B}}return R(!0),B};const ype={mode:Nl.onSubmit,reValidateMode:Nl.onChange,shouldFocusError:!0};function vpe(n={}){let e={...ype,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Qr(e.defaultValues)||Qr(e.values)?Ds(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Ds(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const m={array:h6(),state:h6()},p=v6(e.mode),g=v6(e.reValidateMode),v=e.criteriaMode===Nl.all,b=le=>be=>{clearTimeout(c),c=setTimeout(le,be)},S=async le=>{if(!e.disabled&&(u.isValid||f.isValid||le)){const be=e.resolver?oo((await I()).errors):await N(r,!0);be!==t.isValid&&m.state.next({isValid:be})}},E=(le,be)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((le||Array.from(a.mount)).forEach(_e=>{_e&&(be?pr(t.validatingFields,_e,be):pi(t.validatingFields,_e))}),m.state.next({validatingFields:t.validatingFields,isValidating:!oo(t.validatingFields)}))},_=(le,be=[],_e,Ke,ze=!0,Ue=!0)=>{if(Ke&&_e&&!e.disabled){if(o.action=!0,Ue&&Array.isArray(Rt(r,le))){const nt=_e(Rt(r,le),Ke.argA,Ke.argB);ze&&pr(r,le,nt)}if(Ue&&Array.isArray(Rt(t.errors,le))){const nt=_e(Rt(t.errors,le),Ke.argA,Ke.argB);ze&&pr(t.errors,le,nt),mpe(t.errors,le)}if((u.touchedFields||f.touchedFields)&&Ue&&Array.isArray(Rt(t.touchedFields,le))){const nt=_e(Rt(t.touchedFields,le),Ke.argA,Ke.argB);ze&&pr(t.touchedFields,le,nt)}(u.dirtyFields||f.dirtyFields)&&(t.dirtyFields=xm(i,s)),m.state.next({name:le,isDirty:L(le,be),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else pr(s,le,be)},R=(le,be)=>{pr(t.errors,le,be),m.state.next({errors:t.errors})},B=le=>{t.errors=le,m.state.next({errors:t.errors,isValid:!1})},U=(le,be,_e,Ke)=>{const ze=Rt(r,le);if(ze){const Ue=Rt(s,le,ti(_e)?Rt(i,le):_e);ti(Ue)||Ke&&Ke.defaultChecked||be?pr(s,le,be?Ue:y6(ze._f)):oe(le,Ue),o.mount&&S()}},O=(le,be,_e,Ke,ze)=>{let Ue=!1,nt=!1;const ht={name:le};if(!e.disabled){if(!_e||Ke){(u.isDirty||f.isDirty)&&(nt=t.isDirty,t.isDirty=ht.isDirty=L(),Ue=nt!==ht.isDirty);const vt=Vd(Rt(i,le),be);nt=!!Rt(t.dirtyFields,le),vt?pi(t.dirtyFields,le):pr(t.dirtyFields,le,!0),ht.dirtyFields=t.dirtyFields,Ue=Ue||(u.dirtyFields||f.dirtyFields)&&nt!==!vt}if(_e){const vt=Rt(t.touchedFields,le);vt||(pr(t.touchedFields,le,_e),ht.touchedFields=t.touchedFields,Ue=Ue||(u.touchedFields||f.touchedFields)&&vt!==_e)}Ue&&ze&&m.state.next(ht)}return Ue?ht:{}},C=(le,be,_e,Ke)=>{const ze=Rt(t.errors,le),Ue=(u.isValid||f.isValid)&&yc(be)&&t.isValid!==be;if(e.delayError&&_e?(l=b(()=>R(le,_e)),l(e.delayError)):(clearTimeout(c),l=null,_e?pr(t.errors,le,_e):pi(t.errors,le)),(_e?!Vd(ze,_e):ze)||!oo(Ke)||Ue){const nt={...Ke,...Ue&&yc(be)?{isValid:be}:{},errors:t.errors,name:le};t={...t,...nt},m.state.next(nt)}},I=async le=>{E(le,!0);const be=await e.resolver(s,e.context,cpe(le||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(le),be},P=async le=>{const{errors:be}=await I(le);if(le)for(const _e of le){const Ke=Rt(be,_e);Ke?pr(t.errors,_e,Ke):pi(t.errors,_e)}else t.errors=be;return be},N=async(le,be,_e={valid:!0})=>{for(const Ke in le){const ze=le[Ke];if(ze){const{_f:Ue,...nt}=ze;if(Ue){const ht=a.array.has(Ue.name),vt=ze._f&&upe(ze._f);vt&&u.validatingFields&&E([Ke],!0);const it=await E6(ze,a.disabled,s,v,e.shouldUseNativeValidation&&!be,ht);if(vt&&u.validatingFields&&E([Ke]),it[Ue.name]&&(_e.valid=!1,be))break;!be&&(Rt(it,Ue.name)?ht?gpe(t.errors,it,Ue.name):pr(t.errors,Ue.name,it[Ue.name]):pi(t.errors,Ue.name))}!oo(nt)&&await N(nt,be,_e)}}return _e.valid},D=()=>{for(const le of a.unMount){const be=Rt(r,le);be&&(be._f.refs?be._f.refs.every(_e=>!j5(_e)):!j5(be._f.ref))&&ye(le)}a.unMount=new Set},L=(le,be)=>!e.disabled&&(le&&be&&pr(s,le,be),!Vd($(),i)),W=(le,be,_e)=>ipe(le,a,{...o.mount?s:ti(be)?i:wc(le)?{[le]:be}:be},_e,be),ie=le=>bb(Rt(o.mount?s:i,le,e.shouldUnregister?Rt(i,le,[]):[])),oe=(le,be,_e={})=>{const Ke=Rt(r,le);let ze=be;if(Ke){const Ue=Ke._f;Ue&&(!Ue.disabled&&pr(s,le,PB(be,Ue)),ze=u2(Ue.ref)&&ao(be)?"":be,_B(Ue.ref)?[...Ue.ref.options].forEach(nt=>nt.selected=ze.includes(nt.value)):Ue.refs?S1(Ue.ref)?Ue.refs.length>1?Ue.refs.forEach(nt=>(!nt.defaultChecked||!nt.disabled)&&(nt.checked=Array.isArray(ze)?!!ze.find(ht=>ht===nt.value):ze===nt.value)):Ue.refs[0]&&(Ue.refs[0].checked=!!ze):Ue.refs.forEach(nt=>nt.checked=nt.value===ze):m4(Ue.ref)?Ue.ref.value="":(Ue.ref.value=ze,Ue.ref.type||m.state.next({name:le,values:Ds(s)})))}(_e.shouldDirty||_e.shouldTouch)&&O(le,ze,_e.shouldTouch,_e.shouldDirty,!0),_e.shouldValidate&&Y(le)},re=(le,be,_e)=>{for(const Ke in be){const ze=be[Ke],Ue=`${le}.${Ke}`,nt=Rt(r,Ue);(a.array.has(le)||Qr(ze)||nt&&!nt._f)&&!dh(ze)?re(Ue,ze,_e):oe(Ue,ze,_e)}},X=(le,be,_e={})=>{const Ke=Rt(r,le),ze=a.array.has(le),Ue=Ds(be);pr(s,le,Ue),ze?(m.array.next({name:le,values:Ds(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&_e.shouldDirty&&m.state.next({name:le,dirtyFields:xm(i,s),isDirty:L(le,Ue)})):Ke&&!Ke._f&&!ao(Ue)?re(le,Ue,_e):oe(le,Ue,_e),b6(le,a)&&m.state.next({...t}),m.state.next({name:o.mount?le:void 0,values:Ds(s)})},de=async le=>{o.mount=!0;const be=le.target;let _e=be.name,Ke=!0;const ze=Rt(r,_e),Ue=nt=>{Ke=Number.isNaN(nt)||dh(nt)&&isNaN(nt.getTime())||Vd(nt,Rt(s,_e,nt))};if(ze){let nt,ht;const vt=be.type?y6(ze._f):Zhe(le),it=le.type===f6.BLUR||le.type===f6.FOCUS_OUT,jt=!dpe(ze._f)&&!e.resolver&&!Rt(t.errors,_e)&&!ze._f.deps||ppe(it,Rt(t.touchedFields,_e),t.isSubmitted,g,p),qt=b6(_e,a,it);pr(s,_e,vt),it?(ze._f.onBlur&&ze._f.onBlur(le),l&&l(0)):ze._f.onChange&&ze._f.onChange(le);const Qn=O(_e,vt,it),Kt=!oo(Qn)||qt;if(!it&&m.state.next({name:_e,type:le.type,values:Ds(s)}),jt)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?it&&S():it||S()),Kt&&m.state.next({name:_e,...qt?{}:Qn});if(!it&&qt&&m.state.next({...t}),e.resolver){const{errors:un}=await I([_e]);if(Ue(vt),Ke){const xr=w6(t.errors,r,_e),Xt=w6(un,r,xr.name||_e);nt=Xt.error,_e=Xt.name,ht=oo(un)}}else E([_e],!0),nt=(await E6(ze,a.disabled,s,v,e.shouldUseNativeValidation))[_e],E([_e]),Ue(vt),Ke&&(nt?ht=!1:(u.isValid||f.isValid)&&(ht=await N(r,!0)));Ke&&(ze._f.deps&&Y(ze._f.deps),C(_e,ht,nt,Qn))}},ae=(le,be)=>{if(Rt(t.errors,be)&&le.focus)return le.focus(),1},Y=async(le,be={})=>{let _e,Ke;const ze=rg(le);if(e.resolver){const Ue=await P(ti(le)?le:ze);_e=oo(Ue),Ke=le?!ze.some(nt=>Rt(Ue,nt)):_e}else le?(Ke=(await Promise.all(ze.map(async Ue=>{const nt=Rt(r,Ue);return await N(nt&&nt._f?{[Ue]:nt}:nt)}))).every(Boolean),!(!Ke&&!t.isValid)&&S()):Ke=_e=await N(r);return m.state.next({...!wc(le)||(u.isValid||f.isValid)&&_e!==t.isValid?{}:{name:le},...e.resolver||!le?{isValid:_e}:{},errors:t.errors}),be.shouldFocus&&!Ke&&ig(r,ae,le?ze:a.mount),Ke},$=le=>{const be={...o.mount?s:i};return ti(le)?be:wc(le)?Rt(be,le):le.map(_e=>Rt(be,_e))},K=(le,be)=>({invalid:!!Rt((be||t).errors,le),isDirty:!!Rt((be||t).dirtyFields,le),error:Rt((be||t).errors,le),isValidating:!!Rt(t.validatingFields,le),isTouched:!!Rt((be||t).touchedFields,le)}),J=le=>{le&&rg(le).forEach(be=>pi(t.errors,be)),m.state.next({errors:le?t.errors:{}})},ee=(le,be,_e)=>{const Ke=(Rt(r,le,{_f:{}})._f||{}).ref,ze=Rt(t.errors,le)||{},{ref:Ue,message:nt,type:ht,...vt}=ze;pr(t.errors,le,{...vt,...be,ref:Ke}),m.state.next({name:le,errors:t.errors,isValid:!1}),_e&&_e.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},ce=(le,be)=>Pl(le)?m.state.subscribe({next:_e=>le(W(void 0,be),_e)}):W(le,be,!0),ue=le=>m.state.subscribe({next:be=>{hpe(le.name,be.name,le.exact)&&fpe(be,le.formState||u,Oe,le.reRenderRoot)&&le.callback({values:{...s},...t,...be})}}).unsubscribe,ge=le=>(o.mount=!0,f={...f,...le.formState},ue({...le,formState:f})),ye=(le,be={})=>{for(const _e of le?rg(le):a.mount)a.mount.delete(_e),a.array.delete(_e),be.keepValue||(pi(r,_e),pi(s,_e)),!be.keepError&&pi(t.errors,_e),!be.keepDirty&&pi(t.dirtyFields,_e),!be.keepTouched&&pi(t.touchedFields,_e),!be.keepIsValidating&&pi(t.validatingFields,_e),!e.shouldUnregister&&!be.keepDefaultValue&&pi(i,_e);m.state.next({values:Ds(s)}),m.state.next({...t,...be.keepDirty?{isDirty:L()}:{}}),!be.keepIsValid&&S()},Se=({disabled:le,name:be})=>{(yc(le)&&o.mount||le||a.disabled.has(be))&&(le?a.disabled.add(be):a.disabled.delete(be))},Ae=(le,be={})=>{let _e=Rt(r,le);const Ke=yc(be.disabled)||yc(e.disabled);return pr(r,le,{..._e||{},_f:{..._e&&_e._f?_e._f:{ref:{name:le}},name:le,mount:!0,...be}}),a.mount.add(le),_e?Se({disabled:yc(be.disabled)?be.disabled:e.disabled,name:le}):U(le,!0,be.value),{...Ke?{disabled:be.disabled||e.disabled}:{},...e.progressive?{required:!!be.required,min:bm(be.min),max:bm(be.max),minLength:bm(be.minLength),maxLength:bm(be.maxLength),pattern:bm(be.pattern)}:{},name:le,onChange:de,onBlur:de,ref:ze=>{if(ze){Ae(le,be),_e=Rt(r,le);const Ue=ti(ze.value)&&ze.querySelectorAll&&ze.querySelectorAll("input,select,textarea")[0]||ze,nt=ope(Ue),ht=_e._f.refs||[];if(nt?ht.find(vt=>vt===Ue):Ue===_e._f.ref)return;pr(r,le,{_f:{..._e._f,...nt?{refs:[...ht.filter(j5),Ue,...Array.isArray(Rt(i,le))?[{}]:[]],ref:{type:Ue.type,name:le}}:{ref:Ue}}}),U(le,!1,void 0,Ue)}else _e=Rt(r,le,{}),_e._f&&(_e._f.mount=!1),(e.shouldUnregister||be.shouldUnregister)&&!(tpe(a.array,le)&&o.action)&&a.unMount.add(le)}}},je=()=>e.shouldFocusError&&ig(r,ae,a.mount),$e=le=>{yc(le)&&(m.state.next({disabled:le}),ig(r,(be,_e)=>{const Ke=Rt(r,_e);Ke&&(be.disabled=Ke._f.disabled||le,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(ze=>{ze.disabled=Ke._f.disabled||le}))},0,!1))},st=(le,be)=>async _e=>{let Ke;_e&&(_e.preventDefault&&_e.preventDefault(),_e.persist&&_e.persist());let ze=Ds(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Ue,values:nt}=await I();t.errors=Ue,ze=nt}else await N(r);if(a.disabled.size)for(const Ue of a.disabled)pr(ze,Ue,void 0);if(pi(t.errors,"root"),oo(t.errors)){m.state.next({errors:{}});try{await le(ze,_e)}catch(Ue){Ke=Ue}}else be&&await be({...t.errors},_e),je(),setTimeout(je);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oo(t.errors)&&!Ke,submitCount:t.submitCount+1,errors:t.errors}),Ke)throw Ke},we=(le,be={})=>{Rt(r,le)&&(ti(be.defaultValue)?X(le,Ds(Rt(i,le))):(X(le,be.defaultValue),pr(i,le,Ds(be.defaultValue))),be.keepTouched||pi(t.touchedFields,le),be.keepDirty||(pi(t.dirtyFields,le),t.isDirty=be.defaultValue?L(le,Ds(Rt(i,le))):L()),be.keepError||(pi(t.errors,le),u.isValid&&S()),m.state.next({...t}))},pe=(le,be={})=>{const _e=le?Ds(le):i,Ke=Ds(_e),ze=oo(le),Ue=ze?i:Ke;if(be.keepDefaultValues||(i=_e),!be.keepValues){if(be.keepDirtyValues){const nt=new Set([...a.mount,...Object.keys(xm(i,s))]);for(const ht of Array.from(nt))Rt(t.dirtyFields,ht)?pr(Ue,ht,Rt(s,ht)):X(ht,Rt(Ue,ht))}else{if(h4&&ti(le))for(const nt of a.mount){const ht=Rt(r,nt);if(ht&&ht._f){const vt=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(u2(vt)){const it=vt.closest("form");if(it){it.reset();break}}}}for(const nt of a.mount)X(nt,Rt(Ue,nt))}s=Ds(Ue),m.array.next({values:{...Ue}}),m.state.next({values:{...Ue}})}a={mount:be.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!be.keepIsValid||!!be.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:be.keepSubmitCount?t.submitCount:0,isDirty:ze?!1:be.keepDirty?t.isDirty:!!(be.keepDefaultValues&&!Vd(le,i)),isSubmitted:be.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ze?{}:be.keepDirtyValues?be.keepDefaultValues&&s?xm(i,s):t.dirtyFields:be.keepDefaultValues&&le?xm(i,le):be.keepDirty?t.dirtyFields:{},touchedFields:be.keepTouched?t.touchedFields:{},errors:be.keepErrors?t.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(le,be)=>pe(Pl(le)?le(s):le,be),Fe=(le,be={})=>{const _e=Rt(r,le),Ke=_e&&_e._f;if(Ke){const ze=Ke.refs?Ke.refs[0]:Ke.ref;ze.focus&&(ze.focus(),be.shouldSelect&&Pl(ze.select)&&ze.select())}},Oe=le=>{t={...t,...le}},Ge={control:{register:Ae,unregister:ye,getFieldState:K,handleSubmit:st,setError:ee,_subscribe:ue,_runSchema:I,_getWatch:W,_getDirty:L,_setValid:S,_setFieldArray:_,_setDisabledField:Se,_setErrors:B,_getFieldArray:ie,_reset:pe,_resetDefaultValues:()=>Pl(e.defaultValues)&&e.defaultValues().then(le=>{qe(le,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:$e,_subjects:m,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(le){o=le},get _defaultValues(){return i},get _names(){return a},set _names(le){a=le},get _formState(){return t},get _options(){return e},set _options(le){e={...e,...le}}},subscribe:ge,trigger:Y,register:Ae,handleSubmit:st,watch:ce,setValue:X,getValues:$,reset:qe,resetField:we,clearErrors:J,unregister:ye,setError:ee,setFocus:Fe,getFieldState:K};return{...Ge,formControl:Ge}}const xpe=typeof window<"u"?dt.useLayoutEffect:dt.useEffect;function bpe(n={}){const e=dt.useRef(void 0),t=dt.useRef(void 0),[r,i]=dt.useState({isDirty:!1,isValidating:!1,isLoading:Pl(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Pl(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:vpe(n),formState:r},n.formControl&&n.defaultValues&&!Pl(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const s=e.current.control;return s._options=n,xpe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),dt.useEffect(()=>s._disableForm(n.disabled),[s,n.disabled]),dt.useEffect(()=>{n.mode&&(s._options.mode=n.mode),n.reValidateMode&&(s._options.reValidateMode=n.reValidateMode),n.errors&&!oo(n.errors)&&s._setErrors(n.errors)},[s,n.errors,n.mode,n.reValidateMode]),dt.useEffect(()=>{n.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,n.shouldUnregister]),dt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),dt.useEffect(()=>{n.values&&!Vd(n.values,t.current)?(s._reset(n.values,s._options.resetOptions),t.current=n.values,i(o=>({...o}))):s._resetDefaultValues()},[s,n.values]),dt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=rpe(r,s),e.current}const wpe="https://api.cloudinary.com/v1_1/ddkyumyw3/image/upload",Spe="unsigned_preset",Epe=n=>n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");function Cpe({id:n,url:e,onRemove:t,onMoveLeft:r,onMoveRight:i}){const{attributes:s,listeners:o,setNodeRef:a,transform:l,transition:c}=wB({id:n}),u={transform:C0.Transform.toString(l),transition:c};return A.jsxs("div",{ref:a,style:u,className:"relative cursor-move group",...s,...o,children:[A.jsx("img",{src:e,alt:"Vista previa",className:"w-full h-40 object-cover rounded border"}),A.jsx("button",{type:"button",onClick:t,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition",children:""}),A.jsxs("div",{className:"absolute bottom-1 left-1 right-1 flex justify-between opacity-0 group-hover:opacity-100 transition",children:[A.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),r()},className:"bg-black/70 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black/90",children:""}),A.jsx("button",{type:"button",onClick:f=>{f.stopPropagation(),i()},className:"bg-black/70 text-white rounded-full w-7 h-7 flex items-center justify-center hover:bg-black/90",children:""})]})]})}function Ape(){const{id:n}=qC(),e=zc(),[t,r]=F.useState({name:"",title:"",category:"",subCategory:"",team:"",priceUSD:0,images:[],active:!0,customizable:!0,descriptionEs:"",sku:"",stockTotal:0,description:""}),[i,s]=F.useState(""),[o,a]=F.useState(""),[l,c]=F.useState(""),[u,f]=F.useState(""),[m,p]=F.useState(!1),[g,v]=F.useState(""),[b,S]=F.useState([]),[E,_]=F.useState([]),[R,B]=F.useState([]),[U,O]=F.useState(!1),C=F.useRef(null),[I,P]=F.useState(""),[N,D]=F.useState(""),[L,W]=F.useState(""),[ie,oe]=F.useState({}),[re,X]=F.useState(!0),de="es";F.useEffect(()=>{(async()=>{try{const pe=await Z2();if(_(pe),I){const qe=await Dg(I);B(qe.map(Fe=>({...Fe,categoryId:I})))}console.log("[CreateProductForm] Categoras y subcategoras cargadas desde Firebase")}catch(pe){console.error("[CreateProductForm] Error cargando categoras:",pe)}})()},[]),F.useEffect(()=>{(async()=>{if(I)try{const pe=await Dg(I);B(pe.map(qe=>({...qe,categoryId:I})))}catch(pe){console.error("Error cargando subcategoras dinmicamente:",pe)}})()},[I]),F.useEffect(()=>{r(we=>({...we,category:I}))},[I]),F.useEffect(()=>{D("")},[I]),F.useEffect(()=>{r(we=>({...we,subcategory:N}))},[N]);const[ae,Y]=F.useState([]),$=Jj(a2(gb,{activationConstraint:{distance:5}}),a2(mb,{coordinateGetter:SB})),K=async we=>{const pe=new FormData;pe.append("file",we),pe.append("upload_preset",Spe);try{const qe=await fetch(wpe,{method:"POST",body:pe});if(!qe.ok)throw new Error(`Error de Cloudinary: ${qe.statusText}`);return(await qe.json()).secure_url}catch(qe){throw console.error("Error al subir la imagen a Cloudinary:",qe),qe}},{register:J,handleSubmit:ee,setValue:ce,watch:ue,control:ge,formState:{errors:ye}}=bpe({defaultValues:{title:"",league:"",team:"",priceUSD:80,cjProductId:"",defaultDescriptionType:"none",extraDescriptionTop:"",extraDescriptionBottom:"",descriptionPosition:"bottom",active:!0,customizable:!0}}),Se=we=>{const{active:pe,over:qe}=we;qe&&pe.id!==qe.id&&S(Fe=>{const Oe=Fe.findIndex(Ge=>Ge===pe.id),Ie=Fe.findIndex(Ge=>Ge===qe.id);return xb(Fe,Oe,Ie)})},Ae=async we=>{if(!(!we.target.files||we.target.files.length===0)){O(!0),v("");try{const pe=Array.from(we.target.files);console.log(`[CreateProductForm] Subiendo ${pe.length} imgenes...`);const qe=pe.map(Oe=>K(Oe)),Fe=await Promise.all(qe);S(Oe=>[...Oe,...Fe]),console.log(`[CreateProductForm] ${Fe.length} imgenes subidas con xito`),C.current&&(C.current.value="")}catch(pe){console.error("[CreateProductForm] Error al subir imgenes:",pe),v("Error al subir imgenes. Intente nuevamente.")}finally{O(!1)}}},je=we=>{S(pe=>pe.filter((qe,Fe)=>Fe!==we))},$e=(we,pe)=>{if(pe==="left"&&we===0||pe==="right"&&we===b.length-1)return;const qe=[...b],Fe=pe==="left"?we-1:we+1;[qe[we],qe[Fe]]=[qe[Fe],qe[we]],S(qe)},st=async we=>{var pe,qe;if(b.length===0){v("Debes subir al menos una imagen");return}if(!I||!N){v("Debes seleccionar categora y subcategora");return}p(!0),v("");try{const Fe=we.title.trim(),Oe=Epe(Fe),Ie=((pe=E.find(Ke=>Ke.id===I))==null?void 0:pe.name)||"",Ge=typeof Ie=="string"?Ie:Ie[de]||Ie.es||"",le=((qe=R.find(Ke=>Ke.id===N))==null?void 0:qe.name)||"",be=typeof le=="string"?le:le[de]||le.es||"",_e={title:{es:t.title.trim()||i.trim(),en:i.trim()},description:{es:t.descriptionEs,en:o},slug:Oe,category:{id:I,name:Ge},subcategory:{id:N,name:be},priceUSD:we.priceUSD,defaultDescriptionType:we.defaultDescriptionType||"none",extraDescriptionTop:we.extraDescriptionTop||"",extraDescriptionBottom:we.extraDescriptionBottom||"",descriptionPosition:we.descriptionPosition||"bottom",active:we.active,images:b,allowCustomization:we.customizable,customName:"",customNumber:"",variants:ae,sku:t.sku||"",stockTotal:ae.reduce((Ke,ze)=>Ke+ze.options.reduce((Ue,nt)=>Ue+(nt.stock||0),0),0)};console.log("[Verificacin]",Ge,be),console.log("[CreateProductForm] Producto listo para guardar:",_e),await Nse(_e),f("Producto creado correctamente!"),setTimeout(()=>{f(""),e("/admin/productos")},2e3)}catch(Fe){console.error("[CreateProductForm] Error al crear producto:",Fe),v("Error al crear el producto. Intente nuevamente.")}finally{p(!1)}};return A.jsxs(A.Fragment,{children:[u&&A.jsx("div",{className:"bg-green-100 text-green-800 p-4 rounded-md mb-4",children:u}),A.jsxs("form",{onSubmit:ee(st),className:"space-y-6",children:[g&&A.jsx("div",{className:"bg-red-100 text-red-700 p-4 rounded-md",children:g}),A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{htmlFor:"title",className:"block font-medium",children:["Ttulo del producto ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{id:"title",type:"text",...J("title",{required:"El ttulo es obligatorio"}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Ej: Camiseta Uruguay 2023 Titular"}),ye.title&&A.jsx("span",{className:"text-red-500 text-sm",children:ye.title.message}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Title (EN)"}),A.jsx("input",{type:"text",value:i,onChange:we=>s(we.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"SKU (opcional)"}),A.jsx("input",{type:"text",value:t.sku||"",onChange:we=>r(pe=>({...pe,sku:we.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50"}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Description (EN)"}),A.jsx(i2,{content:o,onChange:a}),A.jsx("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Descripcin (ES)"}),A.jsx(i2,{content:t.descriptionEs,onChange:we=>r(pe=>({...pe,descriptionEs:we}))})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categora:"}),A.jsxs("select",{className:"w-full border p-2 rounded",value:I,onChange:we=>{var Fe;const pe=we.target.value;P(pe);const qe=((Fe=E.find(Oe=>Oe.id===pe))==null?void 0:Fe.name)||"";oe(Oe=>({...Oe,category:{id:pe,name:qe}}))},children:[A.jsx("option",{value:"",children:"Seleccionar categora"}),E.map(we=>{var pe,qe;return A.jsx("option",{value:we.id,children:typeof we.name=="string"?we.name:((pe=we.name)==null?void 0:pe[de])||((qe=we.name)==null?void 0:qe.es)||""},we.id)})]})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategora:"}),A.jsxs("select",{className:"w-full border p-2 rounded",value:N,onChange:we=>{var Fe;const pe=we.target.value;D(pe);const qe=((Fe=R.find(Oe=>Oe.id===pe))==null?void 0:Fe.name)||"";oe(Oe=>({...Oe,subCategory:{id:pe,name:qe}}))},disabled:!I,children:[A.jsx("option",{value:"",children:"Seleccionar subcategora"}),R.filter(we=>we.categoryId===I).map(we=>{var pe,qe;return A.jsx("option",{value:we.id,children:typeof we.name=="string"?we.name:((pe=we.name)==null?void 0:pe[de])||((qe=we.name)==null?void 0:qe.es)||""},we.id)})]})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.jsxs("div",{className:"space-y-2",children:[A.jsxs("label",{htmlFor:"priceUSD",className:"block font-medium",children:["Precio en USD ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{id:"priceUSD",type:"number",step:"0.01",min:"0",...J("priceUSD",{required:"El precio en USD es obligatorio",valueAsNumber:!0,validate:we=>we>0||"El precio debe ser mayor a 0"}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black"}),ye.priceUSD&&A.jsx("span",{className:"text-red-500 text-sm",children:ye.priceUSD.message})]})}),A.jsx("div",{className:"space-y-2",children:A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"checkbox",...J("active"),className:"text-black rounded focus:ring-black h-5 w-5"}),A.jsx("span",{children:"Producto activo (visible para clientes)"})]})}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"block text-sm font-medium",children:"Stock disponible"}),A.jsx("input",{type:"number",readOnly:!0,value:ae.reduce((we,pe)=>we+pe.options.reduce((qe,Fe)=>qe+(Fe.stock||0),0),0),className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-100 shadow-sm focus:outline-none cursor-not-allowed"})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("label",{className:"block font-medium",children:["Imgenes ",A.jsx("span",{className:"text-red-500",children:"*"})]}),A.jsx("input",{ref:C,type:"file",accept:"image/*",multiple:!0,onChange:Ae,className:"hidden",id:"image-upload"}),A.jsx("label",{htmlFor:"image-upload",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md cursor-pointer transition-colors flex items-center justify-center disabled:opacity-50",children:U?A.jsxs(A.Fragment,{children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):A.jsx(A.Fragment,{children:"Agregar imgenes"})})]}),b.length>0&&A.jsx(pB,{sensors:$,collisionDetection:tB,onDragEnd:Se,children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:A.jsx(xB,{items:b,strategy:gB,children:b.map((we,pe)=>A.jsx(Cpe,{id:we,url:we,onRemove:()=>je(pe),onMoveLeft:()=>$e(pe,"left"),onMoveRight:()=>$e(pe,"right")},we))})})}),b.length===0&&A.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-6 text-center text-gray-500",children:"No hay imgenes cargadas"})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block font-semibold mb-2",children:"Variantes del producto"}),ae.map((we,pe)=>A.jsxs("div",{className:"mb-4 border p-3 rounded-md bg-gray-50",children:[A.jsxs("div",{className:"flex gap-4 mb-2",children:[A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en espaol (Ej: Tamao)",value:we.label.es,onChange:qe=>{const Fe=[...ae];Fe[pe].label.es=qe.target.value,Y(Fe)}}),A.jsx("input",{type:"text",className:"w-1/2 border p-2",placeholder:"Nombre en ingls (Ej: Size)",value:we.label.en,onChange:qe=>{const Fe=[...ae];Fe[pe].label.en=qe.target.value,Y(Fe)}})]}),we.options.map((qe,Fe)=>A.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-1",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Valor"}),A.jsx("input",{type:"text",className:"w-full border p-2",placeholder:"Ej: 60 cpsulas",value:qe.value,onChange:Oe=>{const Ie=[...ae];Ie[pe].options[Fe].value=Oe.target.value,Y(Ie)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Precio (USD)"}),A.jsx("input",{type:"number",step:"0.01",min:0,className:"w-full border p-2",value:qe.priceUSD,onChange:Oe=>{const Ie=[...ae];Ie[pe].options[Fe].priceUSD=parseFloat(Oe.target.value),Y(Ie)}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Stock"}),A.jsx("input",{type:"number",min:0,className:"w-full border p-2",value:qe.stock||0,onChange:Oe=>{const Ie=[...ae];Ie[pe].options[Fe].stock=parseInt(Oe.target.value),Y(Ie)}})]})]},Fe)),A.jsx("button",{type:"button",className:"text-blue-600 text-sm mt-2",onClick:()=>{const qe=[...ae];qe[pe].options.push({value:"",priceUSD:0,stock:0}),Y(qe)},children:"+ Agregar opcin"})]},pe)),A.jsx("button",{type:"button",className:"text-blue-600 mt-2",onClick:()=>{Y([...ae,{label:{es:"",en:""},options:[{value:"",priceUSD:0,stock:0}]}])},children:"+ Agregar variante"})]}),A.jsx("div",{className:"pt-4",children:A.jsx("button",{type:"submit",disabled:m||U,className:`w-full py-3 px-4 rounded-md font-medium transition-colors ${m||U?"bg-gray-400 text-white cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,children:m?A.jsxs("div",{className:"flex items-center justify-center",children:[A.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[A.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),A.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Crear publicacin"})})]})]})}function C6(){return A.jsx("div",{className:"max-w-3xl mx-auto",children:A.jsx(Ape,{})})}var bv={exports:{}};function _pe(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wv={exports:{}};const Tpe={},kpe=Object.freeze(Object.defineProperty({__proto__:null,default:Tpe},Symbol.toStringTag,{value:"Module"})),Npe=ZV(kpe);var Ppe=wv.exports,A6;function _n(){return A6||(A6=1,function(n,e){(function(t,r){n.exports=r()})(Ppe,function(){var t=t||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof vw<"u"&&vw.crypto&&(s=vw.crypto),!s&&typeof _pe=="function")try{s=Npe}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function E(){}return function(_){var R;return E.prototype=_,R=new E,E.prototype=null,R}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(E){var _=a(this);return E&&_.mixIn(E),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var E=this.extend();return E.init.apply(E,arguments),E},init:function(){},mixIn:function(E){for(var _ in E)E.hasOwnProperty(_)&&(this[_]=E[_]);E.hasOwnProperty("toString")&&(this.toString=E.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=u.extend({init:function(E,_){E=this.words=E||[],_!=i?this.sigBytes=_:this.sigBytes=E.length*4},toString:function(E){return(E||p).stringify(this)},concat:function(E){var _=this.words,R=E.words,B=this.sigBytes,U=E.sigBytes;if(this.clamp(),B%4)for(var O=0;O<U;O++){var C=R[O>>>2]>>>24-O%4*8&255;_[B+O>>>2]|=C<<24-(B+O)%4*8}else for(var I=0;I<U;I+=4)_[B+I>>>2]=R[I>>>2];return this.sigBytes+=U,this},clamp:function(){var E=this.words,_=this.sigBytes;E[_>>>2]&=4294967295<<32-_%4*8,E.length=r.ceil(_/4)},clone:function(){var E=u.clone.call(this);return E.words=this.words.slice(0),E},random:function(E){for(var _=[],R=0;R<E;R+=4)_.push(o());return new f.init(_,E)}}),m=l.enc={},p=m.Hex={stringify:function(E){for(var _=E.words,R=E.sigBytes,B=[],U=0;U<R;U++){var O=_[U>>>2]>>>24-U%4*8&255;B.push((O>>>4).toString(16)),B.push((O&15).toString(16))}return B.join("")},parse:function(E){for(var _=E.length,R=[],B=0;B<_;B+=2)R[B>>>3]|=parseInt(E.substr(B,2),16)<<24-B%8*4;return new f.init(R,_/2)}},g=m.Latin1={stringify:function(E){for(var _=E.words,R=E.sigBytes,B=[],U=0;U<R;U++){var O=_[U>>>2]>>>24-U%4*8&255;B.push(String.fromCharCode(O))}return B.join("")},parse:function(E){for(var _=E.length,R=[],B=0;B<_;B++)R[B>>>2]|=(E.charCodeAt(B)&255)<<24-B%4*8;return new f.init(R,_)}},v=m.Utf8={stringify:function(E){try{return decodeURIComponent(escape(g.stringify(E)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(E){return g.parse(unescape(encodeURIComponent(E)))}},b=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(E){typeof E=="string"&&(E=v.parse(E)),this._data.concat(E),this._nDataBytes+=E.sigBytes},_process:function(E){var _,R=this._data,B=R.words,U=R.sigBytes,O=this.blockSize,C=O*4,I=U/C;E?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var P=I*O,N=r.min(P*4,U);if(P){for(var D=0;D<P;D+=O)this._doProcessBlock(B,D);_=B.splice(0,P),R.sigBytes-=N}return new f.init(_,N)},clone:function(){var E=u.clone.call(this);return E._data=this._data.clone(),E},_minBufferSize:0});c.Hasher=b.extend({cfg:u.extend(),init:function(E){this.cfg=this.cfg.extend(E),this.reset()},reset:function(){b.reset.call(this),this._doReset()},update:function(E){return this._append(E),this._process(),this},finalize:function(E){E&&this._append(E);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(E){return function(_,R){return new E.init(R).finalize(_)}},_createHmacHelper:function(E){return function(_,R){return new S.HMAC.init(E,R).finalize(_)}}});var S=l.algo={};return l}(Math);return t})}(wv)),wv.exports}var Sv={exports:{}},Ipe=Sv.exports,_6;function wb(){return _6||(_6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Ipe,function(t){return function(r){var i=t,s=i.lib,o=s.Base,a=s.WordArray,l=i.x64={};l.Word=o.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=o.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,f=[],m=0;m<u;m++){var p=c[m];f.push(p.high),f.push(p.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),u=c.words=this.words.slice(0),f=u.length,m=0;m<f;m++)u[m]=u[m].clone();return c}})}(),t})}(Sv)),Sv.exports}var Ev={exports:{}},Dpe=Ev.exports,T6;function Rpe(){return T6||(T6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Dpe,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,i=r.lib,s=i.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=l[f]<<24-f%4*8;o.call(this,u,c)}else o.apply(this,arguments)};a.prototype=s}}(),t.lib.WordArray})}(Ev)),Ev.exports}var Cv={exports:{}},Lpe=Cv.exports,k6;function Ope(){return k6||(k6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Lpe,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var p=c[m>>>2]>>>16-m%4*8&65535;f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return s.create(u,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,f=[],m=0;m<u;m+=2){var p=a(c[m>>>2]>>>16-m%4*8&65535);f.push(String.fromCharCode(p))}return f.join("")},parse:function(l){for(var c=l.length,u=[],f=0;f<c;f++)u[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return s.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),t.enc.Utf16})}(Cv)),Cv.exports}var Av={exports:{}},Mpe=Av.exports,N6;function Uh(){return N6||(N6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Mpe,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,f=this._map;l.clamp();for(var m=[],p=0;p<u;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,b=c[p+2>>>2]>>>24-(p+2)%4*8&255,S=g<<16|v<<8|b,E=0;E<4&&p+E*.75<u;E++)m.push(f.charAt(S>>>6*(3-E)&63));var _=f.charAt(64);if(_)for(;m.length%4;)m.push(_);return m.join("")},parse:function(l){var c=l.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var p=u.charAt(64);if(p){var g=l.indexOf(p);g!==-1&&(c=g)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var f=[],m=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,v=u[l.charCodeAt(p)]>>>6-p%4*2,b=g|v;f[m>>>2]|=b<<24-m%4*8,m++}return s.create(f,m)}}(),t.enc.Base64})}(Av)),Av.exports}var _v={exports:{}},Fpe=_v.exports,P6;function jpe(){return P6||(P6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Fpe,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,f=l.sigBytes,m=c?this._safe_map:this._map;l.clamp();for(var p=[],g=0;g<f;g+=3)for(var v=u[g>>>2]>>>24-g%4*8&255,b=u[g+1>>>2]>>>24-(g+1)%4*8&255,S=u[g+2>>>2]>>>24-(g+2)%4*8&255,E=v<<16|b<<8|S,_=0;_<4&&g+_*.75<f;_++)p.push(m.charAt(E>>>6*(3-_)&63));var R=m.charAt(64);if(R)for(;p.length%4;)p.push(R);return p.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,f=c?this._safe_map:this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var p=0;p<f.length;p++)m[f.charCodeAt(p)]=p}var g=f.charAt(64);if(g){var v=l.indexOf(g);v!==-1&&(u=v)}return a(l,u,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var f=[],m=0,p=0;p<c;p++)if(p%4){var g=u[l.charCodeAt(p-1)]<<p%4*2,v=u[l.charCodeAt(p)]>>>6-p%4*2,b=g|v;f[m>>>2]|=b<<24-m%4*8,m++}return s.create(f,m)}}(),t.enc.Base64url})}(_v)),_v.exports}var Tv={exports:{}},Bpe=Tv.exports,I6;function qh(){return I6||(I6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Bpe,function(t){return function(r){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[];(function(){for(var v=0;v<64;v++)c[v]=r.abs(r.sin(v+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,b){for(var S=0;S<16;S++){var E=b+S,_=v[E];v[E]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var R=this._hash.words,B=v[b+0],U=v[b+1],O=v[b+2],C=v[b+3],I=v[b+4],P=v[b+5],N=v[b+6],D=v[b+7],L=v[b+8],W=v[b+9],ie=v[b+10],oe=v[b+11],re=v[b+12],X=v[b+13],de=v[b+14],ae=v[b+15],Y=R[0],$=R[1],K=R[2],J=R[3];Y=f(Y,$,K,J,B,7,c[0]),J=f(J,Y,$,K,U,12,c[1]),K=f(K,J,Y,$,O,17,c[2]),$=f($,K,J,Y,C,22,c[3]),Y=f(Y,$,K,J,I,7,c[4]),J=f(J,Y,$,K,P,12,c[5]),K=f(K,J,Y,$,N,17,c[6]),$=f($,K,J,Y,D,22,c[7]),Y=f(Y,$,K,J,L,7,c[8]),J=f(J,Y,$,K,W,12,c[9]),K=f(K,J,Y,$,ie,17,c[10]),$=f($,K,J,Y,oe,22,c[11]),Y=f(Y,$,K,J,re,7,c[12]),J=f(J,Y,$,K,X,12,c[13]),K=f(K,J,Y,$,de,17,c[14]),$=f($,K,J,Y,ae,22,c[15]),Y=m(Y,$,K,J,U,5,c[16]),J=m(J,Y,$,K,N,9,c[17]),K=m(K,J,Y,$,oe,14,c[18]),$=m($,K,J,Y,B,20,c[19]),Y=m(Y,$,K,J,P,5,c[20]),J=m(J,Y,$,K,ie,9,c[21]),K=m(K,J,Y,$,ae,14,c[22]),$=m($,K,J,Y,I,20,c[23]),Y=m(Y,$,K,J,W,5,c[24]),J=m(J,Y,$,K,de,9,c[25]),K=m(K,J,Y,$,C,14,c[26]),$=m($,K,J,Y,L,20,c[27]),Y=m(Y,$,K,J,X,5,c[28]),J=m(J,Y,$,K,O,9,c[29]),K=m(K,J,Y,$,D,14,c[30]),$=m($,K,J,Y,re,20,c[31]),Y=p(Y,$,K,J,P,4,c[32]),J=p(J,Y,$,K,L,11,c[33]),K=p(K,J,Y,$,oe,16,c[34]),$=p($,K,J,Y,de,23,c[35]),Y=p(Y,$,K,J,U,4,c[36]),J=p(J,Y,$,K,I,11,c[37]),K=p(K,J,Y,$,D,16,c[38]),$=p($,K,J,Y,ie,23,c[39]),Y=p(Y,$,K,J,X,4,c[40]),J=p(J,Y,$,K,B,11,c[41]),K=p(K,J,Y,$,C,16,c[42]),$=p($,K,J,Y,N,23,c[43]),Y=p(Y,$,K,J,W,4,c[44]),J=p(J,Y,$,K,re,11,c[45]),K=p(K,J,Y,$,ae,16,c[46]),$=p($,K,J,Y,O,23,c[47]),Y=g(Y,$,K,J,B,6,c[48]),J=g(J,Y,$,K,D,10,c[49]),K=g(K,J,Y,$,de,15,c[50]),$=g($,K,J,Y,P,21,c[51]),Y=g(Y,$,K,J,re,6,c[52]),J=g(J,Y,$,K,C,10,c[53]),K=g(K,J,Y,$,ie,15,c[54]),$=g($,K,J,Y,U,21,c[55]),Y=g(Y,$,K,J,L,6,c[56]),J=g(J,Y,$,K,ae,10,c[57]),K=g(K,J,Y,$,N,15,c[58]),$=g($,K,J,Y,X,21,c[59]),Y=g(Y,$,K,J,I,6,c[60]),J=g(J,Y,$,K,oe,10,c[61]),K=g(K,J,Y,$,O,15,c[62]),$=g($,K,J,Y,W,21,c[63]),R[0]=R[0]+Y|0,R[1]=R[1]+$|0,R[2]=R[2]+K|0,R[3]=R[3]+J|0},_doFinalize:function(){var v=this._data,b=v.words,S=this._nDataBytes*8,E=v.sigBytes*8;b[E>>>5]|=128<<24-E%32;var _=r.floor(S/4294967296),R=S;b[(E+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b[(E+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,v.sigBytes=(b.length+1)*4,this._process();for(var B=this._hash,U=B.words,O=0;O<4;O++){var C=U[O];U[O]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return B},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});function f(v,b,S,E,_,R,B){var U=v+(b&S|~b&E)+_+B;return(U<<R|U>>>32-R)+b}function m(v,b,S,E,_,R,B){var U=v+(b&E|S&~E)+_+B;return(U<<R|U>>>32-R)+b}function p(v,b,S,E,_,R,B){var U=v+(b^S^E)+_+B;return(U<<R|U>>>32-R)+b}function g(v,b,S,E,_,R,B){var U=v+(S^(b|~E))+_+B;return(U<<R|U>>>32-R)+b}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),t.MD5})}(Tv)),Tv.exports}var kv={exports:{}},Vpe=kv.exports,D6;function DB(){return D6||(D6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Vpe,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=i.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var m=this._hash.words,p=m[0],g=m[1],v=m[2],b=m[3],S=m[4],E=0;E<80;E++){if(E<16)l[E]=u[f+E]|0;else{var _=l[E-3]^l[E-8]^l[E-14]^l[E-16];l[E]=_<<1|_>>>31}var R=(p<<5|p>>>27)+S+l[E];E<20?R+=(g&v|~g&b)+1518500249:E<40?R+=(g^v^b)+1859775393:E<60?R+=(g&v|g&b|v&b)-1894007588:R+=(g^v^b)-899497514,S=b,b=v,v=g<<30|g>>>2,g=p,p=R}m[0]=m[0]+p|0,m[1]=m[1]+g|0,m[2]=m[2]+v|0,m[3]=m[3]+b|0,m[4]=m[4]+S|0},_doFinalize:function(){var u=this._data,f=u.words,m=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(m/4294967296),f[(p+64>>>9<<4)+15]=m,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),t.SHA1})}(kv)),kv.exports}var Nv={exports:{}},$pe=Nv.exports,R6;function y4(){return R6||(R6=1,function(n,e){(function(t,r){n.exports=r(_n())})($pe,function(t){return function(r){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=[],u=[];(function(){function p(S){for(var E=r.sqrt(S),_=2;_<=E;_++)if(!(S%_))return!1;return!0}function g(S){return(S-(S|0))*4294967296|0}for(var v=2,b=0;b<64;)p(v)&&(b<8&&(c[b]=g(r.pow(v,1/2))),u[b]=g(r.pow(v,1/3)),b++),v++})();var f=[],m=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(p,g){for(var v=this._hash.words,b=v[0],S=v[1],E=v[2],_=v[3],R=v[4],B=v[5],U=v[6],O=v[7],C=0;C<64;C++){if(C<16)f[C]=p[g+C]|0;else{var I=f[C-15],P=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,N=f[C-2],D=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;f[C]=P+f[C-7]+D+f[C-16]}var L=R&B^~R&U,W=b&S^b&E^S&E,ie=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),oe=(R<<26|R>>>6)^(R<<21|R>>>11)^(R<<7|R>>>25),re=O+oe+L+u[C]+f[C],X=ie+W;O=U,U=B,B=R,R=_+re|0,_=E,E=S,S=b,b=re+X|0}v[0]=v[0]+b|0,v[1]=v[1]+S|0,v[2]=v[2]+E|0,v[3]=v[3]+_|0,v[4]=v[4]+R|0,v[5]=v[5]+B|0,v[6]=v[6]+U|0,v[7]=v[7]+O|0},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,b=p.sigBytes*8;return g[b>>>5]|=128<<24-b%32,g[(b+64>>>9<<4)+14]=r.floor(v/4294967296),g[(b+64>>>9<<4)+15]=v,p.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});i.SHA256=a._createHelper(m),i.HmacSHA256=a._createHmacHelper(m)}(Math),t.SHA256})}(Nv)),Nv.exports}var Pv={exports:{}},zpe=Pv.exports,L6;function Upe(){return L6||(L6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),y4())})(zpe,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),t.SHA224})}(Pv)),Pv.exports}var Iv={exports:{}},qpe=Iv.exports,O6;function RB(){return O6||(O6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),wb())})(qpe,function(t){return function(){var r=t,i=r.lib,s=i.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],m=[];(function(){for(var g=0;g<80;g++)m[g]=u()})();var p=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(g,v){for(var b=this._hash.words,S=b[0],E=b[1],_=b[2],R=b[3],B=b[4],U=b[5],O=b[6],C=b[7],I=S.high,P=S.low,N=E.high,D=E.low,L=_.high,W=_.low,ie=R.high,oe=R.low,re=B.high,X=B.low,de=U.high,ae=U.low,Y=O.high,$=O.low,K=C.high,J=C.low,ee=I,ce=P,ue=N,ge=D,ye=L,Se=W,Ae=ie,je=oe,$e=re,st=X,we=de,pe=ae,qe=Y,Fe=$,Oe=K,Ie=J,Ge=0;Ge<80;Ge++){var le,be,_e=m[Ge];if(Ge<16)be=_e.high=g[v+Ge*2]|0,le=_e.low=g[v+Ge*2+1]|0;else{var Ke=m[Ge-15],ze=Ke.high,Ue=Ke.low,nt=(ze>>>1|Ue<<31)^(ze>>>8|Ue<<24)^ze>>>7,ht=(Ue>>>1|ze<<31)^(Ue>>>8|ze<<24)^(Ue>>>7|ze<<25),vt=m[Ge-2],it=vt.high,jt=vt.low,qt=(it>>>19|jt<<13)^(it<<3|jt>>>29)^it>>>6,Qn=(jt>>>19|it<<13)^(jt<<3|it>>>29)^(jt>>>6|it<<26),Kt=m[Ge-7],un=Kt.high,xr=Kt.low,Xt=m[Ge-16],vi=Xt.high,Tn=Xt.low;le=ht+xr,be=nt+un+(le>>>0<ht>>>0?1:0),le=le+Qn,be=be+qt+(le>>>0<Qn>>>0?1:0),le=le+Tn,be=be+vi+(le>>>0<Tn>>>0?1:0),_e.high=be,_e.low=le}var nr=$e&we^~$e&qe,hn=st&pe^~st&Fe,rn=ee&ue^ee&ye^ue&ye,Et=ce&ge^ce&Se^ge&Se,Jt=(ee>>>28|ce<<4)^(ee<<30|ce>>>2)^(ee<<25|ce>>>7),$n=(ce>>>28|ee<<4)^(ce<<30|ee>>>2)^(ce<<25|ee>>>7),pn=($e>>>14|st<<18)^($e>>>18|st<<14)^($e<<23|st>>>9),Rn=(st>>>14|$e<<18)^(st>>>18|$e<<14)^(st<<23|$e>>>9),ar=f[Ge],gt=ar.high,Gn=ar.low,Qt=Ie+Rn,dn=Oe+pn+(Qt>>>0<Ie>>>0?1:0),Qt=Qt+hn,dn=dn+nr+(Qt>>>0<hn>>>0?1:0),Qt=Qt+Gn,dn=dn+gt+(Qt>>>0<Gn>>>0?1:0),Qt=Qt+le,dn=dn+be+(Qt>>>0<le>>>0?1:0),bn=$n+Et,Cn=Jt+rn+(bn>>>0<$n>>>0?1:0);Oe=qe,Ie=Fe,qe=we,Fe=pe,we=$e,pe=st,st=je+Qt|0,$e=Ae+dn+(st>>>0<je>>>0?1:0)|0,Ae=ye,je=Se,ye=ue,Se=ge,ue=ee,ge=ce,ce=Qt+bn|0,ee=dn+Cn+(ce>>>0<Qt>>>0?1:0)|0}P=S.low=P+ce,S.high=I+ee+(P>>>0<ce>>>0?1:0),D=E.low=D+ge,E.high=N+ue+(D>>>0<ge>>>0?1:0),W=_.low=W+Se,_.high=L+ye+(W>>>0<Se>>>0?1:0),oe=R.low=oe+je,R.high=ie+Ae+(oe>>>0<je>>>0?1:0),X=B.low=X+st,B.high=re+$e+(X>>>0<st>>>0?1:0),ae=U.low=ae+pe,U.high=de+we+(ae>>>0<pe>>>0?1:0),$=O.low=$+Fe,O.high=Y+qe+($>>>0<Fe>>>0?1:0),J=C.low=J+Ie,C.high=K+Oe+(J>>>0<Ie>>>0?1:0)},_doFinalize:function(){var g=this._data,v=g.words,b=this._nDataBytes*8,S=g.sigBytes*8;v[S>>>5]|=128<<24-S%32,v[(S+128>>>10<<5)+30]=Math.floor(b/4294967296),v[(S+128>>>10<<5)+31]=b,g.sigBytes=v.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var g=s.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});r.SHA512=s._createHelper(p),r.HmacSHA512=s._createHmacHelper(p)}(),t.SHA512})}(Iv)),Iv.exports}var Dv={exports:{}},Hpe=Dv.exports,M6;function Wpe(){return M6||(M6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),wb(),RB())})(Hpe,function(t){return function(){var r=t,i=r.x64,s=i.Word,o=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),t.SHA384})}(Dv)),Dv.exports}var Rv={exports:{}},Gpe=Rv.exports,F6;function Kpe(){return F6||(F6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),wb())})(Gpe,function(t){return function(r){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.x64,c=l.Word,u=i.algo,f=[],m=[],p=[];(function(){for(var b=1,S=0,E=0;E<24;E++){f[b+5*S]=(E+1)*(E+2)/2%64;var _=S%5,R=(2*b+3*S)%5;b=_,S=R}for(var b=0;b<5;b++)for(var S=0;S<5;S++)m[b+5*S]=S+(2*b+3*S)%5*5;for(var B=1,U=0;U<24;U++){for(var O=0,C=0,I=0;I<7;I++){if(B&1){var P=(1<<I)-1;P<32?C^=1<<P:O^=1<<P-32}B&128?B=B<<1^113:B<<=1}p[U]=c.create(O,C)}})();var g=[];(function(){for(var b=0;b<25;b++)g[b]=c.create()})();var v=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var b=this._state=[],S=0;S<25;S++)b[S]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(b,S){for(var E=this._state,_=this.blockSize/2,R=0;R<_;R++){var B=b[S+2*R],U=b[S+2*R+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var O=E[R];O.high^=U,O.low^=B}for(var C=0;C<24;C++){for(var I=0;I<5;I++){for(var P=0,N=0,D=0;D<5;D++){var O=E[I+5*D];P^=O.high,N^=O.low}var L=g[I];L.high=P,L.low=N}for(var I=0;I<5;I++)for(var W=g[(I+4)%5],ie=g[(I+1)%5],oe=ie.high,re=ie.low,P=W.high^(oe<<1|re>>>31),N=W.low^(re<<1|oe>>>31),D=0;D<5;D++){var O=E[I+5*D];O.high^=P,O.low^=N}for(var X=1;X<25;X++){var P,N,O=E[X],de=O.high,ae=O.low,Y=f[X];Y<32?(P=de<<Y|ae>>>32-Y,N=ae<<Y|de>>>32-Y):(P=ae<<Y-32|de>>>64-Y,N=de<<Y-32|ae>>>64-Y);var $=g[m[X]];$.high=P,$.low=N}var K=g[0],J=E[0];K.high=J.high,K.low=J.low;for(var I=0;I<5;I++)for(var D=0;D<5;D++){var X=I+5*D,O=E[X],ee=g[X],ce=g[(I+1)%5+5*D],ue=g[(I+2)%5+5*D];O.high=ee.high^~ce.high&ue.high,O.low=ee.low^~ce.low&ue.low}var O=E[0],ge=p[C];O.high^=ge.high,O.low^=ge.low}},_doFinalize:function(){var b=this._data,S=b.words;this._nDataBytes*8;var E=b.sigBytes*8,_=this.blockSize*32;S[E>>>5]|=1<<24-E%32,S[(r.ceil((E+1)/_)*_>>>5)-1]|=128,b.sigBytes=S.length*4,this._process();for(var R=this._state,B=this.cfg.outputLength/8,U=B/8,O=[],C=0;C<U;C++){var I=R[C],P=I.high,N=I.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,O.push(N),O.push(P)}return new o.init(O,B)},clone:function(){for(var b=a.clone.call(this),S=b._state=this._state.slice(0),E=0;E<25;E++)S[E]=S[E].clone();return b}});i.SHA3=a._createHelper(v),i.HmacSHA3=a._createHmacHelper(v)}(Math),t.SHA3})}(Rv)),Rv.exports}var Lv={exports:{}},Ype=Lv.exports,j6;function Xpe(){return j6||(j6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Ype,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=t,s=i.lib,o=s.WordArray,a=s.Hasher,l=i.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,O){for(var C=0;C<16;C++){var I=O+C,P=U[I];U[I]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var N=this._hash.words,D=p.words,L=g.words,W=c.words,ie=u.words,oe=f.words,re=m.words,X,de,ae,Y,$,K,J,ee,ce,ue;K=X=N[0],J=de=N[1],ee=ae=N[2],ce=Y=N[3],ue=$=N[4];for(var ge,C=0;C<80;C+=1)ge=X+U[O+W[C]]|0,C<16?ge+=b(de,ae,Y)+D[0]:C<32?ge+=S(de,ae,Y)+D[1]:C<48?ge+=E(de,ae,Y)+D[2]:C<64?ge+=_(de,ae,Y)+D[3]:ge+=R(de,ae,Y)+D[4],ge=ge|0,ge=B(ge,oe[C]),ge=ge+$|0,X=$,$=Y,Y=B(ae,10),ae=de,de=ge,ge=K+U[O+ie[C]]|0,C<16?ge+=R(J,ee,ce)+L[0]:C<32?ge+=_(J,ee,ce)+L[1]:C<48?ge+=E(J,ee,ce)+L[2]:C<64?ge+=S(J,ee,ce)+L[3]:ge+=b(J,ee,ce)+L[4],ge=ge|0,ge=B(ge,re[C]),ge=ge+ue|0,K=ue,ue=ce,ce=B(ee,10),ee=J,J=ge;ge=N[1]+ae+ce|0,N[1]=N[2]+Y+ue|0,N[2]=N[3]+$+K|0,N[3]=N[4]+X+J|0,N[4]=N[0]+de+ee|0,N[0]=ge},_doFinalize:function(){var U=this._data,O=U.words,C=this._nDataBytes*8,I=U.sigBytes*8;O[I>>>5]|=128<<24-I%32,O[(I+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,U.sigBytes=(O.length+1)*4,this._process();for(var P=this._hash,N=P.words,D=0;D<5;D++){var L=N[D];N[D]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}return P},clone:function(){var U=a.clone.call(this);return U._hash=this._hash.clone(),U}});function b(U,O,C){return U^O^C}function S(U,O,C){return U&O|~U&C}function E(U,O,C){return(U|~O)^C}function _(U,O,C){return U&C|O&~C}function R(U,O,C){return U^(O|~C)}function B(U,O){return U<<O|U>>>32-O}i.RIPEMD160=a._createHelper(v),i.HmacRIPEMD160=a._createHmacHelper(v)}(),t.RIPEMD160})}(Lv)),Lv.exports}var Ov={exports:{}},Jpe=Ov.exports,B6;function v4(){return B6||(B6=1,function(n,e){(function(t,r){n.exports=r(_n())})(Jpe,function(t){(function(){var r=t,i=r.lib,s=i.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=s.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var f=c.blockSize,m=f*4;u.sigBytes>m&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),g=this._iKey=u.clone(),v=p.words,b=g.words,S=0;S<f;S++)v[S]^=1549556828,b[S]^=909522486;p.sigBytes=g.sigBytes=m,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,f=u.finalize(c);u.reset();var m=u.finalize(this._oKey.clone().concat(f));return m}})})()})}(Ov)),Ov.exports}var Mv={exports:{}},Qpe=Mv.exports,V6;function Zpe(){return V6||(V6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),y4(),v4())})(Qpe,function(t){return function(){var r=t,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,m){for(var p=this.cfg,g=c.create(p.hasher,f),v=o.create(),b=o.create([1]),S=v.words,E=b.words,_=p.keySize,R=p.iterations;S.length<_;){var B=g.update(m).finalize(b);g.reset();for(var U=B.words,O=U.length,C=B,I=1;I<R;I++){C=g.finalize(C),g.reset();for(var P=C.words,N=0;N<O;N++)U[N]^=P[N]}v.concat(B),E[0]++}return v.sigBytes=_*4,v}});r.PBKDF2=function(f,m,p){return u.create(p).compute(f,m)}}(),t.PBKDF2})}(Mv)),Mv.exports}var Fv={exports:{}},e0e=Fv.exports,$6;function kf(){return $6||($6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),DB(),v4())})(e0e,function(t){return function(){var r=t,i=r.lib,s=i.Base,o=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var m,p=this.cfg,g=p.hasher.create(),v=o.create(),b=v.words,S=p.keySize,E=p.iterations;b.length<S;){m&&g.update(m),m=g.update(u).finalize(f),g.reset();for(var _=1;_<E;_++)m=g.finalize(m),g.reset();v.concat(m)}return v.sigBytes=S*4,v}});r.EvpKDF=function(u,f,m){return c.create(m).compute(u,f)}}(),t.EvpKDF})}(Fv)),Fv.exports}var jv={exports:{}},t0e=jv.exports,z6;function Hi(){return z6||(z6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),kf())})(t0e,function(t){t.lib.Cipher||function(r){var i=t,s=i.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,f=i.algo,m=f.EvpKDF,p=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(P,N){return this.create(this._ENC_XFORM_MODE,P,N)},createDecryptor:function(P,N){return this.create(this._DEC_XFORM_MODE,P,N)},init:function(P,N,D){this.cfg=this.cfg.extend(D),this._xformMode=P,this._key=N,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(N){return typeof N=="string"?I:U}return function(N){return{encrypt:function(D,L,W){return P(L).encrypt(N,D,L,W)},decrypt:function(D,L,W){return P(L).decrypt(N,D,L,W)}}}}()});s.StreamCipher=p.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var g=i.mode={},v=s.BlockCipherMode=o.extend({createEncryptor:function(P,N){return this.Encryptor.create(P,N)},createDecryptor:function(P,N){return this.Decryptor.create(P,N)},init:function(P,N){this._cipher=P,this._iv=N}}),b=g.CBC=function(){var P=v.extend();P.Encryptor=P.extend({processBlock:function(D,L){var W=this._cipher,ie=W.blockSize;N.call(this,D,L,ie),W.encryptBlock(D,L),this._prevBlock=D.slice(L,L+ie)}}),P.Decryptor=P.extend({processBlock:function(D,L){var W=this._cipher,ie=W.blockSize,oe=D.slice(L,L+ie);W.decryptBlock(D,L),N.call(this,D,L,ie),this._prevBlock=oe}});function N(D,L,W){var ie,oe=this._iv;oe?(ie=oe,this._iv=r):ie=this._prevBlock;for(var re=0;re<W;re++)D[L+re]^=ie[re]}return P}(),S=i.pad={},E=S.Pkcs7={pad:function(P,N){for(var D=N*4,L=D-P.sigBytes%D,W=L<<24|L<<16|L<<8|L,ie=[],oe=0;oe<L;oe+=4)ie.push(W);var re=a.create(ie,L);P.concat(re)},unpad:function(P){var N=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=N}};s.BlockCipher=p.extend({cfg:p.cfg.extend({mode:b,padding:E}),reset:function(){var P;p.reset.call(this);var N=this.cfg,D=N.iv,L=N.mode;this._xformMode==this._ENC_XFORM_MODE?P=L.createEncryptor:(P=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,D&&D.words):(this._mode=P.call(L,this,D&&D.words),this._mode.__creator=P)},_doProcessBlock:function(P,N){this._mode.processBlock(P,N)},_doFinalize:function(){var P,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),N.unpad(P)),P},blockSize:128/32});var _=s.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),R=i.format={},B=R.OpenSSL={stringify:function(P){var N,D=P.ciphertext,L=P.salt;return L?N=a.create([1398893684,1701076831]).concat(L).concat(D):N=D,N.toString(u)},parse:function(P){var N,D=u.parse(P),L=D.words;return L[0]==1398893684&&L[1]==1701076831&&(N=a.create(L.slice(2,4)),L.splice(0,4),D.sigBytes-=16),_.create({ciphertext:D,salt:N})}},U=s.SerializableCipher=o.extend({cfg:o.extend({format:B}),encrypt:function(P,N,D,L){L=this.cfg.extend(L);var W=P.createEncryptor(D,L),ie=W.finalize(N),oe=W.cfg;return _.create({ciphertext:ie,key:D,iv:oe.iv,algorithm:P,mode:oe.mode,padding:oe.padding,blockSize:P.blockSize,formatter:L.format})},decrypt:function(P,N,D,L){L=this.cfg.extend(L),N=this._parse(N,L.format);var W=P.createDecryptor(D,L).finalize(N.ciphertext);return W},_parse:function(P,N){return typeof P=="string"?N.parse(P,this):P}}),O=i.kdf={},C=O.OpenSSL={execute:function(P,N,D,L,W){if(L||(L=a.random(64/8)),W)var ie=m.create({keySize:N+D,hasher:W}).compute(P,L);else var ie=m.create({keySize:N+D}).compute(P,L);var oe=a.create(ie.words.slice(N),D*4);return ie.sigBytes=N*4,_.create({key:ie,iv:oe,salt:L})}},I=s.PasswordBasedCipher=U.extend({cfg:U.cfg.extend({kdf:C}),encrypt:function(P,N,D,L){L=this.cfg.extend(L);var W=L.kdf.execute(D,P.keySize,P.ivSize,L.salt,L.hasher);L.iv=W.iv;var ie=U.encrypt.call(this,P,N,W.key,L);return ie.mixIn(W),ie},decrypt:function(P,N,D,L){L=this.cfg.extend(L),N=this._parse(N,L.format);var W=L.kdf.execute(D,P.keySize,P.ivSize,N.salt,L.hasher);L.iv=W.iv;var ie=U.decrypt.call(this,P,N,W.key,L);return ie}})}()})}(jv)),jv.exports}var Bv={exports:{}},n0e=Bv.exports,U6;function r0e(){return U6||(U6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(n0e,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;i.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);i.call(this,s,o,l,a),this._prevBlock=c}});function i(s,o,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)s[o+f]^=c[f]}return r}(),t.mode.CFB})}(Bv)),Bv.exports}var Vv={exports:{}},i0e=Vv.exports,q6;function s0e(){return q6||(q6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(i0e,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[l-1]=u[l-1]+1|0;for(var m=0;m<l;m++)s[o+m]^=f[m]}});return r.Decryptor=i,r}(),t.mode.CTR})}(Vv)),Vv.exports}var $v={exports:{}},o0e=$v.exports,H6;function a0e(){return H6||(H6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(o0e,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,f=this._iv,m=this._counter;f&&(m=this._counter=f.slice(0),this._iv=void 0),s(m);var p=m.slice(0);c.encryptBlock(p,0);for(var g=0;g<u;g++)a[l+g]^=p[g]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})}($v)),$v.exports}var zv={exports:{}},l0e=zv.exports,W6;function c0e(){return W6||(W6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(l0e,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<l;f++)s[o+f]^=u[f]}});return r.Decryptor=i,r}(),t.mode.OFB})}(zv)),zv.exports}var Uv={exports:{}},u0e=Uv.exports,G6;function d0e(){return G6||(G6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(u0e,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),r.Decryptor=r.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),r}(),t.mode.ECB})}(Uv)),Uv.exports}var qv={exports:{}},f0e=qv.exports,K6;function h0e(){return K6||(K6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(f0e,function(t){return t.pad.AnsiX923={pad:function(r,i){var s=r.sigBytes,o=i*4,a=o-s%o,l=s+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Ansix923})}(qv)),qv.exports}var Hv={exports:{}},p0e=Hv.exports,Y6;function m0e(){return Y6||(Y6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(p0e,function(t){return t.pad.Iso10126={pad:function(r,i){var s=i*4,o=s-r.sigBytes%s;r.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},t.pad.Iso10126})}(Hv)),Hv.exports}var Wv={exports:{}},g0e=Wv.exports,X6;function y0e(){return X6||(X6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(g0e,function(t){return t.pad.Iso97971={pad:function(r,i){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,i)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})}(Wv)),Wv.exports}var Gv={exports:{}},v0e=Gv.exports,J6;function x0e(){return J6||(J6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(v0e,function(t){return t.pad.ZeroPadding={pad:function(r,i){var s=i*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var i=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},t.pad.ZeroPadding})}(Gv)),Gv.exports}var Kv={exports:{}},b0e=Kv.exports,Q6;function w0e(){return Q6||(Q6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(b0e,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Kv)),Kv.exports}var Yv={exports:{}},S0e=Yv.exports,Z6;function E0e(){return Z6||(Z6=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Hi())})(S0e,function(t){return function(r){var i=t,s=i.lib,o=s.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var f=l.parse(u);return o.create({ciphertext:f})}}}(),t.format.Hex})}(Yv)),Yv.exports}var Xv={exports:{}},C0e=Xv.exports,eD;function A0e(){return eD||(eD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(C0e,function(t){return function(){var r=t,i=r.lib,s=i.BlockCipher,o=r.algo,a=[],l=[],c=[],u=[],f=[],m=[],p=[],g=[],v=[],b=[];(function(){for(var _=[],R=0;R<256;R++)R<128?_[R]=R<<1:_[R]=R<<1^283;for(var B=0,U=0,R=0;R<256;R++){var O=U^U<<1^U<<2^U<<3^U<<4;O=O>>>8^O&255^99,a[B]=O,l[O]=B;var C=_[B],I=_[C],P=_[I],N=_[O]*257^O*16843008;c[B]=N<<24|N>>>8,u[B]=N<<16|N>>>16,f[B]=N<<8|N>>>24,m[B]=N;var N=P*16843009^I*65537^C*257^B*16843008;p[O]=N<<24|N>>>8,g[O]=N<<16|N>>>16,v[O]=N<<8|N>>>24,b[O]=N,B?(B=C^_[_[_[P^C]]],U^=_[_[U]]):B=U=1}})();var S=[0,1,2,4,8,16,32,64,128,27,54],E=o.AES=s.extend({_doReset:function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var R=this._keyPriorReset=this._key,B=R.words,U=R.sigBytes/4,O=this._nRounds=U+6,C=(O+1)*4,I=this._keySchedule=[],P=0;P<C;P++)P<U?I[P]=B[P]:(_=I[P-1],P%U?U>6&&P%U==4&&(_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255]):(_=_<<8|_>>>24,_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255],_^=S[P/U|0]<<24),I[P]=I[P-U]^_);for(var N=this._invKeySchedule=[],D=0;D<C;D++){var P=C-D;if(D%4)var _=I[P];else var _=I[P-4];D<4||P<=4?N[D]=_:N[D]=p[a[_>>>24]]^g[a[_>>>16&255]]^v[a[_>>>8&255]]^b[a[_&255]]}}},encryptBlock:function(_,R){this._doCryptBlock(_,R,this._keySchedule,c,u,f,m,a)},decryptBlock:function(_,R){var B=_[R+1];_[R+1]=_[R+3],_[R+3]=B,this._doCryptBlock(_,R,this._invKeySchedule,p,g,v,b,l);var B=_[R+1];_[R+1]=_[R+3],_[R+3]=B},_doCryptBlock:function(_,R,B,U,O,C,I,P){for(var N=this._nRounds,D=_[R]^B[0],L=_[R+1]^B[1],W=_[R+2]^B[2],ie=_[R+3]^B[3],oe=4,re=1;re<N;re++){var X=U[D>>>24]^O[L>>>16&255]^C[W>>>8&255]^I[ie&255]^B[oe++],de=U[L>>>24]^O[W>>>16&255]^C[ie>>>8&255]^I[D&255]^B[oe++],ae=U[W>>>24]^O[ie>>>16&255]^C[D>>>8&255]^I[L&255]^B[oe++],Y=U[ie>>>24]^O[D>>>16&255]^C[L>>>8&255]^I[W&255]^B[oe++];D=X,L=de,W=ae,ie=Y}var X=(P[D>>>24]<<24|P[L>>>16&255]<<16|P[W>>>8&255]<<8|P[ie&255])^B[oe++],de=(P[L>>>24]<<24|P[W>>>16&255]<<16|P[ie>>>8&255]<<8|P[D&255])^B[oe++],ae=(P[W>>>24]<<24|P[ie>>>16&255]<<16|P[D>>>8&255]<<8|P[L&255])^B[oe++],Y=(P[ie>>>24]<<24|P[D>>>16&255]<<16|P[L>>>8&255]<<8|P[W&255])^B[oe++];_[R]=X,_[R+1]=de,_[R+2]=ae,_[R+3]=Y},keySize:256/32});r.AES=s._createHelper(E)}(),t.AES})}(Xv)),Xv.exports}var Jv={exports:{}},_0e=Jv.exports,tD;function T0e(){return tD||(tD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(_0e,function(t){return function(){var r=t,i=r.lib,s=i.WordArray,o=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],m=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var S=this._key,E=S.words,_=[],R=0;R<56;R++){var B=l[R]-1;_[R]=E[B>>>5]>>>31-B%32&1}for(var U=this._subKeys=[],O=0;O<16;O++){for(var C=U[O]=[],I=u[O],R=0;R<24;R++)C[R/6|0]|=_[(c[R]-1+I)%28]<<31-R%6,C[4+(R/6|0)]|=_[28+(c[R+24]-1+I)%28]<<31-R%6;C[0]=C[0]<<1|C[0]>>>31;for(var R=1;R<7;R++)C[R]=C[R]>>>(R-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var P=this._invSubKeys=[],R=0;R<16;R++)P[R]=U[15-R]},encryptBlock:function(S,E){this._doCryptBlock(S,E,this._subKeys)},decryptBlock:function(S,E){this._doCryptBlock(S,E,this._invSubKeys)},_doCryptBlock:function(S,E,_){this._lBlock=S[E],this._rBlock=S[E+1],g.call(this,4,252645135),g.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),g.call(this,1,1431655765);for(var R=0;R<16;R++){for(var B=_[R],U=this._lBlock,O=this._rBlock,C=0,I=0;I<8;I++)C|=f[I][((O^B[I])&m[I])>>>0];this._lBlock=O,this._rBlock=U^C}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,g.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),S[E]=this._lBlock,S[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(S,E){var _=(this._lBlock>>>S^this._rBlock)&E;this._rBlock^=_,this._lBlock^=_<<S}function v(S,E){var _=(this._rBlock>>>S^this._lBlock)&E;this._lBlock^=_,this._rBlock^=_<<S}r.DES=o._createHelper(p);var b=a.TripleDES=o.extend({_doReset:function(){var S=this._key,E=S.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=E.slice(0,2),R=E.length<4?E.slice(0,2):E.slice(2,4),B=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=p.createEncryptor(s.create(_)),this._des2=p.createEncryptor(s.create(R)),this._des3=p.createEncryptor(s.create(B))},encryptBlock:function(S,E){this._des1.encryptBlock(S,E),this._des2.decryptBlock(S,E),this._des3.encryptBlock(S,E)},decryptBlock:function(S,E){this._des3.decryptBlock(S,E),this._des2.encryptBlock(S,E),this._des1.decryptBlock(S,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(b)}(),t.TripleDES})}(Jv)),Jv.exports}var Qv={exports:{}},k0e=Qv.exports,nD;function N0e(){return nD||(nD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(k0e,function(t){return function(){var r=t,i=r.lib,s=i.StreamCipher,o=r.algo,a=o.RC4=s.extend({_doReset:function(){for(var u=this._key,f=u.words,m=u.sigBytes,p=this._S=[],g=0;g<256;g++)p[g]=g;for(var g=0,v=0;g<256;g++){var b=g%m,S=f[b>>>2]>>>24-b%4*8&255;v=(v+p[g]+S)%256;var E=p[g];p[g]=p[v],p[v]=E}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,f=this._i,m=this._j,p=0,g=0;g<4;g++){f=(f+1)%256,m=(m+u[f])%256;var v=u[f];u[f]=u[m],u[m]=v,p|=u[(u[f]+u[m])%256]<<24-g*8}return this._i=f,this._j=m,p}r.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=s._createHelper(c)}(),t.RC4})}(Qv)),Qv.exports}var Zv={exports:{}},P0e=Zv.exports,rD;function I0e(){return rD||(rD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(P0e,function(t){return function(){var r=t,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.Rabbit=s.extend({_doReset:function(){for(var m=this._key.words,p=this.cfg.iv,g=0;g<4;g++)m[g]=(m[g]<<8|m[g]>>>24)&16711935|(m[g]<<24|m[g]>>>8)&4278255360;var v=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],b=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)b[g]^=v[g+4&7];if(p){var S=p.words,E=S[0],_=S[1],R=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,U=R>>>16|B&4294901760,O=B<<16|R&65535;b[0]^=R,b[1]^=U,b[2]^=B,b[3]^=O,b[4]^=R,b[5]^=U,b[6]^=B,b[7]^=O;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(m,p){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,m[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=m[g]+p[g],b=v&65535,S=v>>>16,E=((b*b>>>17)+b*S>>>15)+S*S,_=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=E^_}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=s._createHelper(u)}(),t.Rabbit})}(Zv)),Zv.exports}var ex={exports:{}},D0e=ex.exports,iD;function R0e(){return iD||(iD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(D0e,function(t){return function(){var r=t,i=r.lib,s=i.StreamCipher,o=r.algo,a=[],l=[],c=[],u=o.RabbitLegacy=s.extend({_doReset:function(){var m=this._key.words,p=this.cfg.iv,g=this._X=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],v=this._C=[m[2]<<16|m[2]>>>16,m[0]&4294901760|m[1]&65535,m[3]<<16|m[3]>>>16,m[1]&4294901760|m[2]&65535,m[0]<<16|m[0]>>>16,m[2]&4294901760|m[3]&65535,m[1]<<16|m[1]>>>16,m[3]&4294901760|m[0]&65535];this._b=0;for(var b=0;b<4;b++)f.call(this);for(var b=0;b<8;b++)v[b]^=g[b+4&7];if(p){var S=p.words,E=S[0],_=S[1],R=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,B=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,U=R>>>16|B&4294901760,O=B<<16|R&65535;v[0]^=R,v[1]^=U,v[2]^=B,v[3]^=O,v[4]^=R,v[5]^=U,v[6]^=B,v[7]^=O;for(var b=0;b<4;b++)f.call(this)}},_doProcessBlock:function(m,p){var g=this._X;f.call(this),a[0]=g[0]^g[5]>>>16^g[3]<<16,a[1]=g[2]^g[7]>>>16^g[5]<<16,a[2]=g[4]^g[1]>>>16^g[7]<<16,a[3]=g[6]^g[3]>>>16^g[1]<<16;for(var v=0;v<4;v++)a[v]=(a[v]<<8|a[v]>>>24)&16711935|(a[v]<<24|a[v]>>>8)&4278255360,m[p+v]^=a[v]},blockSize:128/32,ivSize:64/32});function f(){for(var m=this._X,p=this._C,g=0;g<8;g++)l[g]=p[g];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var g=0;g<8;g++){var v=m[g]+p[g],b=v&65535,S=v>>>16,E=((b*b>>>17)+b*S>>>15)+S*S,_=((v&4294901760)*v|0)+((v&65535)*v|0);c[g]=E^_}m[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,m[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,m[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,m[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,m[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,m[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,m[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,m[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=s._createHelper(u)}(),t.RabbitLegacy})}(ex)),ex.exports}var tx={exports:{}},L0e=tx.exports,sD;function O0e(){return sD||(sD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),Uh(),qh(),kf(),Hi())})(L0e,function(t){return function(){var r=t,i=r.lib,s=i.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(b,S){let E=S>>24&255,_=S>>16&255,R=S>>8&255,B=S&255,U=b.sbox[0][E]+b.sbox[1][_];return U=U^b.sbox[2][R],U=U+b.sbox[3][B],U}function m(b,S,E){let _=S,R=E,B;for(let U=0;U<a;++U)_=_^b.pbox[U],R=f(b,_)^R,B=_,_=R,R=B;return B=_,_=R,R=B,R=R^b.pbox[a],_=_^b.pbox[a+1],{left:_,right:R}}function p(b,S,E){let _=S,R=E,B;for(let U=a+1;U>1;--U)_=_^b.pbox[U],R=f(b,_)^R,B=_,_=R,R=B;return B=_,_=R,R=B,R=R^b.pbox[1],_=_^b.pbox[0],{left:_,right:R}}function g(b,S,E){for(let O=0;O<4;O++){b.sbox[O]=[];for(let C=0;C<256;C++)b.sbox[O][C]=c[O][C]}let _=0;for(let O=0;O<a+2;O++)b.pbox[O]=l[O]^S[_],_++,_>=E&&(_=0);let R=0,B=0,U=0;for(let O=0;O<a+2;O+=2)U=m(b,R,B),R=U.left,B=U.right,b.pbox[O]=R,b.pbox[O+1]=B;for(let O=0;O<4;O++)for(let C=0;C<256;C+=2)U=m(b,R,B),R=U.left,B=U.right,b.sbox[O][C]=R,b.sbox[O][C+1]=B;return!0}var v=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var b=this._keyPriorReset=this._key,S=b.words,E=b.sigBytes/4;g(u,S,E)}},encryptBlock:function(b,S){var E=m(u,b[S],b[S+1]);b[S]=E.left,b[S+1]=E.right},decryptBlock:function(b,S){var E=p(u,b[S],b[S+1]);b[S]=E.left,b[S+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(v)}(),t.Blowfish})}(tx)),tx.exports}var M0e=bv.exports,oD;function F0e(){return oD||(oD=1,function(n,e){(function(t,r,i){n.exports=r(_n(),wb(),Rpe(),Ope(),Uh(),jpe(),qh(),DB(),y4(),Upe(),RB(),Wpe(),Kpe(),Xpe(),v4(),Zpe(),kf(),Hi(),r0e(),s0e(),a0e(),c0e(),d0e(),h0e(),m0e(),y0e(),x0e(),w0e(),E0e(),A0e(),T0e(),N0e(),I0e(),R0e(),O0e())})(M0e,function(t){return t})}(bv)),bv.exports}var j0e=F0e();const LB=Vu(j0e);function B0e(){const[n,e]=F.useState([]),[t,r]=F.useState({name:"",email:"",password:""});F.useEffect(()=>{const o=localStorage.getItem("usuarios");o&&e(JSON.parse(o))},[]);const i=o=>LB.SHA256(o).toString(),s=()=>{if(!t.name||!t.email||!t.password)return;const a={id:Date.now(),name:t.name,email:t.email,password:i(t.password)},l=[...n,a];e(l),localStorage.setItem("usuarios",JSON.stringify(l)),r({name:"",email:"",password:""})};return A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsx("h2",{className:"text-xl font-bold mb-6",children:"Administradores"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[A.jsx("input",{type:"text",placeholder:"Nombre",value:t.name,onChange:o=>r({...t,name:o.target.value}),className:"border px-3 py-2 rounded text-sm"}),A.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t.email,onChange:o=>r({...t,email:o.target.value}),className:"border px-3 py-2 rounded text-sm"}),A.jsx("input",{type:"password",placeholder:"Contrasea",value:t.password,onChange:o=>r({...t,password:o.target.value}),className:"border px-3 py-2 rounded text-sm"})]}),A.jsx("button",{onClick:s,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition",children:"Crear Administrador"}),A.jsx("hr",{className:"my-6"}),A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"Nombre"}),A.jsx("th",{className:"py-2 text-left",children:"Email"})]})}),A.jsx("tbody",{children:n.map(o=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:o.name}),A.jsx("td",{className:"py-2",children:o.email})]},o.id))})]})]})}const nx=F.forwardRef(({className:n,...e},t)=>A.jsx("input",{ref:t,className:`border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:ring-black ${n}`,...e}));nx.displayName="Input";const Om=F.forwardRef(({className:n="",...e},t)=>A.jsx("button",{ref:t,className:`bg-black text-white px-4 py-2 rounded hover:bg-gray-800 disabled:opacity-50 ${n}`,...e}));Om.displayName="Button";function OB(){const[n,e]=F.useState([]),[t,r]=F.useState({es:"",en:""}),[i,s]=F.useState(!1),[o,a]=F.useState(""),[l,c]=F.useState([]),[u,f]=F.useState(""),[m,p]=F.useState(null),[g,v]=F.useState(""),b=ZU();F.useEffect(()=>{S()},[]);const S=async()=>{try{const O=await Z2();e(O.map(C=>({id:C.id,name:typeof C.name=="object"?C.name:{es:C.name,en:C.name}})))}catch(O){console.error("Error al cargar categoras:",O)}},E=async O=>{try{const C=await Dg(O);c(C)}catch(C){console.error("Error al cargar subcategoras:",C)}},_=async()=>{if(t.es.trim())try{s(!0),await Ise({es:t.es.trim(),en:t.en.trim()}),r({es:"",en:""}),await S()}catch(O){console.error("Error creando categora:",O)}finally{s(!1)}},R=async O=>{const C=n.find(P=>P.id===O);if(await b({title:"Eliminar categora?",description:`Seguro que quers eliminar "${C==null?void 0:C.name.es}" permanentemente?`,confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger"}))try{s(!0),await Dse(O),a(""),c([]),await S()}catch(P){console.error("Error eliminando categora:",P)}finally{s(!1)}},B=async()=>{if(!(!u.trim()||!o))try{s(!0),await Rse(o,u.trim()),f(""),await E(o)}catch(O){console.error("Error creando subcategora:",O)}finally{s(!1)}},U=async O=>{if(!o)return;const C=l.find(P=>P.id===O);if(await b({title:"Eliminar subcategora?",description:C?`Seguro que quers eliminar "${C.name}" permanentemente?`:"Seguro que quers eliminar esta subcategora permanentemente?",confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger"}))try{s(!0),await Lse(o,O),await E(o)}catch(P){console.error("Error eliminando subcategora:",P)}finally{s(!1)}};return A.jsxs("div",{className:"p-6",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gestin de Categoras de Productos"}),A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx(nx,{placeholder:"Nueva categora (ej. Electrnica, Fitness)",value:t.es,onChange:O=>r({...t,es:O.target.value,en:O.target.value}),disabled:i}),A.jsx(Om,{onClick:_,disabled:i||!t.es.trim(),children:"Crear"})]}),A.jsxs("table",{className:"w-full border text-sm mb-10",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100",children:[A.jsx("th",{className:"px-4 py-2 border",children:"ID"}),A.jsx("th",{className:"px-4 py-2 border",children:"Categora"}),A.jsx("th",{className:"px-4 py-2 border",children:"Acciones"})]})}),A.jsx("tbody",{children:n.map(O=>{var C;return A.jsxs("tr",{className:`text-center ${o===O.id?"bg-gray-50":""}`,children:[A.jsx("td",{className:"border px-4 py-2 text-xs text-gray-400",children:O.id}),A.jsx("td",{className:"border px-4 py-2 font-medium",children:m===O.id?A.jsx(nx,{value:g,onChange:I=>v(I.target.value),onBlur:async()=>{if(!g.trim()||g===O.name.es){p(null);return}try{s(!0);const I=fo(Ase,"categories",O.id);await lv(I,{id:O.id,name:{es:g.trim(),en:g.trim()}}),await S()}catch(I){console.error("Error actualizando nombre de categora:",I)}finally{p(null),s(!1)}},autoFocus:!0,disabled:i}):A.jsx("span",{className:"cursor-pointer hover:underline",onClick:async()=>{a(O.id),await E(O.id)},children:typeof((C=O.name)==null?void 0:C.es)=="string"?O.name.es:""})}),A.jsx("td",{className:"border px-4 py-2",children:A.jsx(Om,{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",onClick:()=>R(O.id),disabled:i,children:"Eliminar"})})]},O.id)})})]}),o&&A.jsxs("div",{className:"mt-10",children:[A.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Visualizando subcategoras de: ",A.jsx("span",{className:"font-semibold",children:(()=>{const O=n.find(C=>C.id===o);return typeof(O==null?void 0:O.name)=="object"?O.name.es:(O==null?void 0:O.name)||""})()})]}),A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Subcategoras"}),A.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[A.jsx(nx,{placeholder:"Nueva subcategora (ej. Auriculares, Ropa deportiva)",value:u,onChange:O=>f(O.target.value),disabled:i}),A.jsx(Om,{onClick:B,disabled:i||!u.trim(),children:"Crear"})]}),A.jsxs("table",{className:"w-full border text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"bg-gray-100",children:[A.jsx("th",{className:"px-4 py-2 border",children:"ID"}),A.jsx("th",{className:"px-4 py-2 border",children:"Subcategora"}),A.jsx("th",{className:"px-4 py-2 border",children:"Acciones"})]})}),A.jsx("tbody",{children:l.map(O=>A.jsxs("tr",{className:"text-center",children:[A.jsx("td",{className:"border px-4 py-2 text-xs text-gray-400",children:O.id}),A.jsx("td",{className:"border px-4 py-2 font-medium",children:O.name}),A.jsx("td",{className:"border px-4 py-2",children:A.jsx(Om,{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",onClick:()=>U(O.id),disabled:i,children:"Eliminar"})})]},O.id))})]})]})]})}const V0e="modulepreload",$0e=function(n){return"/"+n},aD={},mC=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(c=>{if(c=$0e(c),c in aD)return;aD[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":V0e,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function tr(n){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(n)}var js=Uint8Array,la=Uint16Array,x4=Int32Array,Sb=new js([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Eb=new js([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gC=new js([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MB=function(n,e){for(var t=new la(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new x4(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},FB=MB(Sb,2),jB=FB.b,yC=FB.r;jB[28]=258,yC[258]=28;var BB=MB(Eb,0),z0e=BB.b,lD=BB.r,vC=new la(32768);for(var gr=0;gr<32768;++gr){var _d=(gr&43690)>>1|(gr&21845)<<1;_d=(_d&52428)>>2|(_d&13107)<<2,_d=(_d&61680)>>4|(_d&3855)<<4,vC[gr]=((_d&65280)>>8|(_d&255)<<8)>>1}var Rc=function(n,e,t){for(var r=n.length,i=0,s=new la(e);i<r;++i)n[i]&&++s[n[i]-1];var o=new la(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new la(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,m=f|(1<<u)-1;f<=m;++f)a[vC[f]>>l]=c}else for(a=new la(r),i=0;i<r;++i)n[i]&&(a[i]=vC[o[n[i]-1]++]>>15-n[i]);return a},gf=new js(288);for(var gr=0;gr<144;++gr)gf[gr]=8;for(var gr=144;gr<256;++gr)gf[gr]=9;for(var gr=256;gr<280;++gr)gf[gr]=7;for(var gr=280;gr<288;++gr)gf[gr]=8;var Wg=new js(32);for(var gr=0;gr<32;++gr)Wg[gr]=5;var U0e=Rc(gf,9,0),q0e=Rc(gf,9,1),H0e=Rc(Wg,5,0),W0e=Rc(Wg,5,1),B5=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},El=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},V5=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},b4=function(n){return(n+7)/8|0},VB=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new js(n.subarray(e,t))},G0e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_l=function(n,e,t){var r=new Error(e||G0e[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,_l),!t)throw r;return r},K0e=function(n,e,t,r){var i=n.length,s=0;if(!i||e.f&&!e.l)return t||new js(0);var o=!t,a=o||e.i!=2,l=e.i;o&&(t=new js(i*3));var c=function(Ae){var je=t.length;if(Ae>je){var $e=new js(Math.max(je*2,Ae));$e.set(t),t=$e}},u=e.f||0,f=e.p||0,m=e.b||0,p=e.l,g=e.d,v=e.m,b=e.n,S=i*8;do{if(!p){u=El(n,f,1);var E=El(n,f+1,3);if(f+=3,E)if(E==1)p=q0e,g=W0e,v=9,b=5;else if(E==2){var U=El(n,f,31)+257,O=El(n,f+10,15)+4,C=U+El(n,f+5,31)+1;f+=14;for(var I=new js(C),P=new js(19),N=0;N<O;++N)P[gC[N]]=El(n,f+N*3,7);f+=O*3;for(var D=B5(P),L=(1<<D)-1,W=Rc(P,D,1),N=0;N<C;){var ie=W[El(n,f,L)];f+=ie&15;var _=ie>>4;if(_<16)I[N++]=_;else{var oe=0,re=0;for(_==16?(re=3+El(n,f,3),f+=2,oe=I[N-1]):_==17?(re=3+El(n,f,7),f+=3):_==18&&(re=11+El(n,f,127),f+=7);re--;)I[N++]=oe}}var X=I.subarray(0,U),de=I.subarray(U);v=B5(X),b=B5(de),p=Rc(X,v,1),g=Rc(de,b,1)}else _l(1);else{var _=b4(f)+4,R=n[_-4]|n[_-3]<<8,B=_+R;if(B>i){l&&_l(0);break}a&&c(m+R),t.set(n.subarray(_,B),m),e.b=m+=R,e.p=f=B*8,e.f=u;continue}if(f>S){l&&_l(0);break}}a&&c(m+131072);for(var ae=(1<<v)-1,Y=(1<<b)-1,$=f;;$=f){var oe=p[V5(n,f)&ae],K=oe>>4;if(f+=oe&15,f>S){l&&_l(0);break}if(oe||_l(2),K<256)t[m++]=K;else if(K==256){$=f,p=null;break}else{var J=K-254;if(K>264){var N=K-257,ee=Sb[N];J=El(n,f,(1<<ee)-1)+jB[N],f+=ee}var ce=g[V5(n,f)&Y],ue=ce>>4;ce||_l(3),f+=ce&15;var de=z0e[ue];if(ue>3){var ee=Eb[ue];de+=V5(n,f)&(1<<ee)-1,f+=ee}if(f>S){l&&_l(0);break}a&&c(m+131072);var ge=m+J;if(m<de){var ye=s-de,Se=Math.min(de,ge);for(ye+m<0&&_l(3);m<Se;++m)t[m]=r[ye+m]}for(;m<ge;++m)t[m]=t[m-de]}}e.l=p,e.p=$,e.b=m,e.f=u,p&&(u=1,e.m=v,e.d=g,e.n=b)}while(!u);return m!=t.length&&o?VB(t,0,m):t.subarray(0,m)},wu=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},wm=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},$5=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:zB,l:0};if(i==1){var o=new js(t[0].s+1);return o[t[0].s]=1,{t:o,l:1}}t.sort(function(B,U){return B.f-U.f}),t.push({s:-1,f:25001});var a=t[0],l=t[1],c=0,u=1,f=2;for(t[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=t[t[c].f<t[f].f?c++:f++],l=t[c!=u&&t[c].f<t[f].f?c++:f++],t[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new la(m+1),g=xC(t[u-1],p,0);if(g>e){var r=0,v=0,b=g-e,S=1<<b;for(s.sort(function(U,O){return p[O.s]-p[U.s]||U.f-O.f});r<i;++r){var E=s[r].s;if(p[E]>e)v+=S-(1<<g-p[E]),p[E]=e;else break}for(v>>=b;v>0;){var _=s[r].s;p[_]<e?v-=1<<e-p[_]++-1:++r}for(;r>=0&&v;--r){var R=s[r].s;p[R]==e&&(--p[R],++v)}g=e}return{t:new js(p),l:g}},xC=function(n,e,t){return n.s==-1?Math.max(xC(n.l,e,t+1),xC(n.r,e,t+1)):e[n.s]=t},cD=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new la(++e),r=0,i=n[0],s=1,o=function(l){t[r++]=l},a=1;a<=e;++a)if(n[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[a]}return{c:t.subarray(0,r),n:e}},Sm=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},$B=function(n,e,t){var r=t.length,i=b4(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},uD=function(n,e,t,r,i,s,o,a,l,c,u){wu(e,u++,t),++i[256];for(var f=$5(i,15),m=f.t,p=f.l,g=$5(s,15),v=g.t,b=g.l,S=cD(m),E=S.c,_=S.n,R=cD(v),B=R.c,U=R.n,O=new la(19),C=0;C<E.length;++C)++O[E[C]&31];for(var C=0;C<B.length;++C)++O[B[C]&31];for(var I=$5(O,7),P=I.t,N=I.l,D=19;D>4&&!P[gC[D-1]];--D);var L=c+5<<3,W=Sm(i,gf)+Sm(s,Wg)+o,ie=Sm(i,m)+Sm(s,v)+o+14+3*D+Sm(O,P)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&L<=W&&L<=ie)return $B(e,u,n.subarray(l,l+c));var oe,re,X,de;if(wu(e,u,1+(ie<W)),u+=2,ie<W){oe=Rc(m,p,0),re=m,X=Rc(v,b,0),de=v;var ae=Rc(P,N,0);wu(e,u,_-257),wu(e,u+5,U-1),wu(e,u+10,D-4),u+=14;for(var C=0;C<D;++C)wu(e,u+3*C,P[gC[C]]);u+=3*D;for(var Y=[E,B],$=0;$<2;++$)for(var K=Y[$],C=0;C<K.length;++C){var J=K[C]&31;wu(e,u,ae[J]),u+=P[J],J>15&&(wu(e,u,K[C]>>5&127),u+=K[C]>>12)}}else oe=U0e,re=gf,X=H0e,de=Wg;for(var C=0;C<a;++C){var ee=r[C];if(ee>255){var J=ee>>18&31;wm(e,u,oe[J+257]),u+=re[J+257],J>7&&(wu(e,u,ee>>23&31),u+=Sb[J]);var ce=ee&31;wm(e,u,X[ce]),u+=de[ce],ce>3&&(wm(e,u,ee>>5&8191),u+=Eb[ce])}else wm(e,u,oe[ee]),u+=re[ee]}return wm(e,u,oe[256]),u+re[256]},Y0e=new x4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zB=new js(0),X0e=function(n,e,t,r,i,s){var o=s.z||n.length,a=new js(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var f=Y0e[e-1],m=f>>13,p=f&8191,g=(1<<t)-1,v=s.p||new la(32768),b=s.h||new la(g+1),S=Math.ceil(t/3),E=2*S,_=function(st){return(n[st]^n[st+1]<<S^n[st+2]<<E)&g},R=new x4(25e3),B=new la(288),U=new la(32),O=0,C=0,I=s.i||0,P=0,N=s.w||0,D=0;I+2<o;++I){var L=_(I),W=I&32767,ie=b[L];if(v[W]=ie,b[L]=W,N<=I){var oe=o-I;if((O>7e3||P>24576)&&(oe>423||!c)){u=uD(n,l,0,R,B,U,C,P,D,I-D,u),P=O=C=0,D=I;for(var re=0;re<286;++re)B[re]=0;for(var re=0;re<30;++re)U[re]=0}var X=2,de=0,ae=p,Y=W-ie&32767;if(oe>2&&L==_(I-Y))for(var $=Math.min(m,oe)-1,K=Math.min(32767,I),J=Math.min(258,oe);Y<=K&&--ae&&W!=ie;){if(n[I+X]==n[I+X-Y]){for(var ee=0;ee<J&&n[I+ee]==n[I+ee-Y];++ee);if(ee>X){if(X=ee,de=Y,ee>$)break;for(var ce=Math.min(Y,ee-2),ue=0,re=0;re<ce;++re){var ge=I-Y+re&32767,ye=v[ge],Se=ge-ye&32767;Se>ue&&(ue=Se,ie=ge)}}}W=ie,ie=v[W],Y+=W-ie&32767}if(de){R[P++]=268435456|yC[X]<<18|lD[de];var Ae=yC[X]&31,je=lD[de]&31;C+=Sb[Ae]+Eb[je],++B[257+Ae],++U[je],N=I+X,++O}else R[P++]=n[I],++B[n[I]]}}for(I=Math.max(I,N);I<o;++I)R[P++]=n[I],++B[n[I]];u=uD(n,l,c,R,B,U,C,P,D,I-D,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=b,s.p=v,s.i=I,s.w=N)}else{for(var I=s.w||0;I<o+c;I+=65535){var $e=I+65535;$e>=o&&(l[u/8|0]=c,$e=o),u=$B(l,u+1,n.subarray(I,$e))}s.i=o}return VB(a,0,r+b4(u)+i)},UB=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=t[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},J0e=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new js(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return X0e(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},qB=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Q0e=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=UB();i.p(e.dictionary),qB(n,2,i.d())}},Z0e=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&_l(6,"invalid zlib data"),(n[1]>>5&1)==1&&_l(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function bC(n,e){e||(e={});var t=UB();t.p(n);var r=J0e(n,e,e.dictionary?6:2,4);return Q0e(r,e),qB(r,r.length-4,t.d()),r}function eme(n,e){return K0e(n.subarray(Z0e(n),-4),{i:2},e,e)}var tme=typeof TextDecoder<"u"&&new TextDecoder,nme=0;try{tme.decode(zB,{stream:!0}),nme=1}catch{}var Ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function z5(){Ht.console&&typeof Ht.console.log=="function"&&Ht.console.log.apply(Ht.console,arguments)}var sr={log:z5,warn:function(n){Ht.console&&(typeof Ht.console.warn=="function"?Ht.console.warn.apply(Ht.console,arguments):z5.call(null,arguments))},error:function(n){Ht.console&&(typeof Ht.console.error=="function"?Ht.console.error.apply(Ht.console,arguments):z5(n))}};function U5(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Qf(r.response,e,t)},r.onerror=function(){sr.error("could not download file")},r.send()}function dD(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function My(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var sg,wC,Qf=Ht.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==Ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Ht.URL||Ht.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?dD(i.href)?U5(n,e,t):My(i,i.target="_blank"):My(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){My(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(dD(n))U5(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){My(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:tr(s)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return U5(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Ht.HTMLElement)||Ht.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(n)}else{var l=Ht.URL||Ht.webkitURL,c=l.createObjectURL(n);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function HB(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q5(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=ks(t,r,i,s,e[0],7,-680876936),s=ks(s,t,r,i,e[1],12,-389564586),i=ks(i,s,t,r,e[2],17,606105819),r=ks(r,i,s,t,e[3],22,-1044525330),t=ks(t,r,i,s,e[4],7,-176418897),s=ks(s,t,r,i,e[5],12,1200080426),i=ks(i,s,t,r,e[6],17,-1473231341),r=ks(r,i,s,t,e[7],22,-45705983),t=ks(t,r,i,s,e[8],7,1770035416),s=ks(s,t,r,i,e[9],12,-1958414417),i=ks(i,s,t,r,e[10],17,-42063),r=ks(r,i,s,t,e[11],22,-1990404162),t=ks(t,r,i,s,e[12],7,1804603682),s=ks(s,t,r,i,e[13],12,-40341101),i=ks(i,s,t,r,e[14],17,-1502002290),t=Ns(t,r=ks(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Ns(s,t,r,i,e[6],9,-1069501632),i=Ns(i,s,t,r,e[11],14,643717713),r=Ns(r,i,s,t,e[0],20,-373897302),t=Ns(t,r,i,s,e[5],5,-701558691),s=Ns(s,t,r,i,e[10],9,38016083),i=Ns(i,s,t,r,e[15],14,-660478335),r=Ns(r,i,s,t,e[4],20,-405537848),t=Ns(t,r,i,s,e[9],5,568446438),s=Ns(s,t,r,i,e[14],9,-1019803690),i=Ns(i,s,t,r,e[3],14,-187363961),r=Ns(r,i,s,t,e[8],20,1163531501),t=Ns(t,r,i,s,e[13],5,-1444681467),s=Ns(s,t,r,i,e[2],9,-51403784),i=Ns(i,s,t,r,e[7],14,1735328473),t=Ps(t,r=Ns(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ps(s,t,r,i,e[8],11,-2022574463),i=Ps(i,s,t,r,e[11],16,1839030562),r=Ps(r,i,s,t,e[14],23,-35309556),t=Ps(t,r,i,s,e[1],4,-1530992060),s=Ps(s,t,r,i,e[4],11,1272893353),i=Ps(i,s,t,r,e[7],16,-155497632),r=Ps(r,i,s,t,e[10],23,-1094730640),t=Ps(t,r,i,s,e[13],4,681279174),s=Ps(s,t,r,i,e[0],11,-358537222),i=Ps(i,s,t,r,e[3],16,-722521979),r=Ps(r,i,s,t,e[6],23,76029189),t=Ps(t,r,i,s,e[9],4,-640364487),s=Ps(s,t,r,i,e[12],11,-421815835),i=Ps(i,s,t,r,e[15],16,530742520),t=Is(t,r=Ps(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Is(s,t,r,i,e[7],10,1126891415),i=Is(i,s,t,r,e[14],15,-1416354905),r=Is(r,i,s,t,e[5],21,-57434055),t=Is(t,r,i,s,e[12],6,1700485571),s=Is(s,t,r,i,e[3],10,-1894986606),i=Is(i,s,t,r,e[10],15,-1051523),r=Is(r,i,s,t,e[1],21,-2054922799),t=Is(t,r,i,s,e[8],6,1873313359),s=Is(s,t,r,i,e[15],10,-30611744),i=Is(i,s,t,r,e[6],15,-1560198380),r=Is(r,i,s,t,e[13],21,1309151649),t=Is(t,r,i,s,e[4],6,-145523070),s=Is(s,t,r,i,e[11],10,-1120210379),i=Is(i,s,t,r,e[2],15,718787259),r=Is(r,i,s,t,e[9],21,-343485551),n[0]=Gd(t,n[0]),n[1]=Gd(r,n[1]),n[2]=Gd(i,n[2]),n[3]=Gd(s,n[3])}function Cb(n,e,t,r,i,s){return e=Gd(Gd(e,n),Gd(r,s)),Gd(e<<i|e>>>32-i,t)}function ks(n,e,t,r,i,s,o){return Cb(e&t|~e&r,n,e,i,s,o)}function Ns(n,e,t,r,i,s,o){return Cb(e&r|t&~r,n,e,i,s,o)}function Ps(n,e,t,r,i,s,o){return Cb(e^t^r,n,e,i,s,o)}function Is(n,e,t,r,i,s,o){return Cb(t^(e|~r),n,e,i,s,o)}function WB(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)q5(r,rme(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(q5(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,q5(r,i),r}function rme(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}sg=Ht.atob.bind(Ht),wC=Ht.btoa.bind(Ht);var fD="0123456789abcdef".split("");function ime(n){for(var e="",t=0;t<4;t++)e+=fD[n>>8*t+4&15]+fD[n>>8*t&15];return e}function sme(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function SC(n){return WB(n).map(sme).join("")}var ome=function(n){for(var e=0;e<n.length;e++)n[e]=ime(n[e]);return n.join("")}(WB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gd(n,e){if(ome){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function EC(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}t=n,r=a}else a=r;var f=e.length,m=0,p=0,g="";for(l=0;l<f;l++)p=(p+(u=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=u,o=a[(a[m]+a[p])%256],g+=String.fromCharCode(e.charCodeAt(l)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hD={print:4,modify:8,copy:16,"annot-forms":32};function Ip(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(a){if(hD.perm!==void 0)throw new Error("Invalid permission: "+a);i+=hD[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=SC(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=EC(this.encryptionKey,this.padding)}function Dp(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function pD(n){if(tr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(a){Ht.console&&sr.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function h2(n){if(!(this instanceof h2))return new h2(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function GB(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function nh(n,e,t,r,i){if(!(this instanceof nh))return new nh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,GB.call(this,r,i)}function zp(n,e,t,r,i){if(!(this instanceof zp))return new zp(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,GB.call(this,r,i)}function Ut(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;tr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=pD;var g="1.3",v=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(M){g=M};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var S=p.__private__.getPageFormat=function(M){return b[M]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},_=E.COMPAT;function R(){this.saveGraphicsState(),pe(new gt(it,0,0,-it,0,Ci()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),c="n",_=E.ADVANCED}function B(){this.restoreGraphicsState(),c="S",_=E.COMPAT}var U=p.__private__.combineFontStyleAndFontWeight=function(M,Z){if(M=="bold"&&Z=="normal"||M=="bold"&&Z==400||M=="normal"&&Z=="italic"||M=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(M=Z==400||Z==="normal"?M==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||M!=="normal"?(Z==700?"bold":Z)+""+M:"bold"),M};p.advancedAPI=function(M){var Z=_===E.COMPAT;return Z&&R.call(this),typeof M!="function"||(M(this),Z&&B.call(this)),this},p.compatAPI=function(M){var Z=_===E.ADVANCED;return Z&&B.call(this),typeof M!="function"||(M(this),Z&&R.call(this)),this},p.isAdvancedAPI=function(){return _===E.ADVANCED};var O,C=function(M){if(_!==E.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=p.roundToPrecision=p.__private__.roundToPrecision=function(M,Z){var xe=e||Z;if(isNaN(M)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(xe).replace(/0+$/,"")};O=p.hpf=p.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return I(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return I(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return I(M,16)};var P=p.f2=p.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return I(M,2)},N=p.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return I(M,3)},D=p.scale=p.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return _===E.COMPAT?M*it:_===E.ADVANCED?M:void 0},L=function(M){return _===E.COMPAT?Ci()-M:_===E.ADVANCED?M:void 0},W=function(M){return D(L(M))};p.__private__.setPrecision=p.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var ie,oe="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return oe},X=p.__private__.setFileId=function(M){return oe=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Nn=new Ip(u.userPermissions,u.userPassword,u.ownerPassword,oe)),oe};p.setFileId=function(M){return X(M),this},p.getFileId=function(){return re()};var de=p.__private__.convertDateToPDFDate=function(M){var Z=M.getTimezoneOffset(),xe=Z<0?"+":"-",Ce=Math.floor(Math.abs(Z/60)),Me=Math.abs(Z%60),Qe=[xe,J(Ce),"'",J(Me),"'"].join("");return["D:",M.getFullYear(),J(M.getMonth()+1),J(M.getDate()),J(M.getHours()),J(M.getMinutes()),J(M.getSeconds()),Qe].join("")},ae=p.__private__.convertPDFDateToDate=function(M){var Z=parseInt(M.substr(2,4),10),xe=parseInt(M.substr(6,2),10)-1,Ce=parseInt(M.substr(8,2),10),Me=parseInt(M.substr(10,2),10),Qe=parseInt(M.substr(12,2),10),lt=parseInt(M.substr(14,2),10);return new Date(Z,xe,Ce,Me,Qe,lt,0)},Y=p.__private__.setCreationDate=function(M){var Z;if(M===void 0&&(M=new Date),M instanceof Date)Z=de(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=M}return ie=Z},$=p.__private__.getCreationDate=function(M){var Z=ie;return M==="jsDate"&&(Z=ae(ie)),Z};p.setCreationDate=function(M){return Y(M),this},p.getCreationDate=function(M){return $(M)};var K,J=p.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},ee=p.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ce=0,ue=[],ge=[],ye=0,Se=[],Ae=[],je=!1,$e=ge,st=function(){ce=0,ye=0,ge=[],ue=[],Se=[],Wi=Cn(),bi=Cn()};p.__private__.setCustomOutputDestination=function(M){je=!0,$e=M};var we=function(M){je||($e=M)};p.__private__.resetCustomOutputDestination=function(){je=!1,$e=ge};var pe=p.__private__.out=function(M){return M=M.toString(),ye+=M.length+1,$e.push(M),$e},qe=p.__private__.write=function(M){return pe(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Fe=p.__private__.getArrayBuffer=function(M){for(var Z=M.length,xe=new ArrayBuffer(Z),Ce=new Uint8Array(xe);Z--;)Ce[Z]=M.charCodeAt(Z);return xe},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Oe};var Ie=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(M){return Ie=_===E.ADVANCED?M/it:M,this};var Ge,le=p.__private__.getFontSize=p.getFontSize=function(){return _===E.COMPAT?Ie:Ie*it},be=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(M){return be=M,this},p.__private__.getR2L=p.getR2L=function(){return be};var _e,Ke=p.__private__.setZoomMode=function(M){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Ge=M;else if(isNaN(M)){if(Z.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Ge=M}else Ge=parseInt(M,10)};p.__private__.getZoomMode=function(){return Ge};var ze,Ue=p.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');_e=M};p.__private__.getPageMode=function(){return _e};var nt=p.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');ze=M};p.__private__.getLayoutMode=function(){return ze},p.__private__.setDisplayMode=p.setDisplayMode=function(M,Z,xe){return Ke(M),nt(Z),Ue(xe),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(M){if(Object.keys(ht).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[M]},p.__private__.getDocumentProperties=function(){return ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(M){for(var Z in ht)ht.hasOwnProperty(Z)&&M[Z]&&(ht[Z]=M[Z]);return this},p.__private__.setDocumentProperty=function(M,Z){if(Object.keys(ht).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[M]=Z};var vt,it,jt,qt,Qn,Kt={},un={},xr=[],Xt={},vi={},Tn={},nr={},hn=null,rn=0,Et=[],Jt=new pD(p),$n=n.hotfixes||[],pn={},Rn={},ar=[],gt=function M(Z,xe,Ce,Me,Qe,lt){if(!(this instanceof M))return new M(Z,xe,Ce,Me,Qe,lt);isNaN(Z)&&(Z=1),isNaN(xe)&&(xe=0),isNaN(Ce)&&(Ce=0),isNaN(Me)&&(Me=1),isNaN(Qe)&&(Qe=0),isNaN(lt)&&(lt=0),this._matrix=[Z,xe,Ce,Me,Qe,lt]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(M)},gt.prototype.multiply=function(M){var Z=M.sx*this.sx+M.shy*this.shx,xe=M.sx*this.shy+M.shy*this.sy,Ce=M.shx*this.sx+M.sy*this.shx,Me=M.shx*this.shy+M.sy*this.sy,Qe=M.tx*this.sx+M.ty*this.shx+this.tx,lt=M.tx*this.shy+M.ty*this.sy+this.ty;return new gt(Z,xe,Ce,Me,Qe,lt)},gt.prototype.decompose=function(){var M=this.sx,Z=this.shy,xe=this.shx,Ce=this.sy,Me=this.tx,Qe=this.ty,lt=Math.sqrt(M*M+Z*Z),xt=(M/=lt)*xe+(Z/=lt)*Ce;xe-=M*xt,Ce-=Z*xt;var w=Math.sqrt(xe*xe+Ce*Ce);return xt/=w,M*(Ce/=w)<Z*(xe/=w)&&(M=-M,Z=-Z,xt=-xt,lt=-lt),{scale:new gt(lt,0,0,w,0,0),translate:new gt(1,0,0,1,Me,Qe),rotate:new gt(M,Z,-Z,M,0,0),skew:new gt(1,0,xt,1,0,0)}},gt.prototype.toString=function(M){return this.join(" ")},gt.prototype.inversed=function(){var M=this.sx,Z=this.shy,xe=this.shx,Ce=this.sy,Me=this.tx,Qe=this.ty,lt=1/(M*Ce-Z*xe),xt=Ce*lt,w=-Z*lt,z=-xe*lt,G=M*lt;return new gt(xt,w,z,G,-xt*Me-z*Qe,-w*Me-G*Qe)},gt.prototype.applyToPoint=function(M){var Z=M.x*this.sx+M.y*this.shx+this.tx,xe=M.x*this.shy+M.y*this.sy+this.ty;return new Js(Z,xe)},gt.prototype.applyToRectangle=function(M){var Z=this.applyToPoint(M),xe=this.applyToPoint(new Js(M.x+M.w,M.y+M.h));return new Xo(Z.x,Z.y,xe.x-Z.x,xe.y-Z.y)},gt.prototype.clone=function(){var M=this.sx,Z=this.shy,xe=this.shx,Ce=this.sy,Me=this.tx,Qe=this.ty;return new gt(M,Z,xe,Ce,Me,Qe)},p.Matrix=gt;var Gn=p.matrixMult=function(M,Z){return Z.multiply(M)},Qt=new gt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Qt;var dn=function(M,Z){if(!vi[M]){var xe=(Z instanceof nh?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);Z.id=xe,vi[M]=xe,Xt[xe]=Z,Jt.publish("addPattern",Z)}};p.ShadingPattern=nh,p.TilingPattern=zp,p.addShadingPattern=function(M,Z){return C("addShadingPattern()"),dn(M,Z),this},p.beginTilingPattern=function(M){C("beginTilingPattern()"),Zl(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},p.endTilingPattern=function(M,Z){C("endTilingPattern()"),Z.stream=Ae[K].join(`
`),dn(M,Z),Jt.publish("endTilingPattern",Z),ar.pop().restore()};var bn=p.__private__.newObject=function(){var M=Cn();return kn(M,!0),M},Cn=p.__private__.newObjectDeferred=function(){return ce++,ue[ce]=function(){return ye},ce},kn=function(M,Z){return Z=typeof Z=="boolean"&&Z,ue[M]=ye,Z&&pe(M+" 0 obj"),M},xi=p.__private__.newAdditionalObject=function(){var M={objId:Cn(),content:""};return Se.push(M),M},Wi=Cn(),bi=Cn(),ms=p.__private__.decodeColorString=function(M){var Z=M.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var xe=parseFloat(Z[0]);Z=[xe,xe,xe,"r"]}for(var Ce="#",Me=0;Me<3;Me++)Ce+=("0"+Math.floor(255*parseFloat(Z[Me])).toString(16)).slice(-2);return Ce},Tr=p.__private__.encodeColorString=function(M){var Z;typeof M=="string"&&(M={ch1:M});var xe=M.ch1,Ce=M.ch2,Me=M.ch3,Qe=M.ch4,lt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var xt=new HB(xe);if(xt.ok)xe=xt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var w=parseInt(xe.substr(1),16);xe=w>>16&255,Ce=w>>8&255,Me=255&w}if(Ce===void 0||Qe===void 0&&xe===Ce&&Ce===Me)if(typeof xe=="string")Z=xe+" "+lt[0];else switch(M.precision){case 2:Z=P(xe/255)+" "+lt[0];break;case 3:default:Z=N(xe/255)+" "+lt[0]}else if(Qe===void 0||tr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return Z=["1.","1.","1.",lt[1]].join(" ");if(typeof xe=="string")Z=[xe,Ce,Me,lt[1]].join(" ");else switch(M.precision){case 2:Z=[P(xe/255),P(Ce/255),P(Me/255),lt[1]].join(" ");break;default:case 3:Z=[N(xe/255),N(Ce/255),N(Me/255),lt[1]].join(" ")}}else if(typeof xe=="string")Z=[xe,Ce,Me,Qe,lt[2]].join(" ");else switch(M.precision){case 2:Z=[P(xe),P(Ce),P(Me),P(Qe),lt[2]].join(" ");break;case 3:default:Z=[N(xe),N(Ce),N(Me),N(Qe),lt[2]].join(" ")}return Z},wi=p.__private__.getFilters=function(){return o},br=p.__private__.putStream=function(M){var Z=(M=M||{}).data||"",xe=M.filters||wi(),Ce=M.alreadyAppliedFilters||[],Me=M.addLength1||!1,Qe=Z.length,lt=M.objectId,xt=function(en){return en};if(u!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(xt=Nn.encryptor(lt,0));var w={};xe===!0&&(xe=["FlateEncode"]);var z=M.additionalKeyValues||[],G=(w=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(Z,xe):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(w.data.length!==0&&(z.push({key:"Length",value:w.data.length}),Me===!0&&z.push({key:"Length1",value:Qe})),G.length!=0)if(G.split("/").length-1==1)z.push({key:"Filter",value:G});else{z.push({key:"Filter",value:"["+G+"]"});for(var he=0;he<z.length;he+=1)if(z[he].key==="DecodeParms"){for(var Re=[],We=0;We<w.reverseChain.split("/").length-1;We+=1)Re.push("null");Re.push(z[he].value),z[he].value="["+Re.join(" ")+"]"}}pe("<<");for(var ct=0;ct<z.length;ct++)pe("/"+z[ct].key+" "+z[ct].value);pe(">>"),w.data.length!==0&&(pe("stream"),pe(xt(w.data)),pe("endstream"))},Ws=p.__private__.putPage=function(M){var Z=M.number,xe=M.data,Ce=M.objId,Me=M.contentsObjId;kn(Ce,!0),pe("<</Type /Page"),pe("/Parent "+M.rootDictionaryObjId+" 0 R"),pe("/Resources "+M.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(O(M.mediaBox.bottomLeftX))+" "+parseFloat(O(M.mediaBox.bottomLeftY))+" "+O(M.mediaBox.topRightX)+" "+O(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&pe("/CropBox ["+O(M.cropBox.bottomLeftX)+" "+O(M.cropBox.bottomLeftY)+" "+O(M.cropBox.topRightX)+" "+O(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&pe("/BleedBox ["+O(M.bleedBox.bottomLeftX)+" "+O(M.bleedBox.bottomLeftY)+" "+O(M.bleedBox.topRightX)+" "+O(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&pe("/TrimBox ["+O(M.trimBox.bottomLeftX)+" "+O(M.trimBox.bottomLeftY)+" "+O(M.trimBox.topRightX)+" "+O(M.trimBox.topRightY)+"]"),M.artBox!==null&&pe("/ArtBox ["+O(M.artBox.bottomLeftX)+" "+O(M.artBox.bottomLeftY)+" "+O(M.artBox.topRightX)+" "+O(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&pe("/UserUnit "+M.userUnit),Jt.publish("putPage",{objId:Ce,pageContext:Et[Z],pageNumber:Z,page:xe}),pe("/Contents "+Me+" 0 R"),pe(">>"),pe("endobj");var Qe=xe.join(`
`);return _===E.ADVANCED&&(Qe+=`
Q`),kn(Me,!0),br({data:Qe,filters:wi(),objectId:Me}),pe("endobj"),Ce},zo=p.__private__.putPages=function(){var M,Z,xe=[];for(M=1;M<=rn;M++)Et[M].objId=Cn(),Et[M].contentsObjId=Cn();for(M=1;M<=rn;M++)xe.push(Ws({number:M,data:Ae[M],objId:Et[M].objId,contentsObjId:Et[M].contentsObjId,mediaBox:Et[M].mediaBox,cropBox:Et[M].cropBox,bleedBox:Et[M].bleedBox,trimBox:Et[M].trimBox,artBox:Et[M].artBox,userUnit:Et[M].userUnit,rootDictionaryObjId:Wi,resourceDictionaryObjId:bi}));kn(Wi,!0),pe("<</Type /Pages");var Ce="/Kids [";for(Z=0;Z<rn;Z++)Ce+=xe[Z]+" 0 R ";pe(Ce+"]"),pe("/Count "+rn),pe(">>"),pe("endobj"),Jt.publish("postPutPages")},Uo=function(M){Jt.publish("putFont",{font:M,out:pe,newObject:bn,putStream:br}),M.isAlreadyPutted!==!0&&(M.objectNumber=bn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Dp(M.postScriptName)),pe("/Subtype /Type1"),typeof M.encoding=="string"&&pe("/Encoding /"+M.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},qo=function(){for(var M in Kt)Kt.hasOwnProperty(M)&&(f===!1||f===!0&&m.hasOwnProperty(M))&&Uo(Kt[M])},fa=function(M){M.objectNumber=bn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[O(M.x),O(M.y),O(M.x+M.width),O(M.y+M.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var xe=M.pages[1].join(`
`);br({data:xe,additionalKeyValues:Z,objectId:M.objectNumber}),pe("endobj")},Xa=function(){for(var M in pn)pn.hasOwnProperty(M)&&fa(pn[M])},Uu=function(M,Z){var xe,Ce=[],Me=1/(Z-1);for(xe=0;xe<1;xe+=Me)Ce.push(xe);if(Ce.push(1),M[0].offset!=0){var Qe={offset:0,color:M[0].color};M.unshift(Qe)}if(M[M.length-1].offset!=1){var lt={offset:1,color:M[M.length-1].color};M.push(lt)}for(var xt="",w=0,z=0;z<Ce.length;z++){for(xe=Ce[z];xe>M[w+1].offset;)w++;var G=M[w].offset,he=(xe-G)/(M[w+1].offset-G),Re=M[w].color,We=M[w+1].color;xt+=ee(Math.round((1-he)*Re[0]+he*We[0]).toString(16))+ee(Math.round((1-he)*Re[1]+he*We[1]).toString(16))+ee(Math.round((1-he)*Re[2]+he*We[2]).toString(16))}return xt.trim()},Kn=function(M,Z){Z||(Z=21);var xe=bn(),Ce=Uu(M.colors,Z),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+Z+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:Ce,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),pe("endobj"),M.objectNumber=bn(),pe("<< /ShadingType "+M.type),pe("/ColorSpace /DeviceRGB");var Qe="/Coords ["+O(parseFloat(M.coords[0]))+" "+O(parseFloat(M.coords[1]))+" ";M.type===2?Qe+=O(parseFloat(M.coords[2]))+" "+O(parseFloat(M.coords[3])):Qe+=O(parseFloat(M.coords[2]))+" "+O(parseFloat(M.coords[3]))+" "+O(parseFloat(M.coords[4]))+" "+O(parseFloat(M.coords[5])),pe(Qe+="]"),M.matrix&&pe("/Matrix ["+M.matrix.toString()+"]"),pe("/Function "+xe+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},qu=function(M,Z){var xe=Cn(),Ce=bn();Z.push({resourcesOid:xe,objectOid:Ce}),M.objectNumber=Ce;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+M.boundingBox.map(O).join(" ")+"]"}),Me.push({key:"XStep",value:O(M.xStep)}),Me.push({key:"YStep",value:O(M.yStep)}),Me.push({key:"Resources",value:xe+" 0 R"}),M.matrix&&Me.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),br({data:M.stream,additionalKeyValues:Me,objectId:M.objectNumber}),pe("endobj")},yo=function(M){var Z;for(Z in Xt)Xt.hasOwnProperty(Z)&&(Xt[Z]instanceof nh?Kn(Xt[Z]):Xt[Z]instanceof zp&&qu(Xt[Z],M))},Ho=function(M){for(var Z in M.objectNumber=bn(),pe("<<"),M)switch(Z){case"opacity":pe("/ca "+P(M[Z]));break;case"stroke-opacity":pe("/CA "+P(M[Z]))}pe(">>"),pe("endobj")},gs=function(){var M;for(M in Tn)Tn.hasOwnProperty(M)&&Ho(Tn[M])},Ja=function(){for(var M in pe("/XObject <<"),pn)pn.hasOwnProperty(M)&&pn[M].objectNumber>=0&&pe("/"+M+" "+pn[M].objectNumber+" 0 R");Jt.publish("putXobjectDict"),pe(">>")},Hu=function(){Nn.oid=bn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Nn.v),pe("/R "+Nn.r),pe("/U <"+Nn.toHexString(Nn.U)+">"),pe("/O <"+Nn.toHexString(Nn.O)+">"),pe("/P "+Nn.P),pe(">>"),pe("endobj")},ha=function(){for(var M in pe("/Font <<"),Kt)Kt.hasOwnProperty(M)&&(f===!1||f===!0&&m.hasOwnProperty(M))&&pe("/"+M+" "+Kt[M].objectNumber+" 0 R");pe(">>")},Gi=function(){if(Object.keys(Xt).length>0){for(var M in pe("/Shading <<"),Xt)Xt.hasOwnProperty(M)&&Xt[M]instanceof nh&&Xt[M].objectNumber>=0&&pe("/"+M+" "+Xt[M].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),pe(">>")}},Qa=function(M){if(Object.keys(Xt).length>0){for(var Z in pe("/Pattern <<"),Xt)Xt.hasOwnProperty(Z)&&Xt[Z]instanceof p.TilingPattern&&Xt[Z].objectNumber>=0&&Xt[Z].objectNumber<M&&pe("/"+Z+" "+Xt[Z].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),pe(">>")}},ii=function(){if(Object.keys(Tn).length>0){var M;for(M in pe("/ExtGState <<"),Tn)Tn.hasOwnProperty(M)&&Tn[M].objectNumber>=0&&pe("/"+M+" "+Tn[M].objectNumber+" 0 R");Jt.publish("putGStateDict"),pe(">>")}},rr=function(M){kn(M.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ha(),Gi(),Qa(M.objectOid),ii(),Ja(),pe(">>"),pe("endobj")},Gc=function(){var M=[];qo(),gs(),Xa(),yo(M),Jt.publish("putResources"),M.forEach(rr),rr({resourcesOid:bi,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},Kc=function(){Jt.publish("putAdditionalObjects");for(var M=0;M<Se.length;M++){var Z=Se[M];kn(Z.objId,!0),pe(Z.content),pe("endobj")}Jt.publish("postPutAdditionalObjects")},Za=function(M){un[M.fontName]=un[M.fontName]||{},un[M.fontName][M.fontStyle]=M.id},pa=function(M,Z,xe,Ce,Me){var Qe={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:M,fontName:Z,fontStyle:xe,encoding:Ce,isStandardFont:Me||!1,metadata:{}};return Jt.publish("addFont",{font:Qe,instance:this}),Kt[Qe.id]=Qe,Za(Qe),Qe.id},ma=function(M){for(var Z=0,xe=Oe.length;Z<xe;Z++){var Ce=pa.call(this,M[Z][0],M[Z][1],M[Z][2],Oe[Z][3],!0);f===!1&&(m[Ce]=!0);var Me=M[Z][0].split("-");Za({id:Ce,fontName:Me[0],fontStyle:Me[1]||""})}Jt.publish("addFonts",{fonts:Kt,dictionary:un})},si=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Ce){var Z=Ce.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var xe="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Ht.console)throw new Error(xe);Ht.console.error(xe,Ce),Ht.alert&&alert(xe)}},M.foo.bar=M,M.foo},Kl=function(M,Z){var xe,Ce,Me,Qe,lt,xt,w,z,G;if(Me=(Z=Z||{}).sourceEncoding||"Unicode",lt=Z.outputEncoding,(Z.autoencode||lt)&&Kt[vt].metadata&&Kt[vt].metadata[Me]&&Kt[vt].metadata[Me].encoding&&(Qe=Kt[vt].metadata[Me].encoding,!lt&&Kt[vt].encoding&&(lt=Kt[vt].encoding),!lt&&Qe.codePages&&(lt=Qe.codePages[0]),typeof lt=="string"&&(lt=Qe[lt]),lt)){for(w=!1,xt=[],xe=0,Ce=M.length;xe<Ce;xe++)(z=lt[M.charCodeAt(xe)])?xt.push(String.fromCharCode(z)):xt.push(M[xe]),xt[xe].charCodeAt(0)>>8&&(w=!0);M=xt.join("")}for(xe=M.length;w===void 0&&xe!==0;)M.charCodeAt(xe-1)>>8&&(w=!0),xe--;if(!w)return M;for(xt=Z.noBOM?[]:[254,255],xe=0,Ce=M.length;xe<Ce;xe++){if((G=(z=M.charCodeAt(xe))>>8)>>8)throw new Error("Character at position "+xe+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(G),xt.push(z-(G<<8))}return String.fromCharCode.apply(void 0,xt)},wr=p.__private__.pdfEscape=p.pdfEscape=function(M,Z){return Kl(M,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oi=p.__private__.beginPage=function(M){Ae[++rn]=[],Et[rn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Wo(rn),we(Ae[K])},ga=function(M,Z){var xe,Ce,Me;switch(t=Z||t,typeof M=="string"&&(xe=S(M.toLowerCase()),Array.isArray(xe)&&(Ce=xe[0],Me=xe[1])),Array.isArray(M)&&(Ce=M[0]*it,Me=M[1]*it),isNaN(Ce)&&(Ce=i[0],Me=i[1]),(Ce>14400||Me>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Me=Math.min(14400,Me)),i=[Ce,Me],t.substr(0,1)){case"l":Me>Ce&&(i=[Me,Ce]);break;case"p":Ce>Me&&(i=[Me,Ce])}oi(i),wa(Xc),pe(Rr),Qc!==0&&pe(Qc+" J"),Sa!==0&&pe(Sa+" j"),Jt.publish("addPage",{pageNumber:rn})},ya=function(M){M>0&&M<=rn&&(Ae.splice(M,1),Et.splice(M,1),rn--,K>rn&&(K=rn),this.setPage(K))},Wo=function(M){M>0&&M<=rn&&(K=M)},zn=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ae.length-1},Go=function(M,Z,xe){var Ce,Me=void 0;return xe=xe||{},M=M!==void 0?M:Kt[vt].fontName,Z=Z!==void 0?Z:Kt[vt].fontStyle,Ce=M.toLowerCase(),un[Ce]!==void 0&&un[Ce][Z]!==void 0?Me=un[Ce][Z]:un[M]!==void 0&&un[M][Z]!==void 0?Me=un[M][Z]:xe.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+M+"', '"+Z+"'. Refer to getFontList() for available fonts."),Me||xe.noFallback||(Me=un.times[Z])==null&&(Me=un.times.normal),Me},mn=p.__private__.putInfo=function(){var M=bn(),Z=function(Ce){return Ce};for(var xe in u!==null&&(Z=Nn.encryptor(M,0)),pe("<<"),pe("/Producer ("+wr(Z("jsPDF "+Ut.version))+")"),ht)ht.hasOwnProperty(xe)&&ht[xe]&&pe("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+wr(Z(ht[xe]))+")");pe("/CreationDate ("+wr(Z(ie))+")"),pe(">>"),pe("endobj")},vo=p.__private__.putCatalog=function(M){var Z=(M=M||{}).rootDictionaryObjId||Wi;switch(bn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+Z+" 0 R"),Ge||(Ge="fullwidth"),Ge){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+Ge;xe.substr(xe.length-1)==="%"&&(Ge=parseInt(Ge)/100),typeof Ge=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+P(Ge)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}_e&&pe("/PageMode /"+_e),Jt.publish("putCatalog"),pe(">>"),pe("endobj")},Wu=p.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ce+1)),pe("/Root "+ce+" 0 R"),pe("/Info "+(ce-1)+" 0 R"),u!==null&&pe("/Encrypt "+Nn.oid+" 0 R"),pe("/ID [ <"+oe+"> <"+oe+"> ]"),pe(">>")},Yl=p.__private__.putHeader=function(){pe("%PDF-"+g),pe("%")},Gu=p.__private__.putXRef=function(){var M="0000000000";pe("xref"),pe("0 "+(ce+1)),pe("0000000000 65535 f ");for(var Z=1;Z<=ce;Z++)typeof ue[Z]=="function"?pe((M+ue[Z]()).slice(-10)+" 00000 n "):ue[Z]!==void 0?pe((M+ue[Z]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},xo=p.__private__.buildDocument=function(){st(),we(ge),Jt.publish("buildDocument"),Yl(),zo(),Kc(),Gc(),u!==null&&Hu(),mn(),vo();var M=ye;return Gu(),Wu(),pe("startxref"),pe(""+M),pe("%%EOF"),we(Ae[K]),ge.join(`
`)},el=p.__private__.getBlob=function(M){return new Blob([Fe(M)],{type:"application/pdf"})},va=p.output=p.__private__.output=si(function(M,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",M){case void 0:return xo();case"save":p.save(Z.filename);break;case"arraybuffer":return Fe(xo());case"blob":return el(xo());case"bloburi":case"bloburl":if(Ht.URL!==void 0&&typeof Ht.URL.createObjectURL=="function")return Ht.URL&&Ht.URL.createObjectURL(el(xo()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",Ce=xo();try{xe=wC(Ce)}catch{xe=wC(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+Z.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Me=Z.pdfObjectUrl,Qe="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",xt=Ht.open();return xt!==null&&xt.document.write(lt),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ht)==="[object Window]"){var w='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',z=Ht.open();if(z!==null){z.document.write(w);var G=this;z.document.documentElement.querySelector("#pdfViewer").onload=function(){z.document.title=Z.filename,z.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(G.output("bloburl"))}}return z}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',Re=Ht.open();if(Re!==null&&(Re.document.write(he),Re.document.title=Z.filename),Re||typeof safari>"u")return Re;break;case"datauri":case"dataurl":return Ht.document.location.href=this.output("datauristring",Z);default:return null}}),Gs=function(M){return Array.isArray($n)===!0&&$n.indexOf(M)>-1};switch(r){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=Gs("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);it=r}var Nn=null;Y(),X();var Ks=function(M){return u!==null?Nn.encryptor(M,0):function(Z){return Z}},ys=p.__private__.getPageInfo=p.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[M].objId,pageNumber:M,pageContext:Et[M]}},Mt=p.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in Et)if(Et[Z].objId===M)break;return ys(Z)},vs=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Et[K].objId,pageNumber:K,pageContext:Et[K]}};p.addPage=function(){return ga.apply(this,arguments),this},p.setPage=function(){return Wo.apply(this,arguments),we.call(this,Ae[K]),this},p.insertPage=function(M){return this.addPage(),this.movePage(K,M),this},p.movePage=function(M,Z){var xe,Ce;if(M>Z){xe=Ae[M],Ce=Et[M];for(var Me=M;Me>Z;Me--)Ae[Me]=Ae[Me-1],Et[Me]=Et[Me-1];Ae[Z]=xe,Et[Z]=Ce,this.setPage(Z)}else if(M<Z){xe=Ae[M],Ce=Et[M];for(var Qe=M;Qe<Z;Qe++)Ae[Qe]=Ae[Qe+1],Et[Qe]=Et[Qe+1];Ae[Z]=xe,Et[Z]=Ce,this.setPage(Z)}return this},p.deletePage=function(){return ya.apply(this,arguments),this},p.__private__.text=p.text=function(M,Z,xe,Ce,Me){var Qe,lt,xt,w,z,G,he,Re,We,ct=(Ce=Ce||{}).scope||this;if(typeof M=="number"&&typeof Z=="number"&&(typeof xe=="string"||Array.isArray(xe))){var en=xe;xe=Z,Z=M,M=en}if(arguments[3]instanceof gt?(C("The transform parameter of text() with a Matrix value"),We=Me):(xt=arguments[4],w=arguments[5],tr(he=arguments[3])==="object"&&he!==null||(typeof xt=="string"&&(w=xt,xt=null),typeof he=="string"&&(w=he,he=null),typeof he=="number"&&(xt=he,he=null),Ce={flags:he,angle:xt,align:w})),isNaN(Z)||isNaN(xe)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return ct;var vn="",tn=!1,Fn=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Mn,Un=ct.internal.scaleFactor;function Xi(Zn){return Zn=Zn.split("	").join(Array(Ce.TabLen||9).join(" ")),wr(Zn,he)}function ci(Zn){for(var qn,Cr=Zn.concat(),Lr=[],_a=Cr.length;_a--;)typeof(qn=Cr.shift())=="string"?Lr.push(qn):Array.isArray(Zn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Lr.push(qn[0]):Lr.push([qn[0],qn[1],qn[2]]);return Lr}function Qo(Zn,qn){var Cr;if(typeof Zn=="string")Cr=qn(Zn)[0];else if(Array.isArray(Zn)){for(var Lr,_a,sd=Zn.concat(),su=[],Df=sd.length;Df--;)typeof(Lr=sd.shift())=="string"?su.push(qn(Lr)[0]):Array.isArray(Lr)&&typeof Lr[0]=="string"&&(_a=qn(Lr[0],Lr[1],Lr[2]),su.push([_a[0],_a[1],_a[2]]));Cr=su}return Cr}var Zo=!1,Xu=!0;if(typeof M=="string")Zo=!0;else if(Array.isArray(M)){var Ju=M.concat();lt=[];for(var Zc,Er=Ju.length;Er--;)(typeof(Zc=Ju.shift())!="string"||Array.isArray(Zc)&&typeof Zc[0]!="string")&&(Xu=!1);Zo=Xu}if(Zo===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Qu=Ie/ct.internal.scaleFactor,Zu=Qu*(Fn-1);switch(Ce.baseline){case"bottom":xe-=Zu;break;case"top":xe+=Qu-Zu;break;case"hanging":xe+=Qu-2*Zu;break;case"middle":xe+=Qu/2-Zu}if((G=Ce.maxWidth||0)>0&&(typeof M=="string"?M=ct.splitTextToSize(M,G):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(Zn,qn){return Zn.concat(ct.splitTextToSize(qn,G))},[]))),Qe={text:M,x:Z,y:xe,options:Ce,mutex:{pdfEscape:wr,activeFontKey:vt,fonts:Kt,activeFontSize:Ie}},Jt.publish("preProcessText",Qe),M=Qe.text,xt=(Ce=Qe.options).angle,!(We instanceof gt)&&xt&&typeof xt=="number"){xt*=Math.PI/180,Ce.rotationDirection===0&&(xt=-xt),_===E.ADVANCED&&(xt=-xt);var ed=Math.cos(xt),td=Math.sin(xt);We=new gt(ed,td,-td,ed,0,0)}else xt&&xt instanceof gt&&(We=xt);_!==E.ADVANCED||We||(We=Qt),(z=Ce.charSpace||Yo)!==void 0&&(vn+=O(D(z))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Re=Ce.horizontalScale)!==void 0&&(vn+=O(100*Re)+` Tz
`),Ce.lang;var Ji=-1,eu=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,il=ct.internal.getCurrentPageInfo().pageContext;switch(eu){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var Kh=il.usedRenderingMode!==void 0?il.usedRenderingMode:-1;Ji!==-1?vn+=Ji+` Tr
`:Kh!==-1&&(vn+=`0 Tr
`),Ji!==-1&&(il.usedRenderingMode=Ji),w=Ce.align||"left";var Qi,nd=Ie*Fn,Pf=ct.internal.pageSize.getWidth(),rd=Kt[vt];z=Ce.charSpace||Yo,G=Ce.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Ca=[],nc=function(Zn){return ct.getStringUnitWidth(Zn,{font:rd,charSpace:z,fontSize:Ie,doKerning:!1})*Ie/Un};if(Object.prototype.toString.call(M)==="[object Array]"){var Zi;lt=ci(M),w!=="left"&&(Qi=lt.map(nc));var Ai,rc=0;if(w==="right"){Z-=Qi[0],M=[],Er=lt.length;for(var sl=0;sl<Er;sl++)sl===0?(Ai=Yi(Z),Zi=Sr(xe)):(Ai=D(rc-Qi[sl]),Zi=-nd),M.push([lt[sl],Ai,Zi]),rc=Qi[sl]}else if(w==="center"){Z-=Qi[0]/2,M=[],Er=lt.length;for(var ol=0;ol<Er;ol++)ol===0?(Ai=Yi(Z),Zi=Sr(xe)):(Ai=D((rc-Qi[ol])/2),Zi=-nd),M.push([lt[ol],Ai,Zi]),rc=Qi[ol]}else if(w==="left"){M=[],Er=lt.length;for(var id=0;id<Er;id++)M.push(lt[id])}else if(w==="justify"&&rd.encoding==="Identity-H"){M=[],Er=lt.length,G=G!==0?G:Pf;for(var al=0,Ln=0;Ln<Er;Ln++)if(Zi=Ln===0?Sr(xe):-nd,Ai=Ln===0?Yi(Z):al,Ln<Er-1){var ll=D((G-Qi[Ln])/(lt[Ln].split(" ").length-1)),_i=lt[Ln].split(" ");M.push([_i[0]+" ",Ai,Zi]),al=0;for(var Qs=1;Qs<_i.length;Qs++){var tu=(nc(_i[Qs-1]+" "+_i[Qs])-nc(_i[Qs]))*Un+ll;Qs==_i.length-1?M.push([_i[Qs],tu,0]):M.push([_i[Qs]+" ",tu,0]),al-=tu}}else M.push([lt[Ln],Ai,Zi]);M.push(["",al,0])}else{if(w!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],Er=lt.length,G=G!==0?G:Pf,Ln=0;Ln<Er;Ln++)Zi=Ln===0?Sr(xe):-nd,Ai=Ln===0?Yi(Z):0,Ln<Er-1?Ca.push(O(D((G-Qi[Ln])/(lt[Ln].split(" ").length-1)))):Ca.push(0),M.push([lt[Ln],Ai,Zi])}}var If=typeof Ce.R2L=="boolean"?Ce.R2L:be;If===!0&&(M=Qo(M,function(Zn,qn,Cr){return[Zn.split("").reverse().join(""),qn,Cr]})),Qe={text:M,x:Z,y:xe,options:Ce,mutex:{pdfEscape:wr,activeFontKey:vt,fonts:Kt,activeFontSize:Ie}},Jt.publish("postProcessText",Qe),M=Qe.text,tn=Qe.mutex.isHex||!1;var nu=Kt[vt].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(M=Qo(M,function(Zn,qn,Cr){return[Xi(Zn),qn,Cr]})),lt=ci(M),M=[];for(var ru,iu,Zs,cl=0,Aa=1,ul=Array.isArray(lt[0])?Aa:cl,dl="",ic=function(Zn,qn,Cr){var Lr="";return Cr instanceof gt?(Cr=typeof Ce.angle=="number"?Gn(Cr,new gt(1,0,0,1,Zn,qn)):Gn(new gt(1,0,0,1,Zn,qn),Cr),_===E.ADVANCED&&(Cr=Gn(new gt(1,0,0,-1,0,0),Cr)),Lr=Cr.join(" ")+` Tm
`):Lr=O(Zn)+" "+O(qn)+` Td
`,Lr},ui=0;ui<lt.length;ui++){switch(dl="",ul){case Aa:Zs=(tn?"<":"(")+lt[ui][0]+(tn?">":")"),ru=parseFloat(lt[ui][1]),iu=parseFloat(lt[ui][2]);break;case cl:Zs=(tn?"<":"(")+lt[ui]+(tn?">":")"),ru=Yi(Z),iu=Sr(xe)}Ca!==void 0&&Ca[ui]!==void 0&&(dl=Ca[ui]+` Tw
`),ui===0?M.push(dl+ic(ru,iu,We)+Zs):ul===cl?M.push(dl+Zs):ul===Aa&&M.push(dl+ic(ru,iu,We)+Zs)}M=ul===cl?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var xs=`BT
/`;return xs+=vt+" "+Ie+` Tf
`,xs+=O(Ie*Fn)+` TL
`,xs+=ur+`
`,xs+=vn,xs+=M,pe(xs+="ET"),m[vt]=!0,ct};var bo=p.__private__.clip=p.clip=function(M){return pe(M==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return bo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return pe("n"),this};var wo=p.__private__.isValidStyle=function(M){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(Z=!0),Z};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(M){return wo(M)&&(c=M),this};var Yc=p.__private__.getStyle=p.getStyle=function(M){var Z=c;switch(M){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=M}return Z},ai=p.close=function(){return pe("h"),this};p.stroke=function(){return pe("S"),this},p.fill=function(M){return Xl("f",M),this},p.fillEvenOdd=function(M){return Xl("f*",M),this},p.fillStroke=function(M){return Xl("B",M),this},p.fillStrokeEvenOdd=function(M){return Xl("B*",M),this};var Xl=function(M,Z){tr(Z)==="object"?tl(Z,M):pe(M)},Jl=function(M){M===null||_===E.ADVANCED&&M===void 0||(M=Yc(M),pe(M))};function Ko(M,Z,xe,Ce,Me){var Qe=new zp(Z||this.boundingBox,xe||this.xStep,Ce||this.yStep,this.gState,Me||this.matrix);Qe.stream=this.stream;var lt=M+"$$"+this.cloneIndex+++"$$";return dn(lt,Qe),Qe}var tl=function(M,Z){var xe=vi[M.key],Ce=Xt[xe];if(Ce instanceof nh)pe("q"),pe(Ku(Z)),Ce.gState&&p.setGState(Ce.gState),pe(M.matrix.toString()+" cm"),pe("/"+xe+" sh"),pe("Q");else if(Ce instanceof zp){var Me=new gt(1,0,0,-1,0,Ci());M.matrix&&(Me=Me.multiply(M.matrix||Qt),xe=Ko.call(Ce,M.key,M.boundingBox,M.xStep,M.yStep,Me).id),pe("q"),pe("/Pattern cs"),pe("/"+xe+" scn"),Ce.gState&&p.setGState(Ce.gState),pe(Z),pe("Q")}},Ku=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ki=p.moveTo=function(M,Z){return pe(O(D(M))+" "+O(W(Z))+" m"),this},li=p.lineTo=function(M,Z){return pe(O(D(M))+" "+O(W(Z))+" l"),this},Si=p.curveTo=function(M,Z,xe,Ce,Me,Qe){return pe([O(D(M)),O(W(Z)),O(D(xe)),O(W(Ce)),O(D(Me)),O(W(Qe)),"c"].join(" ")),this};p.__private__.line=p.line=function(M,Z,xe,Ce,Me){if(isNaN(M)||isNaN(Z)||isNaN(xe)||isNaN(Ce)||!wo(Me))throw new Error("Invalid arguments passed to jsPDF.line");return _===E.COMPAT?this.lines([[xe-M,Ce-Z]],M,Z,[1,1],Me||"S"):this.lines([[xe-M,Ce-Z]],M,Z,[1,1]).stroke()},p.__private__.lines=p.lines=function(M,Z,xe,Ce,Me,Qe){var lt,xt,w,z,G,he,Re,We,ct,en,vn,tn;if(typeof M=="number"&&(tn=xe,xe=Z,Z=M,M=tn),Ce=Ce||[1,1],Qe=Qe||!1,isNaN(Z)||isNaN(xe)||!Array.isArray(M)||!Array.isArray(Ce)||!wo(Me)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ki(Z,xe),lt=Ce[0],xt=Ce[1],z=M.length,en=Z,vn=xe,w=0;w<z;w++)(G=M[w]).length===2?(en=G[0]*lt+en,vn=G[1]*xt+vn,li(en,vn)):(he=G[0]*lt+en,Re=G[1]*xt+vn,We=G[2]*lt+en,ct=G[3]*xt+vn,en=G[4]*lt+en,vn=G[5]*xt+vn,Si(he,Re,We,ct,en,vn));return Qe&&ai(),Jl(Me),this},p.path=function(M){for(var Z=0;Z<M.length;Z++){var xe=M[Z],Ce=xe.c;switch(xe.op){case"m":Ki(Ce[0],Ce[1]);break;case"l":li(Ce[0],Ce[1]);break;case"c":Si.apply(this,Ce);break;case"h":ai()}}return this},p.__private__.rect=p.rect=function(M,Z,xe,Ce,Me){if(isNaN(M)||isNaN(Z)||isNaN(xe)||isNaN(Ce)||!wo(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return _===E.COMPAT&&(Ce=-Ce),pe([O(D(M)),O(W(Z)),O(D(xe)),O(D(Ce)),"re"].join(" ")),Jl(Me),this},p.__private__.triangle=p.triangle=function(M,Z,xe,Ce,Me,Qe,lt){if(isNaN(M)||isNaN(Z)||isNaN(xe)||isNaN(Ce)||isNaN(Me)||isNaN(Qe)||!wo(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-M,Ce-Z],[Me-xe,Qe-Ce],[M-Me,Z-Qe]],M,Z,[1,1],lt,!0),this},p.__private__.roundedRect=p.roundedRect=function(M,Z,xe,Ce,Me,Qe,lt){if(isNaN(M)||isNaN(Z)||isNaN(xe)||isNaN(Ce)||isNaN(Me)||isNaN(Qe)||!wo(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*xe),Qe=Math.min(Qe,.5*Ce),this.lines([[xe-2*Me,0],[Me*xt,0,Me,Qe-Qe*xt,Me,Qe],[0,Ce-2*Qe],[0,Qe*xt,-Me*xt,Qe,-Me,Qe],[2*Me-xe,0],[-Me*xt,0,-Me,-Qe*xt,-Me,-Qe],[0,2*Qe-Ce],[0,-Qe*xt,Me*xt,-Qe,Me,-Qe]],M+Me,Z,[1,1],lt,!0),this},p.__private__.ellipse=p.ellipse=function(M,Z,xe,Ce,Me){if(isNaN(M)||isNaN(Z)||isNaN(xe)||isNaN(Ce)||!wo(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*xe,lt=4/3*(Math.SQRT2-1)*Ce;return Ki(M+xe,Z),Si(M+xe,Z-lt,M+Qe,Z-Ce,M,Z-Ce),Si(M-Qe,Z-Ce,M-xe,Z-lt,M-xe,Z),Si(M-xe,Z+lt,M-Qe,Z+Ce,M,Z+Ce),Si(M+Qe,Z+Ce,M+xe,Z+lt,M+xe,Z),Jl(Me),this},p.__private__.circle=p.circle=function(M,Z,xe,Ce){if(isNaN(M)||isNaN(Z)||isNaN(xe)||!wo(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,Z,xe,xe,Ce)},p.setFont=function(M,Z,xe){return xe&&(Z=U(Z,xe)),vt=Go(M,Z,{disableWarning:!1}),this};var xa=p.__private__.getFont=p.getFont=function(){return Kt[Go.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var M,Z,xe={};for(M in un)if(un.hasOwnProperty(M))for(Z in xe[M]=[],un[M])un[M].hasOwnProperty(Z)&&xe[M].push(Z);return xe},p.addFont=function(M,Z,xe,Ce,Me){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(xe=U(xe,Ce)),Me=Me||"Identity-H",pa.call(this,M,Z,xe,Me)};var Mn,Xc=n.lineWidth||.200025,ba=p.__private__.getLineWidth=p.getLineWidth=function(){return Xc},wa=p.__private__.setLineWidth=p.setLineWidth=function(M){return Xc=M,pe(O(D(M))+" w"),this};p.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(M,Z){if(M=M||[],Z=Z||0,isNaN(Z)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(xe){return O(D(xe))}).join(" "),Z=O(D(Z)),pe("["+M+"] "+Z+" d"),this};var nl=p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*Mn};p.__private__.getLineHeight=p.getLineHeight=function(){return Ie*Mn};var Ql=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Mn=M),this},Ei=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Mn};Ql(n.lineHeight);var Yi=p.__private__.getHorizontalCoordinate=function(M){return D(M)},Sr=p.__private__.getVerticalCoordinate=function(M){return _===E.ADVANCED?M:Et[K].mediaBox.topRightY-Et[K].mediaBox.bottomLeftY-D(M)},Jc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(M){return O(Yi(M))},Ys=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(M){return O(Sr(M))},Rr=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ms(Rr)},p.__private__.setStrokeColor=p.setDrawColor=function(M,Z,xe,Ce){return Rr=Tr({ch1:M,ch2:Z,ch3:xe,ch4:Ce,pdfColorType:"draw",precision:2}),pe(Rr),this};var rl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ms(rl)},p.__private__.setFillColor=p.setFillColor=function(M,Z,xe,Ce){return rl=Tr({ch1:M,ch2:Z,ch3:xe,ch4:Ce,pdfColorType:"fill",precision:2}),pe(rl),this};var ur=n.textColor||"0 g",Xs=p.__private__.getTextColor=p.getTextColor=function(){return ms(ur)};p.__private__.setTextColor=p.setTextColor=function(M,Z,xe,Ce){return ur=Tr({ch1:M,ch2:Z,ch3:xe,ch4:Ce,pdfColorType:"text",precision:3}),this};var Yo=n.charSpace,So=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Yo||0)};p.__private__.setCharSpace=p.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yo=M,this};var Qc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(M){var Z=p.CapJoinStyles[M];if(Z===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qc=Z,pe(Z+" J"),this};var Sa=0;p.__private__.setLineJoin=p.setLineJoin=function(M){var Z=p.CapJoinStyles[M];if(Z===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=Z,pe(Z+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(O(D(M))+" M"),this},p.GState=h2,p.setGState=function(M){(M=typeof M=="string"?Tn[nr[M]]:Eo(null,M)).equals(hn)||(pe("/"+M.id+" gs"),hn=M)};var Eo=function(M,Z){if(!M||!nr[M]){var xe=!1;for(var Ce in Tn)if(Tn.hasOwnProperty(Ce)&&Tn[Ce].equals(Z)){xe=!0;break}if(xe)Z=Tn[Ce];else{var Me="GS"+(Object.keys(Tn).length+1).toString(10);Tn[Me]=Z,Z.id=Me}return M&&(nr[M]=Z.id),Jt.publish("addGState",Z),Z}};p.addGState=function(M,Z){return Eo(M,Z),this},p.saveGraphicsState=function(){return pe("q"),xr.push({key:vt,size:Ie,color:ur}),this},p.restoreGraphicsState=function(){pe("Q");var M=xr.pop();return vt=M.key,Ie=M.size,ur=M.color,hn=null,this},p.setCurrentTransformationMatrix=function(M){return pe(M.toString()+" cm"),this},p.comment=function(M){return pe("#"+M),this};var Js=function(M,Z){var xe=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(Qe){isNaN(Qe)||(xe=parseFloat(Qe))}});var Ce=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Qe){isNaN(Qe)||(Ce=parseFloat(Qe))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Qe){Me=Qe.toString()}}),this},Xo=function(M,Z,xe,Ce){Js.call(this,M,Z),this.type="rect";var Me=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(lt){isNaN(lt)||(Me=parseFloat(lt))}});var Qe=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(lt){isNaN(lt)||(Qe=parseFloat(lt))}}),this},Ea=function(){this.page=rn,this.currentPage=K,this.pages=Ae.slice(0),this.pagesContext=Et.slice(0),this.x=jt,this.y=qt,this.matrix=Qn,this.width=Co(K),this.height=Ci(K),this.outputDestination=$e,this.id="",this.objectNumber=-1};Ea.prototype.restore=function(){rn=this.page,K=this.currentPage,Et=this.pagesContext,Ae=this.pages,jt=this.x,qt=this.y,Qn=this.matrix,ec(K,this.width),tc(K,this.height),$e=this.outputDestination};var Zl=function(M,Z,xe,Ce,Me){ar.push(new Ea),rn=K=0,Ae=[],jt=M,qt=Z,Qn=Me,oi([xe,Ce])},Yu=function(M){if(Rn[M])ar.pop().restore();else{var Z=new Ea,xe="Xo"+(Object.keys(pn).length+1).toString(10);Z.id=xe,Rn[M]=xe,pn[xe]=Z,Jt.publish("addFormObject",Z),ar.pop().restore()}};for(var Jo in p.beginFormObject=function(M,Z,xe,Ce,Me){return Zl(M,Z,xe,Ce,Me),this},p.endFormObject=function(M){return Yu(M),this},p.doFormObject=function(M,Z){var xe=pn[Rn[M]];return pe("q"),pe(Z.toString()+" cm"),pe("/"+xe.id+" Do"),pe("Q"),this},p.getFormObject=function(M){var Z=pn[Rn[M]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},p.save=function(M,Z){return M=M||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Qf(el(xo()),M),typeof Qf.unload=="function"&&Ht.setTimeout&&setTimeout(Qf.unload,911),this):new Promise(function(xe,Ce){try{var Me=Qf(el(xo()),M);typeof Qf.unload=="function"&&Ht.setTimeout&&setTimeout(Qf.unload,911),xe(Me)}catch(Qe){Ce(Qe.message)}})},Ut.API)Ut.API.hasOwnProperty(Jo)&&(Jo==="events"&&Ut.API.events.length?function(M,Z){var xe,Ce,Me;for(Me=Z.length-1;Me!==-1;Me--)xe=Z[Me][0],Ce=Z[Me][1],M.subscribe.apply(M,[xe].concat(typeof Ce=="function"?[Ce]:Ce))}(Jt,Ut.API.events):p[Jo]=Ut.API[Jo]);var Co=p.getPageWidth=function(M){return(Et[M=M||K].mediaBox.topRightX-Et[M].mediaBox.bottomLeftX)/it},ec=p.setPageWidth=function(M,Z){Et[M].mediaBox.topRightX=Z*it+Et[M].mediaBox.bottomLeftX},Ci=p.getPageHeight=function(M){return(Et[M=M||K].mediaBox.topRightY-Et[M].mediaBox.bottomLeftY)/it},tc=p.setPageHeight=function(M,Z){Et[M].mediaBox.topRightY=Z*it+Et[M].mediaBox.bottomLeftY};return p.internal={pdfEscape:wr,getStyle:Yc,getFont:xa,getFontSize:le,getCharSpace:So,getTextColor:Xs,getLineHeight:nl,getLineHeightFactor:Ei,getLineWidth:ba,write:qe,getHorizontalCoordinate:Yi,getVerticalCoordinate:Sr,getCoordinateString:Jc,getVerticalCoordinateString:Ys,collections:{},newObject:bn,newAdditionalObject:xi,newObjectDeferred:Cn,newObjectDeferredBegin:kn,getFilters:wi,putStream:br,events:Jt,scaleFactor:it,pageSize:{getWidth:function(){return Co(K)},setWidth:function(M){ec(K,M)},getHeight:function(){return Ci(K)},setHeight:function(M){tc(K,M)}},encryptionOptions:u,encryption:Nn,getEncryptor:Ks,output:va,getNumberOfPages:zn,pages:Ae,out:pe,f2:P,f3:N,getPageInfo:ys,getPageInfoByObjId:Mt,getCurrentPageInfo:vs,getPDFVersion:v,Point:Js,Rectangle:Xo,Matrix:gt,hasHotfix:Gs},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Co(K)},set:function(M){ec(K,M)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ci(K)},set:function(M){tc(K,M)},enumerable:!0,configurable:!0}),ma.call(p,Oe),vt="F1",ga(i,t),Jt.publish("initialized"),p}Ip.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ip.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ip.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ip.prototype.processOwnerPassword=function(n,e){return EC(SC(e).substr(0,5),n)},Ip.prototype.encryptor=function(n,e){var t=SC(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return EC(t,r)}},h2.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||tr(n)!==tr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ut.API={events:[]},Ut.version="3.0.1";var jr=Ut.API,w4=1,Hh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sp=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(n){return n.toFixed(2)},Td=function(n){return n.toFixed(5)};jr.__acroform__={};var $o=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},mD=function(n){return n*w4},hc=function(n){var e=new YB,t=Pt.internal.getHeight(n)||0,r=Pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(r)),Number(an(t))],e},ame=jr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},lme=jr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},cme=jr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},Kr=jr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return cme(n,e-1)},Yr=jr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ame(n,e-1)},Xr=jr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return lme(n,e-1)},ume=jr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=t(i+o)||0,l.upperRight_Y=r(s)||0,[Number(an(l.lowerLeft_X)),Number(an(l.lowerLeft_Y)),Number(an(l.upperRight_X)),Number(an(l.upperRight_Y))]},dme=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=CC(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+an(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=hc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},CC=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=t,o=Pt.internal.getHeight(n)||0;o=o<0?-o:o;var a=Pt.internal.getWidth(n)||0;a=a<0?-a:a;var l=function(N,D,L){if(N+1<i.length){var W=D+" "+i[N+1][0];return Fy(W,n,L).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,f=Fy("3",n,s).height,m=n.multiline?o-s:(o-f)/2,p=m+=2,g=0,v=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Fy(e,n,s=12).width+", FieldWidth:"+a+`
`;break}for(var S="",E=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var R=!1;if(i[_].length!==1&&b!==i[_].length-1){if((f+2)*(E+2)+2>o)continue e;S+=i[_][b],R=!0,v=_,_--}else{S=(S+=i[_][b]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var B=parseInt(_),U=l(B,S,s),O=_>=i.length-1;if(U&&!O){S+=" ",b=0;continue}if(U||O){if(O)v=B;else if(n.multiline&&(f+2)*(E+2)+2>o)continue e}else{if(!n.multiline||(f+2)*(E+2)+2>o)continue e;v=B}}for(var C="",I=g;I<=v;I++){var P=i[I];if(n.multiline){if(I===v){C+=P[b]+" ",b=(b+1)%P.length;continue}if(I===g){C+=P[P.length-1]+" ";continue}}C+=P[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=Fy(C,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=an(c)+" "+an(p)+` Td
`,e+="("+Hh(C)+`) Tj
`,e+=-an(c)+` 0 Td
`,p=-(s+2),u=0,g=R?v:v+1,E++,S=""}break}return r.text=e,r.fontSize=s,r},Fy=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},fme={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hme=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},pme=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),tr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},mme=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Ul.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(fme)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");w4=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new XB,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&hme(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=ume(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Pt.createDefaultAppearanceStream(a),tr(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=dme(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var f="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var g=p[o];typeof g=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(i,a)),f+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&pme(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},KB=jr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),tr(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Hh(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},H5=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Hh(r(n))+")"},Sc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Sc.prototype.toString=function(){return this.objId+" 0 R"},Sc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Sc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:KB(i,this.objId,this.scope)}):i instanceof Sc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var YB=function(){Sc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};$o(YB,Sc);var XB=function(){Sc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Hh(t(n))+")"}},set:function(t){n=t}})};$o(XB,Sc);var Ul=function n(){Sc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(S){S?this.F=Yr(e,3):this.F=Xr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof p2)return;s="FieldObject"+n.FieldNum++}var S=function(E){return E};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Hh(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/w4:c},set:function(S){c=S}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof p2||this instanceof wh))return H5(f,this.objId,this.scope)},set:function(S){S=S.toString(),f=S}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mi?m:H5(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=this instanceof Mi?S:S.substr(0,1)==="("?Sp(S.substr(1,S.length-2)):Sp(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi?Sp(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof Mi?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Mi?p:H5(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=this instanceof Mi?S:S.substr(0,1)==="("?Sp(S.substr(1,S.length-2)):Sp(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi?Sp(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof Mi?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(S){S=!!S,v=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(S){g=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(S){S?this.Ff=Yr(this.Ff,1):this.Ff=Xr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(S){S?this.Ff=Yr(this.Ff,2):this.Ff=Xr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(S){S?this.Ff=Yr(this.Ff,3):this.Ff=Xr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');b=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(b){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};$o(Ul,Sc);var t0=function(){Ul.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return KB(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(t){t?this.Ff=Yr(this.Ff,18):this.Ff=Xr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Yr(this.Ff,19):this.Ff=Xr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(t){t?(this.Ff=Yr(this.Ff,20),e.sort()):this.Ff=Xr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(t){t?this.Ff=Yr(this.Ff,22):this.Ff=Xr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(t){t?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(t){t?this.Ff=Yr(this.Ff,27):this.Ff=Xr(this.Ff,27)}}),this.hasAppearanceStream=!1};$o(t0,Ul);var n0=function(){t0.call(this),this.fontName="helvetica",this.combo=!1};$o(n0,t0);var r0=function(){n0.call(this),this.combo=!0};$o(r0,n0);var rx=function(){r0.call(this),this.edit=!0};$o(rx,r0);var Mi=function(){Ul.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(t){t?this.Ff=Yr(this.Ff,15):this.Ff=Xr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(t){t?this.Ff=Yr(this.Ff,16):this.Ff=Xr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(t){t?this.Ff=Yr(this.Ff,17):this.Ff=Xr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(t){t?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Hh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){tr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};$o(Mi,Ul);var ix=function(){Mi.call(this),this.pushButton=!0};$o(ix,Mi);var i0=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};$o(i0,Mi);var p2=function(){var n,e;Ul.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Hh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){tr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$o(p2,Ul),i0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},i0.prototype.createOption=function(n){var e=new p2;return e.Parent=this,e.optionName=n,this.Kids.push(e),gme.call(this.scope,e),e};var sx=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};$o(sx,Mi);var wh=function(){Ul.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=Yr(this.Ff,13):this.Ff=Xr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=Yr(this.Ff,21):this.Ff=Xr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=Yr(this.Ff,23):this.Ff=Xr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=Yr(this.Ff,24):this.Ff=Xr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=Yr(this.Ff,25):this.Ff=Xr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=Yr(this.Ff,26):this.Ff=Xr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$o(wh,Ul);var ox=function(){wh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(n){n?this.Ff=Yr(this.Ff,14):this.Ff=Xr(this.Ff,14)}}),this.password=!0};$o(ox,wh);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=CC(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(Pt.internal.getWidth(n))+" "+an(Pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+an(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Pt.internal.getHeight(n),o=Pt.internal.getWidth(n),a=CC(n,n.caption);return i.push("1 g"),i.push("0 0 "+an(o)+" "+an(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+an(o-1)+" "+an(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+an(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(Pt.internal.getWidth(n))+" "+an(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Circle.YesNormal,e.D[n]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pt.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Td(Pt.internal.getWidth(n)/2)+" "+Td(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5)),o=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Td(Pt.internal.getWidth(n)/2)+" "+Td(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Td(Pt.internal.getWidth(n)/2)+" "+Td(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Td(Pt.internal.getWidth(n)/2)+" "+Td(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Cross.YesNormal,e.D[n]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=hc(n);e.scope=n.scope;var t=[],r=Pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(Pt.internal.getWidth(n)-2)+" "+an(Pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(r.x1.x)+" "+an(r.x1.y)+" m"),t.push(an(r.x2.x)+" "+an(r.x2.y)+" l"),t.push(an(r.x4.x)+" "+an(r.x4.y)+" m"),t.push(an(r.x3.x)+" "+an(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=Pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+an(Pt.internal.getWidth(n))+" "+an(Pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+an(Pt.internal.getWidth(n)-2)+" "+an(Pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),r.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),r.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),r.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=hc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(Pt.internal.getWidth(n))+" "+an(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pt.internal.getWidth(n),t=Pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(n){var e=0;return tr(n)==="object"&&(e=mD(n.Rect[2])),e},Pt.internal.getHeight=function(n){var e=0;return tr(n)==="object"&&(e=mD(n.Rect[3])),e};var gme=jr.addField=function(n){if(mme(this,n),!(n instanceof Ul))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=t0,jr.AcroFormListBox=n0,jr.AcroFormComboBox=r0,jr.AcroFormEditBox=rx,jr.AcroFormButton=Mi,jr.AcroFormPushButton=ix,jr.AcroFormRadioButton=i0,jr.AcroFormCheckBox=sx,jr.AcroFormTextField=wh,jr.AcroFormPasswordField=ox,jr.AcroFormAppearance=Pt,jr.AcroForm={ChoiceField:t0,ListBox:n0,ComboBox:r0,EditBox:rx,Button:Mi,PushButton:ix,RadioButton:i0,CheckBox:sx,TextField:wh,PasswordField:ox,Appearance:Pt},Ut.AcroForm={ChoiceField:t0,ListBox:n0,ComboBox:r0,EditBox:rx,Button:Mi,PushButton:ix,RadioButton:i0,CheckBox:sx,TextField:wh,PasswordField:ox,Appearance:Pt};Ut.AcroForm;function JB(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(N,D){var L,W,ie,oe,re,X=e;if((D=D||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(U(N))for(re in t)for(ie=t[re],L=0;L<ie.length;L+=1){for(oe=!0,W=0;W<ie[L].length;W+=1)if(ie[L][W]!==void 0&&ie[L][W]!==N[W]){oe=!1;break}if(oe===!0){X=re;break}}else for(re in t)for(ie=t[re],L=0;L<ie.length;L+=1){for(oe=!0,W=0;W<ie[L].length;W+=1)if(ie[L][W]!==void 0&&ie[L][W]!==N.charCodeAt(W)){oe=!1;break}if(oe===!0){X=re;break}}return X===e&&D!==e&&(X=D),X},i=function N(D){for(var L=this.internal.write,W=this.internal.putStream,ie=(0,this.internal.getFilters)();ie.indexOf("FlateEncode")!==-1;)ie.splice(ie.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:D.width}),oe.push({key:"Height",value:D.height}),D.colorSpace===b.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===b.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var re="",X=0,de=D.transparency.length;X<de;X++)re+=D.transparency[X]+" "+D.transparency[X]+" ";oe.push({key:"Mask",value:"["+re+"]"})}D.sMask!==void 0&&oe.push({key:"SMask",value:D.objectId+1+" 0 R"});var ae=D.filter!==void 0?["/"+D.filter]:void 0;if(W({data:D.data,additionalKeyValues:oe,alreadyAppliedFilters:ae,objectId:D.objectId}),L("endobj"),"sMask"in D&&D.sMask!==void 0){var Y="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,$={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:Y,data:D.sMask};"filter"in D&&($.filter=D.filter),N.call(this,$)}if(D.colorSpace===b.INDEXED){var K=this.internal.newObject();W({data:C(new Uint8Array(D.palette)),objectId:K}),L("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var D in N)i.call(this,N[D])},o=function(){var N,D=this.internal.collections.addImage_images,L=this.internal.write;for(var W in D)L("/I"+(N=D[W]).index,N.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var N=this.internal.collections.addImage_images;return a.call(this),N},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(N){return typeof n["process"+N.toUpperCase()]=="function"},f=function(N){return tr(N)==="object"&&N.nodeType===1},m=function(N,D){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var L=""+N.getAttribute("src");if(L.indexOf("data:image/")===0)return sg(unescape(L).split("base64,").pop());var W=n.loadFile(L,!0);if(W!==void 0)return W}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var ie;switch(D){case"PNG":ie="image/png";break;case"WEBP":ie="image/webp";break;case"JPEG":case"JPG":default:ie="image/jpeg"}return sg(N.toDataURL(ie,1).split("base64,").pop())}},p=function(N){var D=this.internal.collections.addImage_images;if(D){for(var L in D)if(N===D[L].alias)return D[L]}},g=function(N,D,L){return N||D||(N=-96,D=-96),N<0&&(N=-1*L.width*72/N/this.internal.scaleFactor),D<0&&(D=-1*L.height*72/D/this.internal.scaleFactor),N===0&&(N=D*L.width/L.height),D===0&&(D=N*L.height/L.width),[N,D]},v=function(N,D,L,W,ie,oe){var re=g.call(this,L,W,ie),X=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,ae=l.call(this);if(L=re[0],W=re[1],ae[ie.index]=ie,oe){oe*=Math.PI/180;var Y=Math.cos(oe),$=Math.sin(oe),K=function(ee){return ee.toFixed(4)},J=[K(Y),K($),K(-1*$),K(Y),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,X(N),de(D+W),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([X(L),"0","0",X(W),"0","0","cm"].join(" "))):this.internal.write([X(L),"0","0",X(W),X(N),de(D+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ie.index+" Do"),this.internal.write("Q")},b=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=n.__addimage__.sHashCode=function(N){var D,L,W=0;if(typeof N=="string")for(L=N.length,D=0;D<L;D++)W=(W<<5)-W+N.charCodeAt(D),W|=0;else if(U(N))for(L=N.byteLength/2,D=0;D<L;D++)W=(W<<5)-W+N[D],W|=0;return W},_=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var D=!0;return N.length===0&&(D=!1),N.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(D=!1),D},R=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var D=N.indexOf(",");return D<0?null:N.substring(0,D).trim().endsWith("base64")?N.substring(D+1):null},B=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(N){return B()&&N instanceof ArrayBuffer};var U=n.__addimage__.isArrayBufferView=function(N){return B()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},O=n.__addimage__.binaryStringToUint8Array=function(N){for(var D=N.length,L=new Uint8Array(D),W=0;W<D;W++)L[W]=N.charCodeAt(W);return L},C=n.__addimage__.arrayBufferToBinaryString=function(N){for(var D="",L=U(N)?N:new Uint8Array(N),W=0;W<L.length;W+=8192)D+=String.fromCharCode.apply(null,L.subarray(W,W+8192));return D};n.addImage=function(){var N,D,L,W,ie,oe,re,X,de;if(typeof arguments[1]=="number"?(D=e,L=arguments[1],W=arguments[2],ie=arguments[3],oe=arguments[4],re=arguments[5],X=arguments[6],de=arguments[7]):(D=arguments[1],L=arguments[2],W=arguments[3],ie=arguments[4],oe=arguments[5],re=arguments[6],X=arguments[7],de=arguments[8]),tr(N=arguments[0])==="object"&&!f(N)&&"imageData"in N){var ae=N;N=ae.imageData,D=ae.format||D||e,L=ae.x||L||0,W=ae.y||W||0,ie=ae.w||ae.width||ie,oe=ae.h||ae.height||oe,re=ae.alias||re,X=ae.compression||X,de=ae.rotation||ae.angle||de}var Y=this.internal.getFilters();if(X===void 0&&Y.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(L)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var $=I.call(this,N,D,re,X);return v.call(this,L,W,ie,oe,$,de),this};var I=function(N,D,L,W){var ie,oe,re;if(typeof N=="string"&&r(N)===e){N=unescape(N);var X=P(N,!1);(X!==""||(X=n.loadFile(N,!0))!==void 0)&&(N=X)}if(f(N)&&(N=m(N,D)),D=r(N,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((re=L)==null||re.length===0)&&(L=function(de){return typeof de=="string"||U(de)?E(de):U(de.data)?E(de.data):null}(N)),(ie=p.call(this,L))||(B()&&(N instanceof Uint8Array||D==="RGBA"||(oe=N,N=O(N))),ie=this["process"+D.toUpperCase()](N,c.call(this),L,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in n.image_compression?de:S.NONE}(W),oe)),!ie)throw new Error("An unknown error occurred whilst processing the image.");return ie},P=n.__addimage__.convertBase64ToBinaryString=function(N,D){D=typeof D!="boolean"||D;var L,W="";if(typeof N=="string"){var ie;L=(ie=R(N))!==null&&ie!==void 0?ie:N;try{W=sg(L)}catch(oe){if(D)throw _(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};n.getImageProperties=function(N){var D,L,W="";if(f(N)&&(N=m(N)),typeof N=="string"&&r(N)===e&&((W=P(N,!1))===""&&(W=n.loadFile(N)||""),N=W),L=r(N),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!B()||N instanceof Uint8Array||(N=O(N)),!(D=this["process"+L.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=L,D}})(Ut.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ut.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(v.objId),E=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(S(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(S(E))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(g(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(t),y:c(r),w:l(t+i),h:c(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,a,l=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(t,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(t,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Ut.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},a=n.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(v){var b=0,S=t,E="",_=0;for(b=0;b<v.length;b+=1)S[v.charCodeAt(b)]!==void 0?(_++,typeof(S=S[v.charCodeAt(b)])=="number"&&(E+=String.fromCharCode(S),S=t,_=0),b===v.length-1&&(S=t,E+=v.charAt(b-(_-1)),b-=_-1,_=0)):(S=t,E+=v.charAt(b-_),b-=_,_=0);return E};n.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(v,b,S){return o(v)?s(v)===!1?-1:!c(v)||!o(b)&&!o(S)||!o(S)&&a(b)||a(v)&&!o(b)||a(v)&&l(b)||a(v)&&a(b)?0:u(v)&&o(b)&&!a(b)&&o(S)&&c(S)?3:a(v)||!o(S)?1:2:-1},p=function(v){var b=0,S=0,E=0,_="",R="",B="",U=(v=v||"").split("\\s+"),O=[];for(b=0;b<U.length;b+=1){for(O.push(""),S=0;S<U[b].length;S+=1)_=U[b][S],R=U[b][S-1],B=U[b][S+1],o(_)?(E=m(_,R,B),O[b]+=E!==-1?String.fromCharCode(e[_.charCodeAt(0)][E]):_):O[b]+=_;O[b]=f(O[b])}return O.join(" ")},g=n.__arabicParser__.processArabic=n.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(b)){var E=0;for(S=[],E=0;E<b.length;E+=1)Array.isArray(b[E])?S.push([p(b[E][0]),b[E][1],b[E][2]]):S.push([p(b[E])]);v=S}else v=p(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};n.events.push(["preProcessText",g])}(Ut.API),Ut.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(a){t=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ut.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(v){g=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,g=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,R){return _.concat(b.splitTextToSize(R,S))},[])):l=Array.isArray(l)?l:[l];for(var E=0;E<l.length;E++)p<(v=this.getStringUnitWidth(l[E],{font:f})*u)&&(p=v);return p!==0&&(g=l.length),{w:p/=m,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,f,m){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,g,v,b,S=[],E=[],_=[],R={},B={},U=[],O=[],C=(m=m||{}).autoSize||!1,I=m.printHeaders!==!1,P=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,N=m.margins||Object.assign({width:this.getPageWidth()},e),D=typeof m.padding=="number"?m.padding:3,L=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=W,this.setFontSize(P),f==null)E=S=Object.keys(u[0]),_=S.map(function(){return"left"});else if(Array.isArray(f)&&tr(f[0])==="object")for(S=f.map(function(ae){return ae.name}),E=f.map(function(ae){return ae.prompt||ae.name||""}),_=f.map(function(ae){return ae.align||"left"}),p=0;p<f.length;p+=1)B[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(E=S=f,_=S.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<S.length;p+=1){for(R[b=S[p]]=u.map(function(ae){return ae[b]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(E[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=R[b],this.setFont(void 0,"normal"),v=0;v<g.length;v+=1)U.push(this.getTextDimensions(g[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[b]=Math.max.apply(null,U)+D+D,U=[]}if(I){var ie={};for(p=0;p<S.length;p+=1)ie[S[p]]={},ie[S[p]].text=E[p],ie[S[p]].align=_[p];var oe=a.call(this,ie,B);O=S.map(function(ae){return new s(l,c,B[ae],oe,ie[ae].text,void 0,ie[ae].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var re=f.reduce(function(ae,Y){return ae[Y.name]=Y.align,ae},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var X=a.call(this,u[p],B);for(v=0;v<S.length;v+=1){var de=u[p][S[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:de},this),o.call(this,new s(l,c,B[S[v]],X,de,p+2,re[S[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+u+u},this).reduce(function(p,g){return Math.max(p,g)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}}(Ut.API);var QB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ZB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],AC=JB(ZB),e9=[100,200,300,400,500,600,700,800,900],yme=JB(e9);function _C(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return QB[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof AC[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function gD(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var vme={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},yD={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vD(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function xme(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},vme,t.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=_C(e[a])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+vD(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=AC[l],f=u<=AC.normal?-1:1,m=gD(c,ZB,u,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=QB[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=yme[l],f=gD(c,e9,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+vD(s)+"'.");return o}function xD(n){return n.trimLeft()}function bme(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function wme(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var jy,bD,wD,W5=["times"];(function(n){var e,t,r,i,s,o,a,l,c,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=$;Object.defineProperty(this,"pdf",{get:function(){return K}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(we){J=!!we}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(we){ee=!!we}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(we){isNaN(we)||(ce=we)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(we){isNaN(we)||(ue=we)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(we){var pe;typeof we=="number"?pe=[we,we,we,we]:((pe=new Array(4))[0]=we[0],pe[1]=we.length>=2?we[1]:pe[0],pe[2]=we.length>=3?we[2]:pe[0],pe[3]=we.length>=4?we[3]:pe[1]),c.margin=pe}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(we){ge=we}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(we){ye=we}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(we){Se=we}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(we){we instanceof u&&(c=we)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(we){c.path=we}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(we){Ae=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var pe;pe=m(we),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var pe=m(we);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var je=null;function $e(we,pe){if(je===null){var qe=function(Fe){var Oe=[];return Object.keys(Fe).forEach(function(Ie){Fe[Ie].forEach(function(Ge){var le=null;switch(Ge){case"bold":le={family:Ie,weight:"bold"};break;case"italic":le={family:Ie,style:"italic"};break;case"bolditalic":le={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":le={family:Ie}}le!==null&&(le.ref={name:Ie,style:Ge},Oe.push(le))})}),Oe}(we.getFontList());je=function(Fe){for(var Oe={},Ie=0;Ie<Fe.length;++Ie){var Ge=_C(Fe[Ie]),le=Ge.family,be=Ge.stretch,_e=Ge.style,Ke=Ge.weight;Oe[le]=Oe[le]||{},Oe[le][be]=Oe[le][be]||{},Oe[le][be][_e]=Oe[le][be][_e]||{},Oe[le][be][_e][Ke]=Ge}return Oe}(qe.concat(pe))}return je}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(we){je=null,st=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var pe;if(this.ctx.font=we,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var qe=pe[1];pe[2];var Fe=pe[3],Oe=pe[4];pe[5];var Ie=pe[6],Ge=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(Ge==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:Ge==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var le=function(ht){var vt,it,jt=[],qt=ht.trim();if(qt==="")return W5;if(qt in yD)return[yD[qt]];for(;qt!=="";){switch(it=null,vt=(qt=xD(qt)).charAt(0)){case'"':case"'":it=bme(qt.substring(1),vt);break;default:it=wme(qt)}if(it===null||(jt.push(it[0]),(qt=xD(it[1]))!==""&&qt.charAt(0)!==","))return W5;qt=qt.replace(/^,/,"")}return jt}(Ie);if(this.fontFaces){var be=xme($e(this.pdf,this.fontFaces),le.map(function(ht){return{family:ht,stretch:"normal",weight:Fe,style:qe}}));this.pdf.setFont(be.ref.name,be.ref.style)}else{var _e="";(Fe==="bold"||parseInt(Fe,10)>=700||qe==="bold")&&(_e="bold"),qe==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Ke="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<le.length;Ue++){if(this.pdf.internal.getFont(le[Ue],_e,{noFallback:!0,disableWarning:!0})!==void 0){Ke=le[Ue];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(le[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=le[Ue],_e="bold";else if(this.pdf.internal.getFont(le[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=le[Ue],_e="normal";break}}if(Ke===""){for(var nt=0;nt<le.length;nt++)if(ze[le[nt]]){Ke=ze[le[nt]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function($){this.lineDash=$},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function($,K){if(isNaN($)||isNaN(K))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o($,K)},f.prototype.closePath=function(){var $=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&tr(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){$=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.lineTo=function($,K){if(isNaN($)||isNaN(K))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function($,K,J,ee){if(isNaN(J)||isNaN(ee)||isNaN($)||isNaN(K))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(J,ee)),ue=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},f.prototype.bezierCurveTo=function($,K,J,ee,ce,ue){if(isNaN(ce)||isNaN(ue)||isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ce,ue)),ye=this.ctx.transform.applyToPoint(new o($,K)),Se=this.ctx.transform.applyToPoint(new o(J,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Se.x,y2:Se.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},f.prototype.arc=function($,K,J,ee,ce,ue){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee)||isNaN(ce))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o($,K));$=ge.x,K=ge.y;var ye=this.ctx.transform.applyToPoint(new o(0,J)),Se=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(ye.x-Se.x,2)+Math.pow(ye.y-Se.y,2))}Math.abs(ce-ee)>=2*Math.PI&&(ee=0,ce=2*Math.PI),this.path.push({type:"arc",x:$,y:K,radius:J,startAngle:ee,endAngle:ce,counterclockwise:ue})},f.prototype.arcTo=function($,K,J,ee,ce){throw new Error("arcTo not implemented.")},f.prototype.rect=function($,K,J,ee){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,K),this.lineTo($+J,K),this.lineTo($+J,K+ee),this.lineTo($,K+ee),this.lineTo($,K),this.lineTo($+J,K),this.lineTo($,K)},f.prototype.fillRect=function($,K,J,ee){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,K,J,ee),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},f.prototype.strokeRect=function($,K,J,ee){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,K,J,ee),this.stroke())},f.prototype.clearRect=function($,K,J,ee){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,K,J,ee))},f.prototype.save=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},f.prototype.restore=function($){$=typeof $!="boolean"||$;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(K),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function($){var K,J,ee,ce;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))K=0,J=0,ee=0,ce=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(ue!==null)K=parseInt(ue[1]),J=parseInt(ue[2]),ee=parseInt(ue[3]),ce=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)K=parseInt(ue[1]),J=parseInt(ue[2]),ee=parseInt(ue[3]),ce=parseFloat(ue[4]);else{if(ce=1,typeof $=="string"&&$.charAt(0)!=="#"){var ge=new HB($);$=ge.ok?ge.toHex():"#000000"}$.length===4?(K=$.substring(1,2),K+=K,J=$.substring(2,3),J+=J,ee=$.substring(3,4),ee+=ee):(K=$.substring(1,3),J=$.substring(3,5),ee=$.substring(5,7)),K=parseInt(K,16),J=parseInt(J,16),ee=parseInt(ee,16)}}return{r:K,g:J,b:ee,a:ce,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function($,K,J,ee){if(isNaN(K)||isNaN(J)||typeof $!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!p.call(this)){var ce=X(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;D.call(this,{text:$,x:K,y:J,scale:ue,angle:ce,align:this.textAlign,maxWidth:ee})}},f.prototype.strokeText=function($,K,J,ee){if(isNaN(K)||isNaN(J)||typeof $!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ee=isNaN(ee)?void 0:ee;var ce=X(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;D.call(this,{text:$,x:K,y:J,scale:ue,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:ee})}},f.prototype.measureText=function($){if(typeof $!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,J=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),ce=K.getStringUnitWidth($)*ee/K.internal.scaleFactor,ue=function(ge){var ye=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new ue({width:ce*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function($,K){if(isNaN($)||isNaN(K))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l($,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function($){if(isNaN($))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},f.prototype.translate=function($,K){if(isNaN($)||isNaN(K))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,$,K);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function($,K,J,ee,ce,ue){if(isNaN($)||isNaN(K)||isNaN(J)||isNaN(ee)||isNaN(ce)||isNaN(ue))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l($,K,J,ee,ce,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},f.prototype.setTransform=function($,K,J,ee,ce,ue){$=isNaN($)?1:$,K=isNaN(K)?0:K,J=isNaN(J)?0:J,ee=isNaN(ee)?1:ee,ce=isNaN(ce)?0:ce,ue=isNaN(ue)?0:ue,this.ctx.transform=new l($,K,J,ee,ce,ue)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function($,K,J,ee,ce,ue,ge,ye,Se){var Ae=this.pdf.getImageProperties($),je=1,$e=1,st=1,we=1;ee!==void 0&&ye!==void 0&&(st=ye/ee,we=Se/ce,je=Ae.width/ee*ye/ee,$e=Ae.height/ce*Se/ce),ue===void 0&&(ue=K,ge=J,K=0,J=0),ee!==void 0&&ye===void 0&&(ye=ee,Se=ce),ee===void 0&&ye===void 0&&(ye=Ae.width,Se=Ae.height);for(var pe,qe=this.ctx.transform.decompose(),Fe=X(qe.rotate.shx),Oe=new l,Ie=(Oe=(Oe=(Oe=Oe.multiply(qe.translate)).multiply(qe.skew)).multiply(qe.scale)).applyToRectangle(new a(ue-K*st,ge-J*we,ee*je,ce*$e)),Ge=b.call(this,Ie),le=[],be=0;be<Ge.length;be+=1)le.indexOf(Ge[be])===-1&&le.push(Ge[be]);if(_(le),this.autoPaging)for(var _e=le[0],Ke=le[le.length-1],ze=_e;ze<Ke+1;ze++){this.pdf.setPage(ze);var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=ze===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ze===1?0:ht+(ze-2)*vt;if(this.ctx.clip_path.length!==0){var jt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(pe,this.posX+this.margin[3],-it+nt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=jt}var qt=JSON.parse(JSON.stringify(Ie));qt=E([qt],this.posX+this.margin[3],-it+nt+this.ctx.prevPageLastElemOffset)[0];var Qn=(ze>_e||ze<Ke)&&v.call(this);Qn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,vt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,Fe),Qn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Fe)};var b=function($,K,J){var ee=[];K=K||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":ee.push(Math.floor(($.y+ce)/J)+1);break;case"arc":ee.push(Math.floor(($.y+ce-$.radius)/J)+1),ee.push(Math.floor(($.y+ce+$.radius)/J)+1);break;case"qct":var ue=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);ee.push(Math.floor((ue.y+ce)/J)+1),ee.push(Math.floor((ue.y+ue.h+ce)/J)+1);break;case"bct":var ge=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);ee.push(Math.floor((ge.y+ce)/J)+1),ee.push(Math.floor((ge.y+ge.h+ce)/J)+1);break;case"rect":ee.push(Math.floor(($.y+ce)/J)+1),ee.push(Math.floor(($.y+$.h+ce)/J)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)S.call(this);return ee},S=function(){var $=this.fillStyle,K=this.strokeStyle,J=this.font,ee=this.lineCap,ce=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=K,this.font=J,this.lineCap=ee,this.lineWidth=ce,this.lineJoin=ue},E=function($,K,J){for(var ee=0;ee<$.length;ee++)switch($[ee].type){case"bct":$[ee].x2+=K,$[ee].y2+=J;case"qct":$[ee].x1+=K,$[ee].y1+=J;case"mt":case"lt":case"arc":default:$[ee].x+=K,$[ee].y+=J}return $},_=function($){return $.sort(function(K,J){return K-J})},R=function($,K){for(var J,ee,ce=this.fillStyle,ue=this.strokeStyle,ge=this.lineCap,ye=this.lineWidth,Se=Math.abs(ye*this.ctx.transform.scaleX),Ae=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),st=[],we=0;we<$e.length;we++)if($e[we].x!==void 0)for(var pe=b.call(this,$e[we]),qe=0;qe<pe.length;qe+=1)st.indexOf(pe[qe])===-1&&st.push(pe[qe]);for(var Fe=0;Fe<st.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<st[Fe];)S.call(this);if(_(st),this.autoPaging)for(var Oe=st[0],Ie=st[st.length-1],Ge=Oe;Ge<Ie+1;Ge++){this.pdf.setPage(Ge),this.fillStyle=ce,this.strokeStyle=ue,this.lineCap=ge,this.lineWidth=Se,this.lineJoin=Ae;var le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],be=Ge===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Ge===1?0:_e+(Ge-2)*Ke;if(this.ctx.clip_path.length!==0){var Ue=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(J,this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset),B.call(this,$,!0),this.path=Ue}if(ee=JSON.parse(JSON.stringify(je)),this.path=E(ee,this.posX+this.margin[3],-ze+be+this.ctx.prevPageLastElemOffset),K===!1||Ge===0){var nt=(Ge>Oe||Ge<Ie)&&v.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],le,Ke,null).clip().discardPath()),B.call(this,$,K),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Se,B.call(this,$,K),this.lineWidth=ye;this.path=je},B=function($,K){if(($!=="stroke"||K||!g.call(this))&&($==="stroke"||K||!p.call(this))){for(var J,ee,ce=[],ue=this.path,ge=0;ge<ue.length;ge++){var ye=ue[ge];switch(ye.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ye,deltas:[],abs:[]});break;case"lt":var Se=ce.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(J=[ye.x-ue[ge-1].x,ye.y-ue[ge-1].y],Se>0)){for(;Se>=0;Se--)if(ce[Se-1].close!==!0&&ce[Se-1].begin!==!0){ce[Se-1].deltas.push(J),ce[Se-1].abs.push(ye);break}}break;case"bct":J=[ye.x1-ue[ge-1].x,ye.y1-ue[ge-1].y,ye.x2-ue[ge-1].x,ye.y2-ue[ge-1].y,ye.x-ue[ge-1].x,ye.y-ue[ge-1].y],ce[ce.length-1].deltas.push(J);break;case"qct":var Ae=ue[ge-1].x+2/3*(ye.x1-ue[ge-1].x),je=ue[ge-1].y+2/3*(ye.y1-ue[ge-1].y),$e=ye.x+2/3*(ye.x1-ye.x),st=ye.y+2/3*(ye.y1-ye.y),we=ye.x,pe=ye.y;J=[Ae-ue[ge-1].x,je-ue[ge-1].y,$e-ue[ge-1].x,st-ue[ge-1].y,we-ue[ge-1].x,pe-ue[ge-1].y],ce[ce.length-1].deltas.push(J);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ye)}}ee=K?null:$==="stroke"?"stroke":"fill";for(var qe=!1,Fe=0;Fe<ce.length;Fe++)if(ce[Fe].arc)for(var Oe=ce[Fe].abs,Ie=0;Ie<Oe.length;Ie++){var Ge=Oe[Ie];Ge.type==="arc"?C.call(this,Ge.x,Ge.y,Ge.radius,Ge.startAngle,Ge.endAngle,Ge.counterclockwise,void 0,K,!qe):L.call(this,Ge.x,Ge.y),qe=!0}else if(ce[Fe].close===!0)this.pdf.internal.out("h"),qe=!1;else if(ce[Fe].begin!==!0){var le=ce[Fe].start.x,be=ce[Fe].start.y;W.call(this,ce[Fe].deltas,le,be),qe=!0}ee&&I.call(this,ee),K&&P.call(this)}},U=function($){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-J;case"top":return $+K-J;case"hanging":return $+K-2*J;case"middle":return $+K/2-J;case"ideographic":return $;case"alphabetic":default:return $}},O=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(K,J){this.colorStops.push([K,J])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function($,K,J,ee,ce,ue,ge,ye,Se){for(var Ae=oe.call(this,J,ee,ce,ue),je=0;je<Ae.length;je++){var $e=Ae[je];je===0&&(Se?N.call(this,$e.x1+$,$e.y1+K):L.call(this,$e.x1+$,$e.y1+K)),ie.call(this,$,K,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}ye?P.call(this):I.call(this,ge)},I=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},N=function($,K){this.pdf.internal.out(t($)+" "+r(K)+" m")},D=function($){var K;switch($.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var J=this.pdf.getTextDimensions($.text),ee=U.call(this,$.y),ce=O.call(this,ee)-J.h,ue=this.ctx.transform.applyToPoint(new o($.x,ee)),ge=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Se,Ae,je,$e=this.ctx.transform.applyToRectangle(new a($.x,ee,J.w,J.h)),st=ye.applyToRectangle(new a($.x,ce,J.w,J.h)),we=b.call(this,st),pe=[],qe=0;qe<we.length;qe+=1)pe.indexOf(we[qe])===-1&&pe.push(we[qe]);if(_(pe),this.autoPaging)for(var Fe=pe[0],Oe=pe[pe.length-1],Ie=Fe;Ie<Oe+1;Ie++){this.pdf.setPage(Ie);var Ge=Ie===1?this.posY+this.margin[0]:this.margin[0],le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],be=this.pdf.internal.pageSize.height-this.margin[2],_e=be-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],ze=Ke-this.margin[3],Ue=Ie===1?0:le+(Ie-2)*_e;if(this.ctx.clip_path.length!==0){var nt=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Se,this.posX+this.margin[3],-1*Ue+Ge),B.call(this,"fill",!0),this.path=nt}var ht=E([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-Ue+Ge+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*$.scale),je=this.lineWidth,this.lineWidth=je*$.scale);var vt=this.autoPaging!=="text";if(vt||ht.y+ht.h<=be){if(vt||ht.y>=Ge&&ht.x<=Ke){var it=vt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Ke-ht.x)[0],jt=E([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-Ue+Ge+this.ctx.prevPageLastElemOffset)[0],qt=vt&&(Ie>Fe||Ie<Oe)&&v.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,_e,null).clip().discardPath()),this.pdf.text(it,jt.x,jt.y,{angle:$.angle,align:K,renderingMode:$.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else ht.y<be&&(this.ctx.prevPageLastElemOffset+=be-ht.y);$.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=je)}else $.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*$.scale),je=this.lineWidth,this.lineWidth=je*$.scale),this.pdf.text($.text,ue.x+this.posX,ue.y+this.posY,{angle:$.angle,align:K,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=je)},L=function($,K,J,ee){J=J||0,ee=ee||0,this.pdf.internal.out(t($+J)+" "+r(K+ee)+" l")},W=function($,K,J){return this.pdf.lines($,K,J,null,null)},ie=function($,K,J,ee,ce,ue,ge,ye){this.pdf.internal.out([e(i(J+$)),e(s(ee+K)),e(i(ce+$)),e(s(ue+K)),e(i(ge+$)),e(s(ye+K)),"c"].join(" "))},oe=function($,K,J,ee){for(var ce=2*Math.PI,ue=Math.PI/2;K>J;)K-=ce;var ge=Math.abs(J-K);ge<ce&&ee&&(ge=ce-ge);for(var ye=[],Se=ee?-1:1,Ae=K;ge>1e-5;){var je=Ae+Se*Math.min(ge,ue);ye.push(re.call(this,$,Ae,je)),ge-=Math.abs(je-Ae),Ae=je}return ye},re=function($,K,J){var ee=(J-K)/2,ce=$*Math.cos(ee),ue=$*Math.sin(ee),ge=ce,ye=-ue,Se=ge*ge+ye*ye,Ae=Se+ge*ce+ye*ue,je=4/3*(Math.sqrt(2*Se*Ae)-Ae)/(ge*ue-ye*ce),$e=ge-je*ye,st=ye+je*ge,we=$e,pe=-st,qe=ee+K,Fe=Math.cos(qe),Oe=Math.sin(qe);return{x1:$*Math.cos(K),y1:$*Math.sin(K),x2:$e*Fe-st*Oe,y2:$e*Oe+st*Fe,x3:we*Fe-pe*Oe,y3:we*Oe+pe*Fe,x4:$*Math.cos(J),y4:$*Math.sin(J)}},X=function($){return 180*$/Math.PI},de=function($,K,J,ee,ce,ue){var ge=$+.5*(J-$),ye=K+.5*(ee-K),Se=ce+.5*(J-ce),Ae=ue+.5*(ee-ue),je=Math.min($,ce,ge,Se),$e=Math.max($,ce,ge,Se),st=Math.min(K,ue,ye,Ae),we=Math.max(K,ue,ye,Ae);return new a(je,st,$e-je,we-st)},ae=function($,K,J,ee,ce,ue,ge,ye){var Se,Ae,je,$e,st,we,pe,qe,Fe,Oe,Ie,Ge,le,be,_e=J-$,Ke=ee-K,ze=ce-J,Ue=ue-ee,nt=ge-ce,ht=ye-ue;for(Ae=0;Ae<41;Ae++)Fe=(pe=(je=$+(Se=Ae/40)*_e)+Se*((st=J+Se*ze)-je))+Se*(st+Se*(ce+Se*nt-st)-pe),Oe=(qe=($e=K+Se*Ke)+Se*((we=ee+Se*Ue)-$e))+Se*(we+Se*(ue+Se*ht-we)-qe),Ae==0?(Ie=Fe,Ge=Oe,le=Fe,be=Oe):(Ie=Math.min(Ie,Fe),Ge=Math.min(Ge,Oe),le=Math.max(le,Fe),be=Math.max(be,Oe));return new a(Math.round(Ie),Math.round(Ge),Math.round(le-Ie),Math.round(be-Ge))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,K,J=($=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:K}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ut.API),function(n){var e=function(s){var o,a,l,c,u,f,m,p,g,v;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(v=u%85))/85)-(g=u%85))/85)-(p=u%85))/85)-(m=u%85))/85)%85,a.push(f+33,m+33,p+33,g+33,v+33)):a.push(122);return function(b,S){for(var E=S;E>0;E--)b.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},t=function(s){var o,a,l,c,u,f=String,m="length",p=255,g="charCodeAt",v="slice",b="replace";for(s[v](-2),s=s[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[v](s[m]%5||5))[m];u>c;c+=5)a=52200625*(s[g](c)-33)+614125*(s[g](c+1)-33)+7225*(s[g](c+2)-33)+85*(s[g](c+3)-33)+(s[g](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(S,E){for(var _=E;_>0;_--)S.pop()}(l,o[m]),f.fromCharCode.apply(f,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=bC(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ut.API),function(n){n.loadFile=function(e,t,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var f=new XMLHttpRequest,m=0,p=function(g){var v=g.length,b=[],S=String.fromCharCode;for(m=0;m<v;m+=1)b.push(S(255&g.charCodeAt(m)));return b.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(i,s,o)}catch{}return a}(e,t,r)},n.loadImageFile=n.loadFile}(Ut.API),function(n){function e(){return(Ht.html2canvas?Promise.resolve(Ht.html2canvas):mC(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Ht.DOMPurify?Promise.resolve(Ht.DOMPurify):mC(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=tr(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var m=0;m<c.length;++m){var p=c[m],g=p.src.find(function(v){return v.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),a(this.prop.container,f)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ut.getPageSize=function(o,a,l){if(tr(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var p,g=0,v=0;if(m.hasOwnProperty(f))g=m[f][1]/u,v=m[f][0]/u;else try{g=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>g&&(p=v,v=g,g=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>v&&(p=v,v=g,g=p)}return{width:v,height:g,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(_C):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Ut.API),Ut.API.addJS=function(n){return wD=n,this.internal.events.subscribe("postPutResources",function(){jy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bD=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wD+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jy!==void 0&&bD!==void 0&&this.internal.out("/Names <</JavaScript "+jy+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=t.internal.newObject();u.push(f);var m=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ut.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,v={width:0,height:0,numcomponents:1},b=4;b<g;b+=2){if(b+=p,e.indexOf(f.charCodeAt(b+1))!==-1){m=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),v={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:m,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return v}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:t,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ut.API);var Ep,By,SD,ED,CD,Sme=function(){var n,e,t;function r(s){var o,a,l,c,u,f,m,p,g,v,b,S,E,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),g=(function(){var R,B;for(B=[],R=0;R<4;++R)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,S=0;0<=o?S<o:S>o;0<=o?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(E=0;0<=v?E<v:E>v;0<=v?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(b=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,b.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,b.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(f,m,p,g){var v,b,S,E,_,R,B,U,O,C,I,P,N,D,L,W,ie,oe,re,X,de,ae=Math.ceil((c.width-f)/p),Y=Math.ceil((c.height-m)/g),$=c.width==ae&&c.height==Y;for(D=o*ae,P=$?a:new Uint8Array(D*Y),R=s.length,N=0,b=0;N<Y&&l<R;){switch(s[l++]){case 0:for(E=ie=0;ie<D;E=ie+=1)P[b++]=s[l++];break;case 1:for(E=oe=0;oe<D;E=oe+=1)v=s[l++],_=E<o?0:P[b-o],P[b++]=(v+_)%256;break;case 2:for(E=re=0;re<D;E=re+=1)v=s[l++],S=(E-E%o)/o,L=N&&P[(N-1)*D+S*o+E%o],P[b++]=(L+v)%256;break;case 3:for(E=X=0;X<D;E=X+=1)v=s[l++],S=(E-E%o)/o,_=E<o?0:P[b-o],L=N&&P[(N-1)*D+S*o+E%o],P[b++]=(v+Math.floor((_+L)/2))%256;break;case 4:for(E=de=0;de<D;E=de+=1)v=s[l++],S=(E-E%o)/o,_=E<o?0:P[b-o],N===0?L=W=0:(L=P[(N-1)*D+S*o+E%o],W=S&&P[(N-1)*D+(S-1)*o+E%o]),B=_+L-W,U=Math.abs(B-_),C=Math.abs(B-L),I=Math.abs(B-W),O=U<=C&&U<=I?_:C<=I?L:W,P[b++]=(v+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!$){var K=((m+N*g)*c.width+f)*o,J=N*D;for(E=0;E<ae;E+=1){for(var ee=0;ee<o;ee+=1)a[K++]=P[J++];K+=(p-1)*o}}N++}}return s=eme(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,f,m,p;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=f=0,m=a.length;f<m;o=f+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=u[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,f,m,p,g,v,b,S;if(l=this.colors,v=null,a=this.hasAlphaChannel,this.palette.length&&(v=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),l=4,a=!0),g=(c=s.data||s).length,f=v||o,u=m=0,l===1)for(;u<g;)p=v?4*o[u/4]:m,b=f[p++],c[u++]=b,c[u++]=b,c[u++]=b,c[u++]=a?f[p++]:255,m=p;else for(;u<g;)p=v?4*o[u/4]:m,c[u++]=f[p++],c[u++]=f[p++],c[u++]=f[p++],c[u++]=a?f[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ht)==="[object Window]"){try{e=Ht.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,f,m,p;if(this.animation){for(p=[],a=u=0,f=(m=this.animation.frames).length;u<f;a=++u)o=m[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=n(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,f,m=this;return a=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(o=function(){var p,g;if(p=a++%c,g=l[p],m.renderFrame(s,p),c>1&&a/c<u)return m.animation._timeout=setTimeout(o,g.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Eme(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],f=0,m=null,p=0,g=null;for(this.width=t,this.height=r;c&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,g=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=n[e++];f=n[e++]|n[e++]<<8,m=n[e++],(1&v)==0&&(m=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var b=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,E=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,R=n[e++],B=R>>6&1,U=1<<(7&R)+1,O=a,C=l,I=!1;R>>7&&(I=!0,O=e,C=U,e+=3*U);var P=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x:b,y:S,width:E,height:_,has_local_palette:I,palette_offset:O,palette_size:C,data_offset:P,data_length:e-P,transparent_index:m,interlaced:!!B,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,L){var W=this.frameInfo(D),ie=W.width*W.height,oe=new Uint8Array(ie);AD(n,W.data_offset,oe,ie);var re=W.palette_offset,X=W.transparent_index;X===null&&(X=256);var de=W.width,ae=t-de,Y=de,$=4*(W.y*t+W.x),K=4*((W.y+W.height)*t+W.x),J=$,ee=4*ae;W.interlaced===!0&&(ee+=4*t*7);for(var ce=8,ue=0,ge=oe.length;ue<ge;++ue){var ye=oe[ue];if(Y===0&&(Y=de,(J+=ee)>=K&&(ee=4*ae+4*t*(ce-1),J=$+(de+ae)*(ce<<1),ce>>=1)),ye===X)J+=4;else{var Se=n[re+3*ye],Ae=n[re+3*ye+1],je=n[re+3*ye+2];L[J++]=je,L[J++]=Ae,L[J++]=Se,L[J++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(D,L){var W=this.frameInfo(D),ie=W.width*W.height,oe=new Uint8Array(ie);AD(n,W.data_offset,oe,ie);var re=W.palette_offset,X=W.transparent_index;X===null&&(X=256);var de=W.width,ae=t-de,Y=de,$=4*(W.y*t+W.x),K=4*((W.y+W.height)*t+W.x),J=$,ee=4*ae;W.interlaced===!0&&(ee+=4*t*7);for(var ce=8,ue=0,ge=oe.length;ue<ge;++ue){var ye=oe[ue];if(Y===0&&(Y=de,(J+=ee)>=K&&(ee=4*ae+4*t*(ce-1),J=$+(de+ae)*(ce<<1),ce>>=1)),ye===X)J+=4;else{var Se=n[re+3*ye],Ae=n[re+3*ye+1],je=n[re+3*ye+2];L[J++]=Se,L[J++]=Ae,L[J++]=je,L[J++]=255}--Y}}}function AD(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,f=0,m=0,p=n[e++],g=new Int32Array(4096),v=null;;){for(;u<16&&p!==0;)f|=n[e++]<<u,u+=8,p===1?p=n[e++]:--p;if(u<l)break;var b=f&c;if(f>>=l,u-=l,b!==s){if(b===o)break;for(var S=b<a?b:v,E=0,_=S;_>s;)_=g[_]>>8,++E;var R=_;if(m+E+(S!==b?1:0)>r)return void sr.log("Warning, gif stream longer than expected.");t[m++]=R;var B=m+=E;for(S!==b&&(t[m++]=R),_=S;E--;)_=g[_],t[--B]=255&_,_>>=8;v!==null&&a<4096&&(g[a++]=v<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),v=b}else a=o+1,c=(1<<(l=i+1))-1,v=null}return m!==r&&sr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function G5(n){var e,t,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),g=new Array(64),v=[],b=0,S=7,E=new Array(64),_=new Array(64),R=new Array(64),B=new Array(256),U=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ie=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe($,K){for(var J=0,ee=0,ce=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=$[ue];ge++)ce[K[ee]]=[],ce[K[ee]][0]=J,ce[K[ee]][1]=ue,ee++,J++;J*=2}return ce}function re($){for(var K=$[0],J=$[1]-1;J>=0;)K&1<<J&&(b|=1<<S),J--,--S<0&&(b==255?(X(255),X(0)):X(b),S=7,b=0)}function X($){v.push($)}function de($){X($>>8&255),X(255&$)}function ae($,K,J,ee,ce){for(var ue,ge=ce[0],ye=ce[240],Se=function(Oe,Ie){var Ge,le,be,_e,Ke,ze,Ue,nt,ht,vt,it=0;for(ht=0;ht<8;++ht){Ge=Oe[it],le=Oe[it+1],be=Oe[it+2],_e=Oe[it+3],Ke=Oe[it+4],ze=Oe[it+5],Ue=Oe[it+6];var jt=Ge+(nt=Oe[it+7]),qt=Ge-nt,Qn=le+Ue,Kt=le-Ue,un=be+ze,xr=be-ze,Xt=_e+Ke,vi=_e-Ke,Tn=jt+Xt,nr=jt-Xt,hn=Qn+un,rn=Qn-un;Oe[it]=Tn+hn,Oe[it+4]=Tn-hn;var Et=.707106781*(rn+nr);Oe[it+2]=nr+Et,Oe[it+6]=nr-Et;var Jt=.382683433*((Tn=vi+xr)-(rn=Kt+qt)),$n=.5411961*Tn+Jt,pn=1.306562965*rn+Jt,Rn=.707106781*(hn=xr+Kt),ar=qt+Rn,gt=qt-Rn;Oe[it+5]=gt+$n,Oe[it+3]=gt-$n,Oe[it+1]=ar+pn,Oe[it+7]=ar-pn,it+=8}for(it=0,ht=0;ht<8;++ht){Ge=Oe[it],le=Oe[it+8],be=Oe[it+16],_e=Oe[it+24],Ke=Oe[it+32],ze=Oe[it+40],Ue=Oe[it+48];var Gn=Ge+(nt=Oe[it+56]),Qt=Ge-nt,dn=le+Ue,bn=le-Ue,Cn=be+ze,kn=be-ze,xi=_e+Ke,Wi=_e-Ke,bi=Gn+xi,ms=Gn-xi,Tr=dn+Cn,wi=dn-Cn;Oe[it]=bi+Tr,Oe[it+32]=bi-Tr;var br=.707106781*(wi+ms);Oe[it+16]=ms+br,Oe[it+48]=ms-br;var Ws=.382683433*((bi=Wi+kn)-(wi=bn+Qt)),zo=.5411961*bi+Ws,Uo=1.306562965*wi+Ws,qo=.707106781*(Tr=kn+bn),fa=Qt+qo,Xa=Qt-qo;Oe[it+40]=Xa+zo,Oe[it+24]=Xa-zo,Oe[it+8]=fa+Uo,Oe[it+56]=fa-Uo,it++}for(ht=0;ht<64;++ht)vt=Oe[ht]*Ie[ht],p[ht]=vt>0?vt+.5|0:vt-.5|0;return p}($,K),Ae=0;Ae<64;++Ae)g[O[Ae]]=Se[Ae];var je=g[0]-J;J=g[0],je==0?re(ee[0]):(re(ee[m[ue=32767+je]]),re(f[ue]));for(var $e=63;$e>0&&g[$e]==0;)$e--;if($e==0)return re(ge),J;for(var st,we=1;we<=$e;){for(var pe=we;g[we]==0&&we<=$e;)++we;var qe=we-pe;if(qe>=16){st=qe>>4;for(var Fe=1;Fe<=st;++Fe)re(ye);qe&=15}ue=32767+g[we],re(ce[(qe<<4)+m[ue]]),re(f[ue]),we++}return $e!=63&&re(ge),J}function Y($){$=Math.min(Math.max($,1),100),s!=$&&(function(K){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ce=o((J[ee]*K+50)/100);ce=Math.min(Math.max(ce,1),255),a[O[ee]]=ce}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ye=o((ue[ge]*K+50)/100);ye=Math.min(Math.max(ye,1),255),l[O[ge]]=ye}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,je=0;je<8;je++)for(var $e=0;$e<8;$e++)c[Ae]=1/(a[O[Ae]]*Se[je]*Se[$e]*8),u[Ae]=1/(l[O[Ae]]*Se[je]*Se[$e]*8),Ae++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),s=$)}this.encode=function($,K){K&&Y(K),v=new Array,b=0,S=7,de(65496),de(65504),de(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),de(1),de(1),X(0),X(0),function(){de(65499),de(132),X(0);for(var le=0;le<64;le++)X(a[le]);X(1);for(var be=0;be<64;be++)X(l[be])}(),function(le,be){de(65472),de(17),X(8),de(be),de(le),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}($.width,$.height),function(){de(65476),de(418),X(0);for(var le=0;le<16;le++)X(C[le+1]);for(var be=0;be<=11;be++)X(I[be]);X(16);for(var _e=0;_e<16;_e++)X(P[_e+1]);for(var Ke=0;Ke<=161;Ke++)X(N[Ke]);X(1);for(var ze=0;ze<16;ze++)X(D[ze+1]);for(var Ue=0;Ue<=11;Ue++)X(L[Ue]);X(17);for(var nt=0;nt<16;nt++)X(W[nt+1]);for(var ht=0;ht<=161;ht++)X(ie[ht])}(),de(65498),de(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var J=0,ee=0,ce=0;b=0,S=7,this.encode.displayName="_encode_";for(var ue,ge,ye,Se,Ae,je,$e,st,we,pe=$.data,qe=$.width,Fe=$.height,Oe=4*qe,Ie=0;Ie<Fe;){for(ue=0;ue<Oe;){for(Ae=Oe*Ie+ue,$e=-1,st=0,we=0;we<64;we++)je=Ae+(st=we>>3)*Oe+($e=4*(7&we)),Ie+st>=Fe&&(je-=Oe*(Ie+1+st-Fe)),ue+$e>=Oe&&(je-=ue+$e-Oe+4),ge=pe[je++],ye=pe[je++],Se=pe[je++],E[we]=(U[ge]+U[ye+256>>0]+U[Se+512>>0]>>16)-128,_[we]=(U[ge+768>>0]+U[ye+1024>>0]+U[Se+1280>>0]>>16)-128,R[we]=(U[ge+1280>>0]+U[ye+1536>>0]+U[Se+1792>>0]>>16)-128;J=ae(E,c,J,e,r),ee=ae(_,u,ee,t,i),ce=ae(R,u,ce,t,i),ue+=32}Ie+=8}if(S>=0){var Ge=[];Ge[1]=S+1,Ge[0]=(1<<S+1)-1,re(Ge)}return de(65497),new Uint8Array(v)},n=n||50,function(){for(var $=String.fromCharCode,K=0;K<256;K++)B[K]=$(K)}(),e=oe(C,I),t=oe(D,L),r=oe(P,N),i=oe(W,ie),function(){for(var $=1,K=2,J=1;J<=15;J++){for(var ee=$;ee<K;ee++)m[32767+ee]=J,f[32767+ee]=[],f[32767+ee][1]=J,f[32767+ee][0]=ee;for(var ce=-(K-1);ce<=-$;ce++)m[32767+ce]=J,f[32767+ce]=[],f[32767+ce][1]=J,f[32767+ce][0]=K-1+ce;$<<=1,K<<=1}}(),function(){for(var $=0;$<256;$++)U[$]=19595*$,U[$+256>>0]=38470*$,U[$+512>>0]=7471*$+32768,U[$+768>>0]=-11059*$,U[$+1024>>0]=-21709*$,U[$+1280>>0]=32768*$+8421375,U[$+1536>>0]=-27439*$,U[$+1792>>0]=-5329*$}(),Y(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _D(n){function e(C){if(!C)throw Error("assert :P")}function t(C,I,P){for(var N=0;4>N;N++)if(C[I+N]!=P.charCodeAt(N))return!0;return!1}function r(C,I,P,N,D){for(var L=0;L<D;L++)C[I+L]=P[N+L]}function i(C,I,P,N){for(var D=0;D<N;D++)C[I+D]=P}function s(C){return new Int32Array(C)}function o(C,I){for(var P=[],N=0;N<C;N++)P.push(new I);return P}function a(C,I){var P=[];return function N(D,L,W){for(var ie=W[L],oe=0;oe<ie&&(D.push(W.length>L+1?[]:new I),!(W.length<L+1));oe++)N(D[oe],L+1,W)}(P,0,C),P}var l=function(){var C=this;function I(x,k){for(var V=1<<k-1>>>0;x&V;)V>>>=1;return V?(x&V-1)+V:x}function P(x,k,V,H,Q){e(!(H%V));do x[k+(H-=V)]=Q;while(0<H)}function N(x,k,V,H,Q){if(e(2328>=Q),512>=Q)var te=s(512);else if((te=s(Q))==null)return 0;return function(se,fe,me,ve,Te,Be){var Ve,Le,rt=fe,Je=1<<me,Ne=s(16),Pe=s(16);for(e(Te!=0),e(ve!=null),e(se!=null),e(0<me),Le=0;Le<Te;++Le){if(15<ve[Le])return 0;++Ne[ve[Le]]}if(Ne[0]==Te)return 0;for(Pe[1]=0,Ve=1;15>Ve;++Ve){if(Ne[Ve]>1<<Ve)return 0;Pe[Ve+1]=Pe[Ve]+Ne[Ve]}for(Le=0;Le<Te;++Le)Ve=ve[Le],0<ve[Le]&&(Be[Pe[Ve]++]=Le);if(Pe[15]==1)return(ve=new D).g=0,ve.value=Be[0],P(se,rt,1,Je,ve),Je;var et,Ze=-1,tt=Je-1,St=0,bt=1,Ot=1,wt=1<<me;for(Le=0,Ve=1,Te=2;Ve<=me;++Ve,Te<<=1){if(bt+=Ot<<=1,0>(Ot-=Ne[Ve]))return 0;for(;0<Ne[Ve];--Ne[Ve])(ve=new D).g=Ve,ve.value=Be[Le++],P(se,rt+St,Te,wt,ve),St=I(St,Ve)}for(Ve=me+1,Te=2;15>=Ve;++Ve,Te<<=1){if(bt+=Ot<<=1,0>(Ot-=Ne[Ve]))return 0;for(;0<Ne[Ve];--Ne[Ve]){if(ve=new D,(St&tt)!=Ze){for(rt+=wt,et=1<<(Ze=Ve)-me;15>Ze&&!(0>=(et-=Ne[Ze]));)++Ze,et<<=1;Je+=wt=1<<(et=Ze-me),se[fe+(Ze=St&tt)].g=et+me,se[fe+Ze].value=rt-fe-Ze}ve.g=Ve-me,ve.value=Be[Le++],P(se,rt+(St>>me),Te,wt,ve),St=I(St,Ve)}}return bt!=2*Pe[15]-1?0:Je}(x,k,V,H,Q,te)}function D(){this.value=this.g=0}function L(){this.value=this.g=0}function W(){this.G=o(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Er,L)}function ie(x,k,V,H){e(x!=null),e(k!=null),e(2147483648>H),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=V,x.Jd=k,x.Yc=V+H,x.Zc=4<=H?V+H-4+1:V,ue(x)}function oe(x,k){for(var V=0;0<k--;)V|=ye(x,128)<<k;return V}function re(x,k){var V=oe(x,k);return ge(x)?-V:V}function X(x,k,V,H){var Q,te=0;for(e(x!=null),e(k!=null),e(4294967288>H),x.Sb=H,x.Ra=0,x.u=0,x.h=0,4<H&&(H=4),Q=0;Q<H;++Q)te+=k[V+Q]<<8*Q;x.Ra=te,x.bb=H,x.oa=k,x.pa=V}function de(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<ed-8>>>0,++x.bb,x.u-=8;J(x)&&(x.h=1,x.u=0)}function ae(x,k){if(e(0<=k),!x.h&&k<=Zu){var V=K(x)&Qu[k];return x.u+=k,de(x),V}return x.h=1,x.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(x){return x.Ra>>>(x.u&ed-1)>>>0}function J(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>ed}function ee(x,k){x.u=k,x.h=J(x)}function ce(x){x.u>=td&&(e(x.u>=td),de(x))}function ue(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ge(x){return oe(x,1)}function ye(x,k){var V=x.Ca;0>x.b&&ue(x);var H=x.b,Q=V*k>>>8,te=(x.I>>>H>Q)+0;for(te?(V-=Q,x.I-=Q+1<<H>>>0):V=Q+1,H=V,Q=0;256<=H;)Q+=8,H>>=8;return H=7^Q+Ji[H],x.b-=H,x.Ca=(V<<H)-1,te}function Se(x,k,V){x[k+0]=V>>24&255,x[k+1]=V>>16&255,x[k+2]=V>>8&255,x[k+3]=V>>0&255}function Ae(x,k){return x[k+0]<<0|x[k+1]<<8}function je(x,k){return Ae(x,k)|x[k+2]<<16}function $e(x,k){return Ae(x,k)|Ae(x,k+2)<<16}function st(x,k){var V=1<<k;return e(x!=null),e(0<k),x.X=s(V),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function we(x,k){e(x!=null),e(k!=null),e(x.Xa==k.Xa),r(k.X,0,x.X,0,1<<k.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function qe(x,k,V,H){e(V!=null),e(H!=null);var Q=V[0],te=H[0];return Q==0&&(Q=(x*te+k/2)/k),te==0&&(te=(k*Q+x/2)/x),0>=Q||0>=te?0:(V[0]=Q,H[0]=te,1)}function Fe(x,k){return x+(1<<k)-1>>>k}function Oe(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function Ie(x,k){C[k]=function(V,H,Q,te,se,fe,me){var ve;for(ve=0;ve<se;++ve){var Te=C[x](fe[me+ve-1],Q,te+ve);fe[me+ve]=Oe(V[H+ve],Te)}}}function Ge(){this.ud=this.hd=this.jd=0}function le(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function be(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function _e(x,k){return be(x+(x-k+.5>>1))}function Ke(x,k,V){return Math.abs(k-V)-Math.abs(x-V)}function ze(x,k,V,H,Q,te,se){for(H=te[se-1],V=0;V<Q;++V)te[se+V]=H=Oe(x[k+V],H)}function Ue(x,k,V,H,Q){var te;for(te=0;te<V;++te){var se=x[k+te],fe=se>>8&255,me=16711935&(me=(me=16711935&se)+((fe<<16)+fe));H[Q+te]=(4278255360&se)+me>>>0}}function nt(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function ht(x,k,V,H,Q,te){var se;for(se=0;se<H;++se){var fe=k[V+se],me=fe>>>8,ve=fe,Te=255&(Te=(Te=fe>>>16)+((x.jd<<24>>24)*(me<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(me<<24>>24)>>>5))+((x.ud<<24>>24)*(Te<<24>>24)>>>5)),Q[te+se]=(4278255360&fe)+(Te<<16)+ve}}function vt(x,k,V,H,Q){C[k]=function(te,se,fe,me,ve,Te,Be,Ve,Le){for(me=Be;me<Ve;++me)for(Be=0;Be<Le;++Be)ve[Te++]=Q(fe[H(te[se++])])},C[x]=function(te,se,fe,me,ve,Te,Be){var Ve=8>>te.b,Le=te.Ea,rt=te.K[0],Je=te.w;if(8>Ve)for(te=(1<<te.b)-1,Je=(1<<Ve)-1;se<fe;++se){var Ne,Pe=0;for(Ne=0;Ne<Le;++Ne)Ne&te||(Pe=H(me[ve++])),Te[Be++]=Q(rt[Pe&Je]),Pe>>=Ve}else C["VP8LMapColor"+V](me,ve,rt,Je,Te,Be,se,fe,Le)}}function it(x,k,V,H,Q){for(V=k+V;k<V;){var te=x[k++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=te>>0&255}}function jt(x,k,V,H,Q){for(V=k+V;k<V;){var te=x[k++];H[Q++]=te>>16&255,H[Q++]=te>>8&255,H[Q++]=te>>0&255,H[Q++]=te>>24&255}}function qt(x,k,V,H,Q){for(V=k+V;k<V;){var te=(se=x[k++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;H[Q++]=te,H[Q++]=se}}function Qn(x,k,V,H,Q){for(V=k+V;k<V;){var te=(se=x[k++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;H[Q++]=te,H[Q++]=se}}function Kt(x,k,V,H,Q){for(V=k+V;k<V;){var te=x[k++];H[Q++]=te>>0&255,H[Q++]=te>>8&255,H[Q++]=te>>16&255}}function un(x,k,V,H,Q,te){if(te==0)for(V=k+V;k<V;)Se(H,((te=x[k++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Q+=32;else r(H,Q,x,k,V)}function xr(x,k){C[k][0]=C[x+"0"],C[k][1]=C[x+"1"],C[k][2]=C[x+"2"],C[k][3]=C[x+"3"],C[k][4]=C[x+"4"],C[k][5]=C[x+"5"],C[k][6]=C[x+"6"],C[k][7]=C[x+"7"],C[k][8]=C[x+"8"],C[k][9]=C[x+"9"],C[k][10]=C[x+"10"],C[k][11]=C[x+"11"],C[k][12]=C[x+"12"],C[k][13]=C[x+"13"],C[k][14]=C[x+"0"],C[k][15]=C[x+"0"]}function Xt(x){return x==ad||x==ou||x==Of||x==Mf}function vi(){this.eb=[],this.size=this.A=this.fb=0}function Tn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vi,this.f.kb=new Tn,this.sd=null}function hn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Jt(x,k){var V=x.T,H=k.ba.f.RGBA,Q=H.eb,te=H.fb+x.ka*H.A,se=ws[k.ba.S],fe=x.y,me=x.O,ve=x.f,Te=x.N,Be=x.ea,Ve=x.W,Le=k.cc,rt=k.dc,Je=k.Mc,Ne=k.Nc,Pe=x.ka,et=x.ka+x.T,Ze=x.U,tt=Ze+1>>1;for(Pe==0?se(fe,me,null,null,ve,Te,Be,Ve,ve,Te,Be,Ve,Q,te,null,null,Ze):(se(k.ec,k.fc,fe,me,Le,rt,Je,Ne,ve,Te,Be,Ve,Q,te-H.A,Q,te,Ze),++V);Pe+2<et;Pe+=2)Le=ve,rt=Te,Je=Be,Ne=Ve,Te+=x.Rc,Ve+=x.Rc,te+=2*H.A,se(fe,(me+=2*x.fa)-x.fa,fe,me,Le,rt,Je,Ne,ve,Te,Be,Ve,Q,te-H.A,Q,te,Ze);return me+=x.fa,x.j+et<x.o?(r(k.ec,k.fc,fe,me,Ze),r(k.cc,k.dc,ve,Te,tt),r(k.Mc,k.Nc,Be,Ve,tt),V--):1&et||se(fe,me,null,null,ve,Te,Be,Ve,ve,Te,Be,Ve,Q,te+H.A,null,null,Ze),V}function $n(x,k,V){var H=x.F,Q=[x.J];if(H!=null){var te=x.U,se=k.ba.S,fe=se==Lf||se==Of;k=k.ba.f.RGBA;var me=[0],ve=x.ka;me[0]=x.T,x.Kb&&(ve==0?--me[0]:(--ve,Q[0]-=x.width),x.j+x.ka+x.T==x.o&&(me[0]=x.o-x.j-ve));var Te=k.eb;ve=k.fb+ve*k.A,x=qn(H,Q[0],x.width,te,me,Te,ve+(fe?0:3),k.A),e(V==me),x&&Xt(se)&&xs(Te,ve,fe,te,me,k.A)}return 0}function pn(x){var k=x.ma,V=k.ba.S,H=11>V,Q=V==sc||V==Rf||V==Lf||V==er||V==12||Xt(V);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!Xu(k.Oa,x,Q?11:12))return 0;if(Q&&Xt(V)&&lt(),x.da)alert("todo:use_scaling");else{if(H){if(k.Ib=Et,x.Kb){if(V=x.U+1>>1,k.memory=s(x.U+2*V),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+V,k.Ib=Jt,lt()}}else alert("todo:EmitYUV");Q&&(k.Jb=$n,H&&Me())}if(H&&!di){for(x=0;256>x;++x)Ss[x]=89858*(x-128)+ea>>fl,Es[x]=-22014*(x-128)+ea,dd[x]=-45773*(x-128),uu[x]=113618*(x-128)+ea>>fl;for(x=Hn;x<Yn;++x)k=76283*(x-16)+ea>>fl,Zh[x-Hn]=Fn(k,255),L1[x-Hn]=Fn(k+8>>4,15);di=1}return 1}function Rn(x){var k=x.ma,V=x.U,H=x.T;return e(!(1&x.ka)),0>=V||0>=H?0:(V=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,V),k.Dc+=V,1)}function ar(x){x.ma.memory=null}function gt(x,k,V,H){return ae(x,8)!=47?0:(k[0]=ae(x,14)+1,V[0]=ae(x,14)+1,H[0]=ae(x,1),ae(x,3)!=0?0:!x.h)}function Gn(x,k){if(4>x)return x+1;var V=x-2>>1;return(2+(1&x)<<V)+ae(k,V)+1}function Qt(x,k){return 120<k?k-120:1<=(V=((V=Rb[k-1])>>4)*x+(8-(15&V)))?V:1;var V}function dn(x,k,V){var H=K(V),Q=x[k+=255&H].g-8;return 0<Q&&(ee(V,V.u+8),H=K(V),k+=x[k].value,k+=H&(1<<Q)-1),ee(V,V.u+x[k].g),x[k].value}function bn(x,k,V){return V.g+=x.g,V.value+=x.value<<k>>>0,e(8>=V.g),x.g}function Cn(x,k,V){var H=x.xc;return e((k=H==0?0:x.vc[x.md*(V>>H)+(k>>H)])<x.Wb),x.Ya[k]}function kn(x,k,V,H){var Q=x.ab,te=x.c*k,se=x.C;k=se+k;var fe=V,me=H;for(H=x.Ta,V=x.Ua;0<Q--;){var ve=x.gc[Q],Te=se,Be=k,Ve=fe,Le=me,rt=(me=H,fe=V,ve.Ea);switch(e(Te<Be),e(Be<=ve.nc),ve.hc){case 2:Kh(Ve,Le,(Be-Te)*rt,me,fe);break;case 0:var Je=Te,Ne=Be,Pe=me,et=fe,Ze=(wt=ve).Ea;Je==0&&(eu(Ve,Le,null,null,1,Pe,et),ze(Ve,Le+1,0,0,Ze-1,Pe,et+1),Le+=Ze,et+=Ze,++Je);for(var tt=1<<wt.b,St=tt-1,bt=Fe(Ze,wt.b),Ot=wt.K,wt=wt.w+(Je>>wt.b)*bt;Je<Ne;){var Pn=Ot,In=wt,wn=1;for(il(Ve,Le,Pe,et-Ze,1,Pe,et);wn<Ze;){var cn=(wn&~St)+tt;cn>Ze&&(cn=Ze),(0,Ca[Pn[In++]>>8&15])(Ve,Le+ +wn,Pe,et+wn-Ze,cn-wn,Pe,et+wn),wn=cn}Le+=Ze,et+=Ze,++Je&St||(wt+=bt)}Be!=ve.nc&&r(me,fe-rt,me,fe+(Be-Te-1)*rt,rt);break;case 1:for(rt=Ve,Ne=Le,Ze=(Ve=ve.Ea)-(et=Ve&~(Pe=(Le=1<<ve.b)-1)),Je=Fe(Ve,ve.b),tt=ve.K,ve=ve.w+(Te>>ve.b)*Je;Te<Be;){for(St=tt,bt=ve,Ot=new Ge,wt=Ne+et,Pn=Ne+Ve;Ne<wt;)nt(St[bt++],Ot),nc(Ot,rt,Ne,Le,me,fe),Ne+=Le,fe+=Le;Ne<Pn&&(nt(St[bt++],Ot),nc(Ot,rt,Ne,Ze,me,fe),Ne+=Ze,fe+=Ze),++Te&Pe||(ve+=Je)}break;case 3:if(Ve==me&&Le==fe&&0<ve.b){for(Ne=me,Ve=rt=fe+(Be-Te)*rt-(et=(Be-Te)*Fe(ve.Ea,ve.b)),Le=me,Pe=fe,Je=[],et=(Ze=et)-1;0<=et;--et)Je[et]=Le[Pe+et];for(et=Ze-1;0<=et;--et)Ne[Ve+et]=Je[et];Qi(ve,Te,Be,me,rt,me,fe)}else Qi(ve,Te,Be,Ve,Le,me,fe)}fe=H,me=V}me!=V&&r(H,V,fe,me,te)}function xi(x,k){var V=x.V,H=x.Ba+x.c*x.C,Q=k-x.C;if(e(k<=x.l.o),e(16>=Q),0<Q){var te=x.l,se=x.Ta,fe=x.Ua,me=te.width;if(kn(x,Q,V,H),Q=fe=[fe],e((V=x.C)<(H=k)),e(te.v<te.va),H>te.o&&(H=te.o),V<te.j){var ve=te.j-V;V=te.j,Q[0]+=ve*me}if(V>=H?V=0:(Q[0]+=4*te.v,te.ka=V-te.j,te.U=te.va-te.v,te.T=H-V,V=1),V){if(fe=fe[0],11>(V=x.ca).S){var Te=V.f.RGBA,Be=(H=V.S,Q=te.U,te=te.T,ve=Te.eb,Te.A),Ve=te;for(Te=Te.fb+x.Ma*Te.A;0<Ve--;){var Le=se,rt=fe,Je=Q,Ne=ve,Pe=Te;switch(H){case Yh:Zi(Le,rt,Je,Ne,Pe);break;case sc:Ai(Le,rt,Je,Ne,Pe);break;case ad:Ai(Le,rt,Je,Ne,Pe),xs(Ne,Pe,0,Je,1,0);break;case N1:ol(Le,rt,Je,Ne,Pe);break;case Rf:un(Le,rt,Je,Ne,Pe,1);break;case ou:un(Le,rt,Je,Ne,Pe,1),xs(Ne,Pe,0,Je,1,0);break;case Lf:un(Le,rt,Je,Ne,Pe,0);break;case Of:un(Le,rt,Je,Ne,Pe,0),xs(Ne,Pe,1,Je,1,0);break;case er:rc(Le,rt,Je,Ne,Pe);break;case Mf:rc(Le,rt,Je,Ne,Pe),Zn(Ne,Pe,Je,1,0);break;case Xh:sl(Le,rt,Je,Ne,Pe);break;default:e(0)}fe+=me,Te+=Be}x.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=V.height)}}x.C=k,e(x.C<=x.i)}function Wi(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var V=x.Ya[k].G,H=x.Ya[k].H;if(0<V[1][H[1]+0].g||0<V[2][H[2]+0].g||0<V[3][H[3]+0].g)return 0}return 1}function bi(x,k,V,H,Q,te){if(x.Z!=0){var se=x.qd,fe=x.rd;for(e(Ti[x.Z]!=null);k<V;++k)Ti[x.Z](se,fe,H,Q,H,Q,te),se=H,fe=Q,Q+=te;x.qd=se,x.rd=fe}}function ms(x,k){var V=x.l.ma,H=V.Z==0||V.Z==1?x.l.j:x.C;if(H=x.C<H?H:x.C,e(k<=x.l.o),k>H){var Q=x.l.width,te=V.ca,se=V.tb+Q*H,fe=x.V,me=x.Ba+x.c*H,ve=x.gc;e(x.ab==1),e(ve[0].hc==3),Pf(ve[0],H,k,fe,me,te,se),bi(V,H,k,te,se,Q)}x.C=x.Ma=k}function Tr(x,k,V,H,Q,te,se){var fe=x.$/H,me=x.$%H,ve=x.m,Te=x.s,Be=V+x.$,Ve=Be;Q=V+H*Q;var Le=V+H*te,rt=280+Te.ua,Je=x.Pb?fe:16777216,Ne=0<Te.ua?Te.Wa:null,Pe=Te.wc,et=Be<Le?Cn(Te,me,fe):null;e(x.C<te),e(Le<=Q);var Ze=!1;e:for(;;){for(;Ze||Be<Le;){var tt=0;if(fe>=Je){var St=Be-V;e((Je=x).Pb),Je.wd=Je.m,Je.xd=St,0<Je.s.ua&&we(Je.s.Wa,Je.s.vb),Je=fe+Qh}if(me&Pe||(et=Cn(Te,me,fe)),e(et!=null),et.Qb&&(k[Be]=et.qb,Ze=!0),!Ze)if(ce(ve),et.jc){tt=ve,St=k;var bt=Be,Ot=et.pd[K(tt)&Er-1];e(et.jc),256>Ot.g?(ee(tt,tt.u+Ot.g),St[bt]=Ot.value,tt=0):(ee(tt,tt.u+Ot.g-256),e(256<=Ot.value),tt=Ot.value),tt==0&&(Ze=!0)}else tt=dn(et.G[0],et.H[0],ve);if(ve.h)break;if(Ze||256>tt){if(!Ze)if(et.nd)k[Be]=(et.qb|tt<<8)>>>0;else{if(ce(ve),Ze=dn(et.G[1],et.H[1],ve),ce(ve),St=dn(et.G[2],et.H[2],ve),bt=dn(et.G[3],et.H[3],ve),ve.h)break;k[Be]=(bt<<24|Ze<<16|tt<<8|St)>>>0}if(Ze=!1,++Be,++me>=H&&(me=0,++fe,se!=null&&fe<=te&&!(fe%16)&&se(x,fe),Ne!=null))for(;Ve<Be;)tt=k[Ve++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt}else if(280>tt){if(tt=Gn(tt-256,ve),St=dn(et.G[4],et.H[4],ve),ce(ve),St=Qt(H,St=Gn(St,ve)),ve.h)break;if(Be-V<St||Q-Be<tt)break e;for(bt=0;bt<tt;++bt)k[Be+bt]=k[Be+bt-St];for(Be+=tt,me+=tt;me>=H;)me-=H,++fe,se!=null&&fe<=te&&!(fe%16)&&se(x,fe);if(e(Be<=Q),me&Pe&&(et=Cn(Te,me,fe)),Ne!=null)for(;Ve<Be;)tt=k[Ve++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt}else{if(!(tt<rt))break e;for(Ze=tt-280,e(Ne!=null);Ve<Be;)tt=k[Ve++],Ne.X[(506832829*tt&4294967295)>>>Ne.Mb]=tt;tt=Be,e(!(Ze>>>(St=Ne).Xa)),k[tt]=St.X[Ze],Ze=!0}Ze||e(ve.h==J(ve))}if(x.Pb&&ve.h&&Be<Q)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&we(x.s.vb,x.s.Wa);else{if(ve.h)break e;se!=null&&se(x,fe>te?te:fe),x.a=0,x.$=Be-V}return 1}return x.a=3,0}function wi(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,e(x!=null)}function br(){var x=new Yu;return x==null?null:(x.a=0,x.xb=cd,xr("Predictor","VP8LPredictors"),xr("Predictor","VP8LPredictors_C"),xr("PredictorAdd","VP8LPredictorsAdd"),xr("PredictorAdd","VP8LPredictorsAdd_C"),Kh=Ue,nc=ht,Zi=it,Ai=jt,rc=qt,sl=Qn,ol=Kt,C.VP8LMapColor32b=nd,C.VP8LMapColor8b=rd,x)}function Ws(x,k,V,H,Q){var te=1,se=[x],fe=[k],me=H.m,ve=H.s,Te=null,Be=0;e:for(;;){if(V)for(;te&&ae(me,1);){var Ve=se,Le=fe,rt=H,Je=1,Ne=rt.m,Pe=rt.gc[rt.ab],et=ae(Ne,2);if(rt.Oc&1<<et)te=0;else{switch(rt.Oc|=1<<et,Pe.hc=et,Pe.Ea=Ve[0],Pe.nc=Le[0],Pe.K=[null],++rt.ab,e(4>=rt.ab),et){case 0:case 1:Pe.b=ae(Ne,3)+2,Je=Ws(Fe(Pe.Ea,Pe.b),Fe(Pe.nc,Pe.b),0,rt,Pe.K),Pe.K=Pe.K[0];break;case 3:var Ze,tt=ae(Ne,8)+1,St=16<tt?0:4<tt?1:2<tt?2:3;if(Ve[0]=Fe(Pe.Ea,St),Pe.b=St,Ze=Je=Ws(tt,1,0,rt,Pe.K)){var bt,Ot=tt,wt=Pe,Pn=1<<(8>>wt.b),In=s(Pn);if(In==null)Ze=0;else{var wn=wt.K[0],cn=wt.w;for(In[0]=wt.K[0][0],bt=1;bt<1*Ot;++bt)In[bt]=Oe(wn[cn+bt],In[bt-1]);for(;bt<4*Pn;++bt)In[bt]=0;wt.K[0]=null,wt.K[0]=In,Ze=1}}Je=Ze;break;case 2:break;default:e(0)}te=Je}}if(se=se[0],fe=fe[0],te&&ae(me,1)&&!(te=1<=(Be=ae(me,4))&&11>=Be)){H.a=3;break e}var Wn;if(Wn=te)t:{var Xn,Yt,dr,ns=H,kr=se,zr=fe,jn=Be,ki=V,Ni=ns.m,fr=ns.s,Ur=[null],fi=1,Cs=0,To=I1[jn];n:for(;;){if(ki&&ae(Ni,1)){var hr=ae(Ni,3)+2,Or=Fe(kr,hr),eo=Fe(zr,hr),lc=Or*eo;if(!Ws(Or,eo,0,ns,Ur))break n;for(Ur=Ur[0],fr.xc=hr,Xn=0;Xn<lc;++Xn){var pl=Ur[Xn]>>8&65535;Ur[Xn]=pl,pl>=fi&&(fi=pl+1)}}if(Ni.h)break n;for(Yt=0;5>Yt;++Yt){var Bn=au[Yt];!Yt&&0<jn&&(Bn+=1<<jn),Cs<Bn&&(Cs=Bn)}var Na=o(fi*To,D),ep=fi,Q0=o(ep,W);if(Q0==null)var ko=null;else e(65536>=ep),ko=Q0;var No=s(Cs);if(ko==null||No==null||Na==null){ns.a=1;break n}var fu=Na;for(Xn=dr=0;Xn<fi;++Xn){var Po=ko[Xn],ml=Po.G,hu=Po.H,fd=0,to=1,hd=0;for(Yt=0;5>Yt;++Yt){Bn=au[Yt],ml[Yt]=fu,hu[Yt]=dr,!Yt&&0<jn&&(Bn+=1<<jn);i:{var cc,gl=Bn,pd=ns,Pa=No,M1=fu,Z0=dr,ir=0,ta=pd.m,em=ae(ta,1);if(i(Pa,0,0,gl),em){var tm=ae(ta,1)+1,tp=ae(ta,1),np=ae(ta,tp==0?1:8);Pa[np]=1,tm==2&&(Pa[np=ae(ta,8)]=1);var Ia=1}else{var lr=s(19),Mr=ae(ta,4)+4;if(19<Mr){pd.a=3;var Nr=0;break i}for(cc=0;cc<Mr;++cc)lr[Db[cc]]=ae(ta,3);var md=void 0,yl=void 0,gd=pd,jb=lr,qr=gl,rp=Pa,$f=0,Da=gd.m,na=8,no=o(128,D);r:for(;N(no,0,7,jb,19);){if(ae(Da,1)){var zf=2+2*ae(Da,3);if((md=2+ae(Da,zf))>qr)break r}else md=qr;for(yl=0;yl<qr&&md--;){ce(Da);var ip=no[0+(127&K(Da))];ee(Da,Da.u+ip.g);var uc=ip.value;if(16>uc)rp[yl++]=uc,uc!=0&&(na=uc);else{var F1=uc==16,nm=uc-16,j1=Jh[nm],rm=ae(Da,Ff[nm])+j1;if(yl+rm>qr)break r;for(var B1=F1?na:0;0<rm--;)rp[yl++]=B1}}$f=1;break r}$f||(gd.a=3),Ia=$f}(Ia=Ia&&!ta.h)&&(ir=N(M1,Z0,8,Pa,gl)),Ia&&ir!=0?Nr=ir:(pd.a=3,Nr=0)}if(Nr==0)break n;if(to&&P1[Yt]==1&&(to=fu[dr].g==0),fd+=fu[dr].g,dr+=Nr,3>=Yt){var yd,sp=No[0];for(yd=1;yd<Bn;++yd)No[yd]>sp&&(sp=No[yd]);hd+=sp}}if(Po.nd=to,Po.Qb=0,to&&(Po.qb=(ml[3][hu[3]+0].value<<24|ml[1][hu[1]+0].value<<16|ml[2][hu[2]+0].value)>>>0,fd==0&&256>ml[0][hu[0]+0].value&&(Po.Qb=1,Po.qb+=ml[0][hu[0]+0].value<<8)),Po.jc=!Po.Qb&&6>hd,Po.jc){var Uf,ro=Po;for(Uf=0;Uf<Er;++Uf){var vl=Uf,ra=ro.pd[vl],pu=ro.G[0][ro.H[0]+vl];256<=pu.value?(ra.g=pu.g+256,ra.value=pu.value):(ra.g=0,ra.value=0,vl>>=bn(pu,8,ra),vl>>=bn(ro.G[1][ro.H[1]+vl],16,ra),vl>>=bn(ro.G[2][ro.H[2]+vl],0,ra),bn(ro.G[3][ro.H[3]+vl],24,ra))}}}fr.vc=Ur,fr.Wb=fi,fr.Ya=ko,fr.yc=Na,Wn=1;break t}Wn=0}if(!(te=Wn)){H.a=3;break e}if(0<Be){if(ve.ua=1<<Be,!st(ve.Wa,Be)){H.a=1,te=0;break e}}else ve.ua=0;var op=H,ap=se,V1=fe,lp=op.s,cp=lp.xc;if(op.c=ap,op.i=V1,lp.md=Fe(ap,cp),lp.wc=cp==0?-1:(1<<cp)-1,V){H.xb=ka;break e}if((Te=s(se*fe))==null){H.a=1,te=0;break e}te=(te=Tr(H,Te,0,se,fe,fe,null))&&!me.h;break e}return te?(Q!=null?Q[0]=Te:(e(Te==null),e(V)),H.$=0,V||wi(ve)):wi(ve),te}function zo(x,k){var V=x.c*x.i,H=V+k+16*k;return e(x.c<=k),x.V=s(H),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+V+k,1)}function Uo(x,k){var V=x.C,H=k-V,Q=x.V,te=x.Ba+x.c*V;for(e(k<=x.l.o);0<H;){var se=16<H?16:H,fe=x.l.ma,me=x.l.width,ve=me*se,Te=fe.ca,Be=fe.tb+me*V,Ve=x.Ta,Le=x.Ua;kn(x,se,Q,te),Cr(Ve,Le,Te,Be,ve),bi(fe,V,V+se,Te,Be,me),H-=se,Q+=se*x.c,V+=se}e(V==k),x.C=x.Ma=k}function qo(){this.ub=this.yd=this.td=this.Rb=0}function fa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Uu(){this.Yb=function(){var x=[];return function k(V,H,Q){for(var te=Q[H],se=0;se<te&&(V.push(Q.length>H+1?[]:0),!(Q.length<H+1));se++)k(V[se],H+1,Q)}(x,0,[3,11]),x}()}function Kn(){this.jb=s(3),this.Wc=a([4,8],Uu),this.Xc=a([4,17],Uu)}function qu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function yo(){this.ld=this.La=this.dd=this.tc=0}function Ho(){this.Na=this.la=0}function gs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ja(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hu(){this.uc=this.M=this.Nb=0,this.wa=Array(new yo),this.Y=0,this.ya=Array(new Ja),this.aa=0,this.l=new Qa}function ha(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Gi(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new qo,this.Kc=new fa,this.ed=new qu,this.Qa=new Xa,this.Ic=this.$c=this.Aa=0,this.D=new Hu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Y),this.ia=0,this.pb=o(4,gs),this.Pa=new Kn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ha),this.Hd=0,this.rb=Array(new Ho),this.sb=0,this.wa=Array(new yo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ja),this.L=this.aa=0,this.gd=a([4,2],yo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ii(){var x=new Gi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,lu||(lu=Za)),x}function rr(x,k,V){return x.a==0&&(x.a=k,x.sc=V,x.cb=0),0}function Gc(x,k,V){return 3<=V&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function Kc(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return rr(x,2,"null VP8Io passed to VP8GetHeaders()");var V=k.data,H=k.w,Q=k.ha;if(4>Q)return rr(x,7,"Truncated header.");var te=V[H+0]|V[H+1]<<8|V[H+2]<<16,se=x.Od;if(se.Rb=!(1&te),se.td=te>>1&7,se.yd=te>>4&1,se.ub=te>>5,3<se.td)return rr(x,3,"Incorrect keyframe parameters.");if(!se.yd)return rr(x,4,"Frame not displayable.");H+=3,Q-=3;var fe=x.Kc;if(se.Rb){if(7>Q)return rr(x,7,"cannot parse picture header");if(!Gc(V,H,Q))return rr(x,3,"Bad code word");fe.c=16383&(V[H+4]<<8|V[H+3]),fe.Td=V[H+4]>>6,fe.i=16383&(V[H+6]<<8|V[H+5]),fe.Ud=V[H+6]>>6,H+=7,Q-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,k.width=fe.c,k.height=fe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,i((te=x.Pa).jb,0,255,te.jb.length),e((te=x.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,i(te.Zb,0,0,te.Zb.length),i(te.Lb,0,0,te.Lb)}if(se.ub>Q)return rr(x,7,"bad partition length");ie(te=x.m,V,H,se.ub),H+=se.ub,Q-=se.ub,se.Rb&&(fe.Ld=ge(te),fe.Kd=ge(te)),fe=x.Qa;var me,ve=x.Pa;if(e(te!=null),e(fe!=null),fe.Cb=ge(te),fe.Cb){if(fe.Bb=ge(te),ge(te)){for(fe.Fb=ge(te),me=0;4>me;++me)fe.Zb[me]=ge(te)?re(te,7):0;for(me=0;4>me;++me)fe.Lb[me]=ge(te)?re(te,6):0}if(fe.Bb)for(me=0;3>me;++me)ve.jb[me]=ge(te)?oe(te,8):255}else fe.Bb=0;if(te.Ka)return rr(x,3,"cannot parse segment header");if((fe=x.ed).zd=ge(te),fe.Tb=oe(te,6),fe.wb=oe(te,3),fe.Pc=ge(te),fe.Pc&&ge(te)){for(ve=0;4>ve;++ve)ge(te)&&(fe.vd[ve]=re(te,6));for(ve=0;4>ve;++ve)ge(te)&&(fe.od[ve]=re(te,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,te.Ka)return rr(x,3,"cannot parse filter header");var Te=Q;if(Q=me=H,H=me+Te,fe=Te,x.Xb=(1<<oe(x.m,2))-1,Te<3*(ve=x.Xb))V=7;else{for(me+=3*ve,fe-=3*ve,Te=0;Te<ve;++Te){var Be=V[Q+0]|V[Q+1]<<8|V[Q+2]<<16;Be>fe&&(Be=fe),ie(x.Jc[+Te],V,me,Be),me+=Be,fe-=Be,Q+=3}ie(x.Jc[+ve],V,me,fe),V=me<H?0:5}if(V!=0)return rr(x,V,"cannot parse partitions");for(V=oe(me=x.m,7),Q=ge(me)?re(me,4):0,H=ge(me)?re(me,4):0,fe=ge(me)?re(me,4):0,ve=ge(me)?re(me,4):0,me=ge(me)?re(me,4):0,Te=x.Qa,Be=0;4>Be;++Be){if(Te.Cb){var Ve=Te.Zb[Be];Te.Fb||(Ve+=V)}else{if(0<Be){x.pb[Be]=x.pb[0];continue}Ve=V}var Le=x.pb[Be];Le.Sc[0]=ld[Fn(Ve+Q,127)],Le.Sc[1]=jf[Fn(Ve+0,127)],Le.Eb[0]=2*ld[Fn(Ve+H,127)],Le.Eb[1]=101581*jf[Fn(Ve+fe,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=ld[Fn(Ve+ve,117)],Le.Qc[1]=jf[Fn(Ve+me,127)],Le.lc=Ve+me}if(!se.Rb)return rr(x,4,"Not a key frame.");for(ge(te),se=x.Pa,V=0;4>V;++V){for(Q=0;8>Q;++Q)for(H=0;3>H;++H)for(fe=0;11>fe;++fe)ve=ye(te,Ob[V][Q][H][fe])?oe(te,8):R1[V][Q][H][fe],se.Wc[V][Q].Yb[H][fe]=ve;for(Q=0;17>Q;++Q)se.Xc[V][Q]=se.Wc[V][Y0[Q]]}return x.kc=ge(te),x.kc&&(x.Bd=oe(te,8)),x.cb=1}function Za(x,k,V,H,Q,te,se){var fe=k[Q].Yb[V];for(V=0;16>Q;++Q){if(!ye(x,fe[V+0]))return Q;for(;!ye(x,fe[V+1]);)if(fe=k[++Q].Yb[0],V=0,Q==16)return 16;var me=k[Q+1].Yb;if(ye(x,fe[V+2])){var ve=x,Te=0;if(ye(ve,(Ve=fe)[(Be=V)+3]))if(ye(ve,Ve[Be+6])){for(fe=0,Be=2*(Te=ye(ve,Ve[Be+8]))+(Ve=ye(ve,Ve[Be+9+Te])),Te=0,Ve=G0[Be];Ve[fe];++fe)Te+=Te+ye(ve,Ve[fe]);Te+=3+(8<<Be)}else ye(ve,Ve[Be+7])?(Te=7+2*ye(ve,165),Te+=ye(ve,145)):Te=5+ye(ve,159);else Te=ye(ve,Ve[Be+4])?3+ye(ve,Ve[Be+5]):2;fe=me[2]}else Te=1,fe=me[1];me=se+K0[Q],0>(ve=x).b&&ue(ve);var Be,Ve=ve.b,Le=(Be=ve.Ca>>1)-(ve.I>>Ve)>>31;--ve.b,ve.Ca+=Le,ve.Ca|=1,ve.I-=(Be+1&Le)<<Ve,te[me]=((Te^Le)-Le)*H[(0<Q)+0]}return 16}function pa(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function ma(x,k){if(x==null)return 0;if(k==null)return rr(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Kc(x,k))return 0;if(e(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var V=du[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-V>>4,x.zb=k.j-V>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+V>>4,x.Hb=k.va+15+V>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var H=x.ed;for(V=0;4>V;++V){var Q;if(x.Qa.Cb){var te=x.Qa.Lb[V];x.Qa.Fb||(te+=H.Tb)}else te=H.Tb;for(Q=0;1>=Q;++Q){var se=x.gd[V][Q],fe=te;if(H.Pc&&(fe+=H.vd[0],Q&&(fe+=H.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var me=fe;0<H.wb&&(me=4<H.wb?me>>2:me>>1)>9-H.wb&&(me=9-H.wb),1>me&&(me=1),se.dd=me,se.tc=2*fe+me,se.ld=40<=fe?2:15<=fe?1:0}else se.tc=0;se.La=Q}}}V=0}else rr(x,6,"Frame setup failed"),V=x.a;if(V=V==0){if(V){x.$c=0,0<x.Aa||(x.Ic=hl);e:{V=x.Ic,H=4*(me=x.za);var ve=32*me,Te=me+1,Be=0<x.L?me*(0<x.Aa?2:1):0,Ve=(x.Aa==2?2:1)*me;if((se=H+832+(Q=3*(16*V+du[x.L])/2*ve)+(te=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=se)V=0;else{if(se>x.Vb){if(x.Vb=0,x.Ec=s(se),x.Fc=0,x.Ec==null){V=rr(x,1,"no memory during frame initialization.");break e}x.Vb=se}se=x.Ec,fe=x.Fc,x.Ac=se,x.Bc=fe,fe+=H,x.Gd=o(ve,ha),x.Hd=0,x.rb=o(Te+1,Ho),x.sb=1,x.wa=Be?o(Be,yo):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=me),e(!0),x.oc=se,x.pc=fe,fe+=832,x.ya=o(Ve,Ja),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=me),x.R=16*me,x.B=8*me,me=(ve=du[x.L])*x.R,ve=ve/2*x.B,x.sa=se,x.ta=fe+me,x.qa=x.sa,x.ra=x.ta+16*V*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*V*x.B+ve,x.$c=0,fe+=Q,x.mb=te?se:null,x.nb=te?fe:null,e(fe+te<=x.Fc+x.Vb),pa(x),i(x.Ac,x.Bc,0,H),V=1}}if(V){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!Df){for(V=-255;255>=V;++V)Lr[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)_a[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)sd[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)su[255+V]=0>V?0:255<V?255:V;Df=1}id=mn,al=ya,ll=Wo,_i=zn,Qs=Go,Ln=ga,tu=rl,If=ur,nu=So,ru=Qc,iu=Xs,Zs=Yo,cl=Sa,Aa=Eo,ul=Ei,dl=Yi,ic=Sr,ui=Jc,_o[0]=wo,_o[1]=Wu,_o[2]=vs,_o[3]=bo,_o[4]=Yc,_o[5]=Xl,_o[6]=ai,_o[7]=Jl,_o[8]=tl,_o[9]=Ko,ts[0]=Gs,ts[1]=Gu,ts[2]=xo,ts[3]=el,ts[4]=Nn,ts[5]=Ks,ts[6]=ys,bs[0]=Si,bs[1]=Yl,bs[2]=Ku,bs[3]=Ki,bs[4]=Mn,bs[5]=xa,bs[6]=Xc,V=1}else V=0}V&&(V=function(Le,rt){for(Le.M=0;Le.M<Le.Va;++Le.M){var Je,Ne=Le.Jc[Le.M&Le.Xb],Pe=Le.m,et=Le;for(Je=0;Je<et.za;++Je){var Ze=Pe,tt=et,St=tt.Ac,bt=tt.Bc+4*Je,Ot=tt.zc,wt=tt.ya[tt.aa+Je];if(tt.Qa.Bb?wt.$b=ye(Ze,tt.Pa.jb[0])?2+ye(Ze,tt.Pa.jb[2]):ye(Ze,tt.Pa.jb[1]):wt.$b=0,tt.kc&&(wt.Ad=ye(Ze,tt.Bd)),wt.Za=!ye(Ze,145)+0,wt.Za){var Pn=wt.Ob,In=0;for(tt=0;4>tt;++tt){var wn,cn=Ot[0+tt];for(wn=0;4>wn;++wn){cn=Lb[St[bt+wn]][cn];for(var Wn=D1[ye(Ze,cn[0])];0<Wn;)Wn=D1[2*Wn+ye(Ze,cn[Wn])];cn=-Wn,St[bt+wn]=cn}r(Pn,In,St,bt,4),In+=4,Ot[0+tt]=cn}}else cn=ye(Ze,156)?ye(Ze,128)?1:3:ye(Ze,163)?2:0,wt.Ob[0]=cn,i(St,bt,cn,4),i(Ot,0,cn,4);wt.Dd=ye(Ze,142)?ye(Ze,114)?ye(Ze,183)?1:3:2:0}if(et.m.Ka)return rr(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(et=Ne,Ze=(Pe=Le).rb[Pe.sb-1],St=Pe.rb[Pe.sb+Pe.ja],Je=Pe.ya[Pe.aa+Pe.ja],bt=Pe.kc?Je.Ad:0)Ze.la=St.la=0,Je.Za||(Ze.Na=St.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var Xn,Yt;if(Ze=St,St=et,bt=Pe.Pa.Xc,Ot=Pe.ya[Pe.aa+Pe.ja],wt=Pe.pb[Ot.$b],tt=Ot.ad,Pn=0,In=Pe.rb[Pe.sb-1],cn=wn=0,i(tt,Pn,0,384),Ot.Za)var dr=0,ns=bt[3];else{Wn=s(16);var kr=Ze.Na+In.Na;if(kr=lu(St,bt[1],kr,wt.Eb,0,Wn,0),Ze.Na=In.Na=(0<kr)+0,1<kr)id(Wn,0,tt,Pn);else{var zr=Wn[0]+3>>3;for(Wn=0;256>Wn;Wn+=16)tt[Pn+Wn]=zr}dr=1,ns=bt[0]}var jn=15&Ze.la,ki=15&In.la;for(Wn=0;4>Wn;++Wn){var Ni=1&ki;for(zr=Yt=0;4>zr;++zr)jn=jn>>1|(Ni=(kr=lu(St,ns,kr=Ni+(1&jn),wt.Sc,dr,tt,Pn))>dr)<<7,Yt=Yt<<2|(3<kr?3:1<kr?2:tt[Pn+0]!=0),Pn+=16;jn>>=4,ki=ki>>1|Ni<<7,wn=(wn<<8|Yt)>>>0}for(ns=jn,dr=ki>>4,Xn=0;4>Xn;Xn+=2){for(Yt=0,jn=Ze.la>>4+Xn,ki=In.la>>4+Xn,Wn=0;2>Wn;++Wn){for(Ni=1&ki,zr=0;2>zr;++zr)kr=Ni+(1&jn),jn=jn>>1|(Ni=0<(kr=lu(St,bt[2],kr,wt.Qc,0,tt,Pn)))<<3,Yt=Yt<<2|(3<kr?3:1<kr?2:tt[Pn+0]!=0),Pn+=16;jn>>=2,ki=ki>>1|Ni<<5}cn|=Yt<<4*Xn,ns|=jn<<4<<Xn,dr|=(240&ki)<<Xn}Ze.la=ns,In.la=dr,Ot.Hc=wn,Ot.Gc=cn,Ot.ia=43690&cn?0:wt.ia,bt=!(wn|cn)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Je.$b][Je.Za],Pe.wa[Pe.Y+Pe.ja].La|=!bt),et.Ka)return rr(Le,7,"Premature end-of-file encountered.")}if(pa(Le),Pe=rt,et=1,Je=(Ne=Le).D,Ze=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Je.M=Ne.M,Je.uc=Ze,Qo(Ne,Je),et=1,Je=(Yt=Ne.D).Nb,Ze=(cn=du[Ne.L])*Ne.R,St=cn/2*Ne.B,Wn=16*Je*Ne.R,zr=8*Je*Ne.B,bt=Ne.sa,Ot=Ne.ta-Ze+Wn,wt=Ne.qa,tt=Ne.ra-St+zr,Pn=Ne.Ha,In=Ne.Ia-St+zr,ki=(jn=Yt.M)==0,wn=jn>=Ne.Va-1,Ne.Aa==2&&Qo(Ne,Yt),Yt.uc)for(Ni=(kr=Ne).D.M,e(kr.D.uc),Yt=kr.yb;Yt<kr.Hb;++Yt){dr=Yt,ns=Ni;var fr=(Ur=(Bn=kr).D).Nb;Xn=Bn.R;var Ur=Ur.wa[Ur.Y+dr],fi=Bn.sa,Cs=Bn.ta+16*fr*Xn+16*dr,To=Ur.dd,hr=Ur.tc;if(hr!=0)if(e(3<=hr),Bn.L==1)0<dr&&dl(fi,Cs,Xn,hr+4),Ur.La&&ui(fi,Cs,Xn,hr),0<ns&&ul(fi,Cs,Xn,hr+4),Ur.La&&ic(fi,Cs,Xn,hr);else{var Or=Bn.B,eo=Bn.qa,lc=Bn.ra+8*fr*Or+8*dr,pl=Bn.Ha,Bn=Bn.Ia+8*fr*Or+8*dr;fr=Ur.ld,0<dr&&(If(fi,Cs,Xn,hr+4,To,fr),ru(eo,lc,pl,Bn,Or,hr+4,To,fr)),Ur.La&&(Zs(fi,Cs,Xn,hr,To,fr),Aa(eo,lc,pl,Bn,Or,hr,To,fr)),0<ns&&(tu(fi,Cs,Xn,hr+4,To,fr),nu(eo,lc,pl,Bn,Or,hr+4,To,fr)),Ur.La&&(iu(fi,Cs,Xn,hr,To,fr),cl(eo,lc,pl,Bn,Or,hr,To,fr))}}if(Ne.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Yt=16*jn,jn=16*(jn+1),ki?(Pe.y=Ne.sa,Pe.O=Ne.ta+Wn,Pe.f=Ne.qa,Pe.N=Ne.ra+zr,Pe.ea=Ne.Ha,Pe.W=Ne.Ia+zr):(Yt-=cn,Pe.y=bt,Pe.O=Ot,Pe.f=wt,Pe.N=tt,Pe.ea=Pn,Pe.W=In),wn||(jn-=cn),jn>Pe.o&&(jn=Pe.o),Pe.F=null,Pe.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Yt<jn&&(Pe.J=tc(Ne,Pe,Yt,jn-Yt),Pe.F=Ne.mb,Pe.F==null&&Pe.F.length==0)){et=rr(Ne,3,"Could not decode alpha data.");break e}Yt<Pe.j&&(cn=Pe.j-Yt,Yt=Pe.j,e(!(1&cn)),Pe.O+=Ne.R*cn,Pe.N+=Ne.B*(cn>>1),Pe.W+=Ne.B*(cn>>1),Pe.F!=null&&(Pe.J+=Pe.width*cn)),Yt<jn&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Yt-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=jn-Yt,et=Pe.put(Pe))}Je+1!=Ne.Ic||wn||(r(Ne.sa,Ne.ta-Ze,bt,Ot+16*Ne.R,Ze),r(Ne.qa,Ne.ra-St,wt,tt+8*Ne.B,St),r(Ne.Ha,Ne.Ia-St,Pn,In+8*Ne.B,St))}if(!et)return rr(Le,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),V&=1}return V?(x.cb=0,V):0}function si(x,k,V,H,Q){Q=x[k+V+32*H]+(Q>>3),x[k+V+32*H]=-256&Q?0>Q?0:255:Q}function Kl(x,k,V,H,Q,te){si(x,k,0,V,H+Q),si(x,k,1,V,H+te),si(x,k,2,V,H-te),si(x,k,3,V,H-Q)}function wr(x){return(20091*x>>16)+x}function oi(x,k,V,H){var Q,te=0,se=s(16);for(Q=0;4>Q;++Q){var fe=x[k+0]+x[k+8],me=x[k+0]-x[k+8],ve=(35468*x[k+4]>>16)-wr(x[k+12]),Te=wr(x[k+4])+(35468*x[k+12]>>16);se[te+0]=fe+Te,se[te+1]=me+ve,se[te+2]=me-ve,se[te+3]=fe-Te,te+=4,k++}for(Q=te=0;4>Q;++Q)fe=(x=se[te+0]+4)+se[te+8],me=x-se[te+8],ve=(35468*se[te+4]>>16)-wr(se[te+12]),si(V,H,0,0,fe+(Te=wr(se[te+4])+(35468*se[te+12]>>16))),si(V,H,1,0,me+ve),si(V,H,2,0,me-ve),si(V,H,3,0,fe-Te),te++,H+=32}function ga(x,k,V,H){var Q=x[k+0]+4,te=35468*x[k+4]>>16,se=wr(x[k+4]),fe=35468*x[k+1]>>16;Kl(V,H,0,Q+se,x=wr(x[k+1]),fe),Kl(V,H,1,Q+te,x,fe),Kl(V,H,2,Q-te,x,fe),Kl(V,H,3,Q-se,x,fe)}function ya(x,k,V,H,Q){oi(x,k,V,H),Q&&oi(x,k+16,V,H+4)}function Wo(x,k,V,H){al(x,k+0,V,H,1),al(x,k+32,V,H+128,1)}function zn(x,k,V,H){var Q;for(x=x[k+0]+4,Q=0;4>Q;++Q)for(k=0;4>k;++k)si(V,H,k,Q,x)}function Go(x,k,V,H){x[k+0]&&_i(x,k+0,V,H),x[k+16]&&_i(x,k+16,V,H+4),x[k+32]&&_i(x,k+32,V,H+128),x[k+48]&&_i(x,k+48,V,H+128+4)}function mn(x,k,V,H){var Q,te=s(16);for(Q=0;4>Q;++Q){var se=x[k+0+Q]+x[k+12+Q],fe=x[k+4+Q]+x[k+8+Q],me=x[k+4+Q]-x[k+8+Q],ve=x[k+0+Q]-x[k+12+Q];te[0+Q]=se+fe,te[8+Q]=se-fe,te[4+Q]=ve+me,te[12+Q]=ve-me}for(Q=0;4>Q;++Q)se=(x=te[0+4*Q]+3)+te[3+4*Q],fe=te[1+4*Q]+te[2+4*Q],me=te[1+4*Q]-te[2+4*Q],ve=x-te[3+4*Q],V[H+0]=se+fe>>3,V[H+16]=ve+me>>3,V[H+32]=se-fe>>3,V[H+48]=ve-me>>3,H+=64}function vo(x,k,V){var H,Q=k-32,te=es,se=255-x[Q-1];for(H=0;H<V;++H){var fe,me=te,ve=se+x[k-1];for(fe=0;fe<V;++fe)x[k+fe]=me[ve+x[Q+fe]];k+=32}}function Wu(x,k){vo(x,k,4)}function Yl(x,k){vo(x,k,8)}function Gu(x,k){vo(x,k,16)}function xo(x,k){var V;for(V=0;16>V;++V)r(x,k+32*V,x,k-32,16)}function el(x,k){var V;for(V=16;0<V;--V)i(x,k,x[k-1],16),k+=32}function va(x,k,V){var H;for(H=0;16>H;++H)i(k,V+32*H,x,16)}function Gs(x,k){var V,H=16;for(V=0;16>V;++V)H+=x[k-1+32*V]+x[k+V-32];va(H>>5,x,k)}function Nn(x,k){var V,H=8;for(V=0;16>V;++V)H+=x[k-1+32*V];va(H>>4,x,k)}function Ks(x,k){var V,H=8;for(V=0;16>V;++V)H+=x[k+V-32];va(H>>4,x,k)}function ys(x,k){va(128,x,k)}function Mt(x,k,V){return x+2*k+V+2>>2}function vs(x,k){var V,H=k-32;for(H=new Uint8Array([Mt(x[H-1],x[H+0],x[H+1]),Mt(x[H+0],x[H+1],x[H+2]),Mt(x[H+1],x[H+2],x[H+3]),Mt(x[H+2],x[H+3],x[H+4])]),V=0;4>V;++V)r(x,k+32*V,H,0,H.length)}function bo(x,k){var V=x[k-1],H=x[k-1+32],Q=x[k-1+64],te=x[k-1+96];Se(x,k+0,16843009*Mt(x[k-1-32],V,H)),Se(x,k+32,16843009*Mt(V,H,Q)),Se(x,k+64,16843009*Mt(H,Q,te)),Se(x,k+96,16843009*Mt(Q,te,te))}function wo(x,k){var V,H=4;for(V=0;4>V;++V)H+=x[k+V-32]+x[k-1+32*V];for(H>>=3,V=0;4>V;++V)i(x,k+32*V,H,4)}function Yc(x,k){var V=x[k-1+0],H=x[k-1+32],Q=x[k-1+64],te=x[k-1-32],se=x[k+0-32],fe=x[k+1-32],me=x[k+2-32],ve=x[k+3-32];x[k+0+96]=Mt(H,Q,x[k-1+96]),x[k+1+96]=x[k+0+64]=Mt(V,H,Q),x[k+2+96]=x[k+1+64]=x[k+0+32]=Mt(te,V,H),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=Mt(se,te,V),x[k+3+64]=x[k+2+32]=x[k+1+0]=Mt(fe,se,te),x[k+3+32]=x[k+2+0]=Mt(me,fe,se),x[k+3+0]=Mt(ve,me,fe)}function ai(x,k){var V=x[k+1-32],H=x[k+2-32],Q=x[k+3-32],te=x[k+4-32],se=x[k+5-32],fe=x[k+6-32],me=x[k+7-32];x[k+0+0]=Mt(x[k+0-32],V,H),x[k+1+0]=x[k+0+32]=Mt(V,H,Q),x[k+2+0]=x[k+1+32]=x[k+0+64]=Mt(H,Q,te),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=Mt(Q,te,se),x[k+3+32]=x[k+2+64]=x[k+1+96]=Mt(te,se,fe),x[k+3+64]=x[k+2+96]=Mt(se,fe,me),x[k+3+96]=Mt(fe,me,me)}function Xl(x,k){var V=x[k-1+0],H=x[k-1+32],Q=x[k-1+64],te=x[k-1-32],se=x[k+0-32],fe=x[k+1-32],me=x[k+2-32],ve=x[k+3-32];x[k+0+0]=x[k+1+64]=te+se+1>>1,x[k+1+0]=x[k+2+64]=se+fe+1>>1,x[k+2+0]=x[k+3+64]=fe+me+1>>1,x[k+3+0]=me+ve+1>>1,x[k+0+96]=Mt(Q,H,V),x[k+0+64]=Mt(H,V,te),x[k+0+32]=x[k+1+96]=Mt(V,te,se),x[k+1+32]=x[k+2+96]=Mt(te,se,fe),x[k+2+32]=x[k+3+96]=Mt(se,fe,me),x[k+3+32]=Mt(fe,me,ve)}function Jl(x,k){var V=x[k+0-32],H=x[k+1-32],Q=x[k+2-32],te=x[k+3-32],se=x[k+4-32],fe=x[k+5-32],me=x[k+6-32],ve=x[k+7-32];x[k+0+0]=V+H+1>>1,x[k+1+0]=x[k+0+64]=H+Q+1>>1,x[k+2+0]=x[k+1+64]=Q+te+1>>1,x[k+3+0]=x[k+2+64]=te+se+1>>1,x[k+0+32]=Mt(V,H,Q),x[k+1+32]=x[k+0+96]=Mt(H,Q,te),x[k+2+32]=x[k+1+96]=Mt(Q,te,se),x[k+3+32]=x[k+2+96]=Mt(te,se,fe),x[k+3+64]=Mt(se,fe,me),x[k+3+96]=Mt(fe,me,ve)}function Ko(x,k){var V=x[k-1+0],H=x[k-1+32],Q=x[k-1+64],te=x[k-1+96];x[k+0+0]=V+H+1>>1,x[k+2+0]=x[k+0+32]=H+Q+1>>1,x[k+2+32]=x[k+0+64]=Q+te+1>>1,x[k+1+0]=Mt(V,H,Q),x[k+3+0]=x[k+1+32]=Mt(H,Q,te),x[k+3+32]=x[k+1+64]=Mt(Q,te,te),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=te}function tl(x,k){var V=x[k-1+0],H=x[k-1+32],Q=x[k-1+64],te=x[k-1+96],se=x[k-1-32],fe=x[k+0-32],me=x[k+1-32],ve=x[k+2-32];x[k+0+0]=x[k+2+32]=V+se+1>>1,x[k+0+32]=x[k+2+64]=H+V+1>>1,x[k+0+64]=x[k+2+96]=Q+H+1>>1,x[k+0+96]=te+Q+1>>1,x[k+3+0]=Mt(fe,me,ve),x[k+2+0]=Mt(se,fe,me),x[k+1+0]=x[k+3+32]=Mt(V,se,fe),x[k+1+32]=x[k+3+64]=Mt(H,V,se),x[k+1+64]=x[k+3+96]=Mt(Q,H,V),x[k+1+96]=Mt(te,Q,H)}function Ku(x,k){var V;for(V=0;8>V;++V)r(x,k+32*V,x,k-32,8)}function Ki(x,k){var V;for(V=0;8>V;++V)i(x,k,x[k-1],8),k+=32}function li(x,k,V){var H;for(H=0;8>H;++H)i(k,V+32*H,x,8)}function Si(x,k){var V,H=8;for(V=0;8>V;++V)H+=x[k+V-32]+x[k-1+32*V];li(H>>4,x,k)}function xa(x,k){var V,H=4;for(V=0;8>V;++V)H+=x[k+V-32];li(H>>3,x,k)}function Mn(x,k){var V,H=4;for(V=0;8>V;++V)H+=x[k-1+32*V];li(H>>3,x,k)}function Xc(x,k){li(128,x,k)}function ba(x,k,V){var H=x[k-V],Q=x[k+0],te=3*(Q-H)+Ta[1020+x[k-2*V]-x[k+V]],se=od[112+(te+4>>3)];x[k-V]=es[255+H+od[112+(te+3>>3)]],x[k+0]=es[255+Q-se]}function wa(x,k,V,H){var Q=x[k+0],te=x[k+V];return Ao[255+x[k-2*V]-x[k-V]]>H||Ao[255+te-Q]>H}function nl(x,k,V,H){return 4*Ao[255+x[k-V]-x[k+0]]+Ao[255+x[k-2*V]-x[k+V]]<=H}function Ql(x,k,V,H,Q){var te=x[k-3*V],se=x[k-2*V],fe=x[k-V],me=x[k+0],ve=x[k+V],Te=x[k+2*V],Be=x[k+3*V];return 4*Ao[255+fe-me]+Ao[255+se-ve]>H?0:Ao[255+x[k-4*V]-te]<=Q&&Ao[255+te-se]<=Q&&Ao[255+se-fe]<=Q&&Ao[255+Be-Te]<=Q&&Ao[255+Te-ve]<=Q&&Ao[255+ve-me]<=Q}function Ei(x,k,V,H){var Q=2*H+1;for(H=0;16>H;++H)nl(x,k+H,V,Q)&&ba(x,k+H,V)}function Yi(x,k,V,H){var Q=2*H+1;for(H=0;16>H;++H)nl(x,k+H*V,1,Q)&&ba(x,k+H*V,1)}function Sr(x,k,V,H){var Q;for(Q=3;0<Q;--Q)Ei(x,k+=4*V,V,H)}function Jc(x,k,V,H){var Q;for(Q=3;0<Q;--Q)Yi(x,k+=4,V,H)}function Ys(x,k,V,H,Q,te,se,fe){for(te=2*te+1;0<Q--;){if(Ql(x,k,V,te,se))if(wa(x,k,V,fe))ba(x,k,V);else{var me=x,ve=k,Te=V,Be=me[ve-2*Te],Ve=me[ve-Te],Le=me[ve+0],rt=me[ve+Te],Je=me[ve+2*Te],Ne=27*(et=Ta[1020+3*(Le-Ve)+Ta[1020+Be-rt]])+63>>7,Pe=18*et+63>>7,et=9*et+63>>7;me[ve-3*Te]=es[255+me[ve-3*Te]+et],me[ve-2*Te]=es[255+Be+Pe],me[ve-Te]=es[255+Ve+Ne],me[ve+0]=es[255+Le-Ne],me[ve+Te]=es[255+rt-Pe],me[ve+2*Te]=es[255+Je-et]}k+=H}}function Rr(x,k,V,H,Q,te,se,fe){for(te=2*te+1;0<Q--;){if(Ql(x,k,V,te,se))if(wa(x,k,V,fe))ba(x,k,V);else{var me=x,ve=k,Te=V,Be=me[ve-Te],Ve=me[ve+0],Le=me[ve+Te],rt=od[112+((Je=3*(Ve-Be))+4>>3)],Je=od[112+(Je+3>>3)],Ne=rt+1>>1;me[ve-2*Te]=es[255+me[ve-2*Te]+Ne],me[ve-Te]=es[255+Be+Je],me[ve+0]=es[255+Ve-rt],me[ve+Te]=es[255+Le-Ne]}k+=H}}function rl(x,k,V,H,Q,te){Ys(x,k,V,1,16,H,Q,te)}function ur(x,k,V,H,Q,te){Ys(x,k,1,V,16,H,Q,te)}function Xs(x,k,V,H,Q,te){var se;for(se=3;0<se;--se)Rr(x,k+=4*V,V,1,16,H,Q,te)}function Yo(x,k,V,H,Q,te){var se;for(se=3;0<se;--se)Rr(x,k+=4,1,V,16,H,Q,te)}function So(x,k,V,H,Q,te,se,fe){Ys(x,k,Q,1,8,te,se,fe),Ys(V,H,Q,1,8,te,se,fe)}function Qc(x,k,V,H,Q,te,se,fe){Ys(x,k,1,Q,8,te,se,fe),Ys(V,H,1,Q,8,te,se,fe)}function Sa(x,k,V,H,Q,te,se,fe){Rr(x,k+4*Q,Q,1,8,te,se,fe),Rr(V,H+4*Q,Q,1,8,te,se,fe)}function Eo(x,k,V,H,Q,te,se,fe){Rr(x,k+4,1,Q,8,te,se,fe),Rr(V,H+4,1,Q,8,te,se,fe)}function Js(){this.ba=new nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ea(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zl(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new D}function Yu(){this.xb=this.a=0,this.l=new Qa,this.ca=new nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zl,this.ab=0,this.gc=o(4,Ea),this.Oc=0}function Jo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Co(x,k,V,H,Q,te,se){for(x=x==null?0:x[k+0],k=0;k<se;++k)Q[te+k]=x+V[H+k]&255,x=Q[te+k]}function ec(x,k,V,H,Q,te,se){var fe;if(x==null)Co(null,null,V,H,Q,te,se);else for(fe=0;fe<se;++fe)Q[te+fe]=x[k+fe]+V[H+fe]&255}function Ci(x,k,V,H,Q,te,se){if(x==null)Co(null,null,V,H,Q,te,se);else{var fe,me=x[k+0],ve=me,Te=me;for(fe=0;fe<se;++fe)ve=Te+(me=x[k+fe])-ve,Te=V[H+fe]+(-256&ve?0>ve?0:255:ve)&255,ve=me,Q[te+fe]=Te}}function tc(x,k,V,H){var Q=k.width,te=k.o;if(e(x!=null&&k!=null),0>V||0>=H||V+H>te)return null;if(!x.Cc){if(x.ga==null){var se;if(x.ga=new Jo,(se=x.ga==null)||(se=k.width*k.o,e(x.Gb.length==0),x.Gb=s(se),x.Uc=0,x.Gb==null?se=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,se=1),se=!se),!se){se=x.ga;var fe=x.Fa,me=x.P,ve=x.qc,Te=x.mb,Be=x.nb,Ve=me+1,Le=ve-1,rt=se.l;if(e(fe!=null&&Te!=null&&k!=null),Ti[0]=null,Ti[1]=Co,Ti[2]=ec,Ti[3]=Ci,se.ca=Te,se.tb=Be,se.c=k.width,se.i=k.height,e(0<se.c&&0<se.i),1>=ve)k=0;else if(se.$a=fe[me+0]>>0&3,se.Z=fe[me+0]>>2&3,se.Lc=fe[me+0]>>4&3,me=fe[me+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||me)k=0;else if(rt.put=Rn,rt.ac=pn,rt.bc=ar,rt.ma=se,rt.width=k.width,rt.height=k.height,rt.Da=k.Da,rt.v=k.v,rt.va=k.va,rt.j=k.j,rt.o=k.o,se.$a)e:{e(se.$a==1),k=br();t:for(;;){if(k==null){k=0;break e}if(e(se!=null),se.mc=k,k.c=se.c,k.i=se.i,k.l=se.l,k.l.ma=se,k.l.width=se.c,k.l.height=se.i,k.a=0,X(k.m,fe,Ve,Le),!Ws(se.c,se.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&Wi(k.s)?(se.ic=1,fe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=s(fe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(se.ic=0,k=zo(k,se.c)),!k))break t;k=1;break e}se.mc=null,k=0}else k=Le>=se.c*se.i;se=!k}if(se)return null;x.ga.Lc!=1?x.Ga=0:H=te-V}e(x.ga!=null),e(V+H<=te);e:{if(k=(fe=x.ga).c,te=fe.l.o,fe.$a==0){if(Ve=x.rc,Le=x.Vc,rt=x.Fa,me=x.P+1+V*k,ve=x.mb,Te=x.nb+V*k,e(me<=x.P+x.qc),fe.Z!=0)for(e(Ti[fe.Z]!=null),se=0;se<H;++se)Ti[fe.Z](Ve,Le,rt,me,ve,Te,k),Ve=ve,Le=Te,Te+=k,me+=k;else for(se=0;se<H;++se)r(ve,Te,rt,me,k),Ve=ve,Le=Te,Te+=k,me+=k;x.rc=Ve,x.Vc=Le}else{if(e(fe.mc!=null),k=V+H,e((se=fe.mc)!=null),e(k<=se.i),se.C>=k)k=1;else if(fe.ic||Me(),fe.ic){fe=se.V,Ve=se.Ba,Le=se.c;var Je=se.i,Ne=(rt=1,me=se.$/Le,ve=se.$%Le,Te=se.m,Be=se.s,se.$),Pe=Le*Je,et=Le*k,Ze=Be.wc,tt=Ne<et?Cn(Be,ve,me):null;e(Ne<=Pe),e(k<=Je),e(Wi(Be));t:for(;;){for(;!Te.h&&Ne<et;){if(ve&Ze||(tt=Cn(Be,ve,me)),e(tt!=null),ce(Te),256>(Je=dn(tt.G[0],tt.H[0],Te)))fe[Ve+Ne]=Je,++Ne,++ve>=Le&&(ve=0,++me<=k&&!(me%16)&&ms(se,me));else{if(!(280>Je)){rt=0;break t}Je=Gn(Je-256,Te);var St,bt=dn(tt.G[4],tt.H[4],Te);if(ce(Te),!(Ne>=(bt=Qt(Le,bt=Gn(bt,Te)))&&Pe-Ne>=Je)){rt=0;break t}for(St=0;St<Je;++St)fe[Ve+Ne+St]=fe[Ve+Ne+St-bt];for(Ne+=Je,ve+=Je;ve>=Le;)ve-=Le,++me<=k&&!(me%16)&&ms(se,me);Ne<et&&ve&Ze&&(tt=Cn(Be,ve,me))}e(Te.h==J(Te))}ms(se,me>k?k:me);break t}!rt||Te.h&&Ne<Pe?(rt=0,se.a=Te.h?5:3):se.$=Ne,k=rt}else k=Tr(se,se.V,se.Ba,se.c,se.i,k,Uo);if(!k){H=0;break e}}V+H>=te&&(x.Cc=1),H=1}if(!H)return null;if(x.Cc&&((H=x.ga)!=null&&(H.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+V*Q}function M(x,k,V,H,Q,te){for(;0<Q--;){var se,fe=x,me=k+(V?1:0),ve=x,Te=k+(V?0:3);for(se=0;se<H;++se){var Be=ve[Te+4*se];Be!=255&&(Be*=32897,fe[me+4*se+0]=fe[me+4*se+0]*Be>>23,fe[me+4*se+1]=fe[me+4*se+1]*Be>>23,fe[me+4*se+2]=fe[me+4*se+2]*Be>>23)}k+=te}}function Z(x,k,V,H,Q){for(;0<H--;){var te;for(te=0;te<V;++te){var se=x[k+2*te+0],fe=15&(ve=x[k+2*te+1]),me=4369*fe,ve=(240&ve|ve>>4)*me>>16;x[k+2*te+0]=(240&se|se>>4)*me>>16&240|(15&se|se<<4)*me>>16>>4&15,x[k+2*te+1]=240&ve|fe}k+=Q}}function xe(x,k,V,H,Q,te,se,fe){var me,ve,Te=255;for(ve=0;ve<Q;++ve){for(me=0;me<H;++me){var Be=x[k+me];te[se+4*me]=Be,Te&=Be}k+=V,se+=fe}return Te!=255}function Ce(x,k,V,H,Q){var te;for(te=0;te<Q;++te)V[H+te]=x[k+te]>>8}function Me(){xs=M,Zn=Z,qn=xe,Cr=Ce}function Qe(x,k,V){C[x]=function(H,Q,te,se,fe,me,ve,Te,Be,Ve,Le,rt,Je,Ne,Pe,et,Ze){var tt,St=Ze-1>>1,bt=fe[me+0]|ve[Te+0]<<16,Ot=Be[Ve+0]|Le[rt+0]<<16;e(H!=null);var wt=3*bt+Ot+131074>>2;for(k(H[Q+0],255&wt,wt>>16,Je,Ne),te!=null&&(wt=3*Ot+bt+131074>>2,k(te[se+0],255&wt,wt>>16,Pe,et)),tt=1;tt<=St;++tt){var Pn=fe[me+tt]|ve[Te+tt]<<16,In=Be[Ve+tt]|Le[rt+tt]<<16,wn=bt+Pn+Ot+In+524296,cn=wn+2*(Pn+Ot)>>3;wt=cn+bt>>1,bt=(wn=wn+2*(bt+In)>>3)+Pn>>1,k(H[Q+2*tt-1],255&wt,wt>>16,Je,Ne+(2*tt-1)*V),k(H[Q+2*tt-0],255&bt,bt>>16,Je,Ne+(2*tt-0)*V),te!=null&&(wt=wn+Ot>>1,bt=cn+In>>1,k(te[se+2*tt-1],255&wt,wt>>16,Pe,et+(2*tt-1)*V),k(te[se+2*tt+0],255&bt,bt>>16,Pe,et+(2*tt+0)*V)),bt=Pn,Ot=In}1&Ze||(wt=3*bt+Ot+131074>>2,k(H[Q+Ze-1],255&wt,wt>>16,Je,Ne+(Ze-1)*V),te!=null&&(wt=3*Ot+bt+131074>>2,k(te[se+Ze-1],255&wt,wt>>16,Pe,et+(Ze-1)*V)))}}function lt(){ws[Yh]=Mb,ws[sc]=oc,ws[N1]=Fb,ws[Rf]=ud,ws[Lf]=cu,ws[er]=Bf,ws[Xh]=X0,ws[ad]=oc,ws[ou]=ud,ws[Of]=cu,ws[Mf]=Bf}function xt(x){return x&-16384?0>x?0:255:x>>ac}function w(x,k){return xt((19077*x>>8)+(26149*k>>8)-14234)}function z(x,k,V){return xt((19077*x>>8)-(6419*k>>8)-(13320*V>>8)+8708)}function G(x,k){return xt((19077*x>>8)+(33050*k>>8)-17685)}function he(x,k,V,H,Q){H[Q+0]=w(x,V),H[Q+1]=z(x,k,V),H[Q+2]=G(x,k)}function Re(x,k,V,H,Q){H[Q+0]=G(x,k),H[Q+1]=z(x,k,V),H[Q+2]=w(x,V)}function We(x,k,V,H,Q){var te=z(x,k,V);k=te<<3&224|G(x,k)>>3,H[Q+0]=248&w(x,V)|te>>5,H[Q+1]=k}function ct(x,k,V,H,Q){var te=240&G(x,k)|15;H[Q+0]=240&w(x,V)|z(x,k,V)>>4,H[Q+1]=te}function en(x,k,V,H,Q){H[Q+0]=255,he(x,k,V,H,Q+1)}function vn(x,k,V,H,Q){Re(x,k,V,H,Q),H[Q+3]=255}function tn(x,k,V,H,Q){he(x,k,V,H,Q),H[Q+3]=255}function Fn(x,k){return 0>x?0:x>k?k:x}function Un(x,k,V){C[x]=function(H,Q,te,se,fe,me,ve,Te,Be){for(var Ve=Te+(-2&Be)*V;Te!=Ve;)k(H[Q+0],te[se+0],fe[me+0],ve,Te),k(H[Q+1],te[se+0],fe[me+0],ve,Te+V),Q+=2,++se,++me,Te+=2*V;1&Be&&k(H[Q+0],te[se+0],fe[me+0],ve,Te)}}function Xi(x,k,V){return V==0?x==0?k==0?6:5:k==0?4:0:V}function ci(x,k,V,H,Q){switch(x>>>30){case 3:al(k,V,H,Q,0);break;case 2:Ln(k,V,H,Q);break;case 1:_i(k,V,H,Q)}}function Qo(x,k){var V,H,Q=k.M,te=k.Nb,se=x.oc,fe=x.pc+40,me=x.oc,ve=x.pc+584,Te=x.oc,Be=x.pc+600;for(V=0;16>V;++V)se[fe+32*V-1]=129;for(V=0;8>V;++V)me[ve+32*V-1]=129,Te[Be+32*V-1]=129;for(0<Q?se[fe-1-32]=me[ve-1-32]=Te[Be-1-32]=129:(i(se,fe-32-1,127,21),i(me,ve-32-1,127,9),i(Te,Be-32-1,127,9)),H=0;H<x.za;++H){var Ve=k.ya[k.aa+H];if(0<H){for(V=-1;16>V;++V)r(se,fe+32*V-4,se,fe+32*V+12,4);for(V=-1;8>V;++V)r(me,ve+32*V-4,me,ve+32*V+4,4),r(Te,Be+32*V-4,Te,Be+32*V+4,4)}var Le=x.Gd,rt=x.Hd+H,Je=Ve.ad,Ne=Ve.Hc;if(0<Q&&(r(se,fe-32,Le[rt].y,0,16),r(me,ve-32,Le[rt].f,0,8),r(Te,Be-32,Le[rt].ea,0,8)),Ve.Za){var Pe=se,et=fe-32+16;for(0<Q&&(H>=x.za-1?i(Pe,et,Le[rt].y[15],4):r(Pe,et,Le[rt+1].y,0,4)),V=0;4>V;V++)Pe[et+128+V]=Pe[et+256+V]=Pe[et+384+V]=Pe[et+0+V];for(V=0;16>V;++V,Ne<<=2)Pe=se,et=fe+J0[V],_o[Ve.Ob[V]](Pe,et),ci(Ne,Je,16*+V,Pe,et)}else if(Pe=Xi(H,Q,Ve.Ob[0]),ts[Pe](se,fe),Ne!=0)for(V=0;16>V;++V,Ne<<=2)ci(Ne,Je,16*+V,se,fe+J0[V]);for(V=Ve.Gc,Pe=Xi(H,Q,Ve.Dd),bs[Pe](me,ve),bs[Pe](Te,Be),Ne=Je,Pe=me,et=ve,255&(Ve=V>>0)&&(170&Ve?ll(Ne,256,Pe,et):Qs(Ne,256,Pe,et)),Ve=Te,Ne=Be,255&(V>>=8)&&(170&V?ll(Je,320,Ve,Ne):Qs(Je,320,Ve,Ne)),Q<x.Ub-1&&(r(Le[rt].y,0,se,fe+480,16),r(Le[rt].f,0,me,ve+224,8),r(Le[rt].ea,0,Te,Be+224,8)),V=8*te*x.B,Le=x.sa,rt=x.ta+16*H+16*te*x.R,Je=x.qa,Ve=x.ra+8*H+V,Ne=x.Ha,Pe=x.Ia+8*H+V,V=0;16>V;++V)r(Le,rt+V*x.R,se,fe+32*V,16);for(V=0;8>V;++V)r(Je,Ve+V*x.B,me,ve+32*V,8),r(Ne,Pe+V*x.B,Te,Be+32*V,8)}}function Zo(x,k,V,H,Q,te,se,fe,me){var ve=[0],Te=[0],Be=0,Ve=me!=null?me.kd:0,Le=me??new Xo;if(x==null||12>V)return 7;Le.data=x,Le.w=k,Le.ha=V,k=[k],V=[V],Le.gb=[Le.gb];e:{var rt=k,Je=V,Ne=Le.gb;if(e(x!=null),e(Je!=null),e(Ne!=null),Ne[0]=0,12<=Je[0]&&!t(x,rt[0],"RIFF")){if(t(x,rt[0]+8,"WEBP")){Ne=3;break e}var Pe=$e(x,rt[0]+4);if(12>Pe||4294967286<Pe){Ne=3;break e}if(Ve&&Pe>Je[0]-8){Ne=7;break e}Ne[0]=Pe,rt[0]+=12,Je[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Pe=0<Le.gb[0],V=V[0];;){e:{var et=x;Je=k,Ne=V;var Ze=ve,tt=Te,St=rt=[0];if((wt=Be=[Be])[0]=0,8>Ne[0])Ne=7;else{if(!t(et,Je[0],"VP8X")){if($e(et,Je[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var bt=$e(et,Je[0]+8),Ot=1+je(et,Je[0]+12);if(2147483648<=Ot*(et=1+je(et,Je[0]+15))){Ne=3;break e}St!=null&&(St[0]=bt),Ze!=null&&(Ze[0]=Ot),tt!=null&&(tt[0]=et),Je[0]+=18,Ne[0]-=18,wt[0]=1}Ne=0}}if(Be=Be[0],rt=rt[0],Ne!=0)return Ne;if(Je=!!(2&rt),!Pe&&Be)return 3;if(te!=null&&(te[0]=!!(16&rt)),se!=null&&(se[0]=Je),fe!=null&&(fe[0]=0),se=ve[0],rt=Te[0],Be&&Je&&me==null){Ne=0;break}if(4>V){Ne=7;break}if(Pe&&Be||!Pe&&!Be&&!t(x,k[0],"ALPH")){V=[V],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{bt=x,Ne=k,Pe=V;var wt=Le.gb;Ze=Le.na,tt=Le.P,St=Le.Sa,Ot=22,e(bt!=null),e(Pe!=null),et=Ne[0];var Pn=Pe[0];for(e(Ze!=null),e(St!=null),Ze[0]=null,tt[0]=null,St[0]=0;;){if(Ne[0]=et,Pe[0]=Pn,8>Pn){Ne=7;break e}var In=$e(bt,et+4);if(4294967286<In){Ne=3;break e}var wn=8+In+1&-2;if(Ot+=wn,0<wt&&Ot>wt){Ne=3;break e}if(!t(bt,et,"VP8 ")||!t(bt,et,"VP8L")){Ne=0;break e}if(Pn[0]<wn){Ne=7;break e}t(bt,et,"ALPH")||(Ze[0]=bt,tt[0]=et+8,St[0]=In),et+=wn,Pn-=wn}}if(V=V[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ne!=0)break}V=[V],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(wt=x,Ne=k,Pe=V,Ze=Le.gb[0],tt=Le.Ja,St=Le.xa,bt=Ne[0],et=!t(wt,bt,"VP8 "),Ot=!t(wt,bt,"VP8L"),e(wt!=null),e(Pe!=null),e(tt!=null),e(St!=null),8>Pe[0])Ne=7;else{if(et||Ot){if(wt=$e(wt,bt+4),12<=Ze&&wt>Ze-12){Ne=3;break e}if(Ve&&wt>Pe[0]-8){Ne=7;break e}tt[0]=wt,Ne[0]+=8,Pe[0]-=8,St[0]=Ot}else St[0]=5<=Pe[0]&&wt[bt+0]==47&&!(wt[bt+4]>>5),tt[0]=Pe[0];Ne=0}if(V=V[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],k=k[0],Ne!=0)break;if(4294967286<Le.Ja)return 3;if(fe==null||Je||(fe[0]=Le.xa?2:1),se=[se],rt=[rt],Le.xa){if(5>V){Ne=7;break}fe=se,Ve=rt,Je=te,x==null||5>V?x=0:5<=V&&x[k+0]==47&&!(x[k+4]>>5)?(Pe=[0],wt=[0],Ze=[0],X(tt=new $,x,k,V),gt(tt,Pe,wt,Ze)?(fe!=null&&(fe[0]=Pe[0]),Ve!=null&&(Ve[0]=wt[0]),Je!=null&&(Je[0]=Ze[0]),x=1):x=0):x=0}else{if(10>V){Ne=7;break}fe=rt,x==null||10>V||!Gc(x,k+3,V-3)?x=0:(Ve=x[k+0]|x[k+1]<<8|x[k+2]<<16,Je=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&Ve||3<(Ve>>1&7)||!(Ve>>4&1)||Ve>>5>=Le.Ja||!Je||!x?x=0:(se&&(se[0]=Je),fe&&(fe[0]=x),x=1))}if(!x||(se=se[0],rt=rt[0],Be&&(ve[0]!=se||Te[0]!=rt)))return 3;me!=null&&(me[0]=Le,me.offset=k-me.w,e(4294967286>k-me.w),e(me.offset==me.ha-V));break}return Ne==0||Ne==7&&Be&&me==null?(te!=null&&(te[0]|=Le.na!=null&&0<Le.na.length),H!=null&&(H[0]=se),Q!=null&&(Q[0]=rt),0):Ne}function Xu(x,k,V){var H=k.width,Q=k.height,te=0,se=0,fe=H,me=Q;if(k.Da=x!=null&&0<x.Da,k.Da&&(fe=x.cd,me=x.bd,te=x.v,se=x.j,11>V||(te&=-2,se&=-2),0>te||0>se||0>=fe||0>=me||te+fe>H||se+me>Q))return 0;if(k.v=te,k.j=se,k.va=te+fe,k.o=se+me,k.U=fe,k.T=me,k.da=x!=null&&0<x.da,k.da){if(!qe(fe,me,V=[x.ib],te=[x.hb]))return 0;k.ib=V[0],k.hb=te[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*H/4&&k.hb<3*Q/4,k.Kb=0),1}function Ju(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function Zc(x,k,V,H){if(H==null||0>=x||0>=k)return 2;if(V!=null){if(V.Da){var Q=V.cd,te=V.bd,se=-2&V.v,fe=-2&V.j;if(0>se||0>fe||0>=Q||0>=te||se+Q>x||fe+te>k)return 2;x=Q,k=te}if(V.da){if(!qe(x,k,Q=[V.ib],te=[V.hb]))return 2;x=Q[0],k=te[0]}}H.width=x,H.height=k;e:{var me=H.width,ve=H.height;if(x=H.S,0>=me||0>=ve||!(x>=Yh&&13>x))x=2;else{if(0>=H.Rd&&H.sd==null){se=te=Q=k=0;var Te=(fe=me*Vf[x])*ve;if(11>x||(te=(ve+1)/2*(k=(me+1)/2),x==12&&(se=(Q=me)*ve)),(ve=s(Te+2*te+se))==null){x=1;break e}H.sd=ve,11>x?((me=H.f.RGBA).eb=ve,me.fb=0,me.A=fe,me.size=Te):((me=H.f.kb).y=ve,me.O=0,me.fa=fe,me.Fd=Te,me.f=ve,me.N=0+Te,me.Ab=k,me.Cd=te,me.ea=ve,me.W=0+Te+te,me.Db=k,me.Ed=te,x==12&&(me.F=ve,me.J=0+Te+2*te),me.Tc=se,me.lb=Q)}if(k=1,Q=H.S,te=H.width,se=H.height,Q>=Yh&&13>Q)if(11>Q)x=H.f.RGBA,k&=(fe=Math.abs(x.A))*(se-1)+te<=x.size,k&=fe>=te*Vf[Q],k&=x.eb!=null;else{x=H.f.kb,fe=(te+1)/2,Te=(se+1)/2,me=Math.abs(x.fa),ve=Math.abs(x.Ab);var Be=Math.abs(x.Db),Ve=Math.abs(x.lb),Le=Ve*(se-1)+te;k&=me*(se-1)+te<=x.Fd,k&=ve*(Te-1)+fe<=x.Cd,k=(k&=Be*(Te-1)+fe<=x.Ed)&me>=te&ve>=fe&Be>=fe,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,Q==12&&(k&=Ve>=te,k&=Le<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||V!=null&&V.fd&&(x=Ju(H)),x}var Er=64,Qu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zu=24,ed=32,td=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(x){return x},C.Predictor2=function(x,k,V){return k[V+0]},C.Predictor3=function(x,k,V){return k[V+1]},C.Predictor4=function(x,k,V){return k[V-1]},C.Predictor5=function(x,k,V){return le(le(x,k[V+1]),k[V+0])},C.Predictor6=function(x,k,V){return le(x,k[V-1])},C.Predictor7=function(x,k,V){return le(x,k[V+0])},C.Predictor8=function(x,k,V){return le(k[V-1],k[V+0])},C.Predictor9=function(x,k,V){return le(k[V+0],k[V+1])},C.Predictor10=function(x,k,V){return le(le(x,k[V-1]),le(k[V+0],k[V+1]))},C.Predictor11=function(x,k,V){var H=k[V+0];return 0>=Ke(H>>24&255,x>>24&255,(k=k[V-1])>>24&255)+Ke(H>>16&255,x>>16&255,k>>16&255)+Ke(H>>8&255,x>>8&255,k>>8&255)+Ke(255&H,255&x,255&k)?H:x},C.Predictor12=function(x,k,V){var H=k[V+0];return(be((x>>24&255)+(H>>24&255)-((k=k[V-1])>>24&255))<<24|be((x>>16&255)+(H>>16&255)-(k>>16&255))<<16|be((x>>8&255)+(H>>8&255)-(k>>8&255))<<8|be((255&x)+(255&H)-(255&k)))>>>0},C.Predictor13=function(x,k,V){var H=k[V-1];return(_e((x=le(x,k[V+0]))>>24&255,H>>24&255)<<24|_e(x>>16&255,H>>16&255)<<16|_e(x>>8&255,H>>8&255)<<8|_e(x>>0&255,H>>0&255))>>>0};var eu=C.PredictorAdd0;C.PredictorAdd1=ze,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var il=C.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Kh,Qi=C.ColorIndexInverseTransform,nd=C.MapARGB,Pf=C.VP8LColorIndexInverseTransformAlpha,rd=C.MapAlpha,Ca=C.VP8LPredictorsAdd=[];Ca.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var nc,Zi,Ai,rc,sl,ol,id,al,Ln,ll,_i,Qs,tu,If,nu,ru,iu,Zs,cl,Aa,ul,dl,ic,ui,xs,Zn,qn,Cr,Lr=s(511),_a=s(2041),sd=s(225),su=s(767),Df=0,Ta=_a,od=sd,es=su,Ao=Lr,Yh=0,sc=1,N1=2,Rf=3,Lf=4,er=5,Xh=6,ad=7,ou=8,Of=9,Mf=10,Ff=[2,3,7],Jh=[3,3,11],au=[280,256,256,256,40],P1=[0,1,1,1,0],Db=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Rb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],I1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Qh=8,ld=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],lu=null,G0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],K0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],D1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],R1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Lb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ob=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Y0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ts=[],_o=[],bs=[],ka=1,cd=2,Ti=[],ws=[];Qe("UpsampleRgbLinePair",he,3),Qe("UpsampleBgrLinePair",Re,3),Qe("UpsampleRgbaLinePair",tn,4),Qe("UpsampleBgraLinePair",vn,4),Qe("UpsampleArgbLinePair",en,4),Qe("UpsampleRgba4444LinePair",ct,2),Qe("UpsampleRgb565LinePair",We,2);var Mb=C.UpsampleRgbLinePair,Fb=C.UpsampleBgrLinePair,oc=C.UpsampleRgbaLinePair,ud=C.UpsampleBgraLinePair,cu=C.UpsampleArgbLinePair,Bf=C.UpsampleRgba4444LinePair,X0=C.UpsampleRgb565LinePair,fl=16,ea=1<<fl-1,Hn=-227,Yn=482,ac=6,di=0,Ss=s(256),uu=s(256),dd=s(256),Es=s(256),Zh=s(Yn-Hn),L1=s(Yn-Hn);Un("YuvToRgbRow",he,3),Un("YuvToBgrRow",Re,3),Un("YuvToRgbaRow",tn,4),Un("YuvToBgraRow",vn,4),Un("YuvToArgbRow",en,4),Un("YuvToRgba4444Row",ct,2),Un("YuvToRgb565Row",We,2);var J0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],du=[0,2,8],O1=[8,7,6,4,4,2,2,2,1,1,1,1],hl=1;this.WebPDecodeRGBA=function(x,k,V,H,Q){var te=sc,se=new Js,fe=new nr;se.ba=fe,fe.S=te,fe.width=[fe.width],fe.height=[fe.height];var me=fe.width,ve=fe.height,Te=new hn;if(Te==null||x==null)var Be=2;else e(Te!=null),Be=Zo(x,k,V,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Be!=0?me=0:(me!=null&&(me[0]=Te.width[0]),ve!=null&&(ve[0]=Te.height[0]),me=1),me){fe.width=fe.width[0],fe.height=fe.height[0],H!=null&&(H[0]=fe.width),Q!=null&&(Q[0]=fe.height);e:{if(H=new Qa,(Q=new Xo).data=x,Q.w=k,Q.ha=V,Q.kd=1,k=[0],e(Q!=null),((x=Zo(Q.data,Q.w,Q.ha,null,null,null,k,null,Q))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(e(se!=null),H.data=Q.data,H.w=Q.w+Q.offset,H.ha=Q.ha-Q.offset,H.put=Rn,H.ac=pn,H.bc=ar,H.ma=se,Q.xa){if((x=br())==null){se=1;break e}if(function(Ve,Le){var rt=[0],Je=[0],Ne=[0];t:for(;;){if(Ve==null)return 0;if(Le==null)return Ve.a=2,0;if(Ve.l=Le,Ve.a=0,X(Ve.m,Le.data,Le.w,Le.ha),!gt(Ve.m,rt,Je,Ne)){Ve.a=3;break t}if(Ve.xb=cd,Le.width=rt[0],Le.height=Je[0],!Ws(rt[0],Je[0],1,Ve,null))break t;return 1}return e(Ve.a!=0),0}(x,H)){if(H=(k=Zc(H.width,H.height,se.Oa,se.ba))==0){t:{H=x;n:for(;;){if(H==null){H=0;break t}if(e(H.s.yc!=null),e(H.s.Ya!=null),e(0<H.s.Wb),e((V=H.l)!=null),e((Q=V.ma)!=null),H.xb!=0){if(H.ca=Q.ba,H.tb=Q.tb,e(H.ca!=null),!Xu(Q.Oa,V,Rf)){H.a=2;break n}if(!zo(H,V.width)||V.da)break n;if((V.da||Xt(H.ca.S))&&Me(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&Me()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!st(H.s.vb,H.s.Wa.Xa)){H.a=1;break n}H.xb=0}if(!Tr(H,H.V,H.Ba,H.c,H.i,V.o,xi))break n;Q.Dc=H.Ma,H=1;break t}e(H.a!=0),H=0}H=!H}H&&(k=x.a)}else k=x.a}else{if((x=new ii)==null){se=1;break e}if(x.Fa=Q.na,x.P=Q.P,x.qc=Q.Sa,Kc(x,H)){if((k=Zc(H.width,H.height,se.Oa,se.ba))==0){if(x.Aa=0,V=se.Oa,e((Q=x)!=null),V!=null){if(0<(me=0>(me=V.Md)?0:100<me?255:255*me/100)){for(ve=Te=0;4>ve;++ve)12>(Be=Q.pb[ve]).lc&&(Be.ia=me*O1[0>Be.lc?0:Be.lc]>>3),Te|=Be.ia;Te&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=V.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}ma(x,H)||(k=x.a)}}else k=x.a}k==0&&se.Oa!=null&&se.Oa.fd&&(k=Ju(se.ba))}se=k}te=se!=0?null:11>te?fe.f.RGBA.eb:fe.f.kb.y}else te=null;return te};var Vf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,I){for(var P="",N=0;N<4;N++)P+=String.fromCharCode(C[I++]);return P}function u(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16)>>>0}function f(C,I){return(C[I+0]<<0|C[I+1]<<8|C[I+2]<<16|C[I+3]<<24)>>>0}new l;var m=[0],p=[0],g=[],v=new l,b=n,S=function(C,I){var P={},N=0,D=!1,L=0,W=0;if(P.frames=[],!function(K,J,ee,ce){for(var ue=0;ue<ce;ue++)if(K[J+ue]!=ee.charCodeAt(ue))return!0;return!1}(C,I,"RIFF",4)){for(f(C,I+=4),I+=8;I<C.length;){var ie=c(C,I),oe=f(C,I+=4);I+=4;var re=oe+(1&oe);switch(ie){case"VP8 ":case"VP8L":P.frames[N]===void 0&&(P.frames[N]={}),(ae=P.frames[N]).src_off=D?W:I-8,ae.src_size=L+oe+8,N++,D&&(D=!1,L=0,W=0);break;case"VP8X":(ae=P.header={}).feature_flags=C[I];var X=I+4;ae.canvas_width=1+u(C,X),X+=3,ae.canvas_height=1+u(C,X),X+=3;break;case"ALPH":D=!0,L=re+8,W=I-8;break;case"ANIM":(ae=P.header).bgcolor=f(C,I),X=I+4,ae.loop_count=(Y=C)[($=X)+0]<<0|Y[$+1]<<8,X+=2;break;case"ANMF":var de,ae;(ae=P.frames[N]={}).offset_x=2*u(C,I),I+=3,ae.offset_y=2*u(C,I),I+=3,ae.width=1+u(C,I),I+=3,ae.height=1+u(C,I),I+=3,ae.duration=u(C,I),I+=3,de=C[I++],ae.dispose=1&de,ae.blend=de>>1&1}ie!="ANMF"&&(I+=re)}var Y,$;return P}}(b,0);S.response=b,S.rgbaoutput=!0,S.dataurl=!1;var E=S.header?S.header:null,_=S.frames?S.frames:null;if(E){E.loop_counter=E.loop_count,m=[E.canvas_height],p=[E.canvas_width];for(var R=0;R<_.length&&_[R].blend!=0;R++);}var B=_[0],U=v.WebPDecodeRGBA(b,B.src_off,B.src_size,p,m);B.rgba=U,B.imgwidth=p[0],B.imgheight=m[0];for(var O=0;O<p[0]*m[0]*4;O++)g[O]=U[O];return this.width=p,this.height=m,this.data=g,this}(function(n){var e=function(){return typeof bC=="function"},t=function(m,p,g,v){var b=4,S=o;switch(v){case n.image_compression.FAST:b=1,S=s;break;case n.image_compression.MEDIUM:b=6,S=a;break;case n.image_compression.SLOW:b=9,S=l}m=r(m,p,g,S);var E=bC(m,{level:b});return n.__addimage__.arrayBufferToBinaryString(E)},r=function(m,p,g,v){for(var b,S,E,_=m.length/p,R=new Uint8Array(m.length+_),B=u(),U=0;U<_;U+=1){if(E=U*p,b=m.subarray(E,E+p),v)R.set(v(b,g,S),E+U);else{for(var O,C=B.length,I=[];O<C;O+=1)I[O]=B[O](b,g,S);var P=f(I.concat());R.set(I[P],E+U)}S=b}return R},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var g,v=[],b=m.length;v[0]=1;for(var S=0;S<b;S+=1)g=m[S-p]||0,v[S+1]=m[S]-g+256&255;return v},o=function(m,p,g){var v,b=[],S=m.length;b[0]=2;for(var E=0;E<S;E+=1)v=g&&g[E]||0,b[E+1]=m[E]-v+256&255;return b},a=function(m,p,g){var v,b,S=[],E=m.length;S[0]=3;for(var _=0;_<E;_+=1)v=m[_-p]||0,b=g&&g[_]||0,S[_+1]=m[_]+256-(v+b>>>1)&255;return S},l=function(m,p,g){var v,b,S,E,_=[],R=m.length;_[0]=4;for(var B=0;B<R;B+=1)v=m[B-p]||0,b=g&&g[B]||0,S=g&&g[B-p]||0,E=c(v,b,S),_[B+1]=m[B]-E+256&255;return _},c=function(m,p,g){if(m===p&&p===g)return m;var v=Math.abs(p-g),b=Math.abs(m-g),S=Math.abs(m+p-g-g);return v<=b&&v<=S?m:b<=S?p:g},u=function(){return[i,s,o,a,l]},f=function(m){var p=m.map(function(g){return g.reduce(function(v,b){return v+Math.abs(b)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(m,p,g,v){var b,S,E,_,R,B,U,O,C,I,P,N,D,L,W,ie=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(E=new Sme(m)).imgData,S=E.bits,b=E.colorSpace,R=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){C=(O=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,P=new Uint8Array(C*E.colors),I=new Uint8Array(C);var re,X=E.pixelBitlength-E.bits;for(L=0,W=0;L<C;L++){for(D=O[L],re=0;re<X;)P[W++]=D>>>re&255,re+=E.bits;I[L]=D>>>re&255}}if(E.bits===16){C=(O=new Uint32Array(E.decodePixels().buffer)).length,P=new Uint8Array(C*(32/E.pixelBitlength)*E.colors),I=new Uint8Array(C*(32/E.pixelBitlength)),N=E.colors>1,L=0,W=0;for(var de=0;L<C;)D=O[L++],P[W++]=D>>>0&255,N&&(P[W++]=D>>>16&255,D=O[L++],P[W++]=D>>>0&255),I[de++]=D>>>16&255;S=8}v!==n.image_compression.NONE&&e()?(m=t(P,E.width*E.colors,E.colors,v),U=t(I,E.width,1,v)):(m=P,U=I,ie=void 0)}if(E.colorType===3&&(b=this.color_spaces.INDEXED,B=E.palette,E.transparency.indexed)){var ae=E.transparency.indexed,Y=0;for(L=0,C=ae.length;L<C;++L)Y+=ae[L];if((Y/=255)===C-1&&ae.indexOf(0)!==-1)_=[ae.indexOf(0)];else if(Y!==C){for(O=E.decodePixels(),I=new Uint8Array(O.length),L=0,C=O.length;L<C;L++)I[L]=ae[O[L]];U=t(I,E.width,1)}}var $=function(K){var J;switch(K){case n.image_compression.FAST:J=11;break;case n.image_compression.MEDIUM:J=13;break;case n.image_compression.SLOW:J=14;break;default:J=12}return J}(v);return ie===this.decode.FLATE_DECODE&&(oe="/Predictor "+$+" "),oe+="/Colors "+R+" /BitsPerComponent "+S+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:g,data:m,index:p,filter:ie,decodeParameters:oe,transparency:_,palette:B,sMask:U,predictor:$,width:E.width,height:E.height,bitsPerComponent:S,colorSpace:b}}}})(Ut.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new Eme(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new G5(100).encode(c,100);return n.processJPEG.call(this,u,t,r,i)},n.processGIF87A=n.processGIF89A}(Ut.API),Cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){sr.log("bit decode error:"+t)}},Cl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}t!==0&&(this.pos+=4-t)}},Cl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Cl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Cl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},Cl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&t)/t*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},Cl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Cl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Cl.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Cl(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new G5(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ut.API),_D.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new _D(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new G5(100).encode(l,100);return n.processJPEG.call(this,c,t,r,i)}}(Ut.API),Ut.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],m=r[c+2],p=r[c+3];s[a++]=u,s[a++]=f,s[a++]=m,o[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ut.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ep=Ut.API,By=Ep.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=e.doKerning!==!1,m=0,p=n.length,g=0,v=a[0]||l,b=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=f&&tr(c[r])==="object"&&!isNaN(parseInt(c[r][g],10))?c[r][g]/u:0,b.push((a[r]||v)/l+m)),g=r;return b},SD=Ep.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ep.processArabic&&(n=Ep.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:By.apply(this,arguments).reduce(function(s,o){return s+o},0)},ED=function(n,e,t,r){for(var i=[],s=0,o=n.length,a=0;s!==o&&a+e[s]<t;)a+=e[s],s++;i.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(n.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(n.slice(l,s)),i},CD=function(n,e,t){t||(t={});var r,i,s,o,a,l,c,u=[],f=[u],m=t.textIndent||0,p=0,g=0,v=n.split(" "),b=By.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var S=Array(l).join(" "),E=[];v.map(function(R){(R=R.split(/\s*\n/)).length>1?E=E.concat(R.map(function(B,U){return(U&&B.length?`
`:"")+B})):E.push(R[0])}),v=E,l=SD.apply(this,[S,t])}for(s=0,o=v.length;s<o;s++){var _=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),m+p+(g=(i=By.apply(this,[r,t])).reduce(function(R,B){return R+B},0))>e||_){if(g>e){for(a=ED.apply(this,[r,i,e-(m+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)f.push([a.shift()]);g=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(R,B){return R+B},0)}else u=[r];f.push(u),m=g+l,p=b}else u.push(r),m+=p+g,p=b}return c=l?function(R,B){return(B?S:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(c)},Ep.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(CD.apply(this,[r[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=n.__fontmetrics__.compress=function(f){var m,p,g,v,b=["{"];for(var S in f){if(m=f[S],isNaN(parseInt(S,10))?p="'"+S+"'":(S=parseInt(S,10),p=(p=s(S).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(g=s(m).slice(3),v="-"):(g=s(m).slice(2),v=""),g=v+g.slice(0,-1)+r[g.slice(-1)];else{if(tr(m)!=="object")throw new Error("Don't know what to do with value type "+tr(m)+".");g=o(m)}b.push(p+g)}return b.push("}"),b.join("")},a=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,g,v,b={},S=1,E=b,_=[],R="",B="",U=f.length-1,O=1;O<U;O+=1)(v=f[O])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(_.push([E,g]),E={},g=void 0):v=="}"?((p=_.pop())[0][p[1]]=E,g=void 0,E=p[0]):v=="-"?S=-1:g===void 0?t.hasOwnProperty(v)?(R+=t[v],g=parseInt(R,16)*S,S=1,R=""):R+=v:t.hasOwnProperty(v)?(B+=t[v],E[g]=parseInt(B,16)*S,S=1,g=void 0,B=""):B+=v;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var m=f.font,p=u.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var g=c.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])}(Ut.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(sg(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ut),function(n){function e(){return(Ht.canvg?Promise.resolve(Ht.canvg):mC(()=>import("./index.es-W5yJePnL.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ut.API.addSvgAsImage=function(t,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(g){return g.fromString(f,t,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(m)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),Ut.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ut.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,f=0;function m(g,v){var b,S=!1;for(b=0;b<g.length;b+=1)g[b]===v&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=a.length;for(f=0;f<p;f+=1)t[a[f]].value=t[a[f]].defaultValue,t[a[f]].explicitSet=!1}if(tr(n)==="object"){for(i in n)if(s=n[i],m(a,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&m(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,v=[];for(g in t)t[g].explicitSet===!0&&(t[g].type==="name"?v.push("/"+g+" /"+t[g].value):v.push("/"+g+" "+t[g].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ut.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,m=s.length;f<m;++f){if(a=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(f),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,f,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(a=Object.keys(s).sort(function(p,g){return p-g})).length;f<m;f++)o=a[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="Identity-H"){for(var f=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);var v=c();u({data:p,addLength1:!0,objectId:v}),l("endobj");var b=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Dp(a.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var E=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Dp(a.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Dp(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+E+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var f=a.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var g=c();u({data:m,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Dp(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var S=0;S<a.metadata.hmtx.widths.length;S++)a.metadata.hmtx.widths[S]=parseInt(a.metadata.hmtx.widths[S]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Dp(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,g=f.fonts,v=p,b="",S=0,E="",_=g[v].encoding;if(g[v].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:f};for(E=a,v=p,Array.isArray(a)&&(E=a[0]),S=0;S<E.length;S+=1)g[v].metadata.hasOwnProperty("cmap")&&(o=g[v].metadata.cmap.unicode.codeMap[E[S].charCodeAt(0)]),o||E[S].charCodeAt(0)<256&&g[v].metadata.hasOwnProperty("Unicode")?b+=E[S]:b+="";var R="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?R=m(b,v).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(R=t(b,g[v])),f.isHex=!0,{text:R,x:l,y:c,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ut),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ut.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,_=0;this.__bidiEngine__={};var R=function(N){var D=N.charCodeAt(),L=D>>8,W=v[L];return W!==void 0?f[256*W+(255&D)]:L===252||L===253?"AL":S.test(L)?"L":L===8?"R":"N"},B=function(N){for(var D,L=0;L<N.length;L++){if((D=R(N.charAt(L)))==="L")return!1;if(D==="R")return!0}return!1},U=function(N,D,L,W){var ie,oe,re,X,de=D[W];switch(de){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(de="AN");break;case"AL":E=!0,de="R";break;case"WS":de="N";break;case"CS":W<1||W+1>=D.length||(ie=L[W-1])!=="EN"&&ie!=="AN"||(oe=D[W+1])!=="EN"&&oe!=="AN"?de="N":E&&(oe="AN"),de=oe===ie?oe:"N";break;case"ES":de=(ie=W>0?L[W-1]:"B")==="EN"&&W+1<D.length&&D[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&L[W-1]==="EN"){de="EN";break}if(E){de="N";break}for(re=W+1,X=D.length;re<X&&D[re]==="ET";)re++;de=re<X&&D[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(X=D.length,re=W+1;re<X&&D[re]==="NSM";)re++;if(re<X){var ae=N[W],Y=ae>=1425&&ae<=2303||ae===64286;if(ie=D[re],Y&&(ie==="R"||ie==="AL")){de="R";break}}}de=W<1||(ie=D[W-1])==="B"?"N":L[W-1];break;case"B":E=!1,i=!0,de=_;break;case"S":s=!0,de="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":de="N"}return de},O=function(N,D,L){var W=N.split("");return L&&C(W,L,{hiLevel:_}),W.reverse(),D&&D.reverse(),W.join("")},C=function(N,D,L){var W,ie,oe,re,X,de=-1,ae=N.length,Y=0,$=[],K=_?p:m,J=[];for(E=!1,i=!1,s=!1,ie=0;ie<ae;ie++)J[ie]=R(N[ie]);for(oe=0;oe<ae;oe++){if(X=Y,$[oe]=U(N,J,$,oe),W=240&(Y=K[X][g[$[oe]]]),Y&=15,D[oe]=re=K[Y][5],W>0)if(W===16){for(ie=de;ie<oe;ie++)D[ie]=1;de=-1}else de=-1;if(K[Y][6])de===-1&&(de=oe);else if(de>-1){for(ie=de;ie<oe;ie++)D[ie]=re;de=-1}J[oe]==="B"&&(D[oe]=0),L.hiLevel|=re}s&&function(ee,ce,ue){for(var ge=0;ge<ue;ge++)if(ee[ge]==="S"){ce[ge]=_;for(var ye=ge-1;ye>=0&&ee[ye]==="WS";ye--)ce[ye]=_}}(J,D,ae)},I=function(N,D,L,W,ie){if(!(ie.hiLevel<N)){if(N===1&&_===1&&!i)return D.reverse(),void(L&&L.reverse());for(var oe,re,X,de,ae=D.length,Y=0;Y<ae;){if(W[Y]>=N){for(X=Y+1;X<ae&&W[X]>=N;)X++;for(de=Y,re=X-1;de<re;de++,re--)oe=D[de],D[de]=D[re],D[re]=oe,L&&(oe=L[de],L[de]=L[re],L[re]=oe);Y=X}Y++}}},P=function(N,D,L){var W=N.split(""),ie={hiLevel:_};return L||(L=[]),C(W,L,ie),function(oe,re,X){if(X.hiLevel!==0&&u)for(var de,ae=0;ae<oe.length;ae++)re[ae]===1&&(de=b.indexOf(oe[ae]))>=0&&(oe[ae]=b[de+1])}(W,L,ie),I(2,W,D,L,ie),I(1,W,D,L,ie),W.join("")};return this.__bidiEngine__.doBidiReorder=function(N,D,L){if(function(ie,oe){if(oe)for(var re=0;re<ie.length;re++)oe[re]=re;a===void 0&&(a=B(ie)),c===void 0&&(c=B(ie))}(N,D),o||!l||c)if(o&&l&&a^c)_=a?1:0,N=O(N,D,L);else if(!o&&l&&c)_=a?1:0,N=P(N,D,L),N=O(N,D);else if(!o||a||l||c){if(o&&!l&&a^c)N=O(N,D),a?(_=0,N=P(N,D,L)):(_=1,N=P(N,D,L),N=O(N,D));else if(o&&a&&!l&&c)_=1,N=P(N,D,L),N=O(N,D);else if(!o&&!l&&a^c){var W=u;a?(_=1,N=P(N,D,L),_=0,u=!1,N=P(N,D,L),u=W):(_=0,N=P(N,D,L),N=O(N,D),_=1,u=!1,N=P(N,D,L),u=W,N=O(N,D))}}else _=0,N=P(N,D,L);else _=a?1:0,N=P(N,D,L);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([t.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([t.doBidiReorder(i[a])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ut),Ut.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new yf(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new jme(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Cme(this.contents),this.head=new _me(this),this.name=new Ime(this),this.cmap=new t9(this),this.toUnicode={},this.hhea=new Tme(this),this.maxp=new Dme(this),this.hmtx=new Rme(this),this.post=new Nme(this),this.os2=new kme(this),this.loca=new Fme(this),this.glyf=new Lme(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var ql,yf=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,a,l;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Cme=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,a,l,c,u,f,m,p,g,v;for(v in p=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),o=Math.floor(f/l),u=16*p-f,(i=new yf).writeInt(this.scalarType),i.writeShort(p),i.writeShort(f),i.writeShort(o),i.writeShort(u),s=16*p,c=i.pos+s,a=null,g=[],t)for(m=t[v],i.writeString(v),i.writeInt(n(m)),i.writeInt(c),i.writeInt(m.length),g=g.concat(m),v==="head"&&(a=c),c+=m.length;c%4;)g.push(0),c++;return i.write(g),r=2981146554-n(i.data),i.pos=a+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=n9.call(t);t.length%4;)t.push(0);for(s=new yf(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Ame={}.hasOwnProperty,qc=function(n,e){for(var t in e)Ame.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ql=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var _me=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new yf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),TD=function(){function n(e,t){var r,i,s,o,a,l,c,u,f,m,p,g,v,b,S,E,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var R,B;for(B=[],l=R=0;0<=m?R<m:R>m;l=0<=m?++R:--R)B.push(e.readUInt16());return B}(),e.pos+=2,v=function(){var R,B;for(B=[],l=R=0;0<=m?R<m:R>m;l=0<=m?++R:--R)B.push(e.readUInt16());return B}(),c=function(){var R,B;for(B=[],l=R=0;0<=m?R<m:R>m;l=0<=m?++R:--R)B.push(e.readUInt16());return B}(),u=function(){var R,B;for(B=[],l=R=0;0<=m?R<m:R>m;l=0<=m?++R:--R)B.push(e.readUInt16());return B}(),i=(this.length-e.pos+this.offset)/2,a=function(){var R,B;for(B=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)B.push(e.readUInt16());return B}(),l=S=0,_=s.length;S<_;l=++S)for(b=s[l],r=E=g=v[l];g<=b?E<=b:E>=b;r=g<=b?++E:--E)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-g)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=f}return n.encode=function(e,t){var r,i,s,o,a,l,c,u,f,m,p,g,v,b,S,E,_,R,B,U,O,C,I,P,N,D,L,W,ie,oe,re,X,de,ae,Y,$,K,J,ee,ce,ue,ge,ye,Se,Ae,je;switch(W=new yf,o=Object.keys(e).sort(function($e,st){return $e-st}),t){case"macroman":for(v=0,b=function(){var $e=[];for(g=0;g<256;++g)$e.push(0);return $e}(),E={0:0},s={},ie=0,de=o.length;ie<de;ie++)E[ye=e[i=o[ie]]]==null&&(E[ye]=++v),s[i]={old:e[i],new:E[e[i]]},b[i]=E[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(b),{charMap:s,subtable:W.data,maxGlyphID:v+1};case"unicode":for(D=[],f=[],_=0,E={},r={},S=c=null,oe=0,ae=o.length;oe<ae;oe++)E[B=e[i=o[oe]]]==null&&(E[B]=++_),r[i]={old:B,new:E[B]},a=E[B]-i,S!=null&&a===c||(S&&f.push(S),D.push(i),c=a),S=i;for(S&&f.push(S),f.push(65535),D.push(65535),P=2*(I=D.length),C=2*Math.pow(Math.log(I)/Math.LN2,2),m=Math.log(C/2)/Math.LN2,O=2*I-C,l=[],U=[],p=[],g=re=0,Y=D.length;re<Y;g=++re){if(N=D[g],u=f[g],N===65535){l.push(0),U.push(0);break}if(N-(L=r[N].new)>=32768)for(l.push(0),U.push(2*(p.length+I-g)),i=X=N;N<=u?X<=u:X>=u;i=N<=u?++X:--X)p.push(r[i].new);else l.push(L-N),U.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*I+2*p.length),W.writeUInt16(0),W.writeUInt16(P),W.writeUInt16(C),W.writeUInt16(m),W.writeUInt16(O),ue=0,$=f.length;ue<$;ue++)i=f[ue],W.writeUInt16(i);for(W.writeUInt16(0),ge=0,K=D.length;ge<K;ge++)i=D[ge],W.writeUInt16(i);for(Se=0,J=l.length;Se<J;Se++)a=l[Se],W.writeUInt16(a);for(Ae=0,ee=U.length;Ae<ee;Ae++)R=U[Ae],W.writeUInt16(R);for(je=0,ce=p.length;je<ce;je++)v=p[je],W.writeUInt16(v);return{charMap:r,subtable:W.data,maxGlyphID:_+1}}},n}(),t9=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new TD(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=TD.encode(t,r),(s=new yf).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Tme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),kme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Nme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),Pme=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Ime=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,a,l,c,u,f,m,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},o=f=0,m=i.length;f<m;o=++f)s=i[o],t.pos=s.offset,u=t.readString(s.length),a=new Pme(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Dme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Rme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,a,l,c;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(t.readInt16());return f}(),this.widths=(function(){var u,f,m,p;for(p=[],u=0,f=(m=this.metrics).length;u<f;u++)o=m[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),n9=[].slice,Lme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,a,l,c,u,f,m;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,a=(l=new yf(r.read(s))).readShort(),u=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=a===-1?new Mme(l,u,m,c,f):new Ome(l,a,u,m,c,f),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=t[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),Ome=function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Mme=function(){function n(e,t,r,i,s){var o,a;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new yf(n9.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),Fme=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return qc(e,ql),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),f=0;f<i.length;++f)u[4*f+3]=255&i[f],u[4*f+2]=(65280&i[f])>>8,u[4*f+1]=(16711680&i[f])>>16,u[4*f]=(4278190080&i[f])>>24;return u},e}(),jme=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))r=l[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,a,l,c,u,f,m,p,g,v,b,S;for(i in r=t9.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},S=r.charMap)p[(l=S[i]).old]=l.new;for(g in m=r.maxGlyphID,o)g in p||(p[g]=m++);return u=function(E){var _,R;for(_ in R={},E)R[E[_]]=_;return R}(p),f=Object.keys(u).sort(function(E,_){return E-_}),v=function(){var E,_,R;for(R=[],E=0,_=f.length;E<_;E++)a=f[E],R.push(u[a]);return R}(),s=this.font.glyf.encode(o,v,p),c=this.font.loca.encode(s.offsets,v),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},n}();Ut.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+function(){var a,l,c;for(c=[],a=0,l=t.length;a<l;a++)r=t[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e}();var Cp={},K5,kD;function Bme(){return kD||(kD=1,K5=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),K5}var Y5={},kd={},ND;function Wh(){if(ND)return kd;ND=1;let n;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return kd.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},kd.getSymbolTotalCodewords=function(r){return e[r]},kd.getBCHDigit=function(t){let r=0;for(;t!==0;)r++,t>>>=1;return r},kd.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');n=r},kd.isKanjiModeEnabled=function(){return typeof n<"u"},kd.toSJIS=function(r){return n(r)},kd}var X5={},PD;function S4(){return PD||(PD=1,function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}}(X5)),X5}var J5,ID;function Vme(){if(ID)return J5;ID=1;function n(){this.buffer=[],this.length=0}return n.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},J5=n,J5}var Q5,DD;function $me(){if(DD)return Q5;DD=1;function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return n.prototype.set=function(e,t,r,i){const s=e*this.size+t;this.data[s]=r,i&&(this.reservedBit[s]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Q5=n,Q5}var Z5={},RD;function zme(){return RD||(RD=1,function(n){const e=Wh().getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}}(Z5)),Z5}var eS={},LD;function Ume(){if(LD)return eS;LD=1;const n=Wh().getSymbolSize,e=7;return eS.getPositions=function(r){const i=n(r);return[[0,0],[i-e,0],[0,i-e]]},eS}var tS={},OD;function qme(){return OD||(OD=1,function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let f=0;f<s;f++){a=l=0,c=u=null;for(let m=0;m<s;m++){let p=i.get(f,m);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(m,f),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),n.applyMask(c,i);const u=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(c,i),u<l&&(l=u,a=c)}return a}}(tS)),tS}var Vy={},MD;function r9(){if(MD)return Vy;MD=1;const n=S4(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Vy.getBlocksCount=function(i,s){switch(s){case n.L:return e[(i-1)*4+0];case n.M:return e[(i-1)*4+1];case n.Q:return e[(i-1)*4+2];case n.H:return e[(i-1)*4+3];default:return}},Vy.getTotalCodewordsCount=function(i,s){switch(s){case n.L:return t[(i-1)*4+0];case n.M:return t[(i-1)*4+1];case n.Q:return t[(i-1)*4+2];case n.H:return t[(i-1)*4+3];default:return}},Vy}var nS={},Em={},FD;function Hme(){if(FD)return Em;FD=1;const n=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)n[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)n[i]=n[i-255]}(),Em.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Em.exp=function(r){return n[r]},Em.mul=function(r,i){return r===0||i===0?0:n[e[r]+e[i]]},Em}var jD;function Wme(){return jD||(jD=1,function(n){const e=Hme();n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(nS)),nS}var rS,BD;function Gme(){if(BD)return rS;BD=1;const n=Wme();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=n.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=n.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},rS=e,rS}var iS={},sS={},oS={},VD;function i9(){return VD||(VD=1,oS.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),oS}var fc={},$D;function s9(){if($D)return fc;$D=1;const n="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;fc.KANJI=new RegExp(t,"g"),fc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),fc.BYTE=new RegExp(r,"g"),fc.NUMERIC=new RegExp(n,"g"),fc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+t+"$"),s=new RegExp("^"+n+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return fc.testKanji=function(l){return i.test(l)},fc.testNumeric=function(l){return s.test(l)},fc.testAlphanumeric=function(l){return o.test(l)},fc}var zD;function Gh(){return zD||(zD=1,function(n){const e=i9(),t=s9();n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}}(sS)),sS}var UD;function Kme(){return UD||(UD=1,function(n){const e=Wh(),t=r9(),r=S4(),i=Gh(),s=i9(),o=7973,a=e.getBCHDigit(o);function l(m,p,g){for(let v=1;v<=40;v++)if(p<=n.getCapacity(v,g,m))return v}function c(m,p){return i.getCharCountIndicator(m,p)+4}function u(m,p){let g=0;return m.forEach(function(v){const b=c(v.mode,p);g+=b+v.getBitsLength()}),g}function f(m,p){for(let g=1;g<=40;g++)if(u(m,g)<=n.getCapacity(g,p,i.MIXED))return g}n.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},n.getCapacity=function(p,g,v){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const b=e.getSymbolTotalCodewords(p),S=t.getTotalCodewordsCount(p,g),E=(b-S)*8;if(v===i.MIXED)return E;const _=E-c(v,p);switch(v){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},n.getBestVersionForData=function(p,g){let v;const b=r.from(g,r.M);if(Array.isArray(p)){if(p.length>1)return f(p,b);if(p.length===0)return 1;v=p[0]}else v=p;return l(v.mode,v.getLength(),b)},n.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;e.getBCHDigit(g)-a>=0;)g^=o<<e.getBCHDigit(g)-a;return p<<12|g}}(iS)),iS}var aS={},qD;function Yme(){if(qD)return aS;qD=1;const n=Wh(),e=1335,t=21522,r=n.getBCHDigit(e);return aS.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;n.getBCHDigit(l)-r>=0;)l^=e<<n.getBCHDigit(l)-r;return(a<<10|l)^t},aS}var lS={},cS,HD;function Xme(){if(HD)return cS;HD=1;const n=Gh();function e(t){this.mode=n.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},cS=e,cS}var uS,WD;function Jme(){if(WD)return uS;WD=1;const n=Gh(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(r){this.mode=n.ALPHANUMERIC,this.data=r}return t.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},uS=t,uS}var dS,GD;function Qme(){if(GD)return dS;GD=1;const n=Gh();function e(t){this.mode=n.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let r=0,i=this.data.length;r<i;r++)t.put(this.data[r],8)},dS=e,dS}var fS,KD;function Zme(){if(KD)return fS;KD=1;const n=Gh(),e=Wh();function t(r){this.mode=n.KANJI,this.data=r}return t.getBitsLength=function(i){return i*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},fS=t,fS}var hS={exports:{}},YD;function ege(){return YD||(YD=1,function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,c,u,f,m,p,g,v,b;!a.empty();){l=a.pop(),c=l.value,f=l.cost,m=t[c]||{};for(u in m)m.hasOwnProperty(u)&&(p=m[u],g=f+p,v=o[u],b=typeof o[u]>"u",(b||v>g)&&(o[u]=g,a.push(u,g),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e}(hS)),hS.exports}var XD;function tge(){return XD||(XD=1,function(n){const e=Gh(),t=Xme(),r=Jme(),i=Qme(),s=Zme(),o=s9(),a=Wh(),l=ege();function c(S){return unescape(encodeURIComponent(S)).length}function u(S,E,_){const R=[];let B;for(;(B=S.exec(_))!==null;)R.push({data:B[0],index:B.index,mode:E,length:B[0].length});return R}function f(S){const E=u(o.NUMERIC,e.NUMERIC,S),_=u(o.ALPHANUMERIC,e.ALPHANUMERIC,S);let R,B;return a.isKanjiModeEnabled()?(R=u(o.BYTE,e.BYTE,S),B=u(o.KANJI,e.KANJI,S)):(R=u(o.BYTE_KANJI,e.BYTE,S),B=[]),E.concat(_,R,B).sort(function(O,C){return O.index-C.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function m(S,E){switch(E){case e.NUMERIC:return t.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return s.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function p(S){return S.reduce(function(E,_){const R=E.length-1>=0?E[E.length-1]:null;return R&&R.mode===_.mode?(E[E.length-1].data+=_.data,E):(E.push(_),E)},[])}function g(S){const E=[];for(let _=0;_<S.length;_++){const R=S[_];switch(R.mode){case e.NUMERIC:E.push([R,{data:R.data,mode:e.ALPHANUMERIC,length:R.length},{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.ALPHANUMERIC:E.push([R,{data:R.data,mode:e.BYTE,length:R.length}]);break;case e.KANJI:E.push([R,{data:R.data,mode:e.BYTE,length:c(R.data)}]);break;case e.BYTE:E.push([{data:R.data,mode:e.BYTE,length:c(R.data)}])}}return E}function v(S,E){const _={},R={start:{}};let B=["start"];for(let U=0;U<S.length;U++){const O=S[U],C=[];for(let I=0;I<O.length;I++){const P=O[I],N=""+U+I;C.push(N),_[N]={node:P,lastCount:0},R[N]={};for(let D=0;D<B.length;D++){const L=B[D];_[L]&&_[L].node.mode===P.mode?(R[L][N]=m(_[L].lastCount+P.length,P.mode)-m(_[L].lastCount,P.mode),_[L].lastCount+=P.length):(_[L]&&(_[L].lastCount=P.length),R[L][N]=m(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,E))}}B=C}for(let U=0;U<B.length;U++)R[B[U]].end=0;return{map:R,table:_}}function b(S,E){let _;const R=e.getBestModeForData(S);if(_=e.from(E,R),_!==e.BYTE&&_.bit<R.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(R));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new t(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new s(S);case e.BYTE:return new i(S)}}n.fromArray=function(E){return E.reduce(function(_,R){return typeof R=="string"?_.push(b(R,null)):R.data&&_.push(b(R.data,R.mode)),_},[])},n.fromString=function(E,_){const R=f(E,a.isKanjiModeEnabled()),B=g(R),U=v(B,_),O=l.find_path(U.map,"start","end"),C=[];for(let I=1;I<O.length-1;I++)C.push(U.table[O[I]].node);return n.fromArray(p(C))},n.rawSplit=function(E){return n.fromArray(f(E,a.isKanjiModeEnabled()))}}(lS)),lS}var JD;function nge(){if(JD)return Y5;JD=1;const n=Wh(),e=S4(),t=Vme(),r=$me(),i=zme(),s=Ume(),o=qme(),a=r9(),l=Gme(),c=Kme(),u=Yme(),f=Gh(),m=tge();function p(U,O){const C=U.size,I=s.getPositions(O);for(let P=0;P<I.length;P++){const N=I[P][0],D=I[P][1];for(let L=-1;L<=7;L++)if(!(N+L<=-1||C<=N+L))for(let W=-1;W<=7;W++)D+W<=-1||C<=D+W||(L>=0&&L<=6&&(W===0||W===6)||W>=0&&W<=6&&(L===0||L===6)||L>=2&&L<=4&&W>=2&&W<=4?U.set(N+L,D+W,!0,!0):U.set(N+L,D+W,!1,!0))}}function g(U){const O=U.size;for(let C=8;C<O-8;C++){const I=C%2===0;U.set(C,6,I,!0),U.set(6,C,I,!0)}}function v(U,O){const C=i.getPositions(O);for(let I=0;I<C.length;I++){const P=C[I][0],N=C[I][1];for(let D=-2;D<=2;D++)for(let L=-2;L<=2;L++)D===-2||D===2||L===-2||L===2||D===0&&L===0?U.set(P+D,N+L,!0,!0):U.set(P+D,N+L,!1,!0)}}function b(U,O){const C=U.size,I=c.getEncodedBits(O);let P,N,D;for(let L=0;L<18;L++)P=Math.floor(L/3),N=L%3+C-8-3,D=(I>>L&1)===1,U.set(P,N,D,!0),U.set(N,P,D,!0)}function S(U,O,C){const I=U.size,P=u.getEncodedBits(O,C);let N,D;for(N=0;N<15;N++)D=(P>>N&1)===1,N<6?U.set(N,8,D,!0):N<8?U.set(N+1,8,D,!0):U.set(I-15+N,8,D,!0),N<8?U.set(8,I-N-1,D,!0):N<9?U.set(8,15-N-1+1,D,!0):U.set(8,15-N-1,D,!0);U.set(I-8,8,1,!0)}function E(U,O){const C=U.size;let I=-1,P=C-1,N=7,D=0;for(let L=C-1;L>0;L-=2)for(L===6&&L--;;){for(let W=0;W<2;W++)if(!U.isReserved(P,L-W)){let ie=!1;D<O.length&&(ie=(O[D]>>>N&1)===1),U.set(P,L-W,ie),N--,N===-1&&(D++,N=7)}if(P+=I,P<0||C<=P){P-=I,I=-I;break}}}function _(U,O,C){const I=new t;C.forEach(function(W){I.put(W.mode.bit,4),I.put(W.getLength(),f.getCharCountIndicator(W.mode,U)),W.write(I)});const P=n.getSymbolTotalCodewords(U),N=a.getTotalCodewordsCount(U,O),D=(P-N)*8;for(I.getLengthInBits()+4<=D&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const L=(D-I.getLengthInBits())/8;for(let W=0;W<L;W++)I.put(W%2?17:236,8);return R(I,U,O)}function R(U,O,C){const I=n.getSymbolTotalCodewords(O),P=a.getTotalCodewordsCount(O,C),N=I-P,D=a.getBlocksCount(O,C),L=I%D,W=D-L,ie=Math.floor(I/D),oe=Math.floor(N/D),re=oe+1,X=ie-oe,de=new l(X);let ae=0;const Y=new Array(D),$=new Array(D);let K=0;const J=new Uint8Array(U.buffer);for(let ye=0;ye<D;ye++){const Se=ye<W?oe:re;Y[ye]=J.slice(ae,ae+Se),$[ye]=de.encode(Y[ye]),ae+=Se,K=Math.max(K,Se)}const ee=new Uint8Array(I);let ce=0,ue,ge;for(ue=0;ue<K;ue++)for(ge=0;ge<D;ge++)ue<Y[ge].length&&(ee[ce++]=Y[ge][ue]);for(ue=0;ue<X;ue++)for(ge=0;ge<D;ge++)ee[ce++]=$[ge][ue];return ee}function B(U,O,C,I){let P;if(Array.isArray(U))P=m.fromArray(U);else if(typeof U=="string"){let ie=O;if(!ie){const oe=m.rawSplit(U);ie=c.getBestVersionForData(oe,C)}P=m.fromString(U,ie||40)}else throw new Error("Invalid data");const N=c.getBestVersionForData(P,C);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=N;else if(O<N)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+N+`.
`);const D=_(O,C,P),L=n.getSymbolSize(O),W=new r(L);return p(W,O),g(W),v(W,O),S(W,C,0),O>=7&&b(W,O),E(W,D),isNaN(I)&&(I=o.getBestMask(W,S.bind(null,W,C))),o.applyMask(I,W),S(W,C,I),{modules:W,version:O,errorCorrectionLevel:C,maskPattern:I,segments:P}}return Y5.create=function(O,C){if(typeof O>"u"||O==="")throw new Error("No input text");let I=e.M,P,N;return typeof C<"u"&&(I=e.from(C.errorCorrectionLevel,e.M),P=c.from(C.version),N=o.from(C.maskPattern),C.toSJISFunc&&n.setToSJISFunction(C.toSJISFunc)),B(O,P,I,N)},Y5}var pS={},mS={},QD;function o9(){return QD||(QD=1,function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,f=[s.color.light,s.color.dark];for(let m=0;m<c;m++)for(let p=0;p<c;p++){let g=(m*c+p)*4,v=s.color.light;if(m>=u&&p>=u&&m<c-u&&p<c-u){const b=Math.floor((m-u)/l),S=Math.floor((p-u)/l);v=f[a[b*o+S]?1:0]}r[g++]=v.r,r[g++]=v.g,r[g++]=v.b,r[g]=v.a}}}(mS)),mS}var ZD;function rge(){return ZD||(ZD=1,function(n){const e=o9();function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=r()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),f=c.getContext("2d"),m=f.createImageData(u,u);return e.qrToImageData(m.data,s,l),t(f,c,u),f.putImageData(m,0,0),c},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=n.render(s,o,l),u=l.type||"image/png",f=l.rendererOpts||{};return c.toDataURL(u,f.quality)}}(pS)),pS}var gS={},eR;function ige(){if(eR)return gS;eR=1;const n=o9();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function t(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",l=0,c=!1,u=0;for(let f=0;f<i.length;f++){const m=Math.floor(f%s),p=Math.floor(f/s);!m&&!c&&(c=!0),i[f]?(u++,f>0&&m>0&&i[f-1]||(a+=c?t("M",m+o,.5+p+o):t("m",l,0),l=0,c=!1),m+1<s&&i[f+1]||(a+=t("h",u),u=0)):l++}return a}return gS.render=function(s,o,a){const l=n.getOptions(o),c=s.modules.size,u=s.modules.data,f=c+l.margin*2,m=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+e(l.color.dark,"stroke")+' d="'+r(u,c,l.margin)+'"/>',g='viewBox="0 0 '+f+" "+f+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+g+' shape-rendering="crispEdges">'+m+p+`</svg>
`;return typeof a=="function"&&a(null,b),b},gS}var tR;function sge(){if(tR)return Cp;tR=1;const n=Bme(),e=nge(),t=rge(),r=ige();function i(s,o,a,l,c){const u=[].slice.call(arguments,1),f=u.length,m=typeof u[f-1]=="function";if(!m&&!n())throw new Error("Callback required as last argument");if(m){if(f<2)throw new Error("Too few arguments provided");f===2?(c=a,a=o,o=l=void 0):f===3&&(o.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=l=void 0):f===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(p,g){try{const v=e.create(a,l);p(s(v,o,l))}catch(v){g(v)}})}try{const p=e.create(a,l);c(null,s(p,o,l))}catch(p){c(p)}}return Cp.create=e.create,Cp.toCanvas=i.bind(null,t.render),Cp.toDataURL=i.bind(null,t.renderToDataURL),Cp.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),Cp}var oge=sge();const age=Vu(oge);function lge(){const[n,e]=F.useState([]),[t,r]=F.useState(null),[i,s]=F.useState("Todos"),[o,a]=F.useState(""),[l,c]=F.useState(null);F.useEffect(()=>{(async()=>{const b=(await pf(da(vr,"orders"))).docs.map(S=>{var R,B;const E=S.data(),_=E.cliente||{};return{id:S.id,client:_.nombre||E.client||"-",phone:_.telefono||E.phone||"-",address:_.direccion||E.address||"-",city:_.ciudad||E.city||"-",department:_.departamento||E.department||"-",postalCode:_.codigoPostal||E.postalCode||"-",items:E.items,total:E.total,status:E.status,createdAt:((B=(R=E.createdAt)==null?void 0:R.toDate)==null?void 0:B.call(R))??new Date}});e(b)})()},[]);const u=async(g,v)=>{const b=n.map(S=>S.id===g?{...S,status:v}:S);e(b),await E_(fo(vr,"orders",g.toString()),{status:v})},f=async g=>{console.log("[Etiqueta] Generando para:",g);const v=new Ut({orientation:"landscape",unit:"in",format:[4,6]}),S=await(await fetch("/logo-etiqueta.png")).blob(),E=new FileReader;E.onloadend=async()=>{const _=E.result;v.setDrawColor(200),v.rect(.2,.2,5.6,3.6),v.setFontSize(14),v.setFont(void 0,"bold"),v.text("Etiqueta de Envo",3,.6,{align:"center"}),v.addImage(_,"PNG",.4,1,1.6,1.6),v.setFontSize(12);let R=1;const B=2.4,U=3.8,O=(I,P)=>{v.setFont(void 0,"bold"),v.text(`${I}:`,B,R),v.setFont(void 0,"normal"),v.text(P,U,R),R+=.35};O("Orden",`${g.id??"-"}`),O("Nombre",g.client),O("Telfono",g.phone),O("Direccin",g.address),O("Ciudad",g.city),O("Departamento",g.department),O("Cdigo Postal",g.postalCode);const C=await age.toDataURL(`ID-${g.id}`);v.addImage(C,"PNG",5,2.8,.8,.8),v.save(`Etiqueta-${g.client}.pdf`)},E.readAsDataURL(S)},m=()=>{const g=[["ID","Cliente","Productos","Total","Estado"],...n.map(S=>[S.id,`"${S.client}"`,`"${S.items}"`,`"${S.total} USD"`,`"${S.status}"`])].map(S=>S.join(",")).join(`
`),v=new Blob([g],{type:"text/csv"}),b=document.createElement("a");b.href=URL.createObjectURL(v),b.download="pedidos.csv",b.click()},p=n.filter(g=>{const v=i==="Todos"?!0:i==="Entregado"?g.status==="Entregado":g.status===i,b=`${g.client} ${g.status} ${Array.isArray(g.items)?g.items.map(S=>S.nombre).join(" "):g.items}`.toLowerCase().includes(o.toLowerCase());return v&&b});return console.log("[PEDIDOS RENDERIZADOS]",n),A.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h2",{className:"text-xl font-bold",children:"Gestin de Pedidos"}),A.jsx("div",{className:"flex gap-2",children:A.jsx("button",{onClick:m,className:"bg-black text-white px-4 py-2 rounded hover:bg-black/80",children:"Exportar CSV"})})]}),A.jsx("div",{className:"flex gap-2 mb-4",children:["Todos","En Proceso","Enviado","Cancelado","Completado"].map(g=>A.jsx("button",{onClick:()=>s(g),className:`px-3 py-1 rounded text-sm border ${i===g?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:g},g))}),A.jsx("input",{type:"text",placeholder:"Buscar por cliente, producto o estado...",value:o,onChange:g=>a(g.target.value),className:"mb-4 p-2 border rounded w-full"}),A.jsxs("table",{className:"w-full text-left text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2",children:"Cliente"}),A.jsx("th",{className:"py-2",children:"Productos"}),A.jsx("th",{className:"py-2",children:"Total"}),A.jsx("th",{className:"py-2",children:"Estado"}),A.jsx("th",{className:"py-2",children:"Acciones"}),A.jsx("th",{className:"py-2",children:"Imprimir"})]})}),A.jsx("tbody",{children:p.map(g=>A.jsxs("tr",{className:`border-b ${g.status==="Cancelado"?"bg-gray-200 text-gray-500":g.status==="Entregado"?"bg-green-100 text-green-800":""}`,children:[A.jsx("td",{className:"py-2",children:g.client}),A.jsx("td",{className:"py-2",children:Array.isArray(g.items)?g.items.map(v=>`${v.nombre} (${v.talle}) x${v.cantidad}`).join(", "):g.items}),A.jsxs("td",{className:"py-2",children:[g.total," USD"]}),A.jsxs("td",{className:"py-2",children:[A.jsxs("div",{className:"flex space-x-2",children:[["En Proceso","Enviado","Confirmado"].map(v=>A.jsxs("label",{className:"flex items-center space-x-1",children:[A.jsx("input",{type:"checkbox",checked:g.status===v||g.status==="Entregado",onChange:()=>{g.status!==v&&u(g.id,v)},disabled:g.status==="Cancelado"}),A.jsx("span",{className:`text-xs ${v==="En Proceso"?"text-yellow-600":v==="Enviado"?"text-blue-600":v==="Confirmado"?"text-green-600":""}`,children:v})]},v)),A.jsx("button",{onClick:()=>u(g.id,g.status==="Cancelado"?"En Proceso":"Cancelado"),title:g.status==="Cancelado"?"Reactivar orden":"Cancelar orden",className:`text-red-600 font-bold text-sm ml-2 border rounded px-2 py-1 ${g.status==="Cancelado"?"bg-gray-300 text-black":"hover:bg-red-100"}`,children:""}),A.jsx("button",{onClick:()=>u(g.id,"Entregado"),title:"Marcar como entregado",className:`text-green-600 font-bold text-sm border rounded px-2 py-1 ${g.status==="Entregado"?"bg-green-200":"hover:bg-green-100"}`,children:""})]}),g.status==="Cancelado"&&A.jsx("span",{className:"ml-3 text-xs font-semibold bg-gray-300 text-gray-800 px-2 py-1 rounded",children:"CANCELADO"}),g.status==="Entregado"&&A.jsx("span",{className:"ml-3 text-xs font-semibold bg-green-200 text-green-800 px-2 py-1 rounded",children:"COMPLETADO"})]}),A.jsx("td",{className:"py-2",children:A.jsx("button",{onClick:()=>r(g),className:"text-blue-600 hover:underline text-sm",children:"Ver detalles"})}),A.jsxs("td",{className:"py-2",children:[A.jsx("button",{onClick:()=>f(g),className:"text-green-600 hover:underline text-sm",children:"Imprimir etiqueta"}),A.jsx("button",{onClick:()=>c(g),className:"text-red-500 hover:text-red-700 ml-3",title:"Eliminar orden",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4m-4 0a1 1 0 00-1 1v1h6V4a1 1 0 00-1-1m-4 0h4"})})})]})]},g.id))})]}),t&&A.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white p-6 rounded shadow-md w-full max-w-lg relative",children:[A.jsx("button",{onClick:()=>r(null),className:"absolute top-2 right-2 text-gray-600 hover:text-black",children:""}),A.jsxs("div",{id:"print-area",style:{fontFamily:"Arial, sans-serif",fontSize:"14px",padding:"40px"},children:[A.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[A.jsx("img",{src:"/logo-etiqueta.png",alt:"Logo Looma",style:{height:80}}),A.jsx("h2",{style:{margin:"10px 0"},children:"Factura / Packing List"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Orden ID:"})," ",t.id]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Fecha:"})," ",new Date().toLocaleDateString()]})]}),A.jsxs("div",{style:{border:"1px solid #ccc",padding:"20px",marginBottom:"30px"},children:[A.jsx("h3",{style:{marginBottom:"10px"},children:"Datos del Cliente"}),A.jsxs("p",{children:[A.jsx("strong",{children:"Cliente:"})," ",t.client]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Telfono:"})," ",t.phone]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Direccin:"})," ",t.address]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Ciudad:"})," ",t.city]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Departamento:"})," ",t.department]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Cdigo Postal:"})," ",t.postalCode]})]}),A.jsx("h3",{style:{marginBottom:"10px"},children:"Detalle del Pedido"}),A.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"30px"},border:1,children:[A.jsx("thead",{children:A.jsxs("tr",{style:{background:"#f9f9f9"},children:[A.jsx("th",{style:{padding:"10px"},children:"Producto"}),A.jsx("th",{style:{padding:"10px"},children:"Talle"}),A.jsx("th",{style:{padding:"10px"},children:"Cantidad"}),A.jsx("th",{style:{padding:"10px"},children:"Precio Unitario"}),A.jsx("th",{style:{padding:"10px"},children:"Subtotal"})]})}),A.jsx("tbody",{children:Array.isArray(t.items)?t.items.map((g,v)=>{const b=t.total/g.cantidad;return A.jsxs("tr",{children:[A.jsx("td",{style:{padding:"10px"},children:g.nombre}),A.jsx("td",{style:{padding:"10px"},children:g.talle}),A.jsx("td",{style:{padding:"10px"},children:g.cantidad}),A.jsxs("td",{style:{padding:"10px"},children:["$ ",b.toFixed(2)]}),A.jsxs("td",{style:{padding:"10px"},children:["$ ",(b*g.cantidad).toFixed(2)]})]},v)}):A.jsx("tr",{children:A.jsx("td",{colSpan:5,style:{padding:"10px"},children:t.items})})})]}),A.jsxs("div",{style:{textAlign:"right"},children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Total:"})," $",t.total," USD"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Estado:"})," ",t.status]})]})]}),A.jsx("button",{onClick:()=>{var b;const g=(b=document.getElementById("print-area"))==null?void 0:b.innerHTML;if(!g)return;const v=window.open("","_blank","width=800,height=600");v&&(v.document.write(`
                  <html>
                    <head>
                      <title>Factura - Looma</title>
                      <style>
                        @media print {
                          body { font-family: Arial, sans-serif; margin: 2rem; font-size: 14px; }
                          h2 { margin: 10px 0; }
                          table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
                          th, td { border: 1px solid #ccc; padding: 8px 10px; }
                          th { background: #f0f0f0; text-align: left; }
                          tr:nth-child(even) { background: #f9f9f9; }
                          img { height: 80px; display: block; margin: 0 auto 20px; }
                        }
                      </style>
                    </head>
                    <body>${g}</body>
                  </html>
                `),v.document.close(),v.focus(),v.print(),v.close())},className:"mt-4 bg-black text-white px-4 py-2 rounded hover:bg-black/80",children:"Imprimir factura"})]})}),l&&A.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl max-w-md w-full text-center relative",children:[A.jsx("button",{onClick:()=>c(null),className:"absolute top-3 right-3 text-gray-400 hover:text-black",children:""}),A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-red-600 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4m-4 0a1 1 0 00-1 1v1h6V4a1 1 0 00-1-1m-4 0h4"})}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Eliminar pedido?"}),A.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Esta accin no se puede deshacer. El pedido ser eliminado permanentemente."}),A.jsxs("p",{className:"text-sm text-gray-800 mb-4",children:[A.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",l.client]}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:async()=>{await f1(fo(vr,"orders",l.id.toString())),e(g=>g.filter(v=>v.id!==l.id)),c(null)},className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded font-semibold",children:"Eliminar"}),A.jsx("button",{onClick:()=>c(null),className:"bg-gray-200 hover:bg-gray-300 text-black px-4 py-2 rounded font-medium",children:"Cancelar"})]})]})]})})]})}function a9({clientId:n,onBack:e}){const[t,r]=F.useState(null),[i,s]=F.useState(!1),[o,a]=F.useState([]),[l,c]=F.useState("personal");F.useEffect(()=>{async function m(){try{if(console.log(" clientId recibido:",n),typeof n!="string"||n.trim()===""){console.error(" ID del cliente invlido:",n);return}const p=fo(vr,"clients",n),g=await bF(p);if(g.exists()){const v=g.data();r({...v,id:g.id})}}catch(p){console.error("Error al obtener cliente desde Firestore:",p)}}n&&m()},[n]),F.useEffect(()=>{if(!t)return;async function m(){try{const g=(await pf(are(da(vr,"orders"),lre("cliente.email","==",(t==null?void 0:t.email)||"")))).docs.map(v=>{var S;const b=v.data();return((S=b==null?void 0:b.cliente)==null?void 0:S.email)===(t==null?void 0:t.email)?{id:v.id,total:b.total,fecha:b.fecha,estado:b.estado,cliente:b.cliente}:null}).filter(v=>v!==null);a(g)}catch(p){console.error("Error al cargar pedidos del cliente:",p)}}m()},[t]);const u=m=>{if(!t)return;const{name:p,value:g}=m.target;r({...t,[p]:g})},f=async()=>{if(t)try{const m=fo(vr,"clients",t.id);await E_(m,{name:t.name,email:t.email,phone:t.phone,address:t.address,city:t.city,department:t.department,postalCode:t.postalCode,country:t.country,...t.password?{password:t.password}:{}}),s(!1),r({...t})}catch(m){console.error("Error al actualizar cliente:",m)}};return t?A.jsxs("div",{className:"p-6 bg-white rounded shadow max-w-5xl mx-auto",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Perfil del Cliente"}),A.jsxs("div",{className:"flex border-b mb-4",children:[A.jsx("button",{onClick:()=>c("personal"),className:`px-4 py-2 font-medium ${l==="personal"?"border-b-2 border-black":"text-gray-500"}`,children:"Datos Personales"}),A.jsx("button",{onClick:()=>c("orders"),className:`px-4 py-2 font-medium ${l==="orders"?"border-b-2 border-black":"text-gray-500"}`,children:"Historial de Pedidos"})]}),l==="personal"&&A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Nombre"}),A.jsx("input",{type:"text",name:"name",value:t.name,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Email"}),A.jsx("input",{type:"email",name:"email",value:t.email,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Telfono"}),A.jsx("input",{type:"text",name:"phone",value:t.phone,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Direccin"}),A.jsx("input",{type:"text",name:"address",value:t.address,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Ciudad"}),A.jsx("input",{type:"text",name:"city",value:t.city,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Departamento"}),A.jsx("input",{type:"text",name:"department",value:t.department,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Cdigo Postal"}),A.jsx("input",{type:"text",name:"postalCode",value:t.postalCode,onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold",children:"Pas"}),A.jsx("input",{type:"text",name:"country",value:t.country||"Uruguay",onChange:u,className:"w-full border rounded px-3 py-2",disabled:!i})]}),i&&A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block font-semibold",children:"Nueva Contrasea"}),A.jsx("input",{type:"password",name:"password",value:t.password||"",onChange:u,className:"w-full border rounded px-3 py-2"})]})]}),A.jsx("div",{className:"flex gap-4",children:i?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:f,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Guardar cambios"}),A.jsx("button",{onClick:()=>s(!1),className:"bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400",children:"Cancelar"})]}):A.jsx("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Editar datos"})})]}),l==="orders"&&A.jsx("div",{children:o.length===0?A.jsx("p",{className:"text-gray-500 italic",children:"Este cliente an no tiene pedidos registrados."}):A.jsxs("table",{className:"w-full text-sm",children:[A.jsx("thead",{children:A.jsxs("tr",{className:"border-b",children:[A.jsx("th",{className:"py-2 text-left",children:"ID"}),A.jsx("th",{className:"py-2 text-left",children:"Total"}),A.jsx("th",{className:"py-2 text-left",children:"Estado"}),A.jsx("th",{className:"py-2 text-left",children:"Fecha"})]})}),A.jsx("tbody",{children:o.map(m=>A.jsxs("tr",{className:"border-b",children:[A.jsx("td",{className:"py-2",children:m.id}),A.jsxs("td",{className:"py-2",children:[m.total," USD"]}),A.jsx("td",{className:"py-2",children:m.estado}),A.jsx("td",{className:"py-2",children:new Date(m.fecha).toLocaleDateString()})]},m.id))})]})})]}):A.jsx("p",{className:"text-red-600 p-6 font-bold",children:"Cliente no encontrado."})}function cge({clientId:n,onBack:e}){return A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:e}),A.jsx("div",{className:"fixed inset-0 z-50 flex justify-center items-center",children:A.jsxs("div",{className:"bg-white rounded shadow-lg max-w-5xl w-full mx-4 p-6 overflow-y-auto max-h-[90vh] relative",children:[A.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-black text-2xl",children:""}),A.jsx(a9,{clientId:n,onBack:e})]})})]})}function uge(){const n=zc(),e=$l(),[t,r]=F.useState("clients"),[i,s]=F.useState(null);F.useEffect(()=>{const a=e.pathname.split("/").pop()||"clients";r(a)},[e]);const o=a=>{r(a),n(`/admin/${a}`)};return A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx(qse,{activeView:t,onChangeView:o}),A.jsxs("main",{className:"flex-1 p-6 bg-gray-100 overflow-y-auto",children:[A.jsxs(WR,{children:[A.jsx(Pr,{index:!0,element:A.jsx(cx,{to:"/admin/clients",replace:!0})}),A.jsx(Pr,{path:"clients",element:A.jsx(Hse,{onSelectClient:a=>s(a)})}),A.jsx(Pr,{path:"productList",element:A.jsx(Qhe,{})}),A.jsx(Pr,{path:"productForm",element:A.jsx(C6,{})}),A.jsx(Pr,{path:"orders",element:A.jsx(lge,{})}),A.jsx(Pr,{path:"users",element:A.jsx(B0e,{})}),A.jsx(Pr,{path:"categories",element:A.jsx(OB,{})}),A.jsx(Pr,{path:"editar/:id",element:A.jsx(C6,{})}),A.jsx(Pr,{path:"*",element:A.jsx(cx,{to:"/admin/clients",replace:!0})})]}),i&&A.jsx(cge,{clientId:i||"",onBack:()=>s(null)})]})]})}const dge=()=>{const{t:n,i18n:e}=ho();return A.jsx("section",{className:"bg-white py-24 px-6 shadow-sm","data-aos":"fade-up",children:A.jsxs("div",{className:"max-w-2xl mx-auto text-center text-gray-800",children:[A.jsx("h1",{className:"text-4xl font-bold mb-10 tracking-tight",children:n("about.title")}),A.jsx("p",{className:"text-lg leading-relaxed mb-5",children:n("about.description").split(`
`)[0]}),A.jsx("p",{className:"text-lg leading-relaxed mb-8",children:n("about.description").split(`
`)[1]}),A.jsx("p",{className:"text-lg leading-relaxed mb-10",children:n("about.mission")}),A.jsxs("div",{className:"text-left mt-12",children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:n("about.addressLabel")}),A.jsxs("p",{className:"mb-6",children:["20200 NW 2nd Ave, STE 108",A.jsx("br",{}),"Miami Gardens, FL 33169",A.jsx("br",{}),e.language==="es"?"Estados Unidos":"United States"]}),A.jsx("h2",{className:"text-xl font-semibold mb-2",children:n("about.emailLabel")}),A.jsx("p",{className:"text-blue-600 mb-10",children:n("about.email")})]}),A.jsx("a",{href:"/shop",className:"inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md hover:bg-blue-700 transition",children:n("about.cta")})]})})},fge=()=>{const{t:n,i18n:e}=ho();return A.jsx("section",{className:"bg-white py-24 px-6 shadow-sm","data-aos":"fade-up",children:A.jsxs("div",{className:"max-w-2xl mx-auto text-center text-gray-800",children:[A.jsx("h1",{className:"text-4xl font-bold mb-8 tracking-tight",children:n("contact.title")}),A.jsx("p",{className:"text-lg leading-relaxed mb-8",children:n("contact.description")}),A.jsxs("div",{className:"text-left mt-10",children:[A.jsx("h2",{className:"text-xl font-semibold mb-2",children:n("about.addressLabel")}),A.jsxs("p",{className:"mb-6",children:["20200 NW 2nd Ave, STE 108",A.jsx("br",{}),"Miami Gardens, FL 33169",A.jsx("br",{}),e.language==="es"?"Estados Unidos":"United States"]}),A.jsx("h2",{className:"text-xl font-semibold mb-2",children:n("about.emailLabel")}),A.jsx("p",{className:"text-blue-600 mb-10",children:n("about.email")})]}),A.jsx("a",{href:"mailto:info@getbionova.com",className:"inline-block bg-blue-600 text-white font-semibold px-6 py-3 rounded-md hover:bg-blue-700 transition",children:n("contact.cta")})]})})},hge={apiKey:"AIzaSyAH24DEyVBICPK6DcIUpQtj9pkegj54ip8",authDomain:"looma-store.firebaseapp.com",projectId:"looma-store",storageBucket:"looma-store.appspot.com",messagingSenderId:"76702168220",appId:"1:76702168220:web:6c226b493c3ddc5f44a959"},l9=hN().length===0?$A(hge):hN()[0];cF(l9);const pge=t7(l9),c9="usuarios",mge="fefo157@gmail.com",gge=n=>LB.SHA256(n).toString(),yge=()=>{const n=localStorage.getItem(c9);return n?JSON.parse(n):[]},nR=()=>{const n=localStorage.getItem("loggedInUser");return n?JSON.parse(n):null},vge=n=>{localStorage.setItem("loggedInUser",JSON.stringify(n))},xge=()=>{localStorage.removeItem("loggedInUser")},bge=yge();if(bge.length===0){const e=gge("admin123"),t={id:9999,name:"Admin Fefo",phone:"099999999",address:"Oficina",city:"Montevideo",department:"Montevideo",postalCode:"11900",email:mge,password:e};localStorage.setItem(c9,JSON.stringify([t])),console.log(" Usuario admin creado automticamente"),console.log(" Hash de 'admin123':",e)}const u9=F.createContext(void 0);function wge({children:n}){const e=nR(),[t,r]=F.useState(e?{id:String(e.id),name:e.name,email:e.email,password:""}:null);F.useEffect(()=>{const o=nR();o&&!t&&r({id:String(o.id),name:o.name,email:o.email,password:""})},[t]);const i=o=>{r(o),vge({id:Number(o.id),name:o.name,email:o.email})},s=()=>{r(null),xge()};return A.jsx(u9.Provider,{value:{user:t,login:i,logout:s},children:n})}function d9(){const n=F.useContext(u9);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function Sge(){const[n,e]=F.useState(""),[t,r]=F.useState(""),i=zc(),{login:s}=d9(),o=async a=>{a.preventDefault();try{const c=(await uie(pge,n,t)).user;s({id:c.uid,email:c.email||"",name:"",password:t}),alert("Inicio de sesin exitoso"),i("/admin",{replace:!0})}catch{alert("Usuario o contrasea incorrectos")}};return A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-10",children:[A.jsx("img",{src:"/logo1.png",alt:"Looma",className:"w-24 h-24 object-contain mb-4"}),A.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Bienvenido al panel"}),A.jsx("p",{className:"text-gray-500 text-sm mb-8 text-center",children:"Ingres tus credenciales para acceder a la administracin."}),A.jsxs("form",{onSubmit:o,className:"w-full max-w-md bg-white shadow-lg rounded-xl px-8 pt-8 pb-6",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Correo electrnico"}),A.jsx("input",{type:"email",value:n,required:!0,onChange:a=>e(a.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-1",children:"Contrasea"}),A.jsx("input",{type:"password",value:t,required:!0,onChange:a=>r(a.target.value),className:"w-full border border-gray-300 px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-black"})]}),A.jsx("button",{type:"submit",className:"w-full bg-black text-white py-2 px-4 rounded-md font-semibold hover:bg-gray-900 transition-all",children:"Iniciar sesin"})]}),A.jsxs("p",{className:"text-gray-400 text-xs mt-6",children:[" ",new Date().getFullYear()," Looma. Todos los derechos reservados."]})]})}function yS({children:n}){const{user:e}=d9();return e?A.jsx(A.Fragment,{children:n}):A.jsx(cx,{to:"/login",replace:!0})}const f9=typeof document<"u"?dt.useLayoutEffect:()=>{};function Ege(n){const e=F.useRef(null);return f9(()=>{e.current=n},[n]),F.useCallback((...t)=>{const r=e.current;return r==null?void 0:r(...t)},[])}const Nf=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},fh=n=>n&&"window"in n&&n.window===n?n:Nf(n).defaultView||window;function Cge(n){return n!==null&&typeof n=="object"&&"nodeType"in n&&typeof n.nodeType=="number"}function Age(n){return Cge(n)&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in n}let _ge=!1;function E4(){return _ge}function h9(n,e){if(!E4())return e&&n?n.contains(e):!1;if(!n||!e)return!1;let t=e;for(;t!==null;){if(t===n)return!0;t.tagName==="SLOT"&&t.assignedSlot?t=t.assignedSlot.parentNode:Age(t)?t=t.host:t=t.parentNode}return!1}const TC=(n=document)=>{var e;if(!E4())return n.activeElement;let t=n.activeElement;for(;t&&"shadowRoot"in t&&(!((e=t.shadowRoot)===null||e===void 0)&&e.activeElement);)t=t.shadowRoot.activeElement;return t};function p9(n){return E4()&&n.target.shadowRoot&&n.composedPath?n.composedPath()[0]:n.target}function Tge(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function kge(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function m9(n){let e=null;return()=>(e==null&&(e=n()),e)}const Nge=m9(function(){return kge(/^Mac/i)}),Pge=m9(function(){return Tge(/Android/i)});function g9(){let n=F.useRef(new Map),e=F.useCallback((i,s,o,a)=>{let l=a!=null&&a.once?(...c)=>{n.current.delete(o),o(...c)}:o;n.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),t=F.useCallback((i,s,o,a)=>{var l;let c=((l=n.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),n.current.delete(o)},[]),r=F.useCallback(()=>{n.current.forEach((i,s)=>{t(i.eventTarget,i.type,s,i.options)})},[t]);return F.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:r}}function Ige(n){return n.mozInputSource===0&&n.isTrusted?!0:Pge()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function y9(n){let e=n;return e.nativeEvent=n,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function Dge(n,e){Object.defineProperty(n,"target",{value:e}),Object.defineProperty(n,"currentTarget",{value:e})}function v9(n){let e=F.useRef({isFocused:!1,observer:null});f9(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=Ege(r=>{n==null||n(r)});return F.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,s=o=>{if(e.current.isFocused=!1,i.disabled){let a=y9(o);t(a)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var o;(o=e.current.observer)===null||o===void 0||o.disconnect();let a=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let Rge=!1,E1=null,kC=new Set,og=new Map,Rh=!1,NC=!1;const Lge={Tab:!0,Escape:!0};function C4(n,e){for(let t of kC)t(n,e)}function Oge(n){return!(n.metaKey||!Nge()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function m2(n){Rh=!0,Oge(n)&&(E1="keyboard",C4("keyboard",n))}function s0(n){E1="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Rh=!0,C4("pointer",n))}function x9(n){Ige(n)&&(Rh=!0,E1="virtual")}function b9(n){n.target===window||n.target===document||Rge||!n.isTrusted||(!Rh&&!NC&&(E1="virtual",C4("virtual",n)),Rh=!1,NC=!1)}function w9(){Rh=!1,NC=!0}function PC(n){if(typeof window>"u"||typeof document>"u"||og.get(fh(n)))return;const e=fh(n),t=Nf(n);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Rh=!0,r.apply(this,arguments)},t.addEventListener("keydown",m2,!0),t.addEventListener("keyup",m2,!0),t.addEventListener("click",x9,!0),e.addEventListener("focus",b9,!0),e.addEventListener("blur",w9,!1),typeof PointerEvent<"u"&&(t.addEventListener("pointerdown",s0,!0),t.addEventListener("pointermove",s0,!0),t.addEventListener("pointerup",s0,!0)),e.addEventListener("beforeunload",()=>{S9(n)},{once:!0}),og.set(e,{focus:r})}const S9=(n,e)=>{const t=fh(n),r=Nf(n);e&&r.removeEventListener("DOMContentLoaded",e),og.has(t)&&(t.HTMLElement.prototype.focus=og.get(t).focus,r.removeEventListener("keydown",m2,!0),r.removeEventListener("keyup",m2,!0),r.removeEventListener("click",x9,!0),t.removeEventListener("focus",b9,!0),t.removeEventListener("blur",w9,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",s0,!0),r.removeEventListener("pointermove",s0,!0),r.removeEventListener("pointerup",s0,!0)),og.delete(t))};function Mge(n){const e=Nf(n);let t;return e.readyState!=="loading"?PC(n):(t=()=>{PC(n)},e.addEventListener("DOMContentLoaded",t)),()=>S9(n,t)}typeof document<"u"&&Mge();function E9(){return E1!=="pointer"}const Fge=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function jge(n,e,t){let r=Nf(t==null?void 0:t.target);const i=typeof window<"u"?fh(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?fh(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?fh(t==null?void 0:t.target).HTMLElement:HTMLElement,a=typeof window<"u"?fh(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||r.activeElement instanceof i&&!Fge.has(r.activeElement.type)||r.activeElement instanceof s||r.activeElement instanceof o&&r.activeElement.isContentEditable,!(n&&e==="keyboard"&&t instanceof a&&!Lge[t.key])}function Bge(n,e,t){PC(),F.useEffect(()=>{let r=(i,s)=>{jge(!!(t!=null&&t.isTextInput),i,s)&&n(E9())};return kC.add(r),()=>{kC.delete(r)}},e)}function Vge(n){let{isDisabled:e,onFocus:t,onBlur:r,onFocusChange:i}=n;const s=F.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),i&&i(!1),!0},[r,i]),o=v9(s),a=F.useCallback(l=>{const c=Nf(l.target),u=c?TC(c):TC();l.target===l.currentTarget&&u===p9(l.nativeEvent)&&(t&&t(l),i&&i(!0),o(l))},[i,t,o]);return{focusProps:{onFocus:!e&&(t||i||r)?a:void 0,onBlur:!e&&(r||i)?s:void 0}}}function $ge(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:i}=n,s=F.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=g9(),l=F.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,a(),t&&t(f),i&&i(!1))},[t,i,s,a]),c=v9(l),u=F.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const m=Nf(f.target),p=TC(m);if(!s.current.isFocusWithin&&p===p9(f.nativeEvent)){r&&r(f),i&&i(!0),s.current.isFocusWithin=!0,c(f);let g=f.currentTarget;o(m,"focus",v=>{if(s.current.isFocusWithin&&!h9(g,v.target)){let b=new m.defaultView.FocusEvent("blur",{relatedTarget:v.target});Dge(b,g);let S=y9(b);l(S)}},{capture:!0})}},[r,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let IC=!1,vS=0;function zge(){IC=!0,setTimeout(()=>{IC=!1},50)}function rR(n){n.pointerType==="touch"&&zge()}function Uge(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",rR),vS++,()=>{vS--,!(vS>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",rR)}}function qge(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:i}=n,[s,o]=F.useState(!1),a=F.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;F.useEffect(Uge,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=g9(),{hoverProps:u,triggerHoverEnd:f}=F.useMemo(()=>{let m=(v,b)=>{if(a.pointerType=b,i||b==="touch"||a.isHovered||!v.currentTarget.contains(v.target))return;a.isHovered=!0;let S=v.currentTarget;a.target=S,l(Nf(v.target),"pointerover",E=>{a.isHovered&&a.target&&!h9(a.target,E.target)&&p(E,E.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:S,pointerType:b}),t&&t(!0),o(!0)},p=(v,b)=>{let S=a.target;a.pointerType="",a.target=null,!(b==="touch"||!a.isHovered||!S)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:S,pointerType:b}),t&&t(!1),o(!1))},g={};return typeof PointerEvent<"u"&&(g.onPointerEnter=v=>{IC&&v.pointerType==="mouse"||m(v,v.pointerType)},g.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:g,triggerHoverEnd:p}},[e,t,r,i,a,l,c]);return F.useEffect(()=>{i&&f({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function Hge(n={}){let{autoFocus:e=!1,isTextInput:t,within:r}=n,i=F.useRef({isFocused:!1,isFocusVisible:e||E9()}),[s,o]=F.useState(!1),[a,l]=F.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=F.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=F.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);Bge(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:t});let{focusProps:f}=Vge({isDisabled:r,onFocusChange:u}),{focusWithinProps:m}=$ge({isDisabled:!r,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:r?m:f}}var Wge=Object.defineProperty,Gge=(n,e,t)=>e in n?Wge(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xS=(n,e,t)=>(Gge(n,typeof e!="symbol"?e+"":e,t),t);let Kge=class{constructor(){xS(this,"current",this.detect()),xS(this,"handoffState","pending"),xS(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Sh=new Kge;function C1(n){var e,t;return Sh.isServer?null:n?"ownerDocument"in n?n.ownerDocument:"current"in n?(t=(e=n.current)==null?void 0:e.ownerDocument)!=null?t:document:null:document}function C9(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Hl(){let n=[],e={addEventListener(t,r,i,s){return t.addEventListener(r,i,s),e.add(()=>t.removeEventListener(r,i,s))},requestAnimationFrame(...t){let r=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let r=setTimeout(...t);return e.add(()=>clearTimeout(r))},microTask(...t){let r={current:!0};return C9(()=>{r.current&&t[0]()}),e.add(()=>{r.current=!1})},style(t,r,i){let s=t.style.getPropertyValue(r);return Object.assign(t.style,{[r]:i}),this.add(()=>{Object.assign(t.style,{[r]:s})})},group(t){let r=Hl();return t(r),this.add(()=>r.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let r=n.indexOf(t);if(r>=0)for(let i of n.splice(r,1))i()}},dispose(){for(let t of n.splice(0))t()}};return e}function A1(){let[n]=F.useState(Hl);return F.useEffect(()=>()=>n.dispose(),[n]),n}let qi=(n,e)=>{Sh.isServer?F.useEffect(n,e):F.useLayoutEffect(n,e)};function U0(n){let e=F.useRef(n);return qi(()=>{e.current=n},[n]),e}let yr=function(n){let e=U0(n);return dt.useCallback((...t)=>e.current(...t),[e])};function Yge(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function Xge(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function Jge({disabled:n=!1}={}){let e=F.useRef(null),[t,r]=F.useState(!1),i=A1(),s=yr(()=>{e.current=null,r(!1),i.dispose()}),o=yr(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,r(!0);{let l=C1(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=Yge(c);r(Xge(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}let Qge=F.createContext(void 0);function A4(){return F.useContext(Qge)}function iR(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Vc(n,e,...t){if(n in e){let i=e[n];return typeof i=="function"?i(...t):i}let r=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Vc),r}var DC=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(DC||{}),Zge=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Zge||{});function Wl(){let n=t1e();return F.useCallback(e=>e1e({mergeRefs:n,...e}),[n])}function e1e({ourProps:n,theirProps:e,slot:t,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??n1e;let l=A9(e,n);if(s)return $y(l,t,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...f}=l;if(u)return $y(f,t,r,o,a)}if(c&1){let{unmount:u=!0,...f}=l;return Vc(u?0:1,{0(){return null},1(){return $y({...f,hidden:!0,style:{display:"none"}},t,r,o,a)}})}return $y(l,t,r,o,a)}function $y(n,e={},t,r,i){let{as:s=t,children:o,refName:a="ref",...l}=bS(n,["unmount","static"]),c=n.ref!==void 0?{[a]:n.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let m=!1,p=[];for(let[g,v]of Object.entries(e))typeof v=="boolean"&&(m=!0),v===!0&&p.push(g.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(m){f["data-headlessui-state"]=p.join(" ");for(let g of p)f[`data-${g}`]=""}}if(s===F.Fragment&&(Object.keys(Zf(l)).length>0||Object.keys(Zf(f)).length>0))if(!F.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(Zf(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Zf(l)).concat(Object.keys(Zf(f))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=u.props,p=m==null?void 0:m.className,g=typeof p=="function"?(...S)=>iR(p(...S),l.className):iR(p,l.className),v=g?{className:g}:{},b=A9(u.props,Zf(bS(l,["ref"])));for(let S in f)S in b&&delete f[S];return F.cloneElement(u,Object.assign({},b,f,c,{ref:i(r1e(u),c.ref)},v))}return F.createElement(s,Object.assign({},bS(l,["ref"]),s!==F.Fragment&&c,s!==F.Fragment&&f),u)}function t1e(){let n=F.useRef([]),e=F.useCallback(t=>{for(let r of n.current)r!=null&&(typeof r=="function"?r(t):r.current=t)},[]);return(...t)=>{if(!t.every(r=>r==null))return n.current=t,e}}function n1e(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function A9(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(t[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in t)Object.assign(e,{[r](i,...s){let o=t[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function _9(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let r of n)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(t[i]!=null||(t[i]=[]),t[i].push(r[i])):e[i]=r[i];for(let r in t)Object.assign(e,{[r](...i){let s=t[r];for(let o of s)o==null||o(...i)}});return e}function Gl(n){var e;return Object.assign(F.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Zf(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function bS(n,e=[]){let t=Object.assign({},n);for(let r of e)r in t&&delete t[r];return t}function r1e(n){return dt.version.split(".")[0]>="19"?n.props.ref:n.ref}function i1e(n,e,t){let[r,i]=F.useState(t),s=n!==void 0,o=F.useRef(s),a=F.useRef(!1),l=F.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?n:r,yr(c=>(s||i(c),e==null?void 0:e(c)))]}function s1e(n){let[e]=F.useState(n);return e}function T9(n={},e=null,t=[]){for(let[r,i]of Object.entries(n))N9(t,k9(e,r),i);return t}function k9(n,e){return n?n+"["+e+"]":e}function N9(n,e,t){if(Array.isArray(t))for(let[r,i]of t.entries())N9(n,k9(e,r.toString()),i);else t instanceof Date?n.push([e,t.toISOString()]):typeof t=="boolean"?n.push([e,t?"1":"0"]):typeof t=="string"?n.push([e,t]):typeof t=="number"?n.push([e,`${t}`]):t==null?n.push([e,""]):T9(t,e,n)}function o1e(n){var e,t;let r=(e=n==null?void 0:n.form)!=null?e:n.closest("form");if(r){for(let i of r.elements)if(i!==n&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(t=r.requestSubmit)==null||t.call(r)}}let a1e="span";var _4=(n=>(n[n.None=1]="None",n[n.Focusable=2]="Focusable",n[n.Hidden=4]="Hidden",n))(_4||{});function l1e(n,e){var t;let{features:r=1,...i}=n,s={ref:e,"aria-hidden":(r&2)===2?!0:(t=i["aria-hidden"])!=null?t:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Wl()({ourProps:s,theirProps:i,slot:{},defaultTag:a1e,name:"Hidden"})}let P9=Gl(l1e),c1e=F.createContext(null);function u1e({children:n}){let e=F.useContext(c1e);if(!e)return dt.createElement(dt.Fragment,null,n);let{target:t}=e;return t?fs.createPortal(dt.createElement(dt.Fragment,null,n),t):null}function d1e({data:n,form:e,disabled:t,onReset:r,overrides:i}){let[s,o]=F.useState(null),a=A1();return F.useEffect(()=>{if(r&&s)return a.addEventListener(s,"reset",r)},[s,e,r]),dt.createElement(u1e,null,dt.createElement(f1e,{setForm:o,formId:e}),T9(n).map(([l,c])=>dt.createElement(P9,{features:_4.Hidden,...Zf({key:l,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:t,name:l,value:c,...i})})))}function f1e({setForm:n,formId:e}){return F.useEffect(()=>{if(e){let t=document.getElementById(e);t&&n(t)}},[n,e]),e?null:dt.createElement(P9,{features:_4.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&n(r)}})}let h1e=F.createContext(void 0);function I9(){return F.useContext(h1e)}function T4(n){return typeof n!="object"||n===null?!1:"nodeType"in n}function Ab(n){return T4(n)&&"tagName"in n}function zu(n){return Ab(n)&&"accessKey"in n}function Up(n){return Ab(n)&&"tabIndex"in n}function p1e(n){return Ab(n)&&"style"in n}function m1e(n){return zu(n)&&n.nodeName==="IFRAME"}function D9(n){return zu(n)&&n.nodeName==="INPUT"}function sR(n){return zu(n)&&n.nodeName==="LABEL"}function g1e(n){return zu(n)&&n.nodeName==="FIELDSET"}function R9(n){return zu(n)&&n.nodeName==="LEGEND"}function y1e(n){return Ab(n)?n.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function v1e(n){let e=n.parentElement,t=null;for(;e&&!g1e(e);)R9(e)&&(t=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&x1e(t)?!1:r}function x1e(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(R9(e))return!1;e=e.previousElementSibling}return!0}let L9=Symbol();function b1e(n,e=!0){return Object.assign(n,{[L9]:e})}function Hc(...n){let e=F.useRef(n);F.useEffect(()=>{e.current=n},[n]);let t=yr(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return n.every(r=>r==null||(r==null?void 0:r[L9]))?void 0:t}let k4=F.createContext(null);k4.displayName="DescriptionContext";function O9(){let n=F.useContext(k4);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,O9),e}return n}function w1e(){var n,e;return(e=(n=F.useContext(k4))==null?void 0:n.value)!=null?e:void 0}let S1e="p";function E1e(n,e){let t=F.useId(),r=A4(),{id:i=`headlessui-description-${t}`,...s}=n,o=O9(),a=Hc(e);qi(()=>o.register(i),[i,o.register]);let l=r||!1,c=F.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),u={ref:a,...o.props,id:i};return Wl()({ourProps:u,theirProps:s,slot:c,defaultTag:S1e,name:o.name||"Description"})}let C1e=Gl(E1e);Object.assign(C1e,{});var Di=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(Di||{});let _b=F.createContext(null);_b.displayName="LabelContext";function M9(){let n=F.useContext(_b);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,M9),e}return n}function F9(n){var e,t,r;let i=(t=(e=F.useContext(_b))==null?void 0:e.value)!=null?t:void 0;return((r=n==null?void 0:n.length)!=null?r:0)>0?[i,...n].filter(Boolean).join(" "):i}function A1e({inherit:n=!1}={}){let e=F9(),[t,r]=F.useState([]),i=n?[e,...t].filter(Boolean):t;return[i.length>0?i.join(" "):void 0,F.useMemo(()=>function(s){let o=yr(l=>(r(c=>[...c,l]),()=>r(c=>{let u=c.slice(),f=u.indexOf(l);return f!==-1&&u.splice(f,1),u}))),a=F.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return dt.createElement(_b.Provider,{value:a},s.children)},[r])]}let _1e="label";function T1e(n,e){var t;let r=F.useId(),i=M9(),s=I9(),o=A4(),{id:a=`headlessui-label-${r}`,htmlFor:l=s??((t=i.props)==null?void 0:t.htmlFor),passive:c=!1,...u}=n,f=Hc(e);qi(()=>i.register(a),[a,i.register]);let m=yr(b=>{let S=b.currentTarget;if(!(b.target!==b.currentTarget&&y1e(b.target))&&(sR(S)&&b.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(b),sR(S))){let E=document.getElementById(S.htmlFor);if(E){let _=E.getAttribute("disabled");if(_==="true"||_==="")return;let R=E.getAttribute("aria-disabled");if(R==="true"||R==="")return;(D9(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),p=o||!1,g=F.useMemo(()=>({...i.slot,disabled:p}),[i.slot,p]),v={ref:f,...i.props,id:a,htmlFor:l,onClick:m};return c&&("onClick"in v&&(delete v.htmlFor,delete v.onClick),"onClick"in u&&delete u.onClick),Wl()({ourProps:v,theirProps:u,slot:g,defaultTag:l?_1e:"div",name:i.name||"Label"})}let k1e=Gl(T1e),N1e=Object.assign(k1e,{});function P1e(n,e){return n!==null&&e!==null&&typeof n=="object"&&typeof e=="object"&&"id"in n&&"id"in e?n.id===e.id:n===e}function I1e(n=P1e){return F.useCallback((e,t)=>{if(typeof n=="string"){let r=n;return(e==null?void 0:e[r])===(t==null?void 0:t[r])}return n(e,t)},[n])}function D1e(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function R1e(n,e=!1){let[t,r]=F.useReducer(()=>({}),{}),i=F.useMemo(()=>D1e(n),[n,t]);return qi(()=>{if(!n)return;let s=new ResizeObserver(r);return s.observe(n),()=>{s.disconnect()}},[n]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let j9=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};var L1e=Object.defineProperty,O1e=(n,e,t)=>e in n?L1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M1e=(n,e,t)=>(O1e(n,e+"",t),t),B9=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},Ma=(n,e,t)=>(B9(n,e,"read from private field"),t?t.call(n):e.get(n)),wS=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},oR=(n,e,t,r)=>(B9(n,e,"write to private field"),e.set(n,t),t),pc,Mm,Fm;let V9=class{constructor(e){wS(this,pc,{}),wS(this,Mm,new j9(()=>new Set)),wS(this,Fm,new Set),M1e(this,"disposables",Hl()),oR(this,pc,e)}dispose(){this.disposables.dispose()}get state(){return Ma(this,pc)}subscribe(e,t){let r={selector:e,callback:t,current:e(Ma(this,pc))};return Ma(this,Fm).add(r),this.disposables.add(()=>{Ma(this,Fm).delete(r)})}on(e,t){return Ma(this,Mm).get(e).add(t),this.disposables.add(()=>{Ma(this,Mm).get(e).delete(t)})}send(e){let t=this.reduce(Ma(this,pc),e);if(t!==Ma(this,pc)){oR(this,pc,t);for(let r of Ma(this,Fm)){let i=r.selector(Ma(this,pc));$9(r.current,i)||(r.current=i,r.callback(i))}for(let r of Ma(this,Mm).get(e.type))r(Ma(this,pc),e)}}};pc=new WeakMap,Mm=new WeakMap,Fm=new WeakMap;function $9(n,e){return Object.is(n,e)?!0:typeof n!="object"||n===null||typeof e!="object"||e===null?!1:Array.isArray(n)&&Array.isArray(e)?n.length!==e.length?!1:SS(n[Symbol.iterator](),e[Symbol.iterator]()):n instanceof Map&&e instanceof Map||n instanceof Set&&e instanceof Set?n.size!==e.size?!1:SS(n.entries(),e.entries()):aR(n)&&aR(e)?SS(Object.entries(n)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function SS(n,e){do{let t=n.next(),r=e.next();if(t.done&&r.done)return!0;if(t.done||r.done||!Object.is(t.value,r.value))return!1}while(!0)}function aR(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;let e=Object.getPrototypeOf(n);return e===null||Object.getPrototypeOf(e)===null}function ES(n){let[e,t]=n(),r=Hl();return(...i)=>{e(...i),r.dispose(),r.microTask(t)}}var F1e=Object.defineProperty,j1e=(n,e,t)=>e in n?F1e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lR=(n,e,t)=>(j1e(n,typeof e!="symbol"?e+"":e,t),t),z9=(n=>(n[n.Push=0]="Push",n[n.Pop=1]="Pop",n))(z9||{});let B1e={0(n,e){let t=e.id,r=n.stack,i=n.stack.indexOf(t);if(i!==-1){let s=n.stack.slice();return s.splice(i,1),s.push(t),r=s,{...n,stack:r}}return{...n,stack:[...n.stack,t]}},1(n,e){let t=e.id,r=n.stack.indexOf(t);if(r===-1)return n;let i=n.stack.slice();return i.splice(r,1),{...n,stack:i}}},V1e=class U9 extends V9{constructor(){super(...arguments),lR(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),lR(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new U9({stack:[]})}reduce(e,t){return Vc(t.type,B1e,e,t)}};const N4=new j9(()=>V1e.new());var CS={exports:{}},AS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function $1e(){if(cR)return AS;cR=1;var n=Xg();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,o=n.useMemo,a=n.useDebugValue;return AS.useSyncExternalStoreWithSelector=function(l,c,u,f,m){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function b(B){if(!S){if(S=!0,E=B,B=f(B),m!==void 0&&g.hasValue){var U=g.value;if(m(U,B))return _=U}return _=B}if(U=_,t(E,B))return U;var O=f(B);return m!==void 0&&m(U,O)?(E=B,U):(E=B,_=O)}var S=!1,E,_,R=u===void 0?null:u;return[function(){return b(c())},R===null?void 0:function(){return b(R())}]},[c,u,f,m]);var v=r(l,p[0],p[1]);return s(function(){g.hasValue=!0,g.value=v},[v]),a(v),v},AS}var uR;function z1e(){return uR||(uR=1,CS.exports=$1e()),CS.exports}var U1e=z1e();function Ua(n,e,t=$9){return U1e.useSyncExternalStoreWithSelector(yr(r=>n.subscribe(q1e,r)),yr(()=>n.state),yr(()=>n.state),yr(e),t)}function q1e(n){return n}function q9(n,e){let t=F.useId(),r=N4.get(e),[i,s]=Ua(r,F.useCallback(o=>[r.selectors.isTop(o,t),r.selectors.inStack(o,t)],[r,t]));return qi(()=>{if(n)return r.actions.push(t),()=>r.actions.pop(t)},[r,n,t]),n?s?i:!0:!1}let RC=new Map,ag=new Map;function dR(n){var e;let t=(e=ag.get(n))!=null?e:0;return ag.set(n,t+1),t!==0?()=>fR(n):(RC.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>fR(n))}function fR(n){var e;let t=(e=ag.get(n))!=null?e:1;if(t===1?ag.delete(n):ag.set(n,t-1),t!==1)return;let r=RC.get(n);r&&(r["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",r["aria-hidden"]),n.inert=r.inert,RC.delete(n))}function H1e(n,{allowed:e,disallowed:t}={}){let r=q9(n,"inert-others");qi(()=>{var i,s;if(!r)return;let o=Hl();for(let l of(i=t==null?void 0:t())!=null?i:[])l&&o.add(dR(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let c=C1(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let f of u.children)a.some(m=>f.contains(m))||o.add(dR(f));u=u.parentElement}}return o.dispose},[r,e,t])}function W1e(n,e,t){let r=U0(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&t()});F.useEffect(()=>{if(!n)return;let i=e===null?null:zu(e)?e:e.current;if(!i)return;let s=Hl();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,n])}let LC=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),G1e=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var OC=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(OC||{}),K1e=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(K1e||{}),Y1e=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(Y1e||{});function H9(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(LC)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function X1e(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(G1e)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var P4=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(P4||{});function W9(n,e=0){var t;return n===((t=C1(n))==null?void 0:t.body)?!1:Vc(e,{0(){return n.matches(LC)},1(){let r=n;for(;r!==null;){if(r.matches(LC))return!0;r=r.parentElement}return!1}})}var J1e=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(J1e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Q1e=["textarea","input"].join(",");function Z1e(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,Q1e))!=null?t:!1}function G9(n,e=t=>t){return n.slice().sort((t,r)=>{let i=e(t),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function eye(n,e){return tye(H9(),e,{relativeTo:n})}function tye(n,e,{sorted:t=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,o=Array.isArray(n)?t?G9(n):n:e&64?X1e(n):H9(n);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,f=o.length,m;do{if(u>=f||u+f<=0)return 0;let p=l+u;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=o[p],m==null||m.focus(c),u+=a}while(m!==s.activeElement);return e&6&&Z1e(m)&&m.select(),2}function K9(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function nye(){return/Android/gi.test(window.navigator.userAgent)}function hR(){return K9()||nye()}function qp(n,e,t,r){let i=U0(t);F.useEffect(()=>{if(!n)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[n,e,r])}function rye(n,e,t,r){let i=U0(t);F.useEffect(()=>{if(!n)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[n,e,r])}const pR=30;function iye(n,e,t){let r=U0(t),i=F.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(m){return typeof m=="function"?f(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let f of u)if(f!==null&&(f.contains(c)||a.composed&&a.composedPath().includes(f)))return;return!W9(c,P4.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,e]),s=F.useRef(null);qp(n,"pointerdown",a=>{var l,c;hR()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),qp(n,"pointerup",a=>{if(hR()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=F.useRef({x:0,y:0});qp(n,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),qp(n,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=pR||Math.abs(l.y-o.current.y)>=pR))return i(a,()=>Up(a.target)?a.target:null)},!0),rye(n,"blur",a=>i(a,()=>m1e(window.document.activeElement)?window.document.activeElement:null),!0)}function MC(...n){return F.useMemo(()=>C1(...n),[...n])}var sye=(n=>(n[n.Ignore=0]="Ignore",n[n.Select=1]="Select",n[n.Close=2]="Close",n))(sye||{});const zy={Ignore:{kind:0},Select:n=>({kind:1,target:n}),Close:{kind:2}},oye=200;function aye(n,{trigger:e,action:t,close:r,select:i}){let s=F.useRef(null);qp(n&&e!==null,"pointerdown",o=>{T4(o==null?void 0:o.target)&&e!=null&&e.contains(o.target)&&(s.current=new Date)}),qp(n&&e!==null,"pointerup",o=>{if(s.current===null||!Up(o.target))return;let a=t(o),l=new Date().getTime()-s.current.getTime();switch(s.current=null,a.kind){case 0:return;case 1:{l>oye&&(i(a.target),r());break}case 2:{r();break}}},{capture:!0})}function lye(n,e){return F.useMemo(()=>{var t;if(n.type)return n.type;let r=(t=n.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function cye(n){return F.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}function uye(n,e){let t=n(),r=new Set;return{getSnapshot(){return t},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(t,...s);o&&(t=o,r.forEach(a=>a()))}}}function dye(){let n;return{before({doc:e}){var t;let r=e.documentElement,i=(t=e.defaultView)!=null?t:window;n=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,n-i);t.style(r,"paddingRight",`${s}px`)}}}function fye(){return K9()?{before({doc:n,d:e,meta:t}){function r(i){return t.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let a=Hl();a.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(n,"click",a=>{if(Up(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=n.querySelector(c);Up(u)&&!r(u)&&(o=u)}catch{}},!0),e.addEventListener(n,"touchstart",a=>{if(Up(a.target)&&p1e(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(n,"touchmove",a=>{if(Up(a.target)){if(D9(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function hye(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function pye(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let hh=uye(()=>new Map,{PUSH(n,e){var t;let r=(t=this.get(n))!=null?t:{doc:n,count:0,d:Hl(),meta:new Set};return r.count++,r.meta.add(e),this.set(n,r),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let r={doc:n,d:e,meta:pye(t)},i=[fye(),dye(),hye()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});hh.subscribe(()=>{let n=hh.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let r=e.get(t.doc)==="hidden",i=t.count!==0;(i&&!r||!i&&r)&&hh.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&hh.dispatch("TEARDOWN",t)}});function mye(n,e,t=()=>({containers:[]})){let r=cye(hh),i=e?r.get(e):void 0,s=i?i.count>0:!1;return qi(()=>{if(!(!e||!n))return hh.dispatch("PUSH",e,t),()=>hh.dispatch("POP",e,t)},[n,e]),s}function gye(n,e,t=()=>[document.body]){let r=q9(n,"scroll-lock");mye(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],t]}})}function mR(n){return[n.screenX,n.screenY]}function yye(){let n=F.useRef([-1,-1]);return{wasMoved(e){let t=mR(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=mR(e)}}}function vye(n=0){let[e,t]=F.useState(n),r=F.useCallback(l=>t(l),[e]),i=F.useCallback(l=>t(c=>c|l),[e]),s=F.useCallback(l=>(e&l)===l,[e]),o=F.useCallback(l=>t(c=>c&~l),[t]),a=F.useCallback(l=>t(c=>c^l),[t]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var xye={},gR,yR;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((gR=process==null?void 0:xye)==null?void 0:gR.NODE_ENV)==="test"&&typeof((yR=Element==null?void 0:Element.prototype)==null?void 0:yR.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bye=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(bye||{});function wye(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function Sye(n,e,t,r){let[i,s]=F.useState(t),{hasFlag:o,addFlag:a,removeFlag:l}=vye(n&&i?3:0),c=F.useRef(!1),u=F.useRef(!1),f=A1();return qi(()=>{var m;if(n){if(t&&s(!0),!e){t&&a(3);return}return(m=void 0)==null||m.call(r,t),Eye(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(t?(a(3),l(4)):(a(4),l(2)))},run(){u.current?t?(l(3),a(4)):(l(4),a(3)):t?l(1):a(1)},done(){var p;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),t||s(!1),(p=void 0)==null||p.call(r,t))}})}},[n,t,e,f]),n?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Eye(n,{prepare:e,run:t,done:r,inFlight:i}){let s=Hl();return Aye(n,{prepare:e,inFlight:i}),s.nextFrame(()=>{t(),s.requestAnimationFrame(()=>{s.add(Cye(n,r))})}),s.dispose}function Cye(n,e){var t,r;let i=Hl();if(!n)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(t=n.getAnimations)==null?void 0:t.call(n).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function Aye(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let r=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=r}function Tb(){return typeof window<"u"}function q0(n){return Y9(n)?(n.nodeName||"").toLowerCase():"#document"}function ua(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wc(n){var e;return(e=(Y9(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Y9(n){return Tb()?n instanceof Node||n instanceof ua(n).Node:!1}function co(n){return Tb()?n instanceof Element||n instanceof ua(n).Element:!1}function $c(n){return Tb()?n instanceof HTMLElement||n instanceof ua(n).HTMLElement:!1}function vR(n){return!Tb()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ua(n).ShadowRoot}function _1(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Bl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function _ye(n){return["table","td","th"].includes(q0(n))}function kb(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function I4(n){const e=D4(),t=co(n)?Bl(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Tye(n){let e=vf(n);for(;$c(e)&&!A0(e);){if(I4(e))return e;if(kb(e))return null;e=vf(e)}return null}function D4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function A0(n){return["html","body","#document"].includes(q0(n))}function Bl(n){return ua(n).getComputedStyle(n)}function Nb(n){return co(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function vf(n){if(q0(n)==="html")return n;const e=n.assignedSlot||n.parentNode||vR(n)&&n.host||Wc(n);return vR(e)?e.host:e}function X9(n){const e=vf(n);return A0(e)?n.ownerDocument?n.ownerDocument.body:n.body:$c(e)&&_1(e)?e:X9(e)}function Gg(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=X9(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ua(i);if(s){const a=FC(o);return e.concat(o,o.visualViewport||[],_1(i)?i:[],a&&t?Gg(a):[])}return e.concat(i,Gg(i,[],t))}function FC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function kye(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}const Lh=Math.min,Fs=Math.max,Kg=Math.round,Uy=Math.floor,Lc=n=>({x:n,y:n}),Nye={left:"right",right:"left",bottom:"top",top:"bottom"},Pye={start:"end",end:"start"};function xR(n,e,t){return Fs(n,Lh(e,t))}function H0(n,e){return typeof n=="function"?n(e):n}function xf(n){return n.split("-")[0]}function T1(n){return n.split("-")[1]}function J9(n){return n==="x"?"y":"x"}function Q9(n){return n==="y"?"height":"width"}function ku(n){return["top","bottom"].includes(xf(n))?"y":"x"}function Z9(n){return J9(ku(n))}function Iye(n,e,t){t===void 0&&(t=!1);const r=T1(n),i=Z9(n),s=Q9(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=g2(o)),[o,g2(o)]}function Dye(n){const e=g2(n);return[jC(n),e,jC(e)]}function jC(n){return n.replace(/start|end/g,e=>Pye[e])}function Rye(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Lye(n,e,t,r){const i=T1(n);let s=Rye(xf(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(jC)))),s}function g2(n){return n.replace(/left|right|bottom|top/g,e=>Nye[e])}function Oye(n){return{top:0,right:0,bottom:0,left:0,...n}}function Mye(n){return typeof n!="number"?Oye(n):{top:n,right:n,bottom:n,left:n}}function y2(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function bR(n,e,t){let{reference:r,floating:i}=n;const s=ku(e),o=Z9(e),a=Q9(o),l=xf(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(T1(e)){case"start":p[o]-=m*(t&&c?-1:1);break;case"end":p[o]+=m*(t&&c?-1:1);break}return p}const Fye=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=bR(c,r,l),m=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:b,fn:S}=a[v],{x:E,y:_,data:R,reset:B}=await S({x:u,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});u=E??u,f=_??f,p={...p,[b]:{...p[b],...R}},B&&g<=50&&(g++,typeof B=="object"&&(B.placement&&(m=B.placement),B.rects&&(c=B.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):B.rects),{x:u,y:f}=bR(c,m,l)),v=-1)}return{x:u,y:f,placement:m,strategy:i,middlewareData:p}};async function Pb(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=H0(e,n),g=Mye(p),b=a[m?f==="floating"?"reference":"floating":f],S=y2(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),R=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},B=y2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:_,strategy:l}):E);return{top:(S.top-B.top+g.top)/R.y,bottom:(B.bottom-S.bottom+g.bottom)/R.y,left:(S.left-B.left+g.left)/R.x,right:(B.right-S.right+g.right)/R.x}}const jye=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...b}=H0(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=xf(i),E=ku(a),_=xf(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),B=m||(_||!v?[g2(a)]:Dye(a)),U=g!=="none";!m&&U&&B.push(...Lye(a,v,g,R));const O=[a,...B],C=await Pb(e,b),I=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&I.push(C[S]),f){const W=Iye(i,o,R);I.push(C[W[0]],C[W[1]])}if(P=[...P,{placement:i,overflows:I}],!I.every(W=>W<=0)){var N,D;const W=(((N=s.flip)==null?void 0:N.index)||0)+1,ie=O[W];if(ie&&(!(f==="alignment"?E!==ku(ie):!1)||P.every(X=>X.overflows[0]>0&&ku(X.placement)===E)))return{data:{index:W,overflows:P},reset:{placement:ie}};let oe=(D=P.filter(re=>re.overflows[0]<=0).sort((re,X)=>re.overflows[1]-X.overflows[1])[0])==null?void 0:D.placement;if(!oe)switch(p){case"bestFit":{var L;const re=(L=P.filter(X=>{if(U){const de=ku(X.placement);return de===E||de==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((X,de)=>X[1]-de[1])[0])==null?void 0:L[0];re&&(oe=re);break}case"initialPlacement":oe=a;break}if(i!==oe)return{reset:{placement:oe}}}return{}}}};async function Bye(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=xf(t),a=T1(t),l=ku(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=H0(e,n);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:m*c}:{x:m*c,y:p*u}}const Vye=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await Bye(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},$ye=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:S,y:E}=b;return{x:S,y:E}}},...l}=H0(n,e),c={x:t,y:r},u=await Pb(e,l),f=ku(xf(i)),m=J9(f);let p=c[m],g=c[f];if(s){const b=m==="y"?"top":"left",S=m==="y"?"bottom":"right",E=p+u[b],_=p-u[S];p=xR(E,p,_)}if(o){const b=f==="y"?"top":"left",S=f==="y"?"bottom":"right",E=g+u[b],_=g-u[S];g=xR(E,g,_)}const v=a.fn({...e,[m]:p,[f]:g});return{...v,data:{x:v.x-t,y:v.y-r,enabled:{[m]:s,[f]:o}}}}}},zye=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=H0(n,e),u=await Pb(e,c),f=xf(i),m=T1(i),p=ku(i)==="y",{width:g,height:v}=s.floating;let b,S;f==="top"||f==="bottom"?(b=f,S=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(S=f,b=m==="end"?"top":"bottom");const E=v-u.top-u.bottom,_=g-u.left-u.right,R=Lh(v-u[b],E),B=Lh(g-u[S],_),U=!e.middlewareData.shift;let O=R,C=B;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=E),U&&!m){const P=Fs(u.left,0),N=Fs(u.right,0),D=Fs(u.top,0),L=Fs(u.bottom,0);p?C=g-2*(P!==0||N!==0?P+N:Fs(u.left,u.right)):O=v-2*(D!==0||L!==0?D+L:Fs(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:O});const I=await o.getDimensions(a.floating);return g!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function eV(n){const e=Bl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$c(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Kg(t)!==s||Kg(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function R4(n){return co(n)?n:n.contextElement}function o0(n){const e=R4(n);if(!$c(e))return Lc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=eV(e);let o=(s?Kg(t.width):t.width)/r,a=(s?Kg(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Uye=Lc(0);function tV(n){const e=ua(n);return!D4()||!e.visualViewport?Uye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qye(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ua(n)?!1:e}function Oh(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=R4(n);let o=Lc(1);e&&(r?co(r)&&(o=o0(r)):o=o0(n));const a=qye(s,t,r)?tV(s):Lc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const m=ua(s),p=r&&co(r)?ua(r):r;let g=m,v=FC(g);for(;v&&r&&p!==g;){const b=o0(v),S=v.getBoundingClientRect(),E=Bl(v),_=S.left+(v.clientLeft+parseFloat(E.paddingLeft))*b.x,R=S.top+(v.clientTop+parseFloat(E.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=_,c+=R,g=ua(v),v=FC(g)}}return y2({width:u,height:f,x:l,y:c})}function L4(n,e){const t=Nb(n).scrollLeft;return e?e.left+t:Oh(Wc(n)).left+t}function nV(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:L4(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Hye(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Wc(r),a=e?kb(e.floating):!1;if(r===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Lc(1);const u=Lc(0),f=$c(r);if((f||!f&&!s)&&((q0(r)!=="body"||_1(o))&&(l=Nb(r)),$c(r))){const p=Oh(r);c=o0(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const m=o&&!f&&!s?nV(o,l,!0):Lc(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+m.x,y:t.y*c.y-l.scrollTop*c.y+u.y+m.y}}function Wye(n){return Array.from(n.getClientRects())}function Gye(n){const e=Wc(n),t=Nb(n),r=n.ownerDocument.body,i=Fs(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Fs(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+L4(n);const a=-t.scrollTop;return Bl(r).direction==="rtl"&&(o+=Fs(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Kye(n,e){const t=ua(n),r=Wc(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=D4();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Yye(n,e){const t=Oh(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=$c(n)?o0(n):Lc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wR(n,e,t){let r;if(e==="viewport")r=Kye(n,t);else if(e==="document")r=Gye(Wc(n));else if(co(e))r=Yye(e,t);else{const i=tV(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return y2(r)}function rV(n,e){const t=vf(n);return t===e||!co(t)||A0(t)?!1:Bl(t).position==="fixed"||rV(t,e)}function Xye(n,e){const t=e.get(n);if(t)return t;let r=Gg(n,[],!1).filter(a=>co(a)&&q0(a)!=="body"),i=null;const s=Bl(n).position==="fixed";let o=s?vf(n):n;for(;co(o)&&!A0(o);){const a=Bl(o),l=I4(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_1(o)&&!l&&rV(n,o))?r=r.filter(u=>u!==o):i=a,o=vf(o)}return e.set(n,r),r}function Jye(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?kb(e)?[]:Xye(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=wR(e,u,i);return c.top=Fs(f.top,c.top),c.right=Lh(f.right,c.right),c.bottom=Lh(f.bottom,c.bottom),c.left=Fs(f.left,c.left),c},wR(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qye(n){const{width:e,height:t}=eV(n);return{width:e,height:t}}function Zye(n,e,t){const r=$c(e),i=Wc(e),s=t==="fixed",o=Oh(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Lc(0);function c(){l.x=L4(i)}if(r||!r&&!s)if((q0(e)!=="body"||_1(i))&&(a=Nb(e)),r){const p=Oh(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?nV(i,a):Lc(0),f=o.left+a.scrollLeft-l.x-u.x,m=o.top+a.scrollTop-l.y-u.y;return{x:f,y:m,width:o.width,height:o.height}}function _S(n){return Bl(n).position==="static"}function SR(n,e){if(!$c(n)||Bl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Wc(n)===t&&(t=t.ownerDocument.body),t}function iV(n,e){const t=ua(n);if(kb(n))return t;if(!$c(n)){let i=vf(n);for(;i&&!A0(i);){if(co(i)&&!_S(i))return i;i=vf(i)}return t}let r=SR(n,e);for(;r&&_ye(r)&&_S(r);)r=SR(r,e);return r&&A0(r)&&_S(r)&&!I4(r)?t:r||Tye(n)||t}const eve=async function(n){const e=this.getOffsetParent||iV,t=this.getDimensions,r=await t(n.floating);return{reference:Zye(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tve(n){return Bl(n).direction==="rtl"}const nve={convertOffsetParentRelativeRectToViewportRelativeRect:Hye,getDocumentElement:Wc,getClippingRect:Jye,getOffsetParent:iV,getElementRects:eve,getClientRects:Wye,getDimensions:Qye,getScale:o0,isElement:co,isRTL:tve};function sV(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function rve(n,e){let t=null,r;const i=Wc(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:u,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const g=Uy(f),v=Uy(i.clientWidth-(u+m)),b=Uy(i.clientHeight-(f+p)),S=Uy(u),_={rootMargin:-g+"px "+-v+"px "+-b+"px "+-S+"px",threshold:Fs(0,Lh(1,l))||1};let R=!0;function B(U){const O=U[0].intersectionRatio;if(O!==l){if(!R)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!sV(c,n.getBoundingClientRect())&&o(),R=!1}try{t=new IntersectionObserver(B,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(B,_)}t.observe(n)}return o(!0),s}function ive(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=R4(n),u=i||s?[...c?Gg(c):[],...Gg(e)]:[];u.forEach(S=>{i&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const f=c&&a?rve(c,t):null;let m=-1,p=null;o&&(p=new ResizeObserver(S=>{let[E]=S;E&&E.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let g,v=l?Oh(n):null;l&&b();function b(){const S=Oh(n);v&&!sV(v,S)&&t(),v=S,g=requestAnimationFrame(b)}return t(),()=>{var S;u.forEach(E=>{i&&E.removeEventListener("scroll",t),s&&E.removeEventListener("resize",t)}),f==null||f(),(S=p)==null||S.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const TS=Pb,sve=Vye,ove=$ye,ave=jye,lve=zye,cve=(n,e,t)=>{const r=new Map,i={platform:nve,...t},s={...i.platform,_c:r};return Fye(n,e,{...i,platform:s})};var uve=typeof document<"u",dve=function(){},ax=uve?F.useLayoutEffect:dve;function v2(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!v2(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!v2(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function oV(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function ER(n,e){const t=oV(n);return Math.round(e*t)/t}function kS(n){const e=F.useRef(n);return ax(()=>{e.current=n}),e}function fve(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=F.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=F.useState(r);v2(m,r)||p(r);const[g,v]=F.useState(null),[b,S]=F.useState(null),E=F.useCallback(X=>{X!==U.current&&(U.current=X,v(X))},[]),_=F.useCallback(X=>{X!==O.current&&(O.current=X,S(X))},[]),R=s||g,B=o||b,U=F.useRef(null),O=F.useRef(null),C=F.useRef(u),I=l!=null,P=kS(l),N=kS(i),D=kS(c),L=F.useCallback(()=>{if(!U.current||!O.current)return;const X={placement:e,strategy:t,middleware:m};N.current&&(X.platform=N.current),cve(U.current,O.current,X).then(de=>{const ae={...de,isPositioned:D.current!==!1};W.current&&!v2(C.current,ae)&&(C.current=ae,fs.flushSync(()=>{f(ae)}))})},[m,e,t,N,D]);ax(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[c]);const W=F.useRef(!1);ax(()=>(W.current=!0,()=>{W.current=!1}),[]),ax(()=>{if(R&&(U.current=R),B&&(O.current=B),R&&B){if(P.current)return P.current(R,B,L);L()}},[R,B,L,P,I]);const ie=F.useMemo(()=>({reference:U,floating:O,setReference:E,setFloating:_}),[E,_]),oe=F.useMemo(()=>({reference:R,floating:B}),[R,B]),re=F.useMemo(()=>{const X={position:t,left:0,top:0};if(!oe.floating)return X;const de=ER(oe.floating,u.x),ae=ER(oe.floating,u.y);return a?{...X,transform:"translate("+de+"px, "+ae+"px)",...oV(oe.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:de,top:ae}},[t,a,oe.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:L,refs:ie,elements:oe,floatingStyles:re}),[u,L,ie,oe,re])}const aV=(n,e)=>({...sve(n),options:[n,e]}),hve=(n,e)=>({...ove(n),options:[n,e]}),pve=(n,e)=>({...ave(n),options:[n,e]}),mve=(n,e)=>({...lve(n),options:[n,e]}),lV={...DS},gve=lV.useInsertionEffect,yve=gve||(n=>n());function cV(n){const e=F.useRef(()=>{});return yve(()=>{e.current=n}),F.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var BC=typeof document<"u"?F.useLayoutEffect:F.useEffect;let CR=!1,vve=0;const AR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+vve++;function xve(){const[n,e]=F.useState(()=>CR?AR():void 0);return BC(()=>{n==null&&e(AR())},[]),F.useEffect(()=>{CR=!0},[]),n}const bve=lV.useId,wve=bve||xve;function Sve(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(i=>i!==t))||[])}}}const Eve=F.createContext(null),Cve=F.createContext(null),Ave=()=>{var n;return((n=F.useContext(Eve))==null?void 0:n.id)||null},_ve=()=>F.useContext(Cve),Tve="data-floating-ui-focusable";function kve(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=wve(),s=F.useRef({}),[o]=F.useState(()=>Sve()),a=Ave()!=null,[l,c]=F.useState(r.reference),u=cV((p,g,v)=>{s.current.openEvent=p?g:void 0,o.emit("openchange",{open:p,event:g,reason:v,nested:a}),t==null||t(p,g,v)}),f=F.useMemo(()=>({setPositionReference:c}),[]),m=F.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return F.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:m,events:o,floatingId:i,refs:f}),[e,u,m,o,i,f])}function Nve(n){n===void 0&&(n={});const{nodeId:e}=n,t=kve({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=F.useState(null),[a,l]=F.useState(null),u=(i==null?void 0:i.domReference)||s,f=F.useRef(null),m=_ve();BC(()=>{u&&(f.current=u)},[u]);const p=fve({...n,elements:{...i,...a&&{reference:a}}}),g=F.useCallback(_=>{const R=co(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(R),p.refs.setReference(R)},[p.refs]),v=F.useCallback(_=>{(co(_)||_===null)&&(f.current=_,o(_)),(co(p.refs.reference.current)||p.refs.reference.current===null||_!==null&&!co(_))&&p.refs.setReference(_)},[p.refs]),b=F.useMemo(()=>({...p.refs,setReference:v,setPositionReference:g,domReference:f}),[p.refs,v,g]),S=F.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),E=F.useMemo(()=>({...p,...r,refs:b,elements:S,nodeId:e}),[p,b,S,e,r]);return BC(()=>{r.dataRef.current.floatingContext=E;const _=m==null?void 0:m.nodesRef.current.find(R=>R.id===e);_&&(_.context=E)}),F.useMemo(()=>({...p,context:E,refs:b,elements:S}),[p,b,S,E])}const _R="active",TR="selected";function NS(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[_R]:o,[TR]:a,...l}=n;s=l}return{...t==="floating"&&{tabIndex:-1,[Tve]:""},...s,...e.map(o=>{const a=o?o[t]:null;return typeof a=="function"?n?a(n):null:a}).concat(n).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[_R,TR].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),o[c]=function(){for(var m,p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];return(m=r.get(c))==null?void 0:m.map(b=>b(...g)).find(b=>b!==void 0)}}}else o[c]=u}),o),{})}}function Pve(n){n===void 0&&(n=[]);const e=n.map(a=>a==null?void 0:a.reference),t=n.map(a=>a==null?void 0:a.floating),r=n.map(a=>a==null?void 0:a.item),i=F.useCallback(a=>NS(a,n,"reference"),e),s=F.useCallback(a=>NS(a,n,"floating"),t),o=F.useCallback(a=>NS(a,n,"item"),r);return F.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function kR(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const Ive=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:r,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=H0(n,e),{rects:f,elements:{floating:m}}=e,p=t.current[o],g=(c==null?void 0:c.current)||m,v=m.clientTop||g.clientTop,b=m.clientTop!==0,S=g.clientTop!==0,E=m===g;if(!p)return{};const _={...e,...await aV(-p.offsetTop-m.clientTop-f.reference.height/2-p.offsetHeight/2-s).fn(e)},R=await TS(kR(_,g.scrollHeight+v+m.clientTop),u),B=await TS(_,{...u,elementContext:"reference"}),U=Fs(0,R.top),O=_.y+U,P=(g.scrollHeight>g.clientHeight?N=>N:Kg)(Fs(0,g.scrollHeight+(b&&E||S?v*2:0)-U-Fs(0,R.bottom)));if(g.style.maxHeight=P+"px",g.scrollTop=U,i){const N=g.offsetHeight<p.offsetHeight*Lh(a,t.current.length)-1||B.top>=-l||B.bottom>=-l;fs.flushSync(()=>i(N))}return r&&(r.current=await TS(kR({..._,y:O},g.offsetHeight+v+m.clientTop),u)),{y:O}}});function Dve(n,e){const{open:t,elements:r}=n,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=cV(a),c=F.useRef(!1),u=F.useRef(null),f=F.useRef(null);F.useEffect(()=>{if(!i)return;function p(v){if(v.ctrlKey||!g||s.current==null)return;const b=v.deltaY,S=s.current.top>=-.5,E=s.current.bottom>=-.5,_=g.scrollHeight-g.clientHeight,R=b<0?-1:1,B=b<0?"max":"min";g.scrollHeight<=g.clientHeight||(!S&&b>0||!E&&b<0?(v.preventDefault(),fs.flushSync(()=>{l(U=>U+Math[B](b,_*R))})):/firefox/i.test(kye())&&(g.scrollTop+=b))}const g=(o==null?void 0:o.current)||r.floating;if(t&&g)return g.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=g.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{u.current=null,f.current=null,g.removeEventListener("wheel",p)}},[i,t,r.floating,s,o,l]);const m=F.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=(o==null?void 0:o.current)||r.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const g=p.scrollTop-u.current;(s.current.bottom<-.5&&g<-1||s.current.top<-.5&&g>1)&&fs.flushSync(()=>l(v=>v+g))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[r.floating,l,s,o]);return F.useMemo(()=>i?{floating:m}:{},[i,m])}let W0=F.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});W0.displayName="FloatingContext";let O4=F.createContext(null);O4.displayName="PlacementContext";function Rve(n){return F.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function Lve(){return F.useContext(W0).setReference}function Ove(){return F.useContext(W0).getReferenceProps}function Mve(){let{getFloatingProps:n,slot:e}=F.useContext(W0);return F.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function Fve(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=F.useContext(O4),t=F.useMemo(()=>n,[JSON.stringify(n,(i,s)=>{var o;return(o=s==null?void 0:s.outerHTML)!=null?o:s})]);qi(()=>{e==null||e(t??null)},[e,t]);let r=F.useContext(W0);return F.useMemo(()=>[r.setFloating,n?r.styles:{}],[r.setFloating,n,r.styles])}let NR=4;function jve({children:n,enabled:e=!0}){let[t,r]=F.useState(null),[i,s]=F.useState(0),o=F.useRef(null),[a,l]=F.useState(null);Bve(a);let c=e&&t!==null&&a!==null,{to:u="bottom",gap:f=0,offset:m=0,padding:p=0,inner:g}=Vve(t,a),[v,b="center"]=u.split(" ");qi(()=>{c&&s(0)},[c]);let{refs:S,floatingStyles:E,context:_}=Nve({open:c,placement:v==="selection"?b==="center"?"bottom":`bottom-${b}`:b==="center"?`${v}`:`${v}-${b}`,strategy:"absolute",transform:!1,middleware:[aV({mainAxis:v==="selection"?0:f,crossAxis:m}),hve({padding:p}),v!=="selection"&&pve({padding:p}),v==="selection"&&g?Ive({...g,padding:p,overflowRef:o,offset:i,minItemsVisible:NR,referenceOverflowThreshold:p,onFallbackChange(N){var D,L;if(!N)return;let W=_.elements.floating;if(!W)return;let ie=parseFloat(getComputedStyle(W).scrollPaddingBottom)||0,oe=Math.min(NR,W.childElementCount),re=0,X=0;for(let de of(L=(D=_.elements.floating)==null?void 0:D.childNodes)!=null?L:[])if(zu(de)){let ae=de.offsetTop,Y=ae+de.clientHeight+ie,$=W.scrollTop,K=$+W.clientHeight;if(ae>=$&&Y<=K)oe--;else{X=Math.max(0,Math.min(Y,K)-Math.max(ae,$)),re=de.clientHeight;break}}oe>=1&&s(de=>{let ae=re*oe-X+ie;return de>=ae?de:ae})}}):null,mve({padding:p,apply({availableWidth:N,availableHeight:D,elements:L}){Object.assign(L.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${D}px)`})}})].filter(Boolean),whileElementsMounted:ive}),[R=v,B=b]=_.placement.split("-");v==="selection"&&(R="selection");let U=F.useMemo(()=>({anchor:[R,B].filter(Boolean).join(" ")}),[R,B]),O=Dve(_,{overflowRef:o,onChange:s}),{getReferenceProps:C,getFloatingProps:I}=Pve([O]),P=yr(N=>{l(N),S.setFloating(N)});return F.createElement(O4.Provider,{value:r},F.createElement(W0.Provider,{value:{setFloating:P,setReference:S.setReference,styles:E,getReferenceProps:C,getFloatingProps:I,slot:U}},n))}function Bve(n){qi(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,r=parseFloat(t);if(isNaN(r))return;let i=parseInt(t);isNaN(i)||r!==i&&(n.style.maxHeight=`${Math.ceil(r)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function Vve(n,e){var t,r,i;let s=PS((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),o=PS((r=n==null?void 0:n.offset)!=null?r:"var(--anchor-offset, 0)",e),a=PS((i=n==null?void 0:n.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...n,gap:s,offset:o,padding:a}}function PS(n,e,t=void 0){let r=A1(),i=yr((l,c)=>{if(l==null)return[t,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[t,null];let u=PR(l,c);return[u,f=>{let m=uV(l);{let p=m.map(g=>window.getComputedStyle(c).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let v=!1;for(let[S,E]of m.entries()){let _=window.getComputedStyle(c).getPropertyValue(E);if(p[S]!==_){p[S]=_,v=!0;break}}if(!v)return;let b=PR(l,c);u!==b&&(f(b),u=b)})}return r.dispose}]}return[t,null]}),s=F.useMemo(()=>i(n,e)[0],[n,e]),[o=s,a]=F.useState();return qi(()=>{let[l,c]=i(n,e);if(a(l),!!c)return c(a)},[n,e]),o}function uV(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let r=e[1].slice(0,t).trim(),i=e[1].slice(t+1).trim();return i?[r,...uV(i)]:[r]}return[]}function PR(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let r=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),r}function $ve(n,e){let[t,r]=F.useState(e);return!n&&t!==e&&r(e),n?t:e}let M4=F.createContext(null);M4.displayName="OpenClosedContext";var Yg=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Yg||{});function zve(){return F.useContext(M4)}function Uve({value:n,children:e}){return dt.createElement(M4.Provider,{value:n},e)}function qve(n){throw new Error("Unexpected object: "+n)}var Ar=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(Ar||{});function qy(n,e){let t=e.resolveItems();if(t.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1;switch(n.focus){case 0:{for(let s=0;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 1:{i===-1&&(i=t.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 2:{for(let s=i+1;s<t.length;++s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 3:{for(let s=t.length-1;s>=0;--s)if(!e.resolveDisabled(t[s],s,t))return s;return r}case 4:{for(let s=0;s<t.length;++s)if(e.resolveId(t[s],s,t)===n.id)return s;return r}case 5:return null;default:qve(n)}}function dV(n){let e=yr(n),t=F.useRef(!1);F.useEffect(()=>(t.current=!1,()=>{t.current=!0,C9(()=>{t.current&&e()})}),[e])}function Hve(){let n=typeof document>"u";return"useSyncExternalStore"in DS?(e=>e.useSyncExternalStore)(DS)(()=>()=>{},()=>!1,()=>!n):!1}function Wve(){let n=Hve(),[e,t]=F.useState(Sh.isHandoffComplete);return e&&Sh.isHandoffComplete===!1&&t(!1),F.useEffect(()=>{e!==!0&&t(!0)},[e]),F.useEffect(()=>Sh.handoff(),[]),n?!1:e}let Gve=F.createContext(!1);function Kve(){return F.useContext(Gve)}function Yve(n){let e=Kve(),t=F.useContext(hV),[r,i]=F.useState(()=>{var s;if(!e&&t!==null)return(s=t.current)!=null?s:null;if(Sh.isServer)return null;let o=n==null?void 0:n.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let a=n.createElement("div");return a.setAttribute("id","headlessui-portal-root"),n.body.appendChild(a)});return F.useEffect(()=>{r!==null&&(n!=null&&n.body.contains(r)||n==null||n.body.appendChild(r))},[r,n]),F.useEffect(()=>{e||t!==null&&i(t.current)},[t,i,e]),r}let fV=F.Fragment,Xve=Gl(function(n,e){let{ownerDocument:t=null,...r}=n,i=F.useRef(null),s=Hc(b1e(p=>{i.current=p}),e),o=MC(i),a=t??o,l=Yve(a),[c]=F.useState(()=>{var p;return Sh.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),u=F.useContext(exe),f=Wve();qi(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),qi(()=>{if(c&&u)return u.register(c)},[u,c]),dV(()=>{var p;!l||!c||(T4(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let m=Wl();return f?!l||!c?null:fs.createPortal(m({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:fV,name:"Portal"}),c):null});function Jve(n,e){let t=Hc(e),{enabled:r=!0,ownerDocument:i,...s}=n,o=Wl();return r?dt.createElement(Xve,{...s,ownerDocument:i,ref:t}):o({ourProps:{ref:t},theirProps:s,slot:{},defaultTag:fV,name:"Portal"})}let Qve=F.Fragment,hV=F.createContext(null);function Zve(n,e){let{target:t,...r}=n,i={ref:Hc(e)},s=Wl();return dt.createElement(hV.Provider,{value:t},s({ourProps:i,theirProps:r,defaultTag:Qve,name:"Popover.Group"}))}let exe=F.createContext(null),txe=Gl(Jve),nxe=Gl(Zve),rxe=Object.assign(txe,{Group:nxe});function ixe(n,e){let t=F.useRef({left:0,top:0});if(qi(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(t.current=i)},[n,e]),e==null||!n||e===document.activeElement)return!1;let r=e.getBoundingClientRect();return r.top!==t.current.top||r.left!==t.current.left}let IR=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function DR(n){var e,t;let r=(e=n.innerText)!=null?e:"",i=n.cloneNode(!0);if(!zu(i))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(t=i.innerText)!=null?t:"":r;return IR.test(o)&&(o=o.replace(IR,"")),o}function sxe(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let r=t.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():DR(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return DR(n).trim()}function oxe(n){let e=F.useRef(""),t=F.useRef("");return yr(()=>{let r=n.current;if(!r)return"";let i=r.innerText;if(e.current===i)return t.current;let s=sxe(r).trim().toLowerCase();return e.current=i,t.current=s,s})}var axe=Object.defineProperty,lxe=(n,e,t)=>e in n?axe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,RR=(n,e,t)=>(lxe(n,typeof e!="symbol"?e+"":e,t),t),Fi=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(Fi||{}),Ec=(n=>(n[n.Single=0]="Single",n[n.Multi=1]="Multi",n))(Ec||{}),VC=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(VC||{}),pV=(n=>(n[n.OpenListbox=0]="OpenListbox",n[n.CloseListbox=1]="CloseListbox",n[n.GoToOption=2]="GoToOption",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterOptions=5]="RegisterOptions",n[n.UnregisterOptions=6]="UnregisterOptions",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetOptionsElement=8]="SetOptionsElement",n[n.SortOptions=9]="SortOptions",n))(pV||{});function LR(n,e=t=>t){let t=n.activeOptionIndex!==null?n.options[n.activeOptionIndex]:null,r=G9(e(n.options.slice()),s=>s.dataRef.current.domRef.current),i=t?r.indexOf(t):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let cxe={1(n){return n.dataRef.current.disabled||n.listboxState===1?n:{...n,activeOptionIndex:null,pendingFocus:{focus:Ar.Nothing},listboxState:1,__demoMode:!1}},0(n,e){if(n.dataRef.current.disabled||n.listboxState===0)return n;let t=n.activeOptionIndex,{isSelected:r}=n.dataRef.current,i=n.options.findIndex(s=>r(s.dataRef.current.value));return i!==-1&&(t=i),{...n,pendingFocus:e.focus,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(n,e){var t,r,i,s,o;if(n.dataRef.current.disabled||n.listboxState===1)return n;let a={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===Ar.Nothing)return{...a,activeOptionIndex:null};if(e.focus===Ar.Specific)return{...a,activeOptionIndex:n.options.findIndex(u=>u.id===e.id)};if(e.focus===Ar.Previous){let u=n.activeOptionIndex;if(u!==null){let f=n.options[u].dataRef.current.domRef,m=qy(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(m!==null){let p=n.options[m].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeOptionIndex:m}}}}else if(e.focus===Ar.Next){let u=n.activeOptionIndex;if(u!==null){let f=n.options[u].dataRef.current.domRef,m=qy(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(m!==null){let p=n.options[m].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeOptionIndex:m}}}}let l=LR(n),c=qy(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeOptionIndex:c}},3:(n,e)=>{if(n.dataRef.current.disabled||n.listboxState===1)return n;let t=n.searchQuery!==""?0:1,r=n.searchQuery+e.value.toLowerCase(),i=(n.activeOptionIndex!==null?n.options.slice(n.activeOptionIndex+t).concat(n.options.slice(0,n.activeOptionIndex+t)):n.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?n.options.indexOf(i):-1;return s===-1||s===n.activeOptionIndex?{...n,searchQuery:r}:{...n,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(n){return n.dataRef.current.disabled||n.listboxState===1||n.searchQuery===""?n:{...n,searchQuery:""}},5:(n,e)=>{let t=n.options.concat(e.options),r=n.activeOptionIndex;if(n.pendingFocus.focus!==Ar.Nothing&&(r=qy(n.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),n.activeOptionIndex===null){let{isSelected:i}=n.dataRef.current;if(i){let s=t.findIndex(o=>i==null?void 0:i(o.dataRef.current.value));s!==-1&&(r=s)}}return{...n,options:t,activeOptionIndex:r,pendingFocus:{focus:Ar.Nothing},pendingShouldSort:!0}},6:(n,e)=>{let t=n.options,r=[],i=new Set(e.options);for(let[s,o]of t.entries())if(i.has(o.id)&&(r.push(s),i.delete(o.id),i.size===0))break;if(r.length>0){t=t.slice();for(let s of r.reverse())t.splice(s,1)}return{...n,options:t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.optionsElement===e.element?n:{...n,optionsElement:e.element},9:n=>n.pendingShouldSort?{...n,...LR(n),pendingShouldSort:!1}:n};class F4 extends V9{constructor(e){super(e),RR(this,"actions",{onChange:t=>{let{onChange:r,compare:i,mode:s,value:o}=this.state.dataRef.current;return Vc(s,{0:()=>r==null?void 0:r(t),1:()=>{let a=o.slice(),l=a.findIndex(c=>i(c,t));return l===-1?a.push(t):a.splice(l,1),r==null?void 0:r(a)}})},registerOption:ES(()=>{let t=[],r=new Set;return[(i,s)=>{r.has(s)||(r.add(s),t.push({id:i,dataRef:s}))},()=>(r.clear(),this.send({type:5,options:t.splice(0)}))]}),unregisterOption:ES(()=>{let t=[];return[r=>t.push(r),()=>{this.send({type:6,options:t.splice(0)})}]}),goToOption:ES(()=>{let t=null;return[(r,i)=>{t={type:2,...r,trigger:i}},()=>t&&this.send(t)]}),closeListbox:()=>{this.send({type:1})},openListbox:t=>{this.send({type:0,focus:t})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:t,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(t.current.value),this.send({type:2,focus:Ar.Specific,id:r})}},selectOption:t=>{let r=this.state.options.find(i=>i.id===t);r&&this.actions.onChange(r.dataRef.current.value)},search:t=>{this.send({type:3,value:t})},clearSearch:()=>{this.send({type:4})},setButtonElement:t=>{this.send({type:7,element:t})},setOptionsElement:t=>{this.send({type:8,element:t})}}),RR(this,"selectors",{activeDescendantId(t){var r;let i=t.activeOptionIndex,s=t.options;return i===null||(r=s[i])==null?void 0:r.id},isActive(t,r){var i;let s=t.activeOptionIndex,o=t.options;return s!==null?((i=o[s])==null?void 0:i.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.listboxState!==0||t.activationTrigger===0?!1:this.isActive(t,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=N4.get(null);this.disposables.add(r.on(z9.Push,i=>{!r.selectors.isTop(i,t)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}}static new({id:e,__demoMode:t=!1}){return new F4({id:e,dataRef:{current:{}},listboxState:t?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:Ar.Nothing},__demoMode:t})}reduce(e,t){return Vc(t.type,cxe,e,t)}}const mV=F.createContext(null);function j4(n){let e=F.useContext(mV);if(e===null){let t=new Error(`<${n} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,gV),t}return e}function gV({id:n,__demoMode:e=!1}){let t=F.useMemo(()=>F4.new({id:n,__demoMode:e}),[]);return dV(()=>t.dispose()),t}let Ib=F.createContext(null);Ib.displayName="ListboxDataContext";function k1(n){let e=F.useContext(Ib);if(e===null){let t=new Error(`<${n} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,k1),t}return e}let uxe=F.Fragment;function dxe(n,e){let t=F.useId(),r=A4(),{value:i,defaultValue:s,form:o,name:a,onChange:l,by:c,invalid:u=!1,disabled:f=r||!1,horizontal:m=!1,multiple:p=!1,__demoMode:g=!1,...v}=n;const b=m?"horizontal":"vertical";let S=Hc(e),E=s1e(s),[_=p?[]:void 0,R]=i1e(i,l,E),B=gV({id:t,__demoMode:g}),U=F.useRef({static:!1,hold:!1}),O=F.useRef(new Map),C=I1e(c),I=F.useCallback($=>Vc(P.mode,{[Ec.Multi]:()=>_.some(K=>C(K,$)),[Ec.Single]:()=>C(_,$)}),[_]),P=F.useMemo(()=>({value:_,disabled:f,invalid:u,mode:p?Ec.Multi:Ec.Single,orientation:b,onChange:R,compare:C,isSelected:I,optionsPropsRef:U,listRef:O}),[_,f,u,p,b,R,C,I,U,O]);qi(()=>{B.state.dataRef.current=P},[P]);let N=Ua(B,$=>$.listboxState),D=N4.get(null),L=Ua(D,F.useCallback($=>D.selectors.isTop($,t),[D,t])),[W,ie]=Ua(B,$=>[$.buttonElement,$.optionsElement]);iye(L,[W,ie],($,K)=>{B.send({type:pV.CloseListbox}),W9(K,P4.Loose)||($.preventDefault(),W==null||W.focus())});let oe=F.useMemo(()=>({open:N===Fi.Open,disabled:f,invalid:u,value:_}),[N,f,u,_]),[re,X]=A1e({inherit:!0}),de={ref:S},ae=F.useCallback(()=>{if(E!==void 0)return R==null?void 0:R(E)},[R,E]),Y=Wl();return dt.createElement(X,{value:re,props:{htmlFor:W==null?void 0:W.id},slot:{open:N===Fi.Open,disabled:f}},dt.createElement(jve,null,dt.createElement(mV.Provider,{value:B},dt.createElement(Ib.Provider,{value:P},dt.createElement(Uve,{value:Vc(N,{[Fi.Open]:Yg.Open,[Fi.Closed]:Yg.Closed})},a!=null&&_!=null&&dt.createElement(d1e,{disabled:f,data:{[a]:_},form:o,onReset:ae}),Y({ourProps:de,theirProps:v,slot:oe,defaultTag:uxe,name:"Listbox"}))))))}let fxe="button";function hxe(n,e){let t=F.useId(),r=I9(),i=k1("Listbox.Button"),s=j4("Listbox.Button"),{id:o=r||`headlessui-listbox-button-${t}`,disabled:a=i.disabled||!1,autoFocus:l=!1,...c}=n,u=Hc(e,Lve(),s.actions.setButtonElement),f=Ove(),[m,p,g]=Ua(s,ie=>[ie.listboxState,ie.buttonElement,ie.optionsElement]),v=m===Fi.Open;aye(v,{trigger:p,action:F.useCallback(ie=>{if(p!=null&&p.contains(ie.target))return zy.Ignore;let oe=ie.target.closest('[role="option"]:not([data-disabled])');return zu(oe)?zy.Select(oe):g!=null&&g.contains(ie.target)?zy.Ignore:zy.Close},[p,g]),close:s.actions.closeListbox,select:s.actions.selectActiveOption});let b=yr(ie=>{switch(ie.key){case Di.Enter:o1e(ie.currentTarget);break;case Di.Space:case Di.ArrowDown:ie.preventDefault(),s.actions.openListbox({focus:i.value?Ar.Nothing:Ar.First});break;case Di.ArrowUp:ie.preventDefault(),s.actions.openListbox({focus:i.value?Ar.Nothing:Ar.Last});break}}),S=yr(ie=>{switch(ie.key){case Di.Space:ie.preventDefault();break}}),E=yr(ie=>{var oe;if(ie.button===0){if(v1e(ie.currentTarget))return ie.preventDefault();s.state.listboxState===Fi.Open?(fs.flushSync(()=>s.actions.closeListbox()),(oe=s.state.buttonElement)==null||oe.focus({preventScroll:!0})):(ie.preventDefault(),s.actions.openListbox({focus:Ar.Nothing}))}}),_=yr(ie=>ie.preventDefault()),R=F9([o]),B=w1e(),{isFocusVisible:U,focusProps:O}=Hge({autoFocus:l}),{isHovered:C,hoverProps:I}=qge({isDisabled:a}),{pressed:P,pressProps:N}=Jge({disabled:a}),D=F.useMemo(()=>({open:m===Fi.Open,active:P||m===Fi.Open,disabled:a,invalid:i.invalid,value:i.value,hover:C,focus:U,autofocus:l}),[m,i.value,a,C,U,P,i.invalid,l]),L=Ua(s,ie=>ie.listboxState===Fi.Open),W=_9(f(),{ref:u,id:o,type:lye(n,p),"aria-haspopup":"listbox","aria-controls":g==null?void 0:g.id,"aria-expanded":L,"aria-labelledby":R,"aria-describedby":B,disabled:a||void 0,autoFocus:l,onKeyDown:b,onKeyUp:S,onKeyPress:_,onPointerDown:E},O,I,N);return Wl()({ourProps:W,theirProps:c,slot:D,defaultTag:fxe,name:"Listbox.Button"})}let yV=F.createContext(!1),pxe="div",mxe=DC.RenderStrategy|DC.Static;function gxe(n,e){let t=F.useId(),{id:r=`headlessui-listbox-options-${t}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=n,c=Rve(i),[u,f]=F.useState(null);c&&(s=!0);let m=k1("Listbox.Options"),p=j4("Listbox.Options"),[g,v,b,S]=Ua(p,ue=>[ue.listboxState,ue.buttonElement,ue.optionsElement,ue.__demoMode]),E=MC(v),_=MC(b),R=zve(),[B,U]=Sye(a,u,R!==null?(R&Yg.Open)===Yg.Open:g===Fi.Open);W1e(B,v,p.actions.closeListbox);let O=S?!1:o&&g===Fi.Open;gye(O,_);let C=S?!1:o&&g===Fi.Open;H1e(C,{allowed:F.useCallback(()=>[v,b],[v,b])});let I=g!==Fi.Open,P=ixe(I,v)?!1:B,N=B&&g===Fi.Closed,D=$ve(N,m.value),L=yr(ue=>m.compare(D,ue)),W=Ua(p,ue=>{var ge;if(c==null||!((ge=c==null?void 0:c.to)!=null&&ge.includes("selection")))return null;let ye=ue.options.findIndex(Se=>L(Se.dataRef.current.value));return ye===-1&&(ye=0),ye}),ie=(()=>{if(c==null)return;if(W===null)return{...c,inner:void 0};let ue=Array.from(m.listRef.current.values());return{...c,inner:{listRef:{current:ue},index:W}}})(),[oe,re]=Fve(ie),X=Mve(),de=Hc(e,c?oe:null,p.actions.setOptionsElement,f),ae=A1();F.useEffect(()=>{var ue;let ge=b;ge&&g===Fi.Open&&ge!==((ue=C1(ge))==null?void 0:ue.activeElement)&&(ge==null||ge.focus({preventScroll:!0}))},[g,b]);let Y=yr(ue=>{var ge,ye;switch(ae.dispose(),ue.key){case Di.Space:if(p.state.searchQuery!=="")return ue.preventDefault(),ue.stopPropagation(),p.actions.search(ue.key);case Di.Enter:if(ue.preventDefault(),ue.stopPropagation(),p.state.activeOptionIndex!==null){let{dataRef:Se}=p.state.options[p.state.activeOptionIndex];p.actions.onChange(Se.current.value)}m.mode===Ec.Single&&(fs.flushSync(()=>p.actions.closeListbox()),(ge=p.state.buttonElement)==null||ge.focus({preventScroll:!0}));break;case Vc(m.orientation,{vertical:Di.ArrowDown,horizontal:Di.ArrowRight}):return ue.preventDefault(),ue.stopPropagation(),p.actions.goToOption({focus:Ar.Next});case Vc(m.orientation,{vertical:Di.ArrowUp,horizontal:Di.ArrowLeft}):return ue.preventDefault(),ue.stopPropagation(),p.actions.goToOption({focus:Ar.Previous});case Di.Home:case Di.PageUp:return ue.preventDefault(),ue.stopPropagation(),p.actions.goToOption({focus:Ar.First});case Di.End:case Di.PageDown:return ue.preventDefault(),ue.stopPropagation(),p.actions.goToOption({focus:Ar.Last});case Di.Escape:ue.preventDefault(),ue.stopPropagation(),fs.flushSync(()=>p.actions.closeListbox()),(ye=p.state.buttonElement)==null||ye.focus({preventScroll:!0});return;case Di.Tab:ue.preventDefault(),ue.stopPropagation(),fs.flushSync(()=>p.actions.closeListbox()),eye(p.state.buttonElement,ue.shiftKey?OC.Previous:OC.Next);break;default:ue.key.length===1&&(p.actions.search(ue.key),ae.setTimeout(()=>p.actions.clearSearch(),350));break}}),$=Ua(p,ue=>{var ge;return(ge=ue.buttonElement)==null?void 0:ge.id}),K=F.useMemo(()=>({open:g===Fi.Open}),[g]),J=_9(c?X():{},{id:r,ref:de,"aria-activedescendant":Ua(p,p.selectors.activeDescendantId),"aria-multiselectable":m.mode===Ec.Multi?!0:void 0,"aria-labelledby":$,"aria-orientation":m.orientation,onKeyDown:Y,role:"listbox",tabIndex:g===Fi.Open?0:void 0,style:{...l.style,...re,"--button-width":R1e(v,!0).width},...wye(U)}),ee=Wl(),ce=F.useMemo(()=>m.mode===Ec.Multi?m:{...m,isSelected:L},[m,L]);return dt.createElement(rxe,{enabled:s?n.static||B:!1,ownerDocument:E},dt.createElement(Ib.Provider,{value:ce},ee({ourProps:J,theirProps:l,slot:K,defaultTag:pxe,features:mxe,visible:P,name:"Listbox.Options"})))}let yxe="div";function vxe(n,e){let t=F.useId(),{id:r=`headlessui-listbox-option-${t}`,disabled:i=!1,value:s,...o}=n,a=F.useContext(yV)===!0,l=k1("Listbox.Option"),c=j4("Listbox.Option"),u=Ua(c,P=>c.selectors.isActive(P,r)),f=l.isSelected(s),m=F.useRef(null),p=oxe(m),g=U0({disabled:i,value:s,domRef:m,get textValue(){return p()}}),v=Hc(e,m,P=>{P?l.listRef.current.set(r,P):l.listRef.current.delete(r)}),b=Ua(c,P=>c.selectors.shouldScrollIntoView(P,r));qi(()=>{if(b)return Hl().requestAnimationFrame(()=>{var P,N;(N=(P=m.current)==null?void 0:P.scrollIntoView)==null||N.call(P,{block:"nearest"})})},[b,m]),qi(()=>{if(!a)return c.actions.registerOption(r,g),()=>c.actions.unregisterOption(r)},[g,r,a]);let S=yr(P=>{var N;if(i)return P.preventDefault();c.actions.onChange(s),l.mode===Ec.Single&&(fs.flushSync(()=>c.actions.closeListbox()),(N=c.state.buttonElement)==null||N.focus({preventScroll:!0}))}),E=yr(()=>{if(i)return c.actions.goToOption({focus:Ar.Nothing});c.actions.goToOption({focus:Ar.Specific,id:r})}),_=yye(),R=yr(P=>{_.update(P),!i&&(u||c.actions.goToOption({focus:Ar.Specific,id:r},VC.Pointer))}),B=yr(P=>{_.wasMoved(P)&&(i||u||c.actions.goToOption({focus:Ar.Specific,id:r},VC.Pointer))}),U=yr(P=>{_.wasMoved(P)&&(i||u&&c.actions.goToOption({focus:Ar.Nothing}))}),O=F.useMemo(()=>({active:u,focus:u,selected:f,disabled:i,selectedOption:f&&a}),[u,f,i,a]),C=a?{}:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:S,onFocus:E,onPointerEnter:R,onMouseEnter:R,onPointerMove:B,onMouseMove:B,onPointerLeave:U,onMouseLeave:U},I=Wl();return!f&&a?null:I({ourProps:C,theirProps:o,slot:O,defaultTag:yxe,name:"Listbox.Option"})}let xxe=F.Fragment;function bxe(n,e){let{options:t,placeholder:r,...i}=n,s={ref:Hc(e)},o=k1("ListboxSelectedOption"),a=F.useMemo(()=>({}),[]),l=o.value===void 0||o.value===null||o.mode===Ec.Multi&&Array.isArray(o.value)&&o.value.length===0,c=Wl();return dt.createElement(yV.Provider,{value:!0},c({ourProps:s,theirProps:{...i,children:dt.createElement(dt.Fragment,null,r&&l?r:t)},slot:a,defaultTag:xxe,name:"ListboxSelectedOption"}))}let wxe=Gl(dxe),Sxe=Gl(hxe),Exe=N1e,Cxe=Gl(gxe),Axe=Gl(vxe),_xe=Gl(bxe),Hy=Object.assign(wxe,{Button:Sxe,Label:Exe,Options:Cxe,Option:Axe,SelectedOption:_xe});function OR(){return A.jsxs("div",{className:"animate-pulse bg-white rounded-lg shadow p-4",children:[A.jsx("div",{className:"h-40 bg-gray-200 rounded mb-4"}),A.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),A.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})}function Txe({categories:n,selectedCategory:e,setSelectedCategory:t,selectedSubcategory:r,setSelectedSubcategory:i}){const{t:s}=ho(),{i18n:o}=ho(),a=o.language||"es";return!n||n.length===0?A.jsx("aside",{className:"mb-10 md:mb-0 md:mr-8",children:A.jsxs("div",{className:"sticky top-24",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:s("shop.filterBy")}),A.jsx("p",{className:"text-sm text-gray-500",children:"No hay categoras disponibles."})]})}):A.jsx("aside",{className:"mb-10 md:mb-0 md:mr-8",children:A.jsxs("div",{className:"sticky top-24",children:[A.jsx("h3",{className:"text-lg font-bold mb-4",children:s("shop.filterBy")}),A.jsx("ul",{className:"space-y-2 text-sm",children:n.map(l=>A.jsxs("li",{children:[A.jsx("button",{onClick:()=>{t(l.id),i("")},className:`block w-full text-left px-2 py-1 rounded transition ${e===l.id?"bg-white text-gray-900 font-medium border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:outline-none transition-all relative before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:w-1.5 before:h-1.5 before:rounded-full before:bg-blue-500":"text-gray-800 hover:bg-gray-100 hover:text-gray-900"}`,children:typeof l.name=="object"?l.name[a]:l.name||""}),Array.isArray(l.subcategories)&&l.subcategories.length>0&&A.jsx("ul",{className:"ml-4 mt-1 space-y-1 text-sm text-gray-600",children:l.subcategories.map(c=>A.jsx("li",{children:A.jsx("button",{onClick:()=>{i(c.id),t("")},className:`block w-full text-left px-2 py-0.5 rounded text-sm transition ${r===c.id?"bg-white text-gray-900 font-medium border border-gray-300 rounded-md px-4 py-2 shadow-sm focus:outline-none transition-all relative before:absolute before:left-2 before:top-1/2 before:-translate-y-1/2 before:w-1.5 before:h-1.5 before:rounded-full before:bg-blue-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:c.name&&typeof c.name=="object"?c.name[a]||c.name.es||"":c.name||""})},c.id))})]},l.id))}),A.jsxs("div",{className:"mt-6 space-y-2",children:[A.jsx("button",{onClick:()=>{t(""),i("")},className:"w-full text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded transition",children:s("shop.clearFilters")}),A.jsx("button",{onClick:()=>{t(""),i("")},className:"w-full text-sm bg-blue-600 text-white hover:bg-blue-700 py-2 px-4 rounded transition",children:s("shop.showAll")})]})]})})}function kxe(){var ge;const{t:n}=ho(),[e,t]=F.useState([]),[r,i]=F.useState(!0),s=$l(),o=zc(),a=((ge=s.state)==null?void 0:ge.category)||"",[l,c]=F.useState(a),[u,f]=F.useState(""),[m,p]=F.useState(""),[g,v]=F.useState(!1),[b,S]=F.useState(!1),[E,_]=F.useState(""),R=new URLSearchParams(s.search),B=R.get("filter"),U=B?B.toUpperCase():"",[O,C]=F.useState([]),[I,P]=F.useState(!1),[N,D]=F.useState([]),[L,W]=F.useState([]),[ie,oe]=F.useState({}),[re,X]=F.useState(""),[de,ae]=F.useState("");F.useEffect(()=>{(async()=>{try{const Ae=(await Ud()).filter(je=>je.active!==!1);t(Ae),i(!1),console.log(`[Shop] Productos de ftbol cargados: ${Ae.length}`)}catch(Se){console.error("[Shop] Error al cargar productos:",Se),t([]),i(!1)}})()},[]),F.useEffect(()=>{async function ye(){try{const Se=await Tse();console.log("[Shop] Ligas tradas desde Firebase:",Se);const Ae=Se.map(async we=>{const qe=(await Dg(we.id)).map(()=>Promise.resolve([])),Oe=(await Promise.all(qe)).flat().map(Ie=>typeof Ie=="string"?Ie:Ie.name||"");return{id:we.id,name:we.name,teams:Oe}}),je=await Promise.all(Ae),$e=U.toLowerCase();C(je);const st=je.filter(we=>{const pe=(typeof we.name=="string"?we.name:we.name[K.language]||"").trim().toLowerCase();return $e==="nba"?pe==="nba":$e==="futbol"?!["nba","zapatos","otros"].includes(pe):!0});console.log("[Shop] Ligas filtradas:",st),C(st.map(we=>({id:we.id,name:we.name,teams:we.teams||[]}))),!l&&st.length>0&&c(""),P(st.length===0),i(!1)}catch(Se){console.error("[Shop] Error al cargar ligas:",Se),P(!0),i(!1)}}ye()},[U]),F.useEffect(()=>{(async()=>{try{const Ae=(await Z2()).map($e=>({...$e,subcategories:$e.subcategories||[]}));W(Ae);const je=Ae.flatMap($e=>$e.subcategories);D(je)}catch(Se){console.error("[Shop] Error al cargar categoras y subcategoras:",Se),W([])}})()},[]),F.useEffect(()=>{var Ae;const ye=R.get("stock")==="true",Se=sessionStorage.getItem("stockScrollDone");ye?(c("STOCK_EXPRESS"),f(""),p(""),Se||setTimeout(()=>{const je=document.getElementById("stock-express");je&&(je.scrollIntoView({behavior:"smooth"}),sessionStorage.setItem("stockScrollDone","true"))},300)):(Ae=s.state)!=null&&Ae.category?(c(s.state.category),f(""),p(""),window.history.replaceState&&window.history.replaceState({...window.history.state,usr:void 0,state:void 0},document.title,window.location.pathname+window.location.search)):sessionStorage.removeItem("stockScrollDone")},[R]),F.useEffect(()=>{const ye=()=>{S(window.scrollY>300)};return window.addEventListener("scroll",ye),()=>window.removeEventListener("scroll",ye)},[]),F.useEffect(()=>{m.trim().length>0&&(c(""),f(""))},[m]);const Y=()=>{window.scrollTo({top:0,behavior:"smooth"})},$=ye=>{c(ye),f(""),p(""),v(!1)},{i18n:K}=ho(),J=F.useMemo(()=>{const ye=e.filter(Se=>{var st,we,pe,qe;const Ae=re?((st=Se.category)==null?void 0:st.id)===re:!0,je=de?((we=Se.subcategory)==null?void 0:we.id)===de:!0,$e=m?(qe=(pe=Se.title)==null?void 0:pe[K.language])==null?void 0:qe.toLowerCase().includes(m.toLowerCase()):!0;return Ae&&je&&$e});switch(console.log("Selected category:",re),console.log("Selected subcategory:",de),ye.forEach(Se=>{var Ae,je,$e;console.log("",(Ae=Se.title)==null?void 0:Ae[K.language],"| category.id:",(je=Se.category)==null?void 0:je.id,"| subcategory.id:",($e=Se.subcategory)==null?void 0:$e.id)}),E){case"priceAsc":return ye.sort((Se,Ae)=>(Se.priceUSD||0)-(Ae.priceUSD||0));case"priceDesc":return ye.sort((Se,Ae)=>(Ae.priceUSD||0)-(Se.priceUSD||0));case"az":return ye.sort((Se,Ae)=>{var je,$e;return(((je=Se.title)==null?void 0:je[K.language])||"").localeCompare((($e=Ae.title)==null?void 0:$e[K.language])||"")});case"za":return ye.sort((Se,Ae)=>{var je,$e;return(((je=Ae.title)==null?void 0:je[K.language])||"").localeCompare((($e=Se.title)==null?void 0:$e[K.language])||"")});default:return ye}},[e,re,de,m,E,K.language]),ee=l==="STOCK_EXPRESS",ce=J.filter(ye=>{var Se,Ae;return U==="NBA"?((Se=ye.category)==null?void 0:Se.name)==="NBA":U==="FUTBOL"?((Ae=ye.category)==null?void 0:Ae.name)!=="NBA":!0}),ue=O.find(ye=>ye.name===l);return N.filter(ye=>ue&&ye.categoryId===ue.id),console.log("[Shop] Productos a mostrar:",ce),U.toUpperCase(),r?A.jsxs("section",{className:"bg-[#f9f9f9] text-black min-h-screen flex flex-col",children:[A.jsx("div",{className:"relative w-full h-64 sm:h-96 overflow-hidden",children:A.jsx("div",{className:"w-full h-full bg-gray-200 animate-pulse"})}),A.jsx("div",{className:"max-w-7xl mx-auto p-6",children:A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8 mt-6",children:Array.from({length:8}).map((ye,Se)=>A.jsx(OR,{},Se))})})]}):A.jsxs("section",{className:"bg-[#f9f9f9] text-black flex flex-col min-h-screen",children:[A.jsxs(XC,{children:[A.jsx("title",{children:"Tienda Online | Looma"}),A.jsx("meta",{name:"description",content:"Descubr productos innovadores de tecnologa, fitness y estilo de vida. Envos rpidos desde USA. Compra con confianza en Looma."}),A.jsx("meta",{name:"keywords",content:"productos, tecnologa, fitness, dropshipping, Looma, gadgets, tienda online"}),A.jsx("link",{rel:"canonical",href:"https://looma.store/shop"})]}),A.jsx("div",{className:"relative",children:A.jsx("div",{className:"absolute top-4 right-4 z-20",children:A.jsx(TO,{})})}),A.jsx("div",{className:"max-w-7xl mx-auto px-6 pt-6",children:A.jsx("div",{className:"flex justify-between sm:hidden mt-4 mb-2 gap-2",children:A.jsxs("button",{onClick:()=>v(!g),className:"flex-1 flex items-center justify-center gap-2 text-sm text-gray-700 bg-white border border-gray-300 px-4 py-2 rounded-lg shadow-sm hover:bg-gray-50 transition",children:[A.jsx(Fse,{className:"text-lg"}),n("shop.filters","Filtros")]})})}),A.jsx("div",{className:"w-full flex justify-between items-start px-6 pt-6 z-50 relative max-w-7xl mx-auto",children:A.jsxs(Vi,{to:"/",className:"inline-flex items-center gap-2 text-sm font-medium text-gray-800 bg-white border border-gray-300 rounded-full px-4 py-2 hover:bg-black hover:text-white transition-shadow shadow-sm hover:shadow-md w-fit",children:[" ",n("shop.backToHome","Volver al inicio")]})}),A.jsxs("div",{className:"md:grid md:grid-cols-[250px_1fr] max-w-7xl mx-auto p-6 gap-8",children:[A.jsxs(ji.aside,{className:"hidden md:block space-y-6 pr-6 border-r border-gray-200",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5},children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold text-sm mb-2",htmlFor:"search",children:n("shop.searchLabel","Buscar por nombre")}),A.jsx("input",{id:"search",type:"text",placeholder:n("shop.searchPlaceholder","Ej: magnesio"),className:"w-full border px-3 py-2 rounded-lg text-sm",value:m,onChange:ye=>p(ye.target.value)})]}),A.jsx(Txe,{categories:L,selectedCategory:re,setSelectedCategory:X,selectedSubcategory:de,setSelectedSubcategory:ae}),A.jsx(mW,{children:g&&A.jsx(ji.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 md:hidden",onClick:()=>v(!1),children:A.jsxs(ji.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"absolute top-0 left-0 bottom-0 w-[280px] bg-white p-6 overflow-y-auto",onClick:ye=>ye.stopPropagation(),children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsx("h2",{className:"text-xl font-bold",children:n("shop.filters","Filtros")}),A.jsx("button",{onClick:()=>v(!1),className:"p-1 rounded-full hover:bg-gray-100 transition",children:""})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block font-semibold text-sm mb-2",children:n("shop.searchLabel","Buscar por nombre")}),A.jsx("input",{type:"text",placeholder:n("shop.searchPlaceholder","Ej: magnesio"),className:"w-full border px-3 py-2 rounded-lg text-sm",value:m,onChange:ye=>p(ye.target.value)})]}),A.jsx("div",{children:A.jsx(Vi,{to:"/productos",className:`w-full text-left px-3 py-2 rounded-lg transition ring-1 ring-transparent text-[15px] font-semibold ${U?"hover:bg-gray-100 text-gray-800":"bg-black text-white ring-black"}`,children:n("shop.viewAll","Ver todo")})}),A.jsx("div",{children:A.jsx("ul",{className:"space-y-1 text-sm",children:O.filter(ye=>ye.name!=="STOCK_EXPRESS").map(ye=>A.jsxs("li",{children:[A.jsx("button",{onClick:()=>{$(ye.name),v(!1)},className:`w-full text-left px-3 py-2 rounded-lg transition ring-1 ring-transparent ${l===ye.name?"bg-black text-white ring-black":"hover:bg-gray-100 text-gray-800"}`,children:ye.name}),A.jsx("ul",{className:"space-y-1 ml-2",children:N.filter(Se=>"categoryId"in Se&&typeof Se.categoryId=="string"&&Se.categoryId===ye.id).map(Se=>A.jsx("li",{children:A.jsx("button",{onClick:()=>{c(ye.name),f(""),p(Se.name),v(!1)},className:"text-sm text-gray-800 hover:bg-gray-100 px-2 py-1 rounded transition",children:Se.name})},Se.id))})]},ye.id))})})]})]})})})]}),A.jsxs("main",{className:"mt-8 md:mt-0",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:m?n("shop.resultsFor",{search:m,defaultValue:'Resultados para "{{search}}"',searchTerm:m}):ee?n("shop.stockExpress","Stock Express"):l&&u?`${l} - ${u}`:l||(U==="NBA"?n("shop.nba","NBA"):U==="FUTBOL"?n("shop.soccer","Ftbol"):n("shop.allProducts","Productos disponibles"))}),A.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:n("shop.productsFound",{count:ce.length,defaultValue:"{{count}} productos encontrados"})}),(m||l||u)&&A.jsx("button",{onClick:()=>{p(""),c(""),f(""),X(""),ae(""),o(".",{replace:!0})},className:"mt-2 text-sm font-semibold text-gray-700 hover:text-black underline",children:n("shop.clearFilters")})]}),ee&&A.jsx("section",{id:"stock-express",className:"mt-4 mb-8",children:A.jsxs("div",{className:"bg-gradient-to-r from-zinc-800 to-zinc-900 rounded-xl p-6 text-white flex items-center",children:[A.jsx("div",{className:"mr-6",children:A.jsx(bq,{className:"h-10 w-10 text-red-500"})}),A.jsxs("div",{children:[A.jsxs("h2",{className:"text-xl font-bold mb-1 flex items-center",children:[n("shop.stockExpress","Stock Express")," ",A.jsx("span",{className:"bg-red-600 text-white text-xs px-2 py-0.5 rounded-full ml-2",children:n("shop.immediateShipping","Envo inmediato!")})]}),A.jsx("p",{className:"text-gray-300 max-w-lg",children:n("shop.stockExpressDescription","Estos productos estn disponibles para envo inmediato. El envo se realiza dentro de las 24 horas hbiles siguientes a la confirmacin de pago.")})]})]})}),A.jsx("div",{className:"flex justify-end items-center mt-4",children:A.jsx(Hy,{value:E,onChange:_,children:({open:ye})=>A.jsxs("div",{className:"relative w-52",children:[A.jsxs(Hy.Button,{className:"w-full cursor-pointer rounded-md border border-gray-300 bg-white py-2 pl-4 pr-10 text-left shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 text-sm flex justify-between items-center",children:[A.jsx("span",{children:{"":n("shop.sortBy","Ordenar por"),priceAsc:n("shop.sortPriceAsc","Precio: menor a mayor"),priceDesc:n("shop.sortPriceDesc","Precio: mayor a menor"),az:n("shop.sortNameAZ","Nombre: A a Z"),za:n("shop.sortNameZA","Nombre: Z a A")}[E]||n("shop.sortBy","Ordenar por")}),A.jsx($S,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${ye?"rotate-180":""}`})]}),A.jsx(Hy.Options,{className:"absolute mt-1 w-full rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50 text-sm",children:[{value:"",label:n("shop.sortBy","Ordenar por")},{value:"priceAsc",label:n("shop.sortPriceAsc","Precio: menor a mayor")},{value:"priceDesc",label:n("shop.sortPriceDesc","Precio: mayor a menor")},{value:"az",label:n("shop.sortNameAZ","Nombre: A a Z")},{value:"za",label:n("shop.sortNameZA","Nombre: Z a A")}].map(Se=>A.jsx(Hy.Option,{className:({active:Ae})=>`cursor-pointer select-none relative py-2 pl-10 pr-4 ${Ae?"bg-blue-50 text-blue-900":"text-gray-900"}`,value:Se.value,children:({selected:Ae})=>A.jsxs(A.Fragment,{children:[A.jsx("span",{className:`block truncate ${Ae?"font-semibold":"font-normal"}`,children:Se.label}),Ae&&A.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-blue-600",children:A.jsx(hL,{className:"h-4 w-4"})})]})},Se.value))})]})})}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8 mt-6",children:A.jsx(F.Suspense,{fallback:Array.from({length:8}).map((ye,Se)=>A.jsx(OR,{},Se)),children:J.length>0?J.map(ye=>A.jsx(r7,{product:ye},ye.id)):A.jsx("div",{className:"col-span-full py-16 min-h-[300px] text-center space-y-4",children:A.jsx("p",{className:"text-gray-500 font-medium max-w-xl mx-auto text-center",children:A.jsx(Gq,{i18nKey:"shop.noResultsClickable",components:{showAll:A.jsx("button",{onClick:()=>{p(""),c(""),f(""),X(""),ae(""),o(".",{replace:!0})},className:"text-blue-600 hover:underline font-semibold"})}})})})})})]})]}),b&&A.jsx("button",{onClick:Y,className:"fixed bottom-6 right-6 z-30 p-3 bg-black text-white rounded-full shadow-lg hover:bg-gray-800 transition","aria-label":n("shop.scrollToTop","Volver arriba"),children:A.jsx(fL,{className:"h-5 w-5"})})]})}function Nxe(){const{id:n}=qC(),e=zc(),t=n||"";return A.jsx(a9,{clientId:t,onBack:()=>e("/admin")})}function Pxe(){return A.jsxs(A.Fragment,{children:[A.jsx(gQ,{}),A.jsx(_O,{}),A.jsx(yQ,{}),A.jsx(vQ,{})]})}function Ixe(){return A.jsx("div",{className:"bg-white min-h-screen flex flex-col",children:A.jsxs(WR,{children:[A.jsx(Pr,{path:"/login",element:A.jsx(Sge,{})}),A.jsx(Pr,{path:"/admin/categorias",element:A.jsx(yS,{children:A.jsx(OB,{})})}),A.jsx(Pr,{path:"/admin/clientes/:id",element:A.jsx(yS,{children:A.jsx(Nxe,{})})}),A.jsx(Pr,{path:"/admin/*",element:A.jsx(yS,{children:A.jsx(uge,{})})}),A.jsx(Pr,{path:"/carrito",element:A.jsx(Use,{})}),A.jsx(Pr,{path:"/producto/:slug",element:A.jsx(zse,{})}),A.jsxs(Pr,{element:A.jsx(uW,{}),children:[A.jsx(Pr,{path:"/",element:A.jsx(Pxe,{})}),A.jsx(Pr,{path:"/explore",element:A.jsx(_O,{})}),A.jsx(Pr,{path:"/about",element:A.jsx(dge,{})}),A.jsx(Pr,{path:"/contact",element:A.jsx(fge,{})}),A.jsx(Pr,{path:"/shop",element:A.jsx(kxe,{})})]}),A.jsx(Pr,{path:"*",element:A.jsx(cx,{to:"/",replace:!0})})]})})}Jr.use(ZC).use(wL).init({resources:{en:{translation:IL},es:{translation:PL}},lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});l$.createRoot(document.getElementById("root")).render(A.jsx(dt.StrictMode,{children:A.jsx(iL,{children:A.jsx(eq,{children:A.jsx(wge,{children:A.jsx(Az,{children:A.jsxs(QU,{children:[A.jsx(Ixe,{}),A.jsx(JU,{position:"top-center",reverseOrder:!1})," "]})})})})})}));export{tr as _,vw as c,Vu as g};
